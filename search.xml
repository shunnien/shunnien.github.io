<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>DataGridView 簡易分頁範例</title>
    <url>/2013/07/23/DataGridView-in-winform-pagination/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在 WinForm 中，想將 DataGridView 進行分頁的話，就得自己處理了，不像 WebForm 的 DataGridView 有分頁設定。</p>
<h2 id="介面設計"><a href="#介面設計" class="headerlink" title="介面設計"></a>介面設計</h2><p>首先設計介面，介面上使用的物件如下：</p>
<ul>
<li>DataGridView X 1</li>
<li>Button X 5</li>
<li>Label X 3</li>
<li>NumericUpDown X 1</li>
<li>GroupBox X 1</li>
</ul>
<p>版面畫面如下<br><img src="https://lh3.googleusercontent.com/kntJL5Wb7N3WDsBZRBDJxXaowvHkuxpN_wEcaHQyybn0NZxRASA-VIXcQyiqzY2D_qEPOSqjZDnlVOvDsmHefE0vjhRZFCLLAfr0dEjEv8pbUVr-JbBLD0qq-KLKeEsxaPgRcSMIzpNzH6cdnRjwNClnIWpSMO3ezwFG6wx2SPaZKQx8r4QElY1uXGjUCuFtVGCDpYdZEtD5SlVeL4Uo70Q1VGmAJjrTMyVkkgPnwZ2sOckQXnU3kg73cJGxqmrUkLP1YFcXXvVGxod3C6bvy6yAZx8fQz5fWLISnDqwsHGXcx73RgOE5T5CO0wH6DWoYPJ1wCFiwQxjxAsvQP5Xaiap8aB8i0D3U-7TB7B0akFgRbYn5ShFu6nbVWnHYXGM56GVmEh-ESJuKp2sQTbyur59WryMDHyuj1huc4ueYpbgmr6V-oXw078bTZEEm-8fT7J1MmaehzqmiIp0y_uoYDiQeFQ1DYA7t4DAmT7OpyZMTWa5Bx3CrgYm-EfgF04RduoqQ94EGrw4WMmT5DGyydwU3KLrbhoRyF3ZrbB-COu0ioi6YjgS3a362RiVcUcrw8aQkIUgFJD0KiAGECf3VMMo8HpxlPgJryvzoU2X63EhROmBez9vhYGGiMwPepr-JJCn8SLsIeJtELTD9131NeFv5YK4VQPhuci9oiAyJQ=w475-h422-no" alt="Form Design"><br>比較需要注意的是自訂<em>Name</em>的對應，畫面顯示文字與 Name 對應如下</p>
<ul>
<li>第一頁:btnFirstPage</li>
<li>上一頁:btnPreviousPage</li>
<li>第 1 頁:lbCurrentPage</li>
<li>下一頁:btnNextPage</li>
<li>最後一頁:btnLastPage</li>
<li>設定:btnSet</li>
<li>20:nudPageSize</li>
<li>共 頁:lbTotalPage</li>
</ul>
<h2 id="資料連線"><a href="#資料連線" class="headerlink" title="資料連線"></a>資料連線</h2><p>使用<a href="https://www.microsoft.com/en-us/download/details.aspx?id=23654" target="_blank" rel="noopener" title="Northwind Download">北風資料庫</a>來作範例，在<em>App.config</em>添加連線字串</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">connectionStrings</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">"DBConnection"</span> <span class="attr">connectionString</span>=<span class="string">"Data Source=localhost ;Initial Catalog=Northwind;Persist Security Info=True;Integrated Security=SSPI;"</span> <span class="attr">providerName</span>=<span class="string">"System.Data.SqlClient"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">connectionStrings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h2><p>先把每個按鈕點擊事件的程式碼自動產生，接著宣告三個整數與連線字串；此時應該會需要添加 Configuration 這個參考，加入完參考，請記得引用。</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">string</span> _connecString = ConfigurationManager.ConnectionStrings[<span class="string">"DBConnection"</span>].ConnectionString;</span><br><span class="line"><span class="comment">// 現在選取的分頁編號</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> _currentPageIndex = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// 總共多少分頁</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> _totalPage = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 頁面大小</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> _pageSize = <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<p>接著撰寫計算頁數的方法</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 計算頁數</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="dt"&gt;</span>The dt.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">CalculateTotalPages</span>(<span class="params">DataTable dt</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> rowCount = dt.Rows.Count;</span><br><span class="line">    _totalPage = rowCount / _pageSize;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//不足一個分頁行數的還是算一頁</span></span><br><span class="line">    <span class="keyword">if</span> (rowCount % _pageSize &gt; <span class="number">0</span>)</span><br><span class="line">        _totalPage += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然後利用 SQL 來取得現在的分頁資料</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> DataTable <span class="title">GetCurrentRecords</span>(<span class="params"><span class="keyword">int</span> page</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    DataTable dt = <span class="keyword">new</span> DataTable();</span><br><span class="line">    <span class="keyword">using</span> (SqlConnection con = <span class="keyword">new</span> SqlConnection(ConnecString))</span><br><span class="line">    &#123;</span><br><span class="line">        SqlCommand cmd = <span class="keyword">new</span> SqlCommand();</span><br><span class="line">        <span class="keyword">if</span> (page == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cmd = <span class="keyword">new</span> SqlCommand(<span class="string">"Select TOP "</span> + PageSize +</span><br><span class="line">            <span class="string">" [OrderID],[CustomerID],[ShipVia],[Freight] FROM [Northwind].[dbo].[Orders] ORDER BY [OrderID]"</span>, con);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//利用 SQL 語法來切換資料</span></span><br><span class="line">            <span class="keyword">int</span> PreviousPageOffSet = (page - <span class="number">1</span>) * PageSize;</span><br><span class="line"></span><br><span class="line">            cmd = <span class="keyword">new</span> SqlCommand(<span class="string">"Select TOP "</span> + PageSize + <span class="string">" [OrderID],[CustomerID],[ShipVia],[Freight] "</span> +</span><br><span class="line">                <span class="string">"FROM [Northwind].[dbo].[Orders] WHERE [OrderID] "</span>+</span><br><span class="line">                <span class="string">"NOT IN "</span> +</span><br><span class="line">                <span class="string">"(Select TOP "</span> + PreviousPageOffSet +<span class="string">" [OrderID] from [Northwind].[dbo].[Orders] ORDER BY [OrderID] ) "</span></span><br><span class="line">                , con);</span><br><span class="line">        &#125;</span><br><span class="line">        SqlDataAdapter da = <span class="keyword">new</span> SqlDataAdapter(cmd);</span><br><span class="line">        da.Fill(dt);</span><br><span class="line">        lbCurrentPage.Text = <span class="string">"第 "</span> + CurrentPageIndex + <span class="string">" 頁"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上部分完成，就可以把剩下的頁面切換都完成了</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnFirstPage_Click</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    _currentPageIndex = <span class="number">1</span>;</span><br><span class="line">    dataGridView1.DataSource = getCurrentRecords(_currentPageIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnPreviousPage_Click</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>._currentPageIndex &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        _currentPageIndex--;</span><br><span class="line">        dataGridView1.DataSource = getCurrentRecords(_currentPageIndex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnNextPage_Click</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (_currentPageIndex &lt; _totalPage) &#123;</span><br><span class="line">        _currentPageIndex++;</span><br><span class="line">        dataGridView1.DataSource = getCurrentRecords(_currentPageIndex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnLastPage_Click</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    _currentPageIndex = _totalPage;</span><br><span class="line">    dataGridView1.DataSource = getCurrentRecords(_currentPageIndex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最後的分頁設定功能部分，需要取得沒分頁的全部資料，所以在連線資料庫取得全部資料</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Gets the data.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> DataTable <span class="title">getData</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">using</span> (SqlConnection con = <span class="keyword">new</span> SqlConnection(_connecString)) &#123;</span><br><span class="line">        con.Open();</span><br><span class="line">        <span class="keyword">using</span> (SqlCommand cmd = <span class="keyword">new</span> SqlCommand(<span class="string">"SELECT [OrderID],[CustomerID],[ShipVia],[Freight] FROM [Northwind].[dbo].[Orders] ORDER BY [OrderID]"</span>, con)) &#123;</span><br><span class="line">            SqlDataAdapter da = <span class="keyword">new</span> SqlDataAdapter(cmd);</span><br><span class="line">            DataTable dt = <span class="keyword">new</span> DataTable();</span><br><span class="line">            da.Fill(dt);</span><br><span class="line">            <span class="keyword">return</span> dt;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接著就是設定分頁資料數功能了，這個功能就更新一下分頁列數，然後重新呼叫 Function</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnSet_Click</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (_pageSize != Convert.ToInt32(nudPageSize.Value)) &#123;</span><br><span class="line">        _currentPageIndex = <span class="number">1</span>;</span><br><span class="line">        _pageSize = Convert.ToInt32(nudPageSize.Value);</span><br><span class="line">        CalculateTotalPages(getData());</span><br><span class="line">        lbTotalPage.Text = <span class="string">"共 "</span> + _totalPage + <span class="string">" 頁"</span>;</span><br><span class="line">        lbCurrentPage.Text = <span class="string">"第 "</span> + _currentPageIndex + <span class="string">" 頁"</span>;</span><br><span class="line">        dataGridView1.DataSource = getCurrentRecords(_currentPageIndex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="畫面呈現"><a href="#畫面呈現" class="headerlink" title="畫面呈現"></a>畫面呈現</h3><div class="video-container"><iframe src="https://www.youtube.com/embed/CaTUTujmmC8" frameborder="0" loading="lazy" allowfullscreen></iframe></div>

<h2 id="範例程式"><a href="#範例程式" class="headerlink" title="範例程式"></a>範例程式</h2><p><a href="https://github.com/shunnien/gvPagination" target="_blank" rel="noopener" title="Github:Sample Code">sample 的 github</a>，不過程式碼我重新使用<em>Visual Studio 2015</em>寫過。</p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>WinForm</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 CSS 處理提示訊息框</title>
    <url>/2014/01/18/css-tooltip/</url>
    <content><![CDATA[<p>一直都是使用 JavaScript 的方式來顯示提示訊息，雖然知道可以用 CSS 來控制，但是覺得很多地方<br>沒辦法完全配合需求，不過在製作大致的示範樣板，倒是還蠻好用的。<a id="more"></a></p>
<p>其主要就是利用 <strong>position</strong>、<strong>display</strong> 與 <strong>hover</strong> 來達成想要的效果</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.dvmain</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">65px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">25px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.dvmain</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.tooltip</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tooltip</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">55px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f7f8f8</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#c9caca</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.09804</span>) <span class="number">1px</span> <span class="number">1px</span> <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.09804</span>) <span class="number">1px</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以下是在 JsFiddle 的範例</p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/h997Lmha/embedded/html,css,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>CTE,Cursor,Table Variable,Temporary Table,Stored Procedure</title>
    <url>/2014/01/24/CTE%E3%80%81Cursor%E3%80%81Table-Variable-Temporary-Table%E3%80%81Stored-Procedure/</url>
    <content><![CDATA[<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>分別介紹 CTE,Cursor,Table Variable,Temporary Table,Stored Procedure 這幾項。</p>
<h3 id="一般資料表運算式-Common-Table-Expressions"><a href="#一般資料表運算式-Common-Table-Expressions" class="headerlink" title="一般資料表運算式(Common Table Expressions)"></a>一般資料表運算式(<strong>C</strong>ommon <strong>T</strong>able <strong>E</strong>xpressions)</h3><p>或稱<strong>通用資料表運算式</strong>；簡單來說，就是建立一個<strong>暫存資料表</strong>給予查詢使用，此次查詢使用之後，將會自動釋放。另外 CTE 是 <strong>SQLServer 2005</strong> 才開始支援 </p>
<h4 id="語法"><a href="#語法" class="headerlink" title="語法"></a>語法</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">WITH</span> expression_name [ ( column_name [,...n] ) ]</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">( </span><br><span class="line">     <span class="comment">--CTE_query_definition </span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">WITH</span> tmpOrders</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">(<span class="keyword">SELECT</span></span><br><span class="line">        EmployeeID</span><br><span class="line">       ,<span class="keyword">COUNT</span>(*) <span class="keyword">AS</span> OrderCounts</span><br><span class="line">    <span class="keyword">FROM</span> Orders</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> EmployeeID)</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    *</span><br><span class="line"><span class="keyword">FROM</span> tmpOrders;</span><br></pre></td></tr></table></figure>


<ul>
<li>expression_name<blockquote>
<p>CTE 名稱</p>
</blockquote>
</li>
<li>column_name<blockquote>
<p>在一般資料表運算式中，指定資料行名稱。在單一 CTE 定義內，名稱不能重複。指定的資料行名稱數目必須符合CTE_query_definition 的結果集資料行數目。</p>
</blockquote>
</li>
<li>CTE_query_definition<blockquote>
<p>不能使用下列子句：</p>
<ul>
<li>COMPUTE 或 COMPUTE BY</li>
<li>ORDER BY (除非指定了 TOP 子句)</li>
<li>INTO</li>
<li>含有查詢提示的 OPTION 子句</li>
<li>FOR XML</li>
<li>FOR BROWSE</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="遞迴-CTE"><a href="#遞迴-CTE" class="headerlink" title="遞迴 CTE"></a>遞迴 CTE</h3><p>其實我是覺得支援遞迴查詢這部份真的便利許多，雖然還是有些限制錨點部分為遞迴查詢的初始資料，使用 UNION ALL 和遞迴部分結合遞迴部分為需要反覆執行的部分</p>
<h4 id="語法-1"><a href="#語法-1" class="headerlink" title="語法"></a>語法</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">WITH</span> expression_name <span class="keyword">AS</span> [(ColName[,...n])]</span><br><span class="line">(</span><br><span class="line">    <span class="comment">--CTE_query_definition</span></span><br><span class="line">    <span class="comment">-- 錨點部分</span></span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line">    <span class="comment">-- 遞迴部分</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>使用規定可以參考 MSDN  比較需要注意的是<strong>不允許使用</strong>的項目，遞迴成員的 <strong>CTE_query_definition</strong> <strong>不允許</strong>使用下列項目：</p>
<blockquote>
<ul>
<li>SELECT DISTINCT</li>
<li>GROUP BY</li>
<li>HAVING</li>
<li>純量彙總</li>
<li>TOP</li>
<li>LEFT、RIGHT、OUTER JOIN (允許 INNER JOIN)</li>
<li>子查詢</li>
<li>適用於 CTE_query_definition 內 CTE 之遞迴參考的提示。</li>
</ul>
</blockquote>
<p>若遞迴成員查詢定義，對父資料行與子資料行傳回相同的值，就會建立無限迴圈。若要防止無限迴圈，可以透過 <strong>OPTION</strong> 子句中，設定 <strong>MAXRECURSION</strong> 屬性( 0 和 32767 之間的值)，來限制遞迴層級數目。資料庫的遞迴預設值是 100。 指定 0 時，不限制遞迴層級。此外 <strong>WITH</strong> 這個關鍵字用在許多表達式中，所以若一個 CTE 表達式的第一行不是由 WITH 開始，就必須加上<strong>分號(semicolon)</strong>來斷行。</p>
<h4 id="範例-1"><a href="#範例-1" class="headerlink" title="範例"></a>範例</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 遞迴 Recursive CTE's</span></span><br><span class="line">;</span><br><span class="line"><span class="keyword">WITH</span> EmpCTE (EmployeeID, EmployeeFirstName, EmployeeLastName, MgrID, SalesLevel)</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">(</span><br><span class="line">    <span class="comment">-- 錨點部分 Anchor Member (AM) </span></span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        EmployeeID</span><br><span class="line">       ,FirstName</span><br><span class="line">       ,LastName</span><br><span class="line">       ,ReportsTo</span><br><span class="line">       ,<span class="number">0</span></span><br><span class="line">    <span class="keyword">FROM</span> Employees</span><br><span class="line">    <span class="keyword">WHERE</span> EmployeeID = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 遞迴部分 Recursive Member (RM)</span></span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        e.EmployeeID</span><br><span class="line">       ,e.FirstName</span><br><span class="line">       ,e.LastName</span><br><span class="line">       ,e.ReportsTo</span><br><span class="line">       ,m.SalesLevel + <span class="number">1</span></span><br><span class="line">    <span class="keyword">FROM</span> Employees <span class="keyword">AS</span> e</span><br><span class="line">    <span class="keyword">INNER</span> <span class="keyword">JOIN</span> EmpCTE m</span><br><span class="line">        <span class="keyword">ON</span> e.ReportsTo = m.EmployeeID)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 設定 MAXRECURSION 遞迴層次為 5</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    *</span><br><span class="line"><span class="keyword">FROM</span> EmpCTE</span><br><span class="line"><span class="keyword">OPTION</span> (MAXRECURSION <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/oOhY4U3Kbhes1a29lm5QU14T6Zh7GxcpRQk-K5d4UsQ1-lKquZcoh9JQieN6YAt7IbUndZOuQJz6ekm-me8pcAaP_WHnSa0whk7yyNwP95gGVJ-ckwOgdXmEtypUl4nNtX35mtyYSkAI6sf0bGLMj-pPpBmn3VPNCF9jp_hTM2YiEwmNbzD6GAZsmC0BSU8ANBDJeMqDKFcpVbmsA9gypl8EGqBMbR5kRt9UXCWdZ2a2QwvncVRr7pldr88KMZ33jx-6eXhjskpQGr3RbkIMn-FENEPYAUItSOvso7Jn0acPlWtyQgNFP-r7Q6P7CHNM2nSKlAsf_ad2SZXzOEN2xoJoLmJ1g8ULdxuDJyO9UMP_O3PP_BH54KJHBb8BmeNYEcvktQNga9hrAFwez-2JyJ1ARv1sXiecOyl3SO94Se5SkGcFvZjuL0pYUEAokKZeFf-miZimPupt6mP3hyhvCyLeFSvMNRXCrwMQ5x4mv5l3Cj1nK4VjnxZ18gWk44OSyWk-ryT3fbl6BF6UFI23rFGJW5ru6DS1NKo-qFWyOGx4klp4L6tXrrGVLI6AfgBVqerJIXiOj4yWVSm72LWHPDetHdXkOLPrjv5G2v6cqTp1knVXjJwEQpAJnBp61RfGxI1VrBn-0uakQJGcAD8ENNGwYFNuJqCKgQtZXMI9Pw=w448-h128-no" alt="CTE Demo"></p>
<h3 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h3><ul>
<li><a href="http://msdn.microsoft.com/zh-tw/library/ms175972(v=sql.105).aspx" target="_blank" rel="noopener">MSDN_WITH common_table_expression</a></li>
<li><a href="http://technet.microsoft.com/zh-tw/library/ms190766(v=sql.105).aspx" target="_blank" rel="noopener">TechNet_Common Table Expressions</a></li>
<li><a href="http://msdn.microsoft.com/zh-tw/magazine/cc163346.aspx" target="_blank" rel="noopener">MSDN Magazine</a></li>
<li><a href="http://blog.darkthread.net/post-2007-05-23-sql-2005-t-sql-enhancement-common-table-expression.aspx" target="_blank" rel="noopener">黑大_Common Table Expression</a></li>
<li>介紹的蠻詳細，大力推薦 <a href="http://vito-sql.blogspot.tw/2013/05/cte.html" target="_blank" rel="noopener">VITO の SQL 學習筆記</a></li>
<li><a href="http://blog.kkbruce.net/2011/01/t-sql-common-table-expression-cte.html#.UuCSLBAVGM8" target="_blank" rel="noopener">KingKong Bruce記事</a></li>
<li><a href="http://www.dotblogs.com.tw/dc690216/archive/2010/02/02/13440.aspx" target="_blank" rel="noopener">張小呆的碎碎唸</a></li>
<li><a href="http://www.flag.com.tw/book/cento-5105.asp?bokno=FS232&amp;id=419" target="_blank" rel="noopener">旗標知識網</a></li>
<li><a href="http://wudataoge.blog.163.com/blog/static/80073886200961652022389/" target="_blank" rel="noopener">涛哥博客</a></li>
<li><a href="http://technet.microsoft.com/zh-tw/library/ms174644.aspx" target="_blank" rel="noopener">Microsoft REPLICATE</a></li>
<li><a href="http://technet.microsoft.com/zh-tw/library/ms190322.aspx" target="_blank" rel="noopener">Microsoft OPTION</a></li>
</ul>
<hr>
<h3 id="Cursor"><a href="#Cursor" class="headerlink" title="Cursor"></a><a href="http://technet.microsoft.com/zh-tw/library/ms180169(v=sql.105).aspx" target="_blank" rel="noopener" title="TechNet_CURSOR"><strong>Cursor</strong></a></h3><p>詳細說明參照<a href="http://sharedderrick.blogspot.tw/2013/02/cursors-rowsets.html" target="_blank" rel="noopener" title="德瑞克_初探Cursors(資料指標) 與資料列集(Rowsets)">德瑞克大</a>，這邊主要紀錄一下 DECLARE CURSOR 的使用。不過很多文章都說盡量避免使用 <a href="http://technet.microsoft.com/zh-tw/library/ms180169(v=sql.105).aspx" target="_blank" rel="noopener" title="TechNet_CURSOR">Cursor</a>，以免造成效能損耗，詳細原因的話可以參照<a href="https://dotblogs.com.tw/ricochen/archive/2010/11/09/19323.aspx" target="_blank" rel="noopener" title="RiCo_盡量避免使用Cursor">RiCo技術農場</a>與<a href="http://sharedderrick.blogspot.tw/2013/02/cursors-rowsets.html" target="_blank" rel="noopener" title="德瑞克_初探Cursors(資料指標) 與資料列集(Rowsets)">德瑞克大</a>。</p>
<h4 id="範例-2"><a href="#範例-2" class="headerlink" title="範例"></a>範例</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> <span class="comment">-- 建立一個暫存表  等下查看</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">Table</span> <span class="comment">#tmp</span></span><br><span class="line">(</span><br><span class="line">  <span class="keyword">id</span>  <span class="built_in">int</span> <span class="keyword">IDENTITY</span>(<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line"> EpTitle <span class="keyword">nvarchar</span>(<span class="number">30</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 建立Cursor 並啟用了效能最佳化的 FORWARD_ONLY、READ_ONLY 資料指標</span></span><br><span class="line"><span class="keyword">DECLARE</span> tmpCursor <span class="keyword">CURSOR</span>  FAST_FORWARD  <span class="keyword">FOR</span> </span><br><span class="line">        (<span class="keyword">select</span> EmployeeID,Title</span><br><span class="line">        <span class="keyword">from</span> Employees);</span><br><span class="line">        </span><br><span class="line"><span class="comment">-- 宣告 Cursor 等下使用的變數</span></span><br><span class="line"><span class="keyword">DECLARE</span> @eid <span class="built_in">int</span>,@title <span class="keyword">nvarchar</span>(<span class="number">30</span>);</span><br><span class="line"> </span><br><span class="line">OPEN tmpCursor<span class="comment">--開啟Cursor</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--將第一筆資料填入變數</span></span><br><span class="line">FETCH NEXT FROM tmpCursor INTO @eid,@title</span><br><span class="line"></span><br><span class="line"><span class="comment">--  @@FETCH_STATUS 傳回值</span></span><br><span class="line"><span class="comment">--   0  FETCH 陳述式成功。</span></span><br><span class="line"><span class="comment">--  -1 FETCH 陳述式失敗，或資料列已超出結果集。</span></span><br><span class="line"><span class="comment">--  -2 遺漏提取的資料列。</span></span><br><span class="line">WHILE @@FETCH_STATUS = 0</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">     <span class="comment">-- 進行想要處理的動作 </span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="comment">#tmp (EpTitle) VALUES(@title);</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">-- 將下一筆資料填入變數 </span></span><br><span class="line">    <span class="keyword">FETCH</span> <span class="keyword">NEXT</span> <span class="keyword">FROM</span> tmpCursor <span class="keyword">INTO</span> @eid,@title</span><br><span class="line"><span class="keyword">END</span>      </span><br><span class="line"></span><br><span class="line"><span class="comment">--關閉Cursor</span></span><br><span class="line"><span class="keyword">CLOSE</span> tmpCursor</span><br><span class="line"><span class="comment">--釋放Cursor</span></span><br><span class="line"><span class="keyword">DEALLOCATE</span> tmpCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 看一下剛剛處理後的結果</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="comment">#tmp</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--DROP TABLE #tmp</span></span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/WrinTSihQHLuw-F1vumZihMBahKluC9sbbJbaSqqxiEFzUAvxINFHgTi2CuAfPCr0YNbkX1dNOQDqK7Ef5ofu-myE_kKXpzg9WzE_Wl_enAxPeKoSAHf3FOSSHdJfltTaj4Z5ZGPtGij4_6ILGFI6KjSDZfPraY1MGJ7pWur2TSNB8-lY5pktDKZgyzqMZv2DLJoIpdvjlG0DNkaln0kBI6AZ2bXeJBod6s-t8nw_Utqftdatnb7kp_uCkoQcPnFTTstj51Yy86Ims0Fhs8Dx9EWE7s_pq0brwUdJT-Vfb8xtdTXnTv4yKgfHGz5PFgul3TDmXS3h6-QlEWAlUweOf7jx0J6T63UlveQwldDqIsfFz4NE7_V2ypLOQEW29UXQ4pJ2GrnyYZ4BOCJ3eoOqzf6Ur_v5IEFaApio-F4no5v-Hw1QW6QF98dSvqxxd55REsMSrSqrJ5vISWFZN0Lnc2xwijrZvxx7SAZXqDudnnrh5C_xrD3fP9_CMX-duKijzlfjkpfUvtXqCjBYh1GMu8NvKIEOcg9_eedCZ3EqjpkJKGbXRQmrxD0vPRQ-p-9ocPNyLVOgfb2c2VSoVQipW9AqikZFsJdZFcF0Dtq2JD7q5xCjlnVFybWl1ZRiJf4PFnOblcBlINoFwLNA6c-36-hNjTylDcJkMQ2cCx3ag=w382-h413-no" alt="Cursor Demo"></p>
<h3 id="參考資料-1"><a href="#參考資料-1" class="headerlink" title="參考資料"></a>參考資料</h3><ul>
<li><a href="http://technet.microsoft.com/zh-tw/library/ms180169(v=sql.105).aspx" target="_blank" rel="noopener" title="TechNet_CURSOR">TechNet_CURSOR</a></li>
<li><a href="http://technet.microsoft.com/zh-tw/library/ms187308(v=sql.105).aspx" target="_blank" rel="noopener">TechNet_FETCH_STATUS</a></li>
<li><a href="http://technet.microsoft.com/zh-tw/library/ms188782(v=sql.105).aspx" target="_blank" rel="noopener">TechNet_DEALLOCATE</a></li>
<li><a href="http://technet.microsoft.com/zh-tw/library/ms181441.aspx" target="_blank" rel="noopener">TechNet_資料指標</a></li>
<li><a href="http://msdn.microsoft.com/zh-tw/library/ms180169(SQL.90).aspx" target="_blank" rel="noopener">MSDN_DECLARE CURSOR</a></li>
<li><a href="http://msdn.microsoft.com/zh-tw/library/ms187308(v=sql.90).aspx" target="_blank" rel="noopener">MSDN_FETCH_STATUS</a></li>
<li><a href="http://sharedderrick.blogspot.tw/2013/02/cursors-rowsets.html" target="_blank" rel="noopener" title="德瑞克_初探Cursors(資料指標) 與資料列集(Rowsets)">德瑞克_初探Cursors(資料指標) 與資料列集(Rowsets)</a></li>
<li><a href="https://dotblogs.com.tw/ricochen/archive/2010/11/09/19323.aspx" target="_blank" rel="noopener" title="RiCo_盡量避免使用Cursor">RiCo_盡量避免使用Cursor</a></li>
</ul>
<hr>
<h3 id="Table-Variable-與-Temporary-Table"><a href="#Table-Variable-與-Temporary-Table" class="headerlink" title="Table Variable 與 Temporary Table"></a><strong>Table Variable</strong> 與 <strong>Temporary Table</strong></h3><h4 id="暫存表-Temporary-Tables"><a href="#暫存表-Temporary-Tables" class="headerlink" title="暫存表(Temporary Tables)"></a>暫存表(Temporary Tables)</h4><p>暫存表名稱使用 <strong>#</strong> 開頭，後面接上自訂命名，當連線關閉或中斷後，此暫存表會刪除。暫存表建立後會存在於 <strong>tempdb</strong> 資料庫。建立方式如下:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="comment">#TableName</span></span><br><span class="line">(</span><br><span class="line">    columnName <span class="built_in">bigint</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>除了 <strong>Create</strong> 暫存表外，還可以直接使用 <strong>SELECT … INTO …</strong> 這方式建立暫存表，資料庫會自動按照資料來源 Table 的欄位建立該暫存表。 </p>
<h4 id="範例-3"><a href="#範例-3" class="headerlink" title="範例"></a>範例</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *  <span class="keyword">INTO</span> <span class="comment">#temp FROM Northwind.dbo.Employees</span></span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/eeZER-3kVf5c7qO5RZs_KWS3dAWPl59urEincyrOyMf-lMTrPHK3iKCcTYXhVvpNKai4BgxTjizyKRDjbHtHYV_3EctGHmDpJqebNsGkU4nvRXtK69BD3AkmZyx71p-2NCXYp5EEu8NY4lCunAbVrgDe1DHfOQIbShDbj-AyaBhIpcnmqd8a0GHxVhT8IzqY1sPgSO_FSLyV8K-sQZP1c5_VX5XyYz3pq-o_ZibIrE7RGNEGUgISyFFsFdVztSSMnsyQN8pSxnMfjEhJ_PcvZX67hP1HxFALFzD_LiNDwZluwvB9VxKtlPnrv_iVMEZ-F4ebOyBCACLKJ5l0oA5Vy37xPyjGrTX7cg_Dt0lyKUEj7NCs8KD6lljv6XqVPIKgztt9ZfsKzFWNUlM0yIy_9JzYEocG6NGnM-d7DGS9jXmIzVE4n1DU0AaSBVwsq3bVqFkuuRGYPeayFqmeo-WfSoV1ozE1ADyg9iEWdS7HQ8ULAcKazpjUHRzQLhfj7eNitEJndFUHoKUrMiw4MBp9tZqiLBABS85r2hDFyPRDqruI3jJma5E1FvqacOsG0Qzztcxd_Bc3LkaBFlNpI-8wn_hz49Y0xn2PwBYJdmHRhSc4vRsXusuTty552NZuggAY23tFa5akklFr2XqCg1x8HxCfsokgdN3MoPn6ZvkG8g=w254-h355-no" alt="Temporary Tables Demo"></p>
<h4 id="全域暫存表-Global-Temporary-Tables"><a href="#全域暫存表-Global-Temporary-Tables" class="headerlink" title="全域暫存表(Global Temporary Tables)"></a>全域暫存表(Global Temporary Tables)</h4><p>暫存表名稱使用 <strong>##</strong> 開頭，表示這是<strong>全域暫存表</strong>，可以被所有連線使用者使用。一般的暫存表僅供建立該表的連線使用。至於全域暫存表的釋放與暫存表相同，是當建立此全域暫存表的連線中斷後，才會釋放。</p>
<h4 id="範例-4"><a href="#範例-4" class="headerlink" title="範例"></a>範例</h4><p>產生兩個暫存資料表</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 全域暫存表 GTT</span></span><br><span class="line"><span class="keyword">SELECT</span> *  <span class="keyword">INTO</span> <span class="comment">##temp FROM Northwind.dbo.Employees</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 暫存表 TT</span></span><br><span class="line"><span class="keyword">SELECT</span> *  <span class="keyword">INTO</span> <span class="comment">#temp FROM Northwind.dbo.Employees</span></span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/lzzKoqAVfCWPb8RWi1HyBpPIOdKg3pU_vSzyvz_KmMoaMAVQYbI5s5irOJcuPrrDr7gY9PhSJEjtZSagLg8n9fu51tuS3q3z9EP5i21jcK3dQRD4gz1kB1BXepPobvOtnwfBfBNvrisjr1ibZzvG4AICqUyFlbqyQm-uGi_mEJg3fzJU5CRafTHLbuBS675qVm8X0h30sM1zMRpx22vzj88Nb_JeAickvHmoidE1gwi2pFKJ20BnW_0F11lw7V1Zb4tp88Cf1yeakjhAeSJCpqYhlAm6cqxB3n1ey4a3i-7N9Rvd0a2fcxy9_MWiEdnpL3qA8xmMUDmXVb2Sx37l97Jb8Zno2rTmhOCJWlOuPabq2_ECOucSBw-3i15UQ6DOZae5-enGwTBvtPIet1bmjVcvi2tJVuLXlcY2WlYPJKmf0Hf1FdpZS5AqwWMQ_sCHRjzBuPctGPG96Xh69AweHiFYpJMAw__UkeEyyTH2RLeU291ouiyEPY9lln0SEijX4zHgMmopNM3AY2y-lXj7YCJvDV9xf12x53o8KQZ-Gw8fD-tQPoHqV2O8lrni_rtPinm3-JeYsHmImHexJaag39dgdNgK0dWD6dXuwREL3gZ0QJm5fXB_BPzttiMSk9cRCKLZOBQccJwC520VEPDgyQg4czFEfs3gk0t8soExGQ=w188-h384-no" alt="Global Temporary Tables Demo"></p>
<p>在同一連線下 SELECT 資料，暫存表皆可讀取<br><img src="https://lh3.googleusercontent.com/Veh-9_j8A7ufnJLZZGEx2zOB_vRCq9r7r0Vz9Nx5XnHAyVrtVw8mBMrsP6mUGrmFNe0nFUZPISLzi86npOglL6bLXMSs2PVoDGN0VoM1l5V8M0G4YP9ZYDuLLromXdZY89SQLbtaG7w6v1dIo7sis68p9LhTm6BugfIgr2A-ie21fwDh8Wj7p_lHi8tIqjTKUaUFg5J3rIqDbqRIxj6Pmm8zDxTdVhJ1wXh7UeqTv8ZrKy_pD8Gtpxu-Eo1etTvf2X7GT9wUY6_Yg2CP0rcwFPeKb9iKTM_MP9t36HCL87TIIv-sKIyvKzlM5sQkuN_zDsbH8sKSP79_33OsJTYfPPhAnO61Mn4KwKiTe-TkqSDaYGmTWsiZcFViOL0iDMimYC-cdssOHBs3VSuFJ0KFZVqdw9hZHCso6ZdFK1rIDBgDfvdPID-ZjXHAjN-TaIjOm0RSvQcz1hFetwa3EucODgRSBzchjA3TT3ya7BO0OvLAdv8Q2SUnSJCdLk6Jz4No-yWUGrMp10iyjnBDRz2QXtDIpiiNWjzfxwVE_6jX-kBVOPw5XBf9pAEnedIiIZ4kEKXIi8ndaYFxV6CYRDPtHinnCH3JKpB5sk_28NCXik3Ogh5T7VyrvFm5Bqp2X0oQ7_DlN4QYyF-cuYovdlJLR1RIN_E4QawvlbZQEgvnzA=w552-h626-no" alt="GTT the same connection Demo"></p>
<p>開一個新連線，一般的暫存表僅供建立該表的連線使用<br><img src="https://lh3.googleusercontent.com/hMGqMSTYuiQWdxIzRDB_sryyEtC_uSFTMjnO3lDUOqJhbVcKyw6ibTaBHUw4uxkNtq_OsrM3J3Sw45zlzUInbWziy4FHGGqbbjEgCleKyKvHi4sYprVvr8vMtcYg3__i0p59Y9dK5Ia2yG7HYp0jqGbEoi5BWNOrF-yxyIgj2PUS5MS9GapaAPmb6DjWiwCrHAq6IrC3FZeFs8H197R3iiOLweo-8SuRLfQoinb5mYPqPfBRa-JWNq7s2HKcdngYhvFOUlTA6ys0mopc77JHBWDKEWt26Y1e_Ty3ng0wOzPYeASgyqmXG4qmUXykh4OUWsIIU6vyRCsVA-gyAwlkvWRW2stPAq1FnIksGEmAp-mv-FWvSihvkP5o-WnM9AqZuQSRA1wk3zQjLhvHumd7dgwzNTFhj7KlylkfQMCsUqzkTHSe8IQS-LQmhL9XY0nvCRVA2tMCGBz9Ffzc3rQEB0HjY1EUp-kw7Li5yU4F9g3kHSxuPC0sG_VbamopaSRQ2wqn0LwNoxXgFE_O1pQuHnkU9o6PrJfyIMkvxoc6UuISks7qFTzN1J1ThMCDUctqu0cT_5S65rh8mkccMbTsFfJR_MivnfAD3XlUV6WDgIIZP7pLjNYwch3ahoFwoJwFa9sDBrJOTaFGplCTRMSgidhfYtrrVtsOzQ0DcTYWaQ=w1024-h385-no" alt="GTT other connection Demo"></p>
<p>在新連線中，GTT 可以使用<br><img src="https://lh3.googleusercontent.com/7OwfEZeUgYRD6W1kWP4sE4KJ_UY_xj78LQ1SQ_w60gFlYYWjflRRPoXEMv74oj9whUrvGaUBb9Uvckfn0zRB7E24WQFm7T-5Uu8mH34tzbxXecO7iSzFdgilkNqfJGDtIaHxicIgtjMVRH3P8ACacihnrRDjwFyPqEv76LRzzmeMt5XV12yq8SHPvLk3wjLe4-5f9-cByoSitKggSSJac6CQw71LWVQwx_qMax4z3QfbXI-m2IdzzJQuD4E4s3-Pq4hL_zAWborCy3zUMAvQ12xumrUupdhKs1c09TG4bFsqqBVqMLRTmE1tOML9J9nDKPF1svsJ9lgX2bAv61_ujdtFCYukosH-9FcFcJkeOhZk6W2dz7DfnA8_pdhyH-CkqfiQksCHRLyPsGLyEgaign1MSxX1YYSYXjH4Gskmd-ysopeJyTlvQUbJrS0_PkNV9IYBJQXY5zOqqkAH5rcy0WJSYjQnPw7PwFoh3Q0tkNreluhYxmfys5NTE3_2jJse09ggwrpcjoapw71B8jyOUmGEdk7BfeuWvW5Ltt5wAbzpAWeqQmS_ooBb8c6OnZQXLu3jWJSE38m0qWKgZsxmpErMv8wNQJAJu_nxgL3VwFTCmuB0UM2lFzddTnnhL0LiRlkRxIswGuY8IPFYafTLULHGe0jJhKQBU_wGNsVbRw=w571-h244-no" alt="GTT on new connection Demo"></p>
<h4 id="表格變數-Table-Variables"><a href="#表格變數-Table-Variables" class="headerlink" title="表格變數(Table Variables)"></a>表格變數(Table Variables)</h4><p>引用<a href="http://blog.darkthread.net/post-2006-08-08-kb-sql-2000-table-variable.aspx" target="_blank" rel="noopener" title="黑大的KB-SQL 2000的資料庫變數(Table Variable)">黑暗執行緒大</a>分析的優缺點</p>
<blockquote>
<h5 id="優點"><a href="#優點" class="headerlink" title="優點"></a>優點</h5><ul>
<li>用於 Stored Procedure 時，不需要每次Recompile，速度較快</li>
<li>比照 Local Variable，Scope 定義明確，在不需要時就立刻會被清除</li>
<li>Transaction Lock 存在時間短，也不影響實體資料庫，資料的更新操作更有效率<h5 id="缺點"><a href="#缺點" class="headerlink" title="缺點"></a>缺點</h5></li>
<li>只支援 PK 及 UNIQUE KEY，不能建立 Non-Cluster Index，也沒有資料分佈統計機制，不利於大量資料或複雜的查詢。</li>
<li>基於 Local Variable 的限制，使用 sp_executesql 時無法存取</li>
<li>不支援 SELECT INTO、INSERT EXEC</li>
</ul>
</blockquote>
<p>結論就是，當暫存的資料筆數較小時，可使用表格變數，如果資料筆數多可使用暫存表。</p>
<h3 id="參考資料-2"><a href="#參考資料-2" class="headerlink" title="參考資料"></a>參考資料</h3><ul>
<li><a href="http://technet.microsoft.com/zh-tw/library/ms186986(v=sql.105).aspx" target="_blank" rel="noopener" title="TechNet_特殊的資料表類型(Table Variable)">TechNet_特殊的資料表類型</a></li>
<li><a href="http://blog.darkthread.net/post-2006-08-08-kb-sql-2000-table-variable.aspx" target="_blank" rel="noopener" title="黑大的KB-SQL 2000的資料庫變數(Table Variable)">黑大的KB-SQL 2000的資料庫變數(Table Variable)</a></li>
<li><a href="http://www.dotblogs.com.tw/rainmaker/archive/2012/05/02/71932.aspx" target="_blank" rel="noopener" title="亂馬客_Table-Variable in Transaction">亂馬客_Table-Variable in Transaction</a></li>
<li><a href="http://blog.sqlauthority.com/2009/12/15/sql-server-difference-temptable-and-table-variable-temptable-in-memory-a-myth/" target="_blank" rel="noopener" title="SQLSERVER_Difference TempTable and Table Variable">SQL SERVER – Difference TempTable and Table Variable – TempTable in Memory a Myth</a></li>
<li><a href="http://sqlserverplanet.com/tsql/yet-another-temp-tables-vs-table-variables-article" target="_blank" rel="noopener" title="Yet Another Temp Tables Vs Table Variables Article">Yet Another Temp Tables Vs Table Variables Article</a></li>
<li><a href="http://cbw0731.pixnet.net/blog/post/24993864-%E6%9A%AB%E5%AD%98%E8%A1%A8(temporary-tables)%E7%9A%84%E4%BD%BF%E7%94%A8%E7%B0%A1%E4%BB%8B" target="_blank" rel="noopener" title="暫存表(Temporary Tables)的使用簡介">暫存表(Temporary Tables)的使用簡介</a></li>
<li><a href="http://support.microsoft.com/?kbid=305977" target="_blank" rel="noopener" title="Microsoft技術支援_常見問題集-資料表變數">Microsoft技術支援_常見問題集-資料表變數</a></li>
<li><a href="http://www.sql-server-performance.com/2007/temp-tables-vs-variables/" target="_blank" rel="noopener" title="Temporary Tables vs. Table Variables">Temporary Tables vs. Table Variables and Their Effect on SQL Server Performance</a></li>
</ul>
<hr>
<h3 id="預存程序-Stored-Procedure"><a href="#預存程序-Stored-Procedure" class="headerlink" title="預存程序(Stored Procedure)"></a>預存程序(Stored Procedure)</h3><p>當遇到一些冗長的查詢語句，建議可以使用預存程序來處理，降低網路的傳輸量。預存程序資料傳回方式：</p>
<ul>
<li>使用 SELECT 以表格方式傳回。</li>
<li>設定 Output Parameter 以參數方式傳回。</li>
<li>使用 RETURN 傳回 1 個整數型別的資料。</li>
</ul>
<h4 id="範例-5"><a href="#範例-5" class="headerlink" title="範例"></a>範例</h4><p>搭配此篇文章主題，展示迴圈設計的範例。首先展示 WHILE 迴圈，此方式是以資料筆數的 Count 來進行迴圈設計</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--CREATE PROCEDURE dbo.SPRowIndexSample</span></span><br><span class="line"><span class="comment">--AS</span></span><br><span class="line"><span class="comment">-- 宣告 table 變數，此 @temp 資料為迴圈逐筆進行之資料</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DECLARE</span> @temp <span class="keyword">TABLE</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">ID</span>          <span class="built_in">INT</span> ,  <span class="comment">--ROW序號</span></span><br><span class="line">    OrderID     <span class="built_in">INT</span>,</span><br><span class="line">    Employee    <span class="keyword">NVARCHAR</span>(<span class="number">35</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- @OutTable 為輸出暫存表</span></span><br><span class="line"><span class="keyword">DECLARE</span> @OutTable <span class="keyword">Table</span></span><br><span class="line">(</span><br><span class="line">  OrderID       <span class="built_in">INT</span>,</span><br><span class="line">    Employee    <span class="keyword">NVARCHAR</span>(<span class="number">35</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 把資料塞到 @temp 變數裡面</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> @temp (<span class="keyword">ID</span></span><br><span class="line">, OrderID</span><br><span class="line">, Employee)</span><br><span class="line">    (<span class="keyword">SELECT</span></span><br><span class="line">        ROW_NUMBER() <span class="keyword">OVER</span> (<span class="keyword">ORDER</span> <span class="keyword">BY</span> OrderID) <span class="keyword">AS</span> <span class="keyword">ID</span>,</span><br><span class="line">        OrderID,</span><br><span class="line">        e.FirstName + <span class="string">'-'</span> + e.LastName <span class="keyword">AS</span> <span class="string">'Employee'</span></span><br><span class="line">    <span class="keyword">FROM</span> Orders o</span><br><span class="line">    <span class="keyword">INNER</span> <span class="keyword">JOIN</span> Employees e</span><br><span class="line">        <span class="keyword">ON</span> o.EmployeeID = e.EmployeeID</span><br><span class="line">    <span class="keyword">WHERE</span> o.OrderDate &gt; <span class="string">'1998/5/1'</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 宣告變數</span></span><br><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">      <span class="comment">-- @tmep 資料總筆數 </span></span><br><span class="line">      @tempCount <span class="built_in">INT</span> = ( <span class="keyword">SELECT</span></span><br><span class="line">    <span class="keyword">COUNT</span>(<span class="keyword">ID</span>)</span><br><span class="line"><span class="keyword">FROM</span> @temp)</span><br><span class="line"><span class="comment">-- while 迴圈的逐筆資料 index</span></span><br><span class="line">, @rowIndex <span class="built_in">int</span> = <span class="number">1</span></span><br><span class="line">, @OrderId <span class="built_in">int</span></span><br><span class="line">, @Employee <span class="keyword">nvarchar</span>(<span class="number">35</span>);</span><br><span class="line"></span><br><span class="line">WHILE @rowIndex &lt;= @tempCount</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--透過 @tempCount ID 取得欲使用的欄位值</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    @OrderId = OrderID,</span><br><span class="line">    @Employee = Employee</span><br><span class="line"><span class="keyword">FROM</span> @temp</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">ID</span> = @rowIndex</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 想要處理的動作 Start --</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> @OutTable (OrderID</span><br><span class="line">, Employee)</span><br><span class="line">    <span class="keyword">VALUES</span> (@OrderId, @Employee)</span><br><span class="line"><span class="comment">-- 想要處理的動作 End --</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 設定 while 條件，跑下一筆</span></span><br><span class="line"><span class="keyword">SET</span> @rowIndex = @rowIndex + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 取出</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    OrderID,</span><br><span class="line">    Employee</span><br><span class="line"><span class="keyword">FROM</span> @OutTable</span><br><span class="line"><span class="comment">--GO</span></span><br></pre></td></tr></table></figure>

<p>接著是使用字串分割方式進行迴圈設計，不過這方式在字串變數長度小於要進迴圈的資料長度時，很容易會因為資料截斷產生誤差。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--CREATE PROCEDURE dbo.SPStrSplitSample</span></span><br><span class="line"><span class="comment">--AS</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 宣告字串變數，@strID 為資料來源的 OrderID 組合字串</span></span><br><span class="line"><span class="comment">-- @CurId 為迴圈進行的當下 OrderID</span></span><br><span class="line"><span class="keyword">DECLARE</span> @strOID <span class="keyword">NVARCHAR</span>(<span class="number">2000</span>), @CurOId <span class="keyword">NVARCHAR</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> @strOID = <span class="string">''</span>;</span><br><span class="line"><span class="keyword">SELECT</span> @strOID = @strOID + <span class="keyword">convert</span>(<span class="built_in">VARCHAR</span>, OrderID) + <span class="string">','</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">  Orders</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">  OrderDate &gt; <span class="string">'1998/5/1'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- @OutTable 為輸出暫存表</span></span><br><span class="line"><span class="keyword">DECLARE</span> @OutTable <span class="keyword">Table</span></span><br><span class="line">(</span><br><span class="line">  OrderID       <span class="built_in">INT</span>,</span><br><span class="line">    Employee    <span class="keyword">NVARCHAR</span>(<span class="number">35</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 透過字串長度進行迴圈</span></span><br><span class="line">WHILE LEN(@strOID) &gt; 0</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 擷取 OrderID</span></span><br><span class="line"><span class="keyword">SET</span> @CurOId = <span class="keyword">substring</span>(@strOID, <span class="number">1</span>, <span class="keyword">charindex</span>(<span class="string">','</span>, @strOID, <span class="number">1</span>) - <span class="number">1</span>);</span><br><span class="line"><span class="comment">-- 想要處理的動作 Start --</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> @OutTable (OrderID</span><br><span class="line">                     , Employee)</span><br><span class="line"><span class="keyword">SELECT</span> OrderID</span><br><span class="line">     , e.FirstName + <span class="string">'-'</span> + e.LastName <span class="keyword">AS</span> <span class="string">'Employee'</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">  Orders o</span><br><span class="line">  <span class="keyword">INNER</span> <span class="keyword">JOIN</span> Employees e</span><br><span class="line">    <span class="keyword">ON</span> o.EmployeeID = e.EmployeeID</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">  OrderID = @CurOId;</span><br><span class="line"><span class="comment">-- 想要處理的動作 End --</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 剃除完成的 OrederID，讓迴圈跑下一筆</span></span><br><span class="line"><span class="keyword">SET</span> @strOID = <span class="keyword">right</span>(@strOID, <span class="keyword">len</span>(@strOID) - <span class="keyword">charindex</span>(<span class="string">','</span>, @strOID, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 取出</span></span><br><span class="line"><span class="keyword">SELECT</span> OrderID</span><br><span class="line">     , Employee</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">  @OutTable</span><br><span class="line"><span class="comment">--GO</span></span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/HSCOWXnY1k3OH7OiL_exhRFl3s373LDxUpoXjjJKx7tk1VPjXTDI4ZbMhzrfccbHEQrk9SVlQ5shB9qyrvoXkIwWsqjaf7MHgE_5kNi6znHqouDE-16J-oqPgze-nz1CHASRyKZoMW-OF9p3ToNuKUcShZzyXVMqAaiJPH_Ltw3pIlwdjUBjgzk0IU0aDMPzSrG7EgPY8wySq8EednO1PbTJWR41QQcObR7kI2tpATAegG2sz3jenm8devGywv-LioOnThtH26zLaTRp4HWjOSQSz5FzHfQbSkIByU0ZUbHfeo9teS1zfK7dWboMG9Yao4QhHnWVEjhaXYzB6Bl5caX3KyOoCEwren7sHAW2RiholkaMxYEC_E09c1hIJ9VJp9-aw-c2Jv8BWmTHKZN22l3I3O4tu3Rdpvtakc2g0Rg34P6KXUt0cOhfPa0z-LMW_lILqw4EtMf6z43oW-rPTJJppTGGiVoosmSbPkpJPxZsvXD73b9t297HtrKiDk9bvR49FclyA4BHqnrkDkQ2O9ZaGIPZ_N9xM1BZT41DH86h-9vERgB9PQ31glXXXIiUHN64vTLHPZFQiQvaSTcVPC70qmXJGj91FCiaoWkKxjq4nFmHi1H2fjeCD0SNGNbpAAvJIOpu1NXGtMNchrrmeaAAxvceoUYen1hI4nZAWg=w600-h370-no" alt="string split loop Demo"><br><img src="https://lh3.googleusercontent.com/C-AOQ0mf7hx1-7aWY5NanELvxXC9lGcvuxtIGiBVQzBaKqHCSg_b6kS7M_5I3m4cSwvDmPMYKfxNMjd1Ok8PgnBGElvbC-eeTpUUjWVhbZzFJeVjwz1JzbTtN6-N-z4yZMjkvBmwqH1DcXeYkYEhS_fwf3Ee6NVCZ5cZMQOUZQOz2mdIFFWglZYXu5gDcHZVlHyfe5R_czmRfrKL1FBQg9KBZOKeDFsBXV13GJuc_rSn1OIKaC5zVcP3H1eELyT1e4siPx07Y5AuP50iH5LnjoVwylG1tfQXBqIKWPSn8Owqo-DluMHCITAj0d-CB87P8r6HtnVxX4_dNI8y8AgvSBqQm_1-zYJjE-PZVp6DGtI32lfxXB5OD1wU529rQkJNfsxjI7Ka9p9d0EXIkkGEUZuGxKep6Q6PAkhdYD4VsgUrhlsv0E0KDGmVh2ABaE5SFdfY0YD0kuZd5Tpbh3olMH8n7rFRF0GJHxtHz_EcDpEsL70QKO66vCSHA3lVde3k9DTRzk58BDaeWZZm7ZBjc8GddTPsSUBnDfsL_m3A9dF6R2YbpZmAZKYnHGEbtPSMj_OhaR1k0UteJi57xUUJwCvumVciFbQ-7F2YSzcmF2VS-fHkq0R0Av3cKi4MxBNSMBBuRxPu2TRqd4Z9sS0kWV50cyC86Va6w6NVoV6JgQ=w587-h352-no" alt="string split loop error Demo"><br>最後展示接收<strong>預存程序</strong>的<strong>回傳值</strong>與<strong>回傳參數</strong>，如果<strong>預存程序</strong>使用表格方式輸出結果，那就要用表格參數或是暫存表去接收。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> <span class="comment">-- 接收預存程序回傳值</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> SPDemo</span><br><span class="line">(</span><br><span class="line">    @Param1    <span class="built_in">int</span></span><br><span class="line">   ,@Param2    <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">OUTPUT</span>  <span class="comment">-- 回傳參數設定 OUTPUT</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">IF</span> <span class="keyword">ISNULL</span>(@Param1,<span class="number">0</span>)&gt; <span class="number">5</span></span><br><span class="line">    <span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">SET</span> @Param2 = <span class="string">'the value is greather then 5 '</span></span><br><span class="line">    <span class="keyword">END</span></span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line">    <span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">SET</span> @Param2 = <span class="string">'the value is less then or equal to 5 '</span></span><br><span class="line">    <span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 回傳值</span></span><br><span class="line"><span class="keyword">RETURN</span> @Param1</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="comment">--==============================================</span></span><br><span class="line"><span class="comment">-- @OutputParameter 回傳參數</span></span><br><span class="line"><span class="comment">-- @ReturnValue 回傳值(僅能整數型別)</span></span><br><span class="line"><span class="keyword">DECLARE</span> @OutputParameter  <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">       ,@ReturnValue      <span class="built_in">int</span></span><br><span class="line"></span><br><span class="line">EXEC @ReturnValue = SPDemo <span class="number">8</span>,@OutputParameter <span class="keyword">OUTPUT</span></span><br><span class="line">PRINT @ReturnValue</span><br><span class="line">PRINT @OutputParameter</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/1X42ck7PyMxHmwIWZuAqJ4ieQ47qa4OFbqeX7f_UZrMduJ027oVE1OqJKL59JJ7coCZRmNnuFM1JMCO8c8Pwh2P9iHJ7TOZzds70fnF0GTUDI9Yh-DOguGWl8yy1npAgkaAF7u5nUpINXJL1VsO9cqxhSbjTu0Y58KksBTtdj7f8pVt5fb5UQr0biyyP5pBAaqsFSLsR-n06PFJqJHvbpUQX694fCgHX42EXaSL7swwxAoSrdKOM-SD2VG6enHxH9MIFR49sdO_mLF1_zkjptpHbykekUvDYaZEQEemU2qVKqSxY6PVhiDe70tfYATVgk43sut-TnXywU7YWdrnphIB2xStuG0xk0qG0AaLd6Ulc3O6o8GViWt3mSe5rWvV7TMv8X-GaIiCG7TH7Kwu5hfwVI_jev6DKB73CKrbczNeIWo55L15r_FdzghtjFrKD7idHM8Rh9Bg6SALLBDoC631rZX7sfNUeNkjvZUEujykN_G2cqVJRr7UxZL71IO81f9vvK3hc5_1sTZScjIlPVE-6ZBiEcTG03xbeY9E6gYQPF1eDYgNt0gjSeSv6BdHFSMsVgB3aJecDAwEwc6Iv94hcYIT5TRtl0bgJz_IH9K0BnR_NZKncccgW41_GP4Utf3ULmqkJ140P7KD5DK43ribmQZ4Te7qV4tidPXBYjA=w533-h237-no" alt="return Demo"></p>
<h3 id="參考資料-3"><a href="#參考資料-3" class="headerlink" title="參考資料"></a>參考資料</h3><ul>
<li><a href="http://technet.microsoft.com/zh-tw/library/ms188275.aspx" target="_blank" rel="noopener">TechNet_Stored Procedures 事件類別目錄</a></li>
<li><a href="http://www.dotblogs.com.tw/walter/archive/2009/07/04/how-to-get-store-procedure-return-value.aspx" target="_blank" rel="noopener">walter 心得筆記_接收 Store Procedure 的傳回值</a></li>
<li><a href="http://www.dotblogs.com.tw/ricochen/archive/2011/06/23/29628.aspx" target="_blank" rel="noopener">RiCo技術農場_撰寫Stored Procedure小細節</a></li>
<li><a href="http://godleon.blogspot.tw/2008/12/oracle-stored-procedures.html" target="_blank" rel="noopener">小信豬的原始部落_Stored Procedures</a></li>
<li><a href="http://yes.nctu.edu.tw/sql/StoredProcedure/StoredProcedure.htm" target="_blank" rel="noopener">如意網站 SQL 教學網_預存程序</a></li>
<li><a href="http://yes.nctu.edu.tw/sql/StoredProcedure/StoredProcedure.htm" target="_blank" rel="noopener">如意網站 SQL 教學網_預存程序</a></li>
</ul>
<h2 id="備註"><a href="#備註" class="headerlink" title="備註"></a>備註</h2><ul>
<li>範例皆使用 SQL SERVER 2008 R2 做為測試</li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>將多列資料合併 使用 for XML Path</title>
    <url>/2014/02/25/sql-For-XML-Path/</url>
    <content><![CDATA[<p>資料庫資料表中，想要將同一資料欄的資料合併顯示時，可以考慮採取 使用 for xml path 。以下進行範例說明：<a id="more"></a></p>
<p>首先<a href="http://sqlfiddle.com/#!6/d70bc/1/0" target="_blank" rel="noopener" title="sample origin data">範例資料</a>如下：</p>
<table>
<thead>
<tr>
<th align="center">OrderID</th>
<th align="center">ProductID</th>
<th align="center">UnitPrice</th>
<th align="center">Quantity</th>
<th align="center">Discount</th>
</tr>
</thead>
<tbody><tr>
<td align="center">10248</td>
<td align="center">11</td>
<td align="center">14</td>
<td align="center">12</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">10248</td>
<td align="center">42</td>
<td align="center">9.8</td>
<td align="center">10</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">10248</td>
<td align="center">72</td>
<td align="center">34.8</td>
<td align="center">5</td>
<td align="center">0</td>
</tr>
</tbody></table>
<p>想要把同個 OrderID 資料的 ProductID 和 UnitPrice 合併在一起顯示的時候，使用 for xml path</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="string">','</span> + <span class="keyword">CAST</span>(ProductID <span class="keyword">AS</span> <span class="built_in">VARCHAR</span>) + <span class="string">'--'</span> + <span class="keyword">CAST</span>([Quantity] <span class="keyword">AS</span> <span class="built_in">VARCHAR</span>)</span><br><span class="line"><span class="keyword">FROM</span> OrderDetails</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">XML</span> <span class="keyword">PATH</span> (<span class="string">''</span>)</span><br></pre></td></tr></table></figure>
<p>其<a href="http://sqlfiddle.com/#!6/bc7ef/4" target="_blank" rel="noopener">呈現結果</a>如下<br><code>,11--12,42--10,72--5</code></p>
<p>這個組合出來的字串，最前面會多出一個 <strong>comma</strong>(逗號，)，所以將多餘的分隔符號用 <a href="https://docs.microsoft.com/en-us/sql/t-sql/functions/stuff-transact-sql" target="_blank" rel="noopener"><strong>stuff</strong></a> 移除，其語法如下，或是觀看<a href="http://sqlfiddle.com/#!6/bc7ef/6" target="_blank" rel="noopener">線上範例</a></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> [OrderID], <span class="keyword">stuff</span>(mergingOd.pu,<span class="number">1</span>,<span class="number">1</span>,<span class="string">''</span>) combineStr</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">select</span>  [OrderID],</span><br><span class="line">    (</span><br><span class="line">        <span class="keyword">SELECT</span></span><br><span class="line">               <span class="string">','</span> +<span class="keyword">cast</span>(ProductID <span class="keyword">AS</span> <span class="built_in">VARCHAR</span>) + <span class="string">'--'</span> + <span class="keyword">Cast</span>([UnitPrice] <span class="keyword">AS</span> <span class="built_in">VARCHAR</span> )</span><br><span class="line">          <span class="keyword">FROM</span> OrderDetails</span><br><span class="line">          <span class="keyword">WHERE</span> [OrderID]=od2.[OrderID]</span><br><span class="line">          <span class="keyword">for</span> <span class="keyword">xml</span> <span class="keyword">path</span>(<span class="string">''</span>)</span><br><span class="line">    )  pu</span><br><span class="line">    <span class="keyword">from</span> OrderDetails  od2</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> [OrderID]</span><br><span class="line">) <span class="keyword">as</span> mergingOd</span><br></pre></td></tr></table></figure>
<p>資料呈現</p>
<table>
<thead>
<tr>
<th align="center">OrderID</th>
<th align="center">combineStr</th>
</tr>
</thead>
<tbody><tr>
<td align="center">10248</td>
<td align="center">11–14.00,42–9.80,72–34.80</td>
</tr>
</tbody></table>
<p>如果不轉換字串，直接使用 For XML Path 的話，那就會轉換成 XML，而 XML 的節點名稱是可以改變的<br><a href="http://sqlfiddle.com/#!6/bc7ef/8" target="_blank" rel="noopener">線上範例</a></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">ELECT</span><br><span class="line">    CAST(ProductID AS VARCHAR)</span><br><span class="line">FROM OrderDetails</span><br><span class="line">FOR XML PATH ('pid')</span><br></pre></td></tr></table></figure>
<p>資料呈現<br><code>&lt;pid&gt;11&lt;/pid&gt;&lt;pid&gt;42&lt;/pid&gt;&lt;pid&gt;72&lt;/pid&gt;</code></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://docs.microsoft.com/en-us/sql/t-sql/functions/stuff-transact-sql" target="_blank" rel="noopener">Microsof Docs STUFF</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/sql/relational-databases/xml/use-path-mode-with-for-xml" target="_blank" rel="noopener">Microsof Docs For XML 使用 PATH 模式</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/sql/relational-databases/xml/basic-syntax-of-the-for-xml-clause" target="_blank" rel="noopener">Microsof Docs FOR XML 子句的基本語法</a></li>
<li><a href="http://sqlfiddle.com/#!6/d70bc/1/0" target="_blank" rel="noopener" title="sample origin data">Sqlfiddle 線上範例</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>CryptoJs Sample</title>
    <url>/2015/10/26/cryptojs-sample/</url>
    <content><![CDATA[<h2 id="Crypto-JS"><a href="#Crypto-JS" class="headerlink" title="Crypto-JS"></a><a href="https://code.google.com/p/crypto-js/" target="_blank" rel="noopener" title="crypto-js">Crypto-JS</a></h2><p>我主要採用 code.google 上的資料說明為主，此 Library 支援</p>
<ul>
<li>Hashers<ul>
<li>MD5</li>
<li>SHA-1</li>
<li>SHA-2</li>
<li>SHA-3</li>
<li>RIPEMD-160<ul>
<li>HMAC</li>
<li>HMAC-MD5<ul>
<li>HMAC-SHA1</li>
<li>HMAC-SHA256</li>
<li>HMAC-SHA512</li>
</ul>
</li>
</ul>
</li>
<li>PBKDF2</li>
</ul>
</li>
<li>Ciphers<ul>
<li>AES<ul>
<li>DES, Triple DES</li>
<li>Rabbit</li>
<li>RC4, RC4Drop</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>除了上述支持的算法之外，尚有許多功能，此篇著重在 <a href="https://code.google.com/p/crypto-js/" target="_blank" rel="noopener" title="crypto-js">CryptoJS</a> 中的 <a href="http://www.codedata.com.tw/social-coding/aes/" target="_blank" rel="noopener" title="AES 對稱式加解密法 - CodeData">AES</a> 加解密部分，順便弄了簡單的加解密 sample 看之後有時間來慢慢將他把功能完善；好了，閒話不多說，還是趕快把此次範例中的注意事項與 code 展示吧。</p>
<p>以下為官方所展示的的 AES 範例</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    var encrypted = CryptoJS.AES.encrypt("Message", "Secret Passphrase");</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    var decrypted = CryptoJS.AES.decrypt(encrypted, "Secret Passphrase");</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>
<p>CryptoJS 在 The Advanced Encryption Standard (AES) 支援了</p>
<ul>
<li>AES-128</li>
<li>AES-192</li>
<li>AES-256</li>
</ul>
<p>另外，像這個官方範例其實預設了很多預設值，假如沒有指定 key 長度的話，預設是使用 256-bit。</p>
<iframe width="100%" height="300" src="//jsfiddle.net/wiamyu/7t32w98f/13/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>比較需要注意一下解碼，解碼出來的資料預設是經過編碼轉換過的，所以你要得到你原來的資料，要在編碼轉換一次。</p>
<p><img src="https://lh3.googleusercontent.com/N0MLPVaVBva9zK-lLbW8JdxZXk2bI7Q9cvpTuTMbafukEJ5BTMbOhchpcP30BvcxE1-zjiKIop1PlXSfLivNpm8upSq8SqUc_5zHz5Xgb4VfMljDJlh36V64ZhaV-_hDBHZbj1H_4iGZuNfEtiigvjYUDbidNZUlttOxZ5SQ-MXyFzpM5NOrXye-lLdU77NIkadZxq-q_Buey_wTMoEG0qA4ZlcFycu3qhF5hhAcYaPC5PrzYpRxY_HomtEG2njrSaEJRrvJzQJOdeWN78QECwx1xeUkT8ShN9KkT5bhnG59w4NGhMbNzI2ggNYcDC9sjK2TSVCE3y84XKwtmd6sgcVDU2fxa6vx9h2nOD5YDEArlVNqLClTINhGFNAqZGE187S8kAoVKJmtkHT0c7XSGzkYdHQExKMvjjkqjKq6NatuIm0rEjH-Nf7VgChb8h7hldaqjnYPxpwSfbLUZ27KJTdGih3lm9Zm6IYasNvb5sgHH4adLytz76Zdi8jZzgiL2m8Zib24UePPINLo0SOc6T6FE30uAz9avxWcs4z4BJ4w-Qc2qLV-chxUo3L53wjhy8VkX0Gv_BVe8g2Z35NJpJ-8ckG7JAPzY79mmAUrJg2Ko35I3Tz2toWP8NJK65FP6WL4kO8FJY8g5G0WLluupyFvP0IFaGIvl3-OCgEMXQ=w892-h646-no" alt="CryptoJS object "></p>
<p>最後提供二個線上加解密資源，有一個其實是 Demo<br><a href="http://tool.oschina.net/encrypt" target="_blank" rel="noopener">在线工具 - 开源中国</a><br><a href="http://cryptojs.altervista.org/api/demo.html" target="_blank" rel="noopener">LJavaScript Cryptography</a><br><a href="https://github.com/brix/crypto-js" target="_blank" rel="noopener">crypto-js 的 Github</a></p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>CryptoJS</tag>
      </tags>
  </entry>
  <entry>
    <title>Sql Server 取得所有欄位定義</title>
    <url>/2015/10/22/sql-server-access-to-all-field-definitions/</url>
    <content><![CDATA[<p>把一些以前整理的東西，紀錄一下</p>
<p>此部分最好在 Sql Server 2005 以上使用， Sql Server 2000 就沒使用過</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"><span class="keyword">CASE</span>  a.TABLE_TYPE</span><br><span class="line"><span class="keyword">WHEN</span>  <span class="string">'BASE TABLE'</span>  <span class="keyword">THEN</span> <span class="string">'資料表'</span></span><br><span class="line"><span class="keyword">WHEN</span> <span class="string">'VIEW'</span>  <span class="keyword">THEN</span> <span class="string">'檢視表'</span></span><br><span class="line"><span class="keyword">END</span> <span class="keyword">as</span> 表格類型 ,</span><br><span class="line">    a.TABLE_NAME                <span class="keyword">as</span> 表格名稱,</span><br><span class="line">    b.COLUMN_NAME               <span class="keyword">as</span> 欄位名稱,</span><br><span class="line">    b.DATA_TYPE                 <span class="keyword">as</span> 資料型別,</span><br><span class="line">    b.CHARACTER_MAXIMUM_LENGTH  <span class="keyword">as</span> 最大長度,</span><br><span class="line">    b.COLUMN_DEFAULT            <span class="keyword">as</span> 預設值,</span><br><span class="line">    b.IS_NULLABLE               <span class="keyword">as</span> 允許空值,</span><br><span class="line">    (</span><br><span class="line">        <span class="keyword">SELECT</span></span><br><span class="line">            <span class="keyword">value</span></span><br><span class="line">        <span class="keyword">FROM</span></span><br><span class="line">            fn_listextendedproperty (<span class="literal">NULL</span>, <span class="string">'schema'</span>, <span class="string">'dbo'</span>, <span class="string">'table'</span>, </span><br><span class="line">                                     a.TABLE_NAME, <span class="string">'column'</span>, <span class="keyword">default</span>)</span><br><span class="line">        <span class="keyword">WHERE</span></span><br><span class="line">            <span class="keyword">name</span>=<span class="string">'MS_Description'</span> </span><br><span class="line">            <span class="keyword">and</span> objtype=<span class="string">'COLUMN'</span> </span><br><span class="line">            <span class="keyword">and</span> objname <span class="keyword">Collate</span> Chinese_Taiwan_Stroke_CI_AS=b.COLUMN_NAME</span><br><span class="line">    ) <span class="keyword">as</span> 欄位備註</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    INFORMATION_SCHEMA.TABLES  a</span><br><span class="line">    <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> INFORMATION_SCHEMA.COLUMNS b <span class="keyword">ON</span> (a.TABLE_NAME=b.TABLE_NAME)</span><br><span class="line"><span class="comment">--WHERE</span></span><br><span class="line"><span class="comment">--    TABLE_TYPE='VIEW'</span></span><br><span class="line"><span class="comment">--    TABLE_TYPE='BASE TABLE'</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">   a.TABLE_TYPE, a.TABLE_NAME, ordinal_position</span><br></pre></td></tr></table></figure>

<hr>
<p>補充使用其他 function 或是其他系統資料表的查詢語法。<br>首先是取得資料表結構，主要是 <code>syscolumns</code> 系統欄位資料表查詢，不過這樣的顯示不容易觀看，所以才會有整理混合的語法。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    a.name</span><br><span class="line">   ,a.Length</span><br><span class="line">   ,b.name <span class="keyword">AS</span> <span class="keyword">type</span></span><br><span class="line">   ,<span class="string">''</span> <span class="keyword">AS</span> <span class="keyword">value</span></span><br><span class="line"><span class="keyword">FROM</span> syscolumns <span class="keyword">AS</span> a</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> dbo.systypes <span class="keyword">AS</span> b</span><br><span class="line">    <span class="keyword">ON</span> a.xusertype = b.xusertype</span><br><span class="line"><span class="comment">-- 指定為 View Table 欄位的查詢</span></span><br><span class="line"><span class="comment">--WHERE id = OBJECT_ID('INFORMATION_SCHEMA.VIEW_COLUMN_USAGE')</span></span><br></pre></td></tr></table></figure>

<p>另一種查詢方式，使用 <code>sysobjects</code> </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    tab.name table_name</span><br><span class="line">   ,col.colid column_id</span><br><span class="line">   ,col.name column_name</span><br><span class="line">   ,typ.name data_type</span><br><span class="line">   ,col.prec <span class="keyword">PRECISION</span></span><br><span class="line">   ,col.scale scale</span><br><span class="line">   ,col.length</span><br><span class="line">   ,com.TEXT default_value</span><br><span class="line">   ,<span class="keyword">CASE</span></span><br><span class="line">        <span class="keyword">WHEN</span> col.isnullable = <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">'Y'</span></span><br><span class="line">        <span class="keyword">ELSE</span> <span class="string">'N'</span></span><br><span class="line">    <span class="keyword">END</span> is_nullable</span><br><span class="line">   ,<span class="keyword">CASE</span></span><br><span class="line">        <span class="keyword">WHEN</span> col.status &amp; <span class="number">0X80</span> = <span class="number">0X80</span> <span class="keyword">THEN</span> <span class="string">'Y'</span></span><br><span class="line">        <span class="keyword">ELSE</span> <span class="string">'N'</span></span><br><span class="line">    <span class="keyword">END</span> is_identity</span><br><span class="line">   ,(<span class="keyword">SELECT</span></span><br><span class="line">            <span class="keyword">VALUE</span></span><br><span class="line">        <span class="keyword">FROM</span> Fn_listextendedproperty(<span class="literal">NULL</span>, <span class="string">'schema'</span>, <span class="string">'dbo'</span>, <span class="string">'table'</span>,</span><br><span class="line">        tab.name,</span><br><span class="line">        <span class="string">'column'</span>,</span><br><span class="line">        col.name))</span><br><span class="line">    DESCRIPTION</span><br><span class="line"><span class="keyword">FROM</span> sysobjects tab</span><br><span class="line">    ,syscolumns <span class="keyword">col</span></span><br><span class="line">     <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> syscomments com</span><br><span class="line">     <span class="keyword">INNER</span> <span class="keyword">JOIN</span> sysobjects obj</span><br><span class="line">         <span class="keyword">ON</span> com.id = obj.id</span><br><span class="line">         <span class="keyword">ON</span> col.cdefault = com.id</span><br><span class="line">             <span class="keyword">AND</span> com.colid = <span class="number">1</span></span><br><span class="line">    ,systypes typ</span><br><span class="line"><span class="keyword">WHERE</span> tab.id = col.id</span><br><span class="line"><span class="keyword">AND</span> tab.xtype = <span class="string">'U'</span></span><br><span class="line"><span class="keyword">AND</span> col.xusertype = typ.xusertype</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>Application Automatically Disabled</title>
    <url>/2015/11/02/application-automatically-disabled/</url>
    <content><![CDATA[<p>以下使用的 Server，IIS 版本為 7.5</p>
<blockquote>
<p>Server：Win2008 R2</p>
</blockquote>
<p>記錄一下 Server 的一些小事件，主要是因為早上突然發生了這個畫面<br><img src="https://lh3.googleusercontent.com/W8SYL9MUKKoSJc9ohp3ochOra6SK295Sw1W7hF8e7FW3JOzo6XHzAo67eoToruOjGou8EELOPELR0Rc6Z1hgCXvLIwF6cR88XHBhOlqGtOF-BMRVXFp7XIc65SXNN42vaQbtsGNuLNqerv9ac7ioW-IxAaXeP9B7EGoX4au53jdKERBrU_ZPzcpN51z8XDJGR7kbjSbQMddzrY6Uic2uRwjxrwjNKHLpOqAAxEvCMVW90UCjhcTjydW8qNMrvc9WEMbV6FYCGX6jDhHxbm5kf_UWA5OsJR3s0bWYozNoE3Xh1VLQLaPNkq2rBaTOtW4I61wqAWB3Hh2q64ZCt6XoJY-wX-7gBxDO3-KDHDin6pdrOceFm6c5FOjLuwIGDL5ZoGdcsBWcywhRSgalK6uEVDRs7dlWoW3W8KXft1QaWVAeRn9vM2ZniHABbVkSOCurpJ0ulHw3JJyBkHgU5Z0ZAnZGl1YpVWZyailsdt3DMi30ktf1KsKg3DQo_b_YfBQTDt-HHHZjjGCy4lVw-Z4Qo4QKkbBRE0YYHJtA6AqaL0fH-hbm-9aFLmXc9H-IvNMg625VLFnjmgPkNGo-j5UiC5ba2QzQ0a0IwPAARc8fjcVc8D4i6_J6EN35qdlHWr0TZNL9HscE-JEkas-iqIGxPXZM5XoUv4HNG7k1to8WfQ=w395-h135-no" alt="錯誤畫面"><br>一看就很明顯 Service 停止了，進去 Server 然後到 IIS 將 Application Pool Start 就好了；但是到底是如何自動關閉的，查看 <strong>Event Viewer</strong> 發現 IIS 有設定機制自動關閉的，訊息如下。<br><img src="https://lh3.googleusercontent.com/yeOFAIJ20c_ADPDek1u5OrYnva78wKBRTismBgikDsORE2-NT65aU9IsNvjjWEC6CO4GKQoHCAUztKeWjiqwY-7cKIMBVO1tcm1YJ3TrGmfoj2QAfLF87HGUfdGKibuhcaKVNCxqday4CzDriv4pjiMHQWsEz49dsD8hqZ4n3m2BIpax4RryYXmXaipQQnljINrBC0SqxLdxbHMkEctH5PT2Z6qqt_lZwd6Ipqo27EerbY_K6PqP4eVMD_keMaGoLAcCZIh53AbM6kCWtnFKaitWk-mZlzScXFeRcY91YWfyZ4Vo7uRpveuqUs6i16DW-4U4at6aMZCIaYvkGrRzmv8jd3jUCKoiOZ7gTC4uIfseCySqv9e0-fnkZGF6wveOOTs2NKpaTB-ubLEDrolsGykR-hh4TXxB9eP-Aq3snJ3C26HZG5I8McPDnCzOXv0pveWTYiiFophu-dbTvL6S9uTjhVl2NK9kk5cy1i55RaLODN8dWVhBcV1Nn579slZpm7WCoCiBrSO7kc2EV5hr5JYF-WtVWghs0FwmHA8_EoIeZ4RnVnyGHwPC9OmjYLoiUZcbmSpVtdWvjqU-jldO26EbHVqo8UamVFumPPqUUs6OEafyA33JC-jb7lOERCuvLxzniU-rbnqa8fMvvkSvePKS8hEcbKKvxUi_W04Y_g=w940-h534-no" alt="Event Viewer"></p>
<h2 id="Rapid-Fail-Protection"><a href="#Rapid-Fail-Protection" class="headerlink" title="Rapid-Fail Protection"></a>Rapid-Fail Protection</h2><p>好吧，得知了有自動關閉機制，應該可以調整設定吧，繼續到 IIS -&gt; Application Pools 如下圖<br><img src="https://lh3.googleusercontent.com/ap_vVU33s81vFB1dG1mPzcwfncXcFCW8Oxr0yLzjrcd3jPsF68aMWyzBI0WX2ahTJa0jv7CPSIwf1b3GyIsD7qI-ibwVd4jqfwybcTf-i8Z9XA2JXfCc7HGEo85QbFewKRZzBOcimsWf85sKg6YgBe5RJa1mZDUU_dx6HIxubLf0aZK2HpbDadduZxnBFSnCRNmrFW0MEwuZK9bmHDNOFq2Vpt508JoM7Cza7KMs-Z66XHun6TZ9SpCfVyDvasmuTi4hgoqIw8FzJ5syIci0Po5T13gaRiIVnRaQ4KDYbgota_Dam5PMNUfBZe7AMNfdNCJitRNmWT4iuvlm_NEZUlcA30w8l06333-NrDRFziW26-PxdtejpclV3m94T8SpeFpglb82M3Fb7QjxCxE7wb_NiOb_5YPrNF2Rm_mjRlv8eduaaPOxr-b-pvUTUbFsU9V53VksXemsEF8NwaKZwsbiocesZhYpDXGrxivvsmiJjgeR9XdkJe2XGFy-qjj2tde7v2XXK0kx965682Wkh3Tq1LzzTKeO6X3yOKVDpbcgjwhOah5OBrjOYYxQyoZI5XiFPwfAJ9WtJbsqWr4r2y8elgqJ3DQWmCx72z6HadJmWcCK18HUe5s9b-Ql72saK6wthFW7Xe9YJ_7XEmom6j0RVVvL1wQef6BT4ir7AQ=w441-h568-no" alt="Application Pools"><br><img src="https://lh3.googleusercontent.com/yuYyQ1f2pdEwBEZ_2cRT3VoUNu8E1k7tN59GV5F9L5CSKUNulc5IoGHq5osGp3NoWcCVvRCZaYDuJrG0gLSNJP-ZnQa4-KGjoWIno1fvlXhNJQMOHeG79pjqIv4zezxsh4x3FI06YF8XkXWTehD9q24E9K-Y1-3cGgalQcEDAwMwtQPGEMTQk7PNyRFV5_mmJC-3m-qnWHqcWo5ppjVZj9GGcv3aEdydT00_tCWRjVmgHypqkHjz0hIimhwc6ih1X80Ef6YpR97Qrovho4cEcAPbi9cpwyxpot7ar4CflKt-YPWcGV5D3bMjPnEUQ2UkJaIxRFo8Ed88GpFrT3vefecefszQI4q73_TOT73jJCd-660d4rvrcf0XttasHgeYmKUUDpLR4G9UWvVf33jO6TVorzjJG8ty12SXPVwu3qbuGXOx02N6bhJZiyenWKs0TrNIEKTDLVc7g-A0cb1s0-xIChHcEZXoaysEMT861R504ITPp_UEyex953A3dSnM6ebpQuD7Z6KzB4Km64AOXhrzPr45OL05Oiv3khejp0r36wII4CB8_vgD3FsGu2dm0si9nCcOHQMUiEfv8oSr0HfNdeZl5NFOybyiiKqU3KAwlDh8bauy-4UrvGOB0lhHP8CTJOHZWqcR2q_l_G1SL9SDB-x9hhj43Tz-OuHULw=w446-h545-no" alt="Advanced Settings"></p>
<p>設定的意義非常簡單，就是幾分鐘內發生幾次錯誤就自動關閉，想要詳細了解的可以參閱一下 [MSDN][1] ；至於怎麼樣的警告會進行自動關閉呢？就是 IIS 發生錯誤，例如：IIS 發送 EMail 發送失敗…等等。此次就是因為信件發送的問題導致。<br>[1]: <a href="https://msdn.microsoft.com/zh-tw/library/cc779875(v=ws.10).aspx" target="_blank" rel="noopener">https://msdn.microsoft.com/zh-tw/library/cc779875(v=ws.10).aspx</a> “設定 IIS 6.0 中的快速失敗保護”</p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>Windows 2008R2</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 刪除資料路徑太長的檔案</title>
    <url>/2015/11/03/windows-deleted-files-data-path-is-too-long/</url>
    <content><![CDATA[<p>在 windows 系統中用 npm 裝了一些 generator 後，有些路徑長得不像話，很容易就爆了，砍都砍不掉，就像下圖。<br><img src="https://lh3.googleusercontent.com/rXVaO5P7DzoiqKni0kj4_wutFahG_OYtlF0mIUUFaUkDOHxlLPbeQlfIH3yCIRCccXLuF34TNqRz9Ag_iHvei6HWx3rUY_-t-fKg1CxqyYgA8i5r8EwOJlqdPIa6spLltNzo9dSoxnucWQg1Ru9dp32vHPn7z8C5twGKOZ0ny9bPPwu8bzQUA519Su5gJVs1RwbtkwhMoFITgo8v6rgVsv9CmOf7ZgPfUlTuovaA4MdFU__cRKL1R1E5TpRK1NyWeh8-F0j28yeUvMd8XNJ0pIDxb5WojZrpEVKTA600po4ijjEobVl062iLNPRbiQi1VeIz8wgjB3_r-I5XNMjzP2Jq3FnKStoMaS1KKV5IWQcIfnIFizaIhTjF2QrBb5hYVymhpvGAVxMpM7PY6-TTCprC8mwcOqFwDygehXDXxX_2kwwfeW9Xucs9SduCDkE-gKIKp4C40bRnONpmQeNkKAfoA5y1kzcJ7GGz9vZEDPpzQkF3ocQaMBzoK-HOq48OptfLPDzciQxNWG6fGdviku2oJcM-Rk0HAJTNLbgCM0T-RGRCptUIpNt8Myw4IvmLFxPWkuB4aO5Zq905nR6lOr3tfVcmjUnVGKHHmzmD6lJAS__12H1n0eTHdTz3MYY5jbxNdqJnQ8c-XBNDSQp0szHs2bfSzIRqWDmYTQPamA=w447-h252-no" alt="錯誤畫面"><br>當時又不想靠 7-zip 來刪除檔案，就想找有沒有便利的工具直接下指令刪除了，剛好看到這工具挺方便的</p>
<h2 id="問題環境"><a href="#問題環境" class="headerlink" title="問題環境"></a>問題環境</h2><blockquote>
<p>npm version:2.11<br>OS: win 10</p>
</blockquote>
<h2 id="問題原因"><a href="#問題原因" class="headerlink" title="問題原因"></a>問題原因</h2><p>一方面是 npm 的設計，另一方面是 windows 環境下的問題，windows 下路徑檔名有長度限制。<br>對於 npm 在 windows 環境下的設定與路徑說明，可以參考<a href="http://blog.miniasp.com/post/2015/09/02/Change-npm-default-global-installation-directory-for-nodejs-modules-in-Windows.aspx" target="_blank" rel="noopener" title="保哥 如何在 Windows 平台變更 Node.js / npm 全域模組的預設安裝路徑">保哥的文章</a>；不是 npm 產生這問題的，也可以考慮以下解決方式，話說以前好像玩遊戲的時候搞出這種問題 &gt;&lt;。</p>
<h2 id="解決方式"><a href="#解決方式" class="headerlink" title="解決方式"></a>解決方式</h2><p>遇到這種情形，解決方式有幾點</p>
<ul>
<li>改檔名，把路徑改到符合長度限制</li>
<li>第三方工具</li>
</ul>
<p>第一種方式的土法煉鋼，除了真的想嘗試手指運動的人，我想應該不會有人想要這樣做，除非路徑長度剛好超出限制一點點。<br>工具的部分介紹大家兩種：</p>
<ul>
<li><a href="http://www.7-zip.org/" target="_blank" rel="noopener" title="7-zip">7-zip</a>，這是圖形化介面，簡單說就是滑鼠操作一下，今天就不說這個工具，想知道怎麼操作的可以參考一下 <a href="http://demo.tc/post/811" target="_blank" rel="noopener" title="demoshop - Windows 系統中資料路徑太長無法刪除的解決辦法">demo 哥的文章</a></li>
<li><a href="https://www.npmjs.com/package/rimraf" target="_blank" rel="noopener" title="rimraf">rimraf</a>，以下介紹這工具</li>
</ul>
<h3 id="第三方工具-rimraf"><a href="#第三方工具-rimraf" class="headerlink" title="第三方工具 rimraf"></a>第三方工具 <a href="https://www.npmjs.com/package/rimraf" target="_blank" rel="noopener" title="rimraf">rimraf</a></h3><p>這工具是 npm package ，可以直接在 cmd 直接執行，符合我的需求。順便說一下，我使用 npm 預設路徑，套用 Yeoman 的 Hottowel generator，擷取一小部分其檔案結構來看，應該不會有人想要一一刪除檔案<br><img src="https://lh3.googleusercontent.com/DvycZCZQfeRyBfAnYa96kzmdnkjQWRzU9mgocf69zvcWuVlClZDVGS6JpXuJYFUDzYsQG-ffb_J417fDAsw3_-BubvCZ1bKvSwr1nweKPeV7sbk0t8NqfVjL2aOTND0vsq7MxZEVnJZiZqWRV8vipXU3HtLzDjztbzidoSdLntQyleSuASh9Aq9nRh-5vSCnEe-gzjyuFjz6QHu60cd_GSk_2B25WouQ3wYy5XyjU8Vfa9VSB3UuvjwaFROVTkUqiDWT8Kv6LuHAdZpMA4zGlSKqjHKdJDlYbx6a6xwbTYlPSt5IW9EY_3ReUQF9G6PkssDJNUR9p3vJzmSBfYdEEtKE4sakaqIqfVbuQkcPHJGiV2iFTDEmGxi7EI6E5iFgdiiaTMoLUbUj1B6FqE1UKlh4VWUBMCtxNyFUBnYOHzPHxaga34WLNPyZjKVT7v3lk-ahamY1Yhr-JjzIJk2AXH86YzpklDugnEftQ-WaDI9zxYK8dj97fsDXCCJX3EuxwxhwTMD8Cnca02q2443r8QHGOnks0ktKeoAybyGyb-V_iSXGN5tlB0gNuu_a2Zh5eA2vVFmLEyqLfg3AtTCXU978f0c-3Q1eCjW4aaHPwXdT4yOd9Y1zyPNvypvLptmEDrFQXfk3FBT7sCU4Epb4rnekvO2x6cKq-NX51cqeVw=w556-h920-no" alt="tree view"></p>
<h3 id="操作方式"><a href="#操作方式" class="headerlink" title="操作方式"></a>操作方式</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rimraf(f, callback)</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/Rhhc_xhnUAqu3EIjvi7GWVk-bBKo_uJl98tRb8fYqTTPzx7qy9HUZr3kLlY2Zu2wbEcgyADVO0cqz-aGlyu07nmIQIdRBDD18J2sDuUgkTvmy72-ivf5qGgVo5DBbp7uIa7iUE1N67oA_oOgfe7VZnl6fNAzOee_BkuYmfMWDfAhuzWOr2DmFjcRFHtQn9laFvnlZLb9Qgm-zNoeeEUj5v0q0U50abj541WZ7zi4Y_HkulE90NSSE9OvfmGVNGDTvCobo75bjpEDTtESQS4HDINEoSO1I46SXKLv4JmysX-J0Y56L8RfcvJSc1XI5F8TKg3eVb46xrS8LMKymVm017ts9ym35QOvrethO5OTKUaIcmqjwed5OCM2vbbhM4xyY-emvaYA9bSCO1qJS_NtPwXFVn5Iz8un9a6p4SqbcRqUJ88zftBT92pelP76YEEQGWIuGyZ4LoI8UgJPGCu95t6xVeED_1vNrsAt5jUvEkHEwhrRg2srtO7HOIIYtudV4r6p41c5I3L2jsTfN9NeSS-KxWr3jnS-RzuPhJAHIvq47Zf5VmB3Nb3b5HChAENSsGR10Pj7Wsrhp7Z6_S-X2SG-MFRGVatio9tveJaaK7ZylIr0nxx6J2m8BUFL4XaeFhrAAUGlMInwXsxfM0l7gHJ7LwP8wDnmQy0QDmCc-g=w213-h129-no" alt="cmder view"></p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>npm</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Google App for Education 申請</title>
    <url>/2015/10/29/google-for-education/</url>
    <content><![CDATA[<h3 id="緣由"><a href="#緣由" class="headerlink" title="緣由"></a>緣由</h3><p>因為基金會帳號資料凌亂，所以趁此機會統一申請，管理也較為方便</p>
<h3 id="Googel-App"><a href="#Googel-App" class="headerlink" title="Googel App"></a>Googel App</h3><p>提供許多服務，不過此處主要是說申請 Google Apps for Work ，這些申請可以分為</p>
<ol>
<li><a href="https://www.google.com.tw/intx/zh-TW/work/apps/business/" target="_blank" rel="noopener" title="Google Apps for Work">Google Apps for Work</a></li>
<li><a href="https://www.google.com.tw/intl/zh-TW/edu/products/productivity-tools/" target="_blank" rel="noopener" title="Google Apps for Education">Google Apps for Education</a></li>
</ol>
<p><img src="https://lh3.googleusercontent.com/wZVAQFz4lIhJ8_t0-L8Dgqp6t64tYoSX3DTazsCF3_waihmBN3ndlH8AEbAEY-in0xS_xPnPdC4WZPnOXoSG0-CurhyH3_GpCHYoGX2lsJG7MH2-n1iht7vD1gvWEreOFTx6iCuubQRZJuadCq0EfyPmOZS89N0UUAJDESpcX4wUV8sksTl6_zutbUBmAGObFRWX4XcZ0cxz44MI0bmmknVA8a-mPeFHqQSeuwS6-uRJtnEsJ3Y3eBt4SMmlj1v1zT8Ml9DzynO85QvuAP9Fgwx2sepD08GHCOa9Vwmc6igamUf8XZiPsDjA3UxCE2A4LPdqm36w6mQyzUKN3hNBXNU3vT3hQT5S3h3djNjxPavf3vpzIwVKWwKl6HBEZGfxouN6oQRIIlzenKQddktZ279OCTpHssNQ9giKnSiap4UrwBtUHX1kQH83FywbyOAMj4h9lPPp0q1bQLU64eb5P_sTbKt778GZ6aaskAKtduaKxscrZk1l77H5wAc5VnXpiDG9OTZxIqG_PoQF74a8CkxObcP8S0G-z8jI5ipKkmeXOmm-dCX0DSP9m-tw5ihUl-g0TEfXlZLEEUI3dGr74JBIkulpj--ezB0xvtLx2Klk-h6bssM33Cf-J1B9nQxp1GaDEEis0dm92o-8e-ZyAOJ0MSXGKlae-PkED84jNg=w219-h298-no" alt="相關解決方案"></p>
<h3 id="Education-申請流程－先行確認資格"><a href="#Education-申請流程－先行確認資格" class="headerlink" title="Education 申請流程－先行確認資格"></a>Education 申請流程－先行確認資格</h3><p>要申請 education 有幾個資格，必須符合</p>
<ul>
<li>經由一般公認的認證單位評定合格的幼稚園到高中、高等教育機構或非營利組織</li>
<li>獲得認證的非營利組織 (必須位於目前支援的 15 個國家/地區)。</li>
</ul>
<p>詳細的資料可以參考<a href="https://support.google.com/a/answer/139019?hl=zh-Hant" target="_blank" rel="noopener" title="Google Apps for Education：常見問題">Google Education 常見問題</a>，在常見問題的【<em>哪些機構符合 Google Apps for Education 申請資格?</em>】可以觀看詳細資訊，由於我要申請的是非營利組織(基金會之類的)，所以可以看一下<a href="https://support.google.com/nonprofits/answer/3215869" target="_blank" rel="noopener" title="獲得認證的非營利組織">獲得認證的非營利組織</a>，接著找尋<strong>台灣機構規範要點</strong>，如下所示</p>
<blockquote>
<ul>
<li>機構必須已向 TechSoup Global 的區域專責單位 <a href="https://techsoup-taiwan.org.tw/" target="_blank" rel="noopener" title="TechSoup Taiwan">TechSoup Taiwan</a> 註冊。</li>
<li>只有以下類型的機構符合申請資格：<ul>
<li>以公益為目的且向相關政府機構註冊的協會和基金會<ul>
<li>經中央政府審查及許可的全國機構</li>
<li>由區域縣市政府相關局處審查及許可的地方機構</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="註冊-TechSoup-Taiwan"><a href="#註冊-TechSoup-Taiwan" class="headerlink" title="註冊 TechSoup Taiwan"></a>註冊 TechSoup Taiwan</h3><p>進入 <a href="https://techsoup-taiwan.org.tw/" target="_blank" rel="noopener" title="TechSoup Taiwan">TechSoup Taiwan</a> 後，就來準備<a href="https://techsoup-taiwan.org.tw/user/register" target="_blank" rel="noopener" title="TechSoup 註冊">註冊</a>了。首先填寫帳號資訊，就填想要使用的名稱與 mail 吧。<br><img src="https://lh3.googleusercontent.com/lVmJwv-DadDTLr3ycvtGB1KDCL_9Lg9JQqDqlXYL6V80I1vWFVueCMKcMhsH9XazjmvpPj2GBSi368yINUDPPYuQa7Q5kd3y6W1Z8eyHlHaTTnFBTXcn4AHB6VT-nAGpZLANqx5uq0W_r6QW9jdUN9rPoQhX5GHgQwER1xaMdI-17rZzuq_SrXSrs999C2_C8oDyIOsJ-E6wFYhPv-lqNMcjPMwnZ8kkVF1yCSYZZh7t8t1RYj1PCFvoyOiSVDqswKs1NBZcSOm13Yg8Izm8-1DE0n_c36tqj2_O_qQTLZ48XGWbxeke547xUqfQg_dn5xjV-eTC18eZqwNJNvZ3elIlLBm2jq6d8GgmMLfNtyG9DNVY5cnpVa_cM7cq8jrhtX2iPq4kn2yJdaxLQvwk7jaoERTvTBHZLdKwPLfe9-tzp-Rvo006GaDcMi6gwpF7tGy8P8EaveC9e4RO3FJs9YsBjB6JMNHL9lvTlzrobUxXBhuuJKAnBCMC99TyKXiZMYiXDdAhpZwI56CfAATVH8hWG-yAWLf0zGfULoHlhiq-CpzZDwDythVXWpbfzabosgZYjbaxrKBvkJWXzJ1Iuh5YJAPtzFXG_WV5141jRrD0o7IytTym4ZFIz4wYtRerBkvKeipfmY0wkjaha5g_99AsVQ0dQokxJefHEpgg-g=w980-h312-no" alt="帳號資訊"><br>接著選擇主要服務內容，直接進行點選就可以了。<br><img src="https://lh3.googleusercontent.com/YZGcMhUShTAQ8WSCl1uonWf-oPx8c5lrZuG0-bvu06xmxpEeWr3eSryc5HmFmtMRGkbdyricydIsQEWCVRoWSx7n2TtBlygRQIEYHYLJJ0q0bY8EK801-KT_4jKWldw6MVqTz4HPnQhOAMj2Ylcyr91ckZ3FjjBlWZkdXewiTzF5pitBkQJALrk89v0bqlBXDUoMn9EuzvIDMFQH9y3sdDiO83hu9Zd5MmjOjy2ELRBJfqpDvMfaW7VCNEHS5tWmJdLQJud282MvCw5wnEHbDJ_Bw6R_fiKkF3FZq8nQ3OoDuwVd-6UquWUl3SqLQhLskK-pdgtFyz9aaLPxWBH6bCb3ymEyYfz1k7y4f05Hp2wvIdlUl6CIR8LspD9-9t9KPsgAgm04IHEi9xn2u4D_GAnEMQSSuDXl05BYicWqx4skrsE1AlQsleyIoae1ke-zQowPzUisEyXvR5hqktxywIa-SAVzfW1wnWDycxCrWtqIxmg1DYDA0RL1Iu3dSKE5woOBpr4p7nGpBcDnTz_OizJUnFkz5G26RcHHwn8w88btAn9NQeoUYYSDR03hlf_AdO2N4sMCd7mIMe0fjG6MBqzGYOJqGpaJNwCPqULvWK-zVC3StbI2wtwdkX-oXdbZ8kPFhcWfigXeVFOGyJ_uL1rHPO1EJbloALeP8E-FNQ=w772-h667-no" alt="服務內容"><br>然後 <strong>Organization registration</strong> 就是你所屬機構的資訊了，這邊都要使用英文輸入，英文地址的部分可以參考<a href="http://www.post.gov.tw/post/internet/SearchZone/index.jsp?ID=130112" target="_blank" rel="noopener" title="郵局中文地址英譯">郵局中文地址英譯</a><br><img src="https://lh3.googleusercontent.com/Rx7mMfgn_H2Sl36vUkkF4PWLCDg2BOsMOZrWm24qTSq7Ggm5QtUEEHRHpD_VeK2IL2d3MxDY-SSNnZRUv8bRt5eYIdBTc3fTXJm5lwmW8yM_r7RAelJ3Eic9dKIimsvoMX7zWJik8NfvzAYvK_76NAHWwiIWNWX8R3b1d6NjHKMsGDjP-ZupMfu_GCQVnwKffvRsoA9kcQ8Fptuk3vQUjR4zFhQ07mHj-4yBjudBDckx6Y1zCsn58cmkYkNPrlgFQEvLow-CLNDZZUfV1nrE826aPDtoG6eZzR2hgHLs3AcWkefxFze1iQw3JmV6BqL4Qm-YcKIk8zBSPj8sXQ43svlkQMEdXRT3bV-eimk3ZEla4PJm0ckQdhEdIQ2RC7GNQQupNkaNSTVbfvFsI0cC_T97vHXntKqGbvinUz3ezw01EJn2uS0XTSQ5tASiAAi-6vHycpYKruCNsihs_twpx8vSGy5rmnErYYTCh0SL79iDYCJlcV29SIeNeB8uZX_zmAx04Tn4lQn0sXks1t6cmiJ9Ksuk6CY6EucLO_NHiHs4x7eWRJuAeYM8na7SJEKTXhVjDMtChyhl3lTeZAYITXB83-SGw9ljUbraoUuRDaTek15k9EgY6Aw4TOuwrBxlBvZRhZyMHEtedra1HJezpINOr8lQkl_b3VKgUjT59g=w779-h541-no" alt="Organization registration"><br>Organization registered identifiers 都是要輸入登記書資訊，字號的翻譯可以參考<a href="http://www.iq-t.com/SYSCOM/pinyin1.asp" target="_blank" rel="noopener" title="IQ Technology Inc. 中文拼音查詢及譯音轉換系統">IQ Technology Inc.</a><br><img src="https://lh3.googleusercontent.com/TMusEABjacUlpQRFE_DcPZWOVMR19D5sLGD4iF4Z5iscUrNvAWcqAq0rhKGybAVtfIK7rOqHM45qc_D7tTgoUPml2kcK14hCAivA-ZIXZcftht3TIWWn_bYAGM5rEMT1-awaCbubBYsyHVJT8DvVox1m1nu_XOfSXZGwRafpMm9dOvt9yAHkLFCGA0bKHVMsDXWOQKXPqgi_h-PYyuesQkBfFujL5bG_00t7GgHRHJ8jtNH0N40Klqkih4iyYmgX9wsyjWubr_Ne137GKrdicwGARnoZnW2CZ2ES6FdPkgPVh4kRV7id4uAj6xTtyH7_iHKDCV3dJ_5EKyPtggFqPlmO2eyG_eV1-ZdKZNaEins6718W-wi5LzCtJMyU2cAheTLz3jT0TWeWUTS9Ass-1pqxNWm1LxR3SXKukknkab8Gg4o7piI396wwMs-MFSU4yJTJaqn5emtJ-evjqrtxcFDsPnw8xu9sLiec2YRze_Pb7px5AzP0CI09xXqFUo_SgNXE0lGgbHkZqO9X08L_lmVV131vkAduJGZhFO-PDwHFCHtJ7LeOA87dNbaMx86HA0tcHPS4Br0AQPusmen40ikiV4WvfOZeAyYXAz_oVOGSTKofVZq8SGXiAw-cOWmuybSaKylb15Cp-PJooko_iGnVoBeBmnyVBpslQdXqOA=w758-h427-no" alt="Organization registered identifiers"><br>除了服務宗旨一定要輸入外，那些資訊就隨意啦<br><img src="https://lh3.googleusercontent.com/HZx2gV4TsRzgmUrWinzlGwB9R-VveROOE1r8BIdzoPyG06wPHeBRLkaW6axNyVX-cJtnzeX8BGFuyEbReix2SICwHeNdMsJOHGCgzt3777ObXrMeZZhD48rggGPGu49b-x8pW1EtV0F3bfdVokjRzuyssZKb7pG1y0Sv_5eQ0-fYF2g4nr06b4Bi6dOfoFjwU-irksdzGCNVRFjEMjfJ72OCm3sJl8WZInHNyMBvO7rJke_0CpLsPp0Bm1jtnsipv-uYhRaDTMe6XQbgo7qCQQiXcdjrqkd_MgQ9Th_n-9UqaJOHJPU9-Rg2BL4ggL9-FGn2vxoH9w08z7dBeoGSzfM4KP3K0EXUQI7BqaQN39lho26RAk9dfL-BLEGbrjRgNRvI4XJd9IdFrU2HF6BcqVMxY-UhQL0rD1FztFOwsNJvZTywOtqzy1SYGDnf1ntGe18rO4Y8DAv5iOmX5j7HtzB-rU-jz9TMRV_mtTR9IS1IZlm7tZnhDpV2WRoLc__MujXXEbrh8O4g30FuxxYxuD7AtbUVYlSOezJtS1N3xLqF-mimL6Q6TS8KcdPXgp1QMr3X7XKLjbr9kCBREXGynoNFOUJN7auPNf5ZMK8Wc5lGCQYB0NGP3bCUhf8NVWvL9UKF-awzXkCuzJFRd_QJgImgBvqWZHshfUMN_QLeLg=w679-h566-no" alt="Organization Information"><br>最後就是填上聯絡資訊了，這邊都有提示輸入英文<br><img src="https://lh3.googleusercontent.com/h7na_vZ8zF5wzMkIy99RZ9QxS9jzPaUNSCWsNXyqPVZtr02gcgvfVToAVl4By_o_WkZwRU3aj1LEhbLiV_gb1Q6LJy_zgvHOS6eKJOpg0YvRoYrQ4DDmdUUgDJMMr6AIZEcwSGLKQP3t1NZFgQRpf-yqZ4PQNs_mpJHAg8hSpyG8brLMYrPMVbASvLIcbpT2a3dwU1z3LpHIx5zWNAkkKdjibVV190BMXkZaE-9QAn4ItpWeIbszZ1GdLxISxHfECNQDazUTX7fWhWIfVRnG2yfbPzEnQnjebcMAcG2MxP5sroKUq4WWZGoh3reA02oI9rW2llF4H3HogiloVHMb5nxPuicLy0DRRpWk58Q2-IfZr6ZkaaUonfsxsN8kyJ_Vf13hR0JSuLZhMxwleEFfsUNCHc5HA8gK_jw4H1FDWU5g84r7bhi-BDzJYEWwzVukWHaYAI4jd9PEqqj06ysWe70IhH9Z4m6mcoaclUMLGSxoilPcPai_DyPpia2uOBE-KjT9XeAheU7hPT5_7aqxAN_9qZbKfnGKJXeDA52hPqqWDayWuVFmq_otz3KNUUUavzwhGvzbjmC8f3ke1Sp5NsSIKEUB-UnLK_0lATq7AnCaqsJt6vYzif-XzhR3xfUrzyPJhUJqNrvRauB3hyF2M4tbwygmWj2tH3g0Hq_Kaw=w571-h641-no" alt="Organization Contact"><br>然後註冊後會收到來信通知<br><img src="https://lh3.googleusercontent.com/N0nqpPFF-7uPLockqdT1Y_rPJ_wn5wLaW6T1ORDv5G_SFGZelS4iZw5nTNeq9cx7Zfrhjw6Za6Ru4CuqL6taMRMRMem7YTtTTP_zuHASmD9OzaYdhcvhCaKnwSSHT1ZejdTl4HNwDuP4_PG9pUiC9WocXxRkmFtmMxuEidT3GEH5vb1CaKTR4s7zdJDJQSAgemDB-jOk6M74Qttsq0kYAf1Uw7GLcWNx7lQdsySVtVvoZkuYQ6Q47IxWZWy5c4bCVODLCLHLtn54HmqaCaCeuvOupmVwE0SarGmiMmQ8SBtj6LOxDmSiM7sz3ODfog2Gd9I7FS51OB91IAI5ZgJN7ztr-sNP5lzWO0JdECUzpdg3-s9CkRsZJ1El1sJdocxnAfL8IQ1NedNfqERkxqhvpCqGw8w95YEUGHPCKAa-YrpVLu8p-9VkdhQHb1pMTGCK9Kfq6SsLzwDxK3G2ssAEOQG4czG6fgvfaZtUa3kPLF-K4eh2xzixkeqEcMNBEsoiU5THLRh62Gngpda78Ns1wMARNED641jJUv2crL2zWfuFpzlJ5ZwP0pmcGVJPZU5lbeIzp8s8LrWku6NIamksxYHdhYGTpfadhjs0dL-GadFi9-v6ehFR6Kxf9FEyAkUvdzL4lTy-CbYPfsuKhroAs7WwJLNJfhiGvPH_8UUkHA=w1114-h770-no" alt="通知信內容"><br>這樣就註冊完成了。</p>
<h3 id="註冊-Google-App-for-Education"><a href="#註冊-Google-App-for-Education" class="headerlink" title="註冊 Google App for Education"></a>註冊 Google App for Education</h3><p>進入 <a href="https://www.google.com.tw/intl/zh-TW/edu/products/productivity-tools/" target="_blank" rel="noopener" title="Google Apps for Education">Google for Education</a> 頁面，然後按照以下圖片快速進行下一步，這些都是提醒一些資訊而已<br><img src="https://lh3.googleusercontent.com/iRdK2A8eMz34RiGhXfRzlWbBRkhDXzioF-1JhzieZSAOb5MiCvpqZbzAmKJQ-0Hhdhzm1Qq9-cXBshPtB2g1bEv5AV1k5FnKo3w2WH5oInOANIXJdCvcyKSyFwT-NJmEFjEyBK-zOWfntoTB5O3MErPEeSV2n6FHRo2r69VFQopghwqzWMPFTvMM_G2hZIJaR_NUheCRdVvFYZaROymPQXWr7ubxD7gRxApjPBTH7IkLHnLw8eIvUShT7h6YEz1chVJG4wUOr-bZasxsjkHu7PDRdzovzp1Z-szgsj8RL0gI8L9yvMwbVjQMzZ5CBquTYRREhie39B0y_X76A7jKzgN0y2lnPSPNIAslZYlZfdUvqRJySb446PrceH_8D_PTybVU5Tj_b3tuvgMOqPP8oV2_Rz88NbZly6peGk-6O4Ca712WjuOAWj164p299PWwbesrI_uHj7_hUpl9s64tUzuUKBxDAiN7hdfHbI5UJfsWCgF3LLRpmV2vDyitHaKP3UGIJIyaxQx7soun7-H5XYZcNXQJJvN1k1cP6JuofiKJFKucJ-eyO5hK-KmuaZQsgbl0MbloP6i5DyXQfjkyY-d3BvAwI_1mJIzS_zUOBqhwVFhVOT9ChinEnZjvKP-zo7yop2a3iRBqgfc2-yfHCRtJl72oFuAvW_hwQWp_MA=w766-h728-no" alt="edu step1 Get Google Apps for Education"><br><img src="https://lh3.googleusercontent.com/sgI9-WKjY0vbJa55Avv4-ISPDifyPhnyGFx1WlNw-oEw3CmZKrElGPdWYOutqCo_xAiFb5NHUwrk8dKUGi7p3Q8SaxHhx-XmEjSE1bNhbaKB6BQogY_u-7lP2UQVchS8SWvQQfwkEFP0ZGNnIyX_jn_X44san4WjcPIU1lrfiBL0EuXqXNCagHjvLZ5Ky4C0KSIBdLDcX4Yg_2r39IQz5DvBZKy9tiz8-vjdtQY2tmYIduZQ-fAyJ3V-XEvAZO5KvgpD8wIskcXGmEpa32aXcrNXrtO5J7EmYjprvrqjSvRR_w-6a-gBP0gJ5Ukc2DY6Uw_hvkKj_8lsey_nMid0HGiw2vcvjo8IMOgYhi7IDbvENQy2u4efySuOBqQWkc7uThUsq9yovgfmuQpdiNvFF3uyhTLY97Pkx2QEYHnP97yAcd8pSl1IlYk0KXCRhCxqpG3VMtwNjsGTMyu8ot_1v42Vi3SfOgkN6Ler1pp94Z-GlJfV2LqNyrLm2GrUULpZfotox0v0oxuS8A-Oxefvm1dCJ8Ha2Pe3BEFUe28RZornu5D8pXfaqJDEyxC7m_2iFt-gwnRwkzYsUzkL2NmDB-BmhkanvHRhTlo0CX11rW-VdQgp4o3copra10_gr32d46L29LTM8jIlsBc7a2ofMB7TTgWfWWLbQ2mh8TxowQ=w919-h314-no" alt="edu step2 Order through our site"><br><img src="https://lh3.googleusercontent.com/hCm1ugylanyl2mCVKjnCYXCGgsMfiEUlIC1BeIpWpnXhNGfoASXotOnhIxGUPKUUgqu8Wxswu9X3I4sUjy423km7FJKHs1RnxPKbkxC_LfSNdFi7w8qJZ_NE0uiocF5gpjFN1l2c5fiHb7FjQGTzyucdUvP-8JE2LZgLTkGQIs6oLvCmgblSEsSv8v4odlbCdS3yoO8nfsBAgkKbakgY6JF9x7-_KcmRQrQreyzJ3Ojs4TRezLEEDNZZb3_qbWgaxImAY3ZCwAphRj0kY1OBbk2_ViLBQTKG6tiO68xZkp0HxxGE0d0dkOaBKuJxiDqW4uYlBk27s9v9xXTNNuFviNUM4pW1cFxWbhHa9At_ftlmqU2Wi90PbAiEaJzOynrOoV5VJ9XiG7jFMQva44U7ai4LaILQVGdyOE2ydHWNnb1WHkRkoGk4IsV3nTTqft-uhM8rxdzxpZiLiiatpODlZD798-Nn691MEZxxwC7NszI6ABYlmPTbtO_cHx4rgvmOoQBMYQ702fAmfyiBFAr7ESj2vfNAeM2Ul7i_QHhFTBoilKgB6S1bUlNvqSi09-MT_Y9wauPhHtF1Wi5YUJn0J5n8jv6mJT38Teat8_LumVi7rwxxokxMBmdJwsheZYDrqnR2LwYnOQhawQhtCaJk9hsgK_7MD4CYAUpRHnxLdA=w963-h383-no" alt="edu step3 Got it"><br><img src="https://lh3.googleusercontent.com/W2D7oiEucYi5ZBx7zgKHHss6qZBwybpaPTO3CghFTyJW1uSZYbP3rp2NKb2sw1nSVp78mRAEHVqEXO8iR4CNYpGUN7_1uELQgdOFSxiouruQZV4HNJ5w0ykqJKGvheDH_cfWWZLWXcuCx94CfZqvhho4v5wieY5mMWqCr59ObyOZsxF4UGXoQTjKGYjPpUfDIp6583WBOgx0_bRE0eZ17ihDe9p8VSkZV-jucrsm9MJ-xz93aS1pxmg03chSqrnMIMJZJB4OgLWXTcyZRpuILqzKog3cQQCkgphqwt3l6ObznCCvap8aa3u-1psDl9gZmg04aVKi3WlIxWAfuLOU-tZfX1WMv5cvZJ9URUEbtkVMd-7FUoJS7SWOkCxmOsyhU0fVdn16opTqddyzuO7ptyi25GCUcl-AGjyqGAiztXPYUt6dM8ufqB76Jh1Cl0FGo3jdN5jJ5fFFHq29EISY6Ssz0GUcQMsmxV2XqrW6ImdxHas9ZpR_peeT2rjyKkf2CQBFQhCaxuoHEmnugoncJb6ebfTnq2CnoFTjoHxmNC6rY7-NTGLZX-vdPBQp8r2_y4G9_2eZA3ayDI_1VSfH_URQ9Xq8aZFES_Iv8Pu-e3qi-0MpC6Pg0CucYtcMQhRb6t2gURwo7Y_YaZ6763De5Rts6zazXviSfTfivdsM5A=w982-h439-no" alt="edu step4 let&#39;s get started"><br><img src="https://lh3.googleusercontent.com/EIdmgxdPy8TwkR016FemCdh6jn0Dz9DmA_M_atnqk5U0M2JJ1l2Ef995as_1x8i3_fjK9rXxyQYRCdIMKsjiMTCmHmuol0r08m-otaZmh_NeJPclJNBlnUAg3XtMpT3vDZ9IZ1KE9CF9D3zSzHcwiFO-uQoaXlgwAPr2L2dg5WNtdnrgJsePXhHtEqxMqXYZ-5AX1kCaQL1co9H3MKcBln7bzmMKMYa4YR-DoibzeUSi0w4TgaO7wv_i_ffKCFvyNo7LP8Stu1oFzSKUcm4Fz1EejflOYq9ezjBRl4bMj2hKcCc36zVKd06XHlKB21x0QM95ciF-OgjZ3fux1ueI0Zojds5bZCB5fDwvNe4LoivAF1hYRy7hmKrD_i-_BGvrF1NAQvRxRFQW26GBpc4q4lLvWd-D9PqV_XcnGRFuBNNCN4pyzjEw5YIxhXxY0H8hdKKFJFKCBGDLRhsu3y8go27lo-bTw_6VXrUvqXaESRVPeG-8HKMKQB93k4m7QDJPwWvmgKxCcpIR8NWp3Q3kY0U-_m57cug8QTXEbxamPE2X-7rfU5t5PLNI8yX0LKZcwZtdQkztA6efadA8Fs_AAjTQ38E_0Dlhf9hgVylnj6QmoWlc5xE2RN7sa35CB2mUDHC2Mf5qE1je7zhZGMpqJFnS_bJLmV94ES258oWwGg=w497-h608-no" alt="edu step5 View Cart and Set up Productivity Tools"></p>
<p>到這邊才是開始要輸入資訊，與確認的開始；發生什麼事!!!都是教育單位，沒有非營利單位的，沒有我要的選項，先隨便選擇一個吧，後面會說明怎麼加入。<br><img src="https://lh3.googleusercontent.com/kYMyZtpQnCFRNCQ3MYpysoSeHzfDSNTnauylwKvoUcph4SYTDiSoZOANUa89EFVtTGHHGYe94xrSM_Eza_Kin_ih7U02uo4IzckEt809FsHL_7neVzv0Uwmv2pfImN-avzAoQUIVuoYGrIZUyHDtRNTu0FLy1m61ZxMLCZlwRdWjlca-CTqwRXBmJWC0iZ2dNvhY8ssd02OJCp4TT3sFApUZrZF3X87MLMTYCPOZ4u3vI7CjcDSW3-kDhjutvDDE4m7TxQ8GY1q8HC9PRpbLqOu7OLUdM26LZ9doFOJAoz0-HsU0NqlFoMJ2EWI4aUdjuGCBb1JQ8a31tT67K2eSllUSz11EH6PBam6Sht8hzNqhPPpVavIbOxvrzx7A2j3NUIPs5QB7zcRmiAxGdKXswJJzh9-ci5VSnzUoSjCLRGtuvwXpw79GgUbW67SemqF49DS2C2ErbcjZ9248KB0VPJ910A1Jo6ZGOuUwTqCbRibQfAnOOOUdffT-juVw56D-5zKW3530IAEZiitkECED-1VOTRFiogjllOyqflY2xE9-gl8dbH35awinJmklAQ2xRmHCngdqfGETAJ4wz1uZhjWDMcjSIo-o1sVZ7KX8Dceg248i-4Cqc-52ufBLpCYX4NxGkftrg89a7PRxEIjTGFyeNeEF30wrJ8xu_jc5Xw=w334-h920-no" alt="edu input text"><br>輸入你的網域，等下要去進行確認<br><img src="https://lh3.googleusercontent.com/QHKSxLV1flhkPxIlU1hRdj71ANmPYPHIflYMNkUiXdYOTytgXFbbNJitV9woYQ2Qh26abRFc96nVNOTvpY5roVdwuhMwiT8NkQJ25p0RAPh65IIAn7eQaGpuCMeb9Q8s8ST_q3rv7MdNWTSthkpU5aMJlFmVrDkE0t8d3pf7pNJFlmcP3-qZgoL_nL6M2LJa-jqKRdKfwl3Mj_DdlfNhZQ-g7zW_IH2f9chyGzAPU8pbvV5LUFsMQVd1ce9K3LtTkTecwGZLp81Ry3eVGZhirsFQ6cT5MhRLxew-kLBKCvxYh6CcocfQ4RT4U55LsLJlMSz8VZxzNqBwLn9ihFcwhzX3R9jnlgfKlDO74lFJLqghSmI9pE5xM7P7uLlOsMn8ysIC_E-C9t-yvwkIMV3-Qx77vaO25v7PnEVo1Gt5X97SAI1d6CRmcKRmQSOcR_Z1rIZAIYBB0sZqCofUnUAO-Ys51Iob9FVQZF5DRTRgNQUmRqIRBqC9hCJ-DpS-A53sphCy-mSf7AlflozRQlf-Qh3NErI7byneHxXmszGfRyoUqbY-dy27WShGhOva4Y1mPkLr01r4QAgRwmxXRuDM8kLza3J_BLGbK9sLjOC8eChQSsazESkIJhrWTXGg2lUWsqfglU_InDyNH6ilBYksOaL7twRAdJabbH6z2dE-mQ=w978-h507-no" alt="edu input domain"><br>最後進行申請<br><img src="https://lh3.googleusercontent.com/mu_z6kWOojPP6LUWuEhhTeEyyIhXVpetZXGv_21HHs3a-PbLkvHcrKqJ_F4axtTnLfs21JZYaL9afv6qXaURWrc9chD5YKl0FKsGdNY2e2ii9KyggxA7fbmvipd6Ygfg6Mothl4iA-X7FmGcW_3stE3lOrc6ucnkJ8VXHiz9aBKi2RjQCxF-AjjLSlFzXuX5aFP3n_mLlXg5DIJjuOuAeHXZLrk8ub3KOJQaVG53eQJmHHHiz6fy6QwnGC2f5BGrUzuTjp8naaL9krKAkdRbrI6wilQtT_Emiao08cPAyEWuAt0_w1V9n8Iqaavk-75yTChI30p1UWjAS9SmO2DXgoRFASFZRvfmDjcZgcqkQIgG6DrfraYPo6x6dBROzNrmZ18me6zT9Y40UNFProh4BYo_ZDCLS5H2z23xk9xc9WAqRZlCmzN7gfRDfBKVuqLruDfG5eHo70R-vJY7hXBvDNWmlEJyYJcTJNYK2NtM2l7P-ZyVj0V24Oz2sMWEDvzw8wSUCM2j84x_GV5m5hbJpzoxQszJpzDlGiCCUAlKZytm0vhLYVUZ1VvfxP9k3N25WbHHNNQg3m3EOlciqfcN46DUBLf1Q2-WQAOzWb775VyerS5PyidYS8e9lyD_ss1StDUb_cBQ1jF-mdBZJH67HJoEaYEKbEfvjhP2PgYhGA=w396-h781-no" alt="edu finally"></p>
<h3 id="加入非營利計畫"><a href="#加入非營利計畫" class="headerlink" title="加入非營利計畫"></a>加入非營利計畫</h3><p>完成上述申請後，但是你還是只有 30 天試用期間，需要申請加入 <a href="https://www.google.com.tw/nonprofits/join/" target="_blank" rel="noopener" title="Google 非營利服務申請">Gooogle 非營利計畫</a>，這就用到了我們開始申請的 <a href="https://techsoup-taiwan.org.tw/user/register" target="_blank" rel="noopener" title="TechSoup 註冊">TechSoup</a>，首先登入 <a href="https://techsoup-taiwan.org.tw/" target="_blank" rel="noopener" title="TechSoup Taiwan">TechSoup</a> 取得認證代碼<br><img src="https://lh3.googleusercontent.com/_QPv9FtYLEu7dfpcAO6tr6v6ffz-EoAtK_z5EH4Ao3NTp8WDsZEaCTiGr7WndyCuqFCLGNjDVOzemckKzHSAPYTbbVG9W9-BrBv3zmnI9WvJ6QFU7-h9TZPMRJG8B9iaq0_eIX_sosrt2lCTvLIGMqduHwrrXA0hbymBkJObAB2mZ096MBO4R4N52cgW5bVsVGr7mSUv-RTpNVXpe0AW6i9DDimxy-lgWLX6Af3C7F2S3FdTYfd_cxqtcm5D4y4RYEpy4-SPtd-fKIb3EZPsyBMGx26yTmSfxeQqZO6Sw5LJhrJwQg1ag-00y1Hc1qaXrRzdT54edDin2g14xtibmOGJW4Vfg46eYFu9-CANDHKzvl3UTraxPAu1-t81CkqHI9onR35FoKOuimzrLqZwMtGDbbIeyEsy5snVl3BO-EfIDjadv6gRMLLmYA98aO8aEEaVgCc_BBJsQeP3XC02JuKZNSu-w4xIDYylznjTEMIEgkBH2QroOpkb-7O7GfpA9YEFR2ws6GXxcWn2eZPMRANcljxcrAs6ZslBRGir3NoCAXvS_bT__0erFbP_QiJAROK74XIecHSGweM0-vAV_UHqp9IiSGUwCByNKh384OTkvNcGD1Fk=w507-h280-no" alt="TechSoup 認證碼"><br>接著<a href="https://www.google.com.tw/nonprofits/join/" target="_blank" rel="noopener" title="Google 非營利服務申請">到此連結</a>輸入剛剛的科技濃湯認證碼<br><img src="https://lh3.googleusercontent.com/4QNz02lD3Z7Xk7IFg4iTrScw3s6Nz9KPDD3_NdbHIwKeIBOoR7hl61KpxKY98cwtiluBD72YAB82dR9n1_EXH-m0dwK6zFaHJb3Nqj6ssDkmBx1nkg5FPrSaBgIoxRXe8jOlVDUQsT66ASSsqSyp3Em_RCy4aT1stl_15cAr2i5SqeYxP_YpvBwvR6Es9xW0X4yP18qc9eNF9Wppm1mflxRQ7GEsSsLocpD3kWqst1ShXS8AD5QZNIB_88kREv8cCelF8w694mRIlw7lf-UYKvYW3tb2eG3cqyQbIKR-EYWV38CWLGLh7pgQ12c9Z7lby0PH8CsO2V6xgbLN9vNAPAiynZwrH1CphNRd9Wo4xrnfXXqOBj15wx1eREjTimKQkdGbnyRFVN725cO-9h2ss7kCjyeJL_UG62Uoq5igCbe7rCTBVkOCKSQ1KYmQRFdm02a1b5B1tBYwBO5rCQd30CQ5ADtY0oP8OsKCDeBQX0x9icp3QQ9Oz7cvCyUqsb0zyYosRWulFYprwDLZMfmRdnL1ZOkn42fMfayqPWqY6x7YEkLRETf_QHrN0ncvaENGI2bWbd1xwBvElofkMJ2hM6DAlaOL6GOw8RwKTmBydPz2VGXb=w556-h610-no" alt="Google 非營利版申請 Step1"><br>勾選一些擔保條款，確認這些規定等等。<br><img src="https://lh3.googleusercontent.com/MgHDNYyDcEKGpmK0yhRJCw5B_rUSNrUbsLevHA7W7SF5b5HcqtB7CzO_477Zuaz-dCDls9FT2xMKmSFFI4qa6nbqadJRsD4s4cH6yJ3dtPAMG-GNEQ5Fgkd7nD1qJRYgMoMXgcCXU9Q_GLso18mgghBFXg1PL9Nyv8m4MED5yiIe8cPiJCDqIQbNLi2h6IB2k7C86aSAcHejb7SlNNkTiE7ooM_NS_88zYpEqQzbkwlPLHxAsViAgPGeMmCLQUK2d1HDaNMIglbNlpPqmKdktaUygsx6j2YcAxP8QjeiguSf40o5U2e2_rf7kcm-_IWvrYRdO5YOyr1LnZSe-tDm2HN_Ebapl8Nk160e1Gi00-X1TXeyRODyRmQFYkUzPIEbWlVSI66B2q27PI4DKOQgS6IxhcQDHwPJTOmTjR1sbM4BaDTBxX2WH1V4i8Y4QvgWJJ1v3GqgNa7IHFCmXf39QiJYCP8V5Q5I-3Jd2QfGea5IW2oyMbbzOBihBf_e-OmRfqPBJUXjyvMzWAjyKdwFgCucSc0tufb9QqtEeKeDMz2rswvGjSTvQFU1tYROvWXsoCGS_TKxkMXmZpHFoQu4gaKRwdBY4REL30u9qsa-xcNcVx1U=w526-h323-no" alt="Google 非營利版申請 Step2 擔保條款"><br>填入申請資訊<br><img src="https://lh3.googleusercontent.com/-3MiwhJyCkG5RCpmRuJUNHQ6Tp4_8yto3xJ30BrCGb2PS2-Zi17jQ3izddijcCHx4xw-BFuIY21Yc2ppBUtTGv6ixQJlKrDK7ot_fqJ-mZpgHCx1CJhRe7PYkd3aJyN2YyE6nlH70yVDvhOpgEGOi2EkPTw6w-HajXgsHQaudv22eNUA0qf1OpBWQ26dvdyY3hW4snQWxLLXgjfCVTilD9K-gifhDnoq_71f2B3gvDWM5sM92UQrhZo45vj7HRbMPzyNu6s-1tv2ZVsJKaeN3fimHEOUQtw_N5XuEXiVpTxu4HydWyD6CWUvdcrN9Y_gXVpMgNnKQDdQkDw7KpH6UVUSsbORG7e5vcFbX2kldWHt3HfOZxZZQg-DSQa4Ss2Aldcudn8i6jesJEQzNIy16qKMyFzy9PVeZ76Q95HdLMHePOWujiqnwU281xj6BVj1AetW4gXWJXY13ZlQHXoRqBhoetW17phXFGxCgpPxe0njBxMBmdJqBi1poVh1AmV01QvjkIMippmr4c1xHOW9h0GkwZe0GBFK3PXfev2YjpFuMHqCzgKRhoHKbUbbBBSC7mRP7ByE7Q7lM1LGQo0EhMZAr577FV4Jlp-WwoQPwAS7Mmay=w585-h755-no" alt="Google 非營利版申請 Step3"><br>這樣就算加入完成了，接下來就要進行 Google Apps for Education 的方案升級，現在你的方案應該都是 30 天試用版，要升級成為免費版本，由[Google 非營利服務]進入，還沒登入的話進行登入，登入後就可以看到以下畫面，點選立即申請<br><img src="https://lh3.googleusercontent.com/zPrUtoxX-hOty8FmfMz41AUpaYuQz1Zc8r9ClB2vvUdsFrLJMEEUFvJVNdCjJQRZW9EzEnq0GwdBkacI625X7AqB0QXm9ys6Kde5a_nRUa0wqx4GlcWZGNgqQ5uDpivqPTdmhxGGggDn-Qx2C2A_n7ZE2FmLZrKWYF77Vji1l2mQGXPeQz-lc8drwZVp3wf23ub2bO7M7PZrIrWBmh4VIXRRmpewCNuwr0NMdRu_e0PH4T-0GVIjz0EeYAFz7m6q3iBo6MUIo5IPcO-qtFdZ3O-WSqHKBAHthiSxYAncc_2hEgqwMh2utVt42lO1KxTs8EaWEp2YRayEWezTehgviiFNAw60OFu66gj70l5XJ_zJ6DcC1f0Yq9axJkG1lPPM5Q0n8HV7s5Z6wdFoFCbDW9WTHveIvvb2634aSl8FAK2aBeL9Hw7boMqmk4yOcW_UBaqFHgOJZhTxxjMobigCAQr4lu3koA6Ctc8KcsPeJdfDezek1mLlCmuXKo4fI_h1ht-wyWFaHfn6fXUJlkl88M1ouJIm07PUYsLpdBoozGGkRgekqnWPtCVL4WjUHY5fDS2Ynd9eZOgVgJ6EJR5BXMdU2TcOFamU-DLbo87AFHFKpNbM=w357-h301-no" alt="Google 非營利版申請"><br>接著會看到你可以申請的產品，這邊我主要申請 Google Apps 非營利版<br><img src="https://lh3.googleusercontent.com/T1_zQgb8bDaIbLmRgQsx67N8lwIbQ7D-u78Hgc_ocUjgsHkaiIjWoGOmhIAfSmRdnyPpHdd-skYJ9gI0dvBAPDgrVGo6-74Y87iymzaZGKjbwD-xew3tW1Ir0xBnknu33q6O3sPnMAkY9moGHXTm_VdXG1_dJa9FyD4XDJjH90JsaX5jkwiCds1YzcI12CDZF7xzGlxJe0_a6_dvUQXIPsG1nDPTt--JAnW7IJ00_EQXQIOfr_v5izINg02JAcM-i_LLdp4bZCbWOyFVjVi0nPq9aHMrof2rsUInhhpD4tRcgXdii0b1l0ULTjRkwNRWq0IvjoSA9cs7wosxSf7pPGu1Ow_jLdnGRs4NfKLOJaE0-MiXPHUNZlAIGa06tLlLNIb3ZgjuPkATCZXqyBujSxq9WFk1v3zuIxHap6C-DEaJ_kMC5kBPdt-1m3Zzrt9vsltCmelhK8pXZU99X5f6u0kCvHcBfgIHfDWNKiZIFNHE7LHLNeHNgWUWXe2XI60O25MVQKWFzZAz3UvQAiX1PYEGkJNW7zTvv9dySzl93s8a6MgygrJa7cTFxU2Q8zFmrAjWwE1x-SvXsw6zQO6Ki1160ZuHxVPRZeCKHARelXd0EC6f=w674-h426-no" alt="非營利版專屬產品選擇"><br>最後勾選確認資料<br><img src="https://lh3.googleusercontent.com/ncz8P_wojvkHysWxCqMC5kYlQmnffudMGMvG-cB1pnVvP_xgvHtvIbH39BwLzqOgUp8-0kFrU_bqafKJE3lf5A9h5jJJ13OdtU_vuFoeJPbqPeuUDU88BeU0xyaMhpbP_iN-QhOeYcxaZ3wPiUXiQZt5SFEqQo7ENli2NzhG_EqvdmYvXBxWfpl_ViFK_7_OsROellqOp6OY6zqc6OR_nT9MpssYSCnXtv38v4qAH3gZthqt6lQSYeIhoY3_LbJAENZ8uGaNLSDAZrWklutNgiNWobaxHvvkb5fFtoEp12yYdpy4dXohdR_a_yiPFsMGwujdM3fI9v1EO1siwqCUiZGYGJ5cukmFYZeImuajxaBCSEUZNrzjxjTz9od0udNGYvVbokQ1Yj-sKVH1JSIFshJcuA8h-P83bJmUTz2efKP6CY3U2McdEv5FbLN3HR7w0ApR8l3SBA0GH_PFmyGFC6axDNJttHHZy5MkAOF9raNFlTMqqCoAs9O-jRqGKCNMZTnwb_SKcVqqURPpEUTcZR-PV6DvMxAApylL-8AKRiyH9YEcs2EqOfpZvW7Ha5I8B_Kbg98KvOZaFygtXCom2MXk1UVceBQQAGmNYB6zx6V4G-bm=w700-h423-no" alt="確認選擇"><br>接著 Google 會發送信件給你，如果你有設定 MX Record 的話，可以直接進 Gmail 信箱收信，會收到這封信件<br>最後就是等待通知就可以了。<br><img src="https://lh3.googleusercontent.com/b3bt_FBGWJVgxgwRlpyDN6NsQvkU6PcexL7CnsXqaTs4N-yKSvOcQpkBXpLaVR83SZ4h1qqT7gDwsKR5UPMHjflpQhro9mIakrEkAmRNSVCH9CEdcr7SidGSfRld23wQEUY_QjSMTbm9rg0QKbzoKxPofXKfXxedaMvYFdKHjFQiMZHRa3vCS4L7q4eZnDjgbR_XzBkpLlNVjKH8W694EVN_9PhBjHNNKrwlx_VyTSzD4egEeici1XxwLIrukHcG51Yw7iXni5ohlCSuvUj6yjaZckrOgiwlvav8JB4bmewPbxt2F-2uEVAgwjmguBOc6vENfvUWFUo6RJ_jjhtJw3p9KWJxqH8eLJz_sNqTNbaJYu9vzAHIKQIlF4qU4RuGE3BZXkiGwvDAQROR3_g0I4LM6Sf-kMW2tjNJo8DqpWRax9gGmUbERz3NSttuuK1gHnmhJSRG-Uii4EmYiPRp4J4q9cinb0gr3Y7mpAb3oevq23sTQU9toBzm8KTkSsWvtZn143jxJco_Gwbsw9p6aj3o923NC658YEg4Q3UVJ5Ijl6pnUhzmJRG6lLDLMJZTMDmx0SZGXLNNoggqFaow1QEhwktc7RaEazuxkecfbhrXU_dB-tPF=w533-h471-no" alt="升級通知信"></p>
<h2 id="感想"><a href="#感想" class="headerlink" title="感想"></a>感想</h2><p>這次主要在網域的驗證一直有許多問題，畢竟我沒有權限去那邊進行設定，所以一直莫名其妙一堆問題，後來發現不知道誰有設定權限給我，自訂按照 Google 上的 <a href="https://support.google.com/a/answer/6149697?hl=en" target="_blank" rel="noopener" title="AWS Setting">AWS</a> 說明，就挺順利的，這次到這邊結束了，感覺挺繁瑣的申請步驟～～～</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://www.google.com.tw/intl/zh-TW/edu/products/productivity-tools/" target="_blank" rel="noopener" title="Google Apps for Education">Google Apps for Education</a></li>
<li><a href="https://www.google.com.tw/intx/zh-TW/work/apps/business/" target="_blank" rel="noopener" title="Google Apps for Work">Google Apps for Work</a></li>
<li><a href="https://support.google.com/a/answer/139019?hl=zh-Hant" target="_blank" rel="noopener" title="Google Apps for Education：常見問題">Google Apps for Education：常見問題</a></li>
<li><a href="https://techsoup-taiwan.org.tw/" target="_blank" rel="noopener" title="TechSoup Taiwan">TechSoup Taiwan</a></li>
<li><a href="https://support.google.com/nonprofits/answer/3215869" target="_blank" rel="noopener" title="獲得認證的非營利組織">獲得認證的非營利組織</a></li>
<li><a href="https://techsoup-taiwan.org.tw/user/register" target="_blank" rel="noopener" title="TechSoup 註冊">TechSoup 註冊</a></li>
<li><a href="http://www.post.gov.tw/post/internet/SearchZone/index.jsp?ID=130112" target="_blank" rel="noopener" title="郵局中文地址英譯">郵局中文地址英譯</a></li>
<li><a href="http://www.iq-t.com/SYSCOM/pinyin1.asp" target="_blank" rel="noopener" title="IQ Technology Inc. 中文拼音查詢及譯音轉換系統">IQ Technology Inc. 中文拼音查詢及譯音轉換系統</a></li>
<li><a href="https://www.google.com.tw/nonprofits/join/" target="_blank" rel="noopener" title="Google 非營利服務申請">Google 非營利服務申請</a></li>
<li><a href="https://www.google.com.tw/intl/zh-TW/nonprofits/" target="_blank" rel="noopener" title="Google 非營利服務">Google 非營利服務</a></li>
<li><a href="https://support.google.com/a/answer/6149697?hl=en" target="_blank" rel="noopener" title="AWS Setting">AWS Setting</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Google</tag>
      </tags>
  </entry>
  <entry>
    <title>First() 跟 FirstOrDefault()</title>
    <url>/2015/11/04/first-with-the-firstordefault/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>前陣子有個朋友跟我詢問一段 <a href="https://msdn.microsoft.com/zh-tw/library/bb397897.aspx" target="_blank" rel="noopener" title="LINQ">LINQ</a> 的 code，說輸出不是他想要的值，不過當時我去倒杯水，想說回來再看的時候，他自己搞定了 XD，雖然已經解決了，但是既然都抽出時間了，就還是看一下，看到他使用了 First() 去解決，就問他怎麼不使用<code>FirstOrDefault</code>，不過那段 code 還是有些需要調整的地方就是了，以下就先來看看這個問題吧(我憑印象中的 code ，可能跟當時的有點落差)。</p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt; Address = <span class="keyword">new</span> Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt;()&#123;</span><br><span class="line">	&#123;<span class="string">"zipCode"</span>,<span class="string">"郵遞區號"</span>&#125;,</span><br><span class="line">	&#123;<span class="string">"city"</span>,<span class="string">"縣市"</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">string</span> str = Address.Where(p =&gt; p.Value == <span class="string">"縣市"</span>).Select(x =&gt; x.Key).ToString();</span><br><span class="line">Console.WriteLine(str);</span><br></pre></td></tr></table></figure>
<p>上面的程式碼會輸出以下的結果，但是其目的是想要輸出為 city</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">System.Linq.Enumerable+WhereSelectEnumerableIterator`<span class="number">2</span>[System.Collections.Generic.KeyValuePair`<span class="number">2</span>[System.String,System.String],System.String]</span><br></pre></td></tr></table></figure>
<p>為什麼會輸出這個，也很簡單，LINQ 的 <a href="https://msdn.microsoft.com/zh-tw/library/vstudio/bb548891(v=vs.100).aspx" target="_blank" rel="noopener" title="MSDN - Enumerable.Select">Select</a> 回傳的型別是<code>IEnumerable&lt;TResult&gt;</code>也就是說是個物件，因此在物件後面直接使用 <a href="https://msdn.microsoft.com/zh-tw/library/system.object.tostring(v=vs.110).aspx" target="_blank" rel="noopener" title="Object.ToString">ToString()</a> 就是直接輸出該物件的型別狀態</p>
<h2 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h2><p>既然知道了原因，那就有了解決方法，加上個<code>First()</code>或是<code>FirstOrDefault()</code>就可以了，改正如下</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt; Address = <span class="keyword">new</span> Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt;()&#123;</span><br><span class="line">	&#123;<span class="string">"zipCode"</span>,<span class="string">"郵遞區號"</span>&#125;,</span><br><span class="line">	&#123;<span class="string">"city"</span>,<span class="string">"縣市"</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">string</span> str = Address.Where(p =&gt; p.Value == <span class="string">"縣市"</span>).Select(x =&gt; x.Key).First().ToString();</span><br><span class="line">Console.WriteLine(str);</span><br></pre></td></tr></table></figure>

<h2 id="First-與-FirstOrDefault"><a href="#First-與-FirstOrDefault" class="headerlink" title="First 與 FirstOrDefault"></a><a href="https://msdn.microsoft.com/en-us/library/vstudio/bb535050(v=vs.100).aspx" target="_blank" rel="noopener" title="Enumerable.First">First</a> 與 <a href="https://msdn.microsoft.com/zh-tw/library/vstudio/bb340482(v=vs.100).aspx" target="_blank" rel="noopener" title="Enumerable.FirstOrDefault">FirstOrDefault</a></h2><p>就是看到朋友是使用<code>First</code>解決，才想把<code>First</code>跟<code>FirstOrDefault</code>一起列出來，不過上面的 code 是示意而已，不要太介意為啥這樣寫。現在先來說明，<a href="https://msdn.microsoft.com/en-us/library/vstudio/bb535050(v=vs.100).aspx" target="_blank" rel="noopener" title="Enumerable.First">First</a> 跟 <a href="https://msdn.microsoft.com/zh-tw/library/vstudio/bb340482(v=vs.100).aspx" target="_blank" rel="noopener" title="Enumerable.FirstOrDefault">FirstOrDefault</a> 差別在哪裡，其實兩者相差的點很簡單，使用<code>Enumerable.First</code>找不到資料的時候會出錯，而使用<code>Enumerable.FirstOrDefault</code> 找不到資料會給予預設值，使用上述的例子來示範一下</p>
<figure class="highlight csharp"><figcaption><span>Enumerable.First(會發生錯誤)</span></figcaption><table><tr><td class="code"><pre><span class="line">Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt; Address = <span class="keyword">new</span> Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt;()&#123;</span><br><span class="line">	&#123;<span class="string">"city"</span>,<span class="string">"縣市"</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> queryF = Address.First(p =&gt; p.Value ==<span class="string">"2"</span>);</span><br><span class="line">Console.WriteLine(queryF);</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/PcmjVMFQXBxQEuke54Qnl2uwXK712VTfg-djruLOZLZuf1-vb446BwK_6nIRKb_ecCgLy_d3s3wyS3Uo9FaPNMqGYYi0mNLnKs5Qx38lZZ68kClzc6pImwRNzacttVR4M2FUTByXXDNWWhszcuhxR8J3EIXbU7H_0JsyOYmKJOaYfie5Iyw56HLD6ifVbtBWfxJU3WUOoVxtYINBR25w0rrkzeJl19rLoMTHrEuEedDLzHHY_BdVnhAknsUZt-h66mUltm7w5HkixkZquj0JFf8SaiaeC9S4wn96SQ4MRE-ncA-SohnDPPp4Y1tu0DZQUKxBOdofFbpTHpKkHWllUBbeyvr1mdAxeHER5IcDO0OU4GeqTDaa0I4djFoFJ-GqgZGrJUdva-9dnVQz0iqtZFL2bRL6FnyuqWEiXfzAKN31F_T9NEliAgsd6XrZw-Kvcw3lhiHjI30_kLGQOb7W78PxZzURpzDgkdK99MSpbxhLMAsMc8LsP_Sigyzflb3uZ3NADtbqsZpI2XlqNmhv1c7unDbRyRvdFJuVvz8MDuMZRqEEGdfux_C3CDrsv0ESEozUhahqAhKZJomqlrVU8EP8OBhUVggNi9brQqkZH1eKpupPSGU1ojVizG24pSXKsPeRSC1F9Juaei73q_ZD3HeQ8bPBMy4KA94EaVcYXg=w753-h266-no" alt="Enumerable.First Result"></p>
<figure class="highlight csharp"><figcaption><span>Enumerable.FirstOrDefault</span></figcaption><table><tr><td class="code"><pre><span class="line">Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt; Address = <span class="keyword">new</span> Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt;()&#123;	</span><br><span class="line">	&#123;<span class="string">"city"</span>,<span class="string">"縣市"</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> query = Address.FirstOrDefault(p =&gt; p.Value ==<span class="string">"2"</span>);</span><br><span class="line"><span class="keyword">if</span>(query.Equals(<span class="keyword">default</span>(KeyValuePair&lt;<span class="keyword">string</span>,<span class="keyword">string</span>&gt;)))&#123;</span><br><span class="line">	Console.WriteLine(query.Key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/M_LDcyF5Jz0rBY7a0MaR6OfXq1sltbHvOzG74YQ817Uj1IjOckKmcIgOqWhGpAO68dEN0h32qnKrO1P9z9EbJqBUTWRSIxbTvth3uHrrMK2fZLt5xypqUiWeGKj42cTxvg00SozWyEjUj1RN2nC8CxUE6Xr7SpNduXrhK_0egR3FfmfXaZJK3_JUj0GE6asd0jlAHq6QtovjzwqoDIyBC5BcKIA2C_L0XFDKejLgkyiygaIEOrspI0H-tqZO0fhjHgrusFJLa4ez1-ahRjuo2sfQl5tnGPYsksdOWaBL5p4_kwIcBk15n6RZAM29erV2UaSUNBZJrrCMyabkXi46d4nWJC13OKUPbjB_lv_ukUqlL4ztFpbiTWgWaKfNXMo1txelwRSp7JiuyTCd8tiB8QQBIhJ-hYXeQVP-QA5Z4hB_FO7YIPhkbKYOMKo71WZ66OlYRRSDy0dmaMn50oiXFcfQif2BXiLJVH9Gw2cBD-WF2CGVgXpdVFODsOhjKnlM3yfEyaYhIoau8RZl13W5AFbkMf3bF-_woqCVWsjoo1MBKr1MRVAoyfFX3fwtlUXaTQ1CgqjiPUNhIiJqbQAUoL20MBCfJZFtkO3nNsmAHXz03vdtzHrRvi-HOii5V4mbG2JgObjxsia4v7WG_Uj7bxsqQhL9lqX4PfCcjRUlBA=w661-h322-no" alt="Enumerable.FirstOrDefault Result"></p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>Linq</tag>
      </tags>
  </entry>
  <entry>
    <title>Octopress 加上 Github Pages 移動部落格到 Github</title>
    <url>/2015/11/05/octopress-and-github-pages-move-blog-to-github/</url>
    <content><![CDATA[<h2 id="我的環境"><a href="#我的環境" class="headerlink" title="我的環境"></a>我的環境</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ systeminfo | findstr /B /C:<span class="string">"作業系統名稱"</span> /C:<span class="string">"作業系統版本"</span> /c:<span class="string">"作業系統設定"</span> /c:<span class="string">"作業系統組建類型"</span> /c:<span class="string">"系統類型"</span> /c:<span class="string">"處理器"</span> /c:<span class="string">"BIOS"</span> /c:<span class="string">"實體記憶體總計"</span> /c:<span class="string">"虛擬記憶體"</span></span><br><span class="line"></span><br><span class="line">作業系統名稱:         Microsoft Windows 10 專業版</span><br><span class="line">作業系統版本:         10.0.10240 N/A 組建 10240</span><br><span class="line">作業系統設定:         獨立工作站</span><br><span class="line">作業系統組建類型:     Multiprocessor Free</span><br><span class="line">系統類型:             x64-based PC</span><br><span class="line">處理器:               已安裝 1 處理器。</span><br><span class="line">BIOS 版本:            American Megatrends Inc. 219, 2015/5/4</span><br><span class="line">實體記憶體總計:       16,264 MB</span><br><span class="line">虛擬記憶體: 大小上限: 18,696 MB</span><br><span class="line">虛擬記憶體: 可用:     10,390 MB</span><br><span class="line">虛擬記憶體: 使用中:   8,306 MB</span><br></pre></td></tr></table></figure>

<h2 id="安裝-Octopress"><a href="#安裝-Octopress" class="headerlink" title="安裝 Octopress"></a>安裝 <a href="http://octopress.org/" target="_blank" rel="noopener">Octopress</a></h2><h3 id="下載-Octopress"><a href="#下載-Octopress" class="headerlink" title="下載 Octopress"></a>下載 <a href="https://github.com/imathis/octopress" target="_blank" rel="noopener" title="Octopress Github">Octopress</a></h3><p>請先到 <a href="https://github.com/imathis/octopress" target="_blank" rel="noopener" title="Octopress Github">Github</a> 下載或是直接使用指令碼工具，透過指令進行，以下是使用 SSH</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:imathis/octopress.git</span><br></pre></td></tr></table></figure>
<p>要是使用 HTTPS 可以採用以下指令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/imathis/octopress.git</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/tkTeuaoXTnUkQnFa4un3RB44ARshsLAd1zJL9M_McHNlN-wjW0RIaDxIzQZ1fIe8k0_0W3qGWcKGW13NiBRuCt8_uq4M3ipUK7U7KelgreWpF9e9KGa36Cfv5IstumS9datcSoR_9iaeIvqBCrtFskwlSYrUkcsilt5J9BLZ14BML4kkYsUi-ThDdT4HkNCbBWniHwtW3weo8JfA3o2pynLY-7PFat3F1PzweoFkHygqx-4kEbHvCZTmHPk1xxCwG9yjPNjktGbNO68iDQqQZGExtxBNw5WK48zlJyhwgY4EPEpKSFtHK-PyyDGqLByjy2CaY5_26ju-eUX6HDxw1XxAHEfIYpjCw9EG1FBThEyRASHLZderaQwwEYgYmaSDxBpTLAvtiuCPwqdPhXQ5FB0viLYKdXCnaPZ9GkeHSj4UaKXdOZfO2qPHb18IBPbe9t8fL2Qk155HL8pIpDGu-T3_2s9Az0O1qn7FmgJB15igk998v5PztjW5pV0Q9KCx7bcBrtlnou966UrL2yNgAEIDdTMirI2LuyBRRYmpeietJrzIHlF5glDCbRScbVy3KAiNxfxy3hayIF6Y6wuz2InjaLGUHviIWuaHD676YAlv2NxJNeNN4nhTkCdp_Q-srVgBqpcm9NwJJy2zSFFnkWtBst2DB4P6xOvsT5tUgQ=w641-h175-no" alt="git clone result"></p>
<h3 id="安裝-Octopress-1"><a href="#安裝-Octopress-1" class="headerlink" title="安裝 Octopress"></a>安裝 Octopress</h3><p>首先要安裝 <a href="http://octopress.org/" target="_blank" rel="noopener">Octopress</a> 要透過 ruby，所以請先安裝 ruby，之後透過指令碼工具進行，首先進入剛剛 clone 下來的資料夾位置</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> octopress</span><br></pre></td></tr></table></figure>
<p>接著透過 ruby 進行安裝</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake install</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/RnPB2PtoJl4dByY4qUqDJncdybXxeJhlJnRZzE-40fO4im8_QHHOt4gaaPj6TdV85CeF_vNM0XQ0ByN3sKN4FSKzfBDofjSKAca4UYU3oV1i5CZJ80qiIQ1oM2Gs-u_3U8GckosXHq0pN3RlrynEEjaxeorWxruJcjOrnCHLNmhL4k7Bi4rs4AgvLpyfM5K4vzgXdhv97XQulVTDqmAdI-IjjJkKd_VP8axgui6XwjHIfjSvdkq6kgvXjvi8sQEAwa8vT5QsLF4i_25UyBzEc174gMsm54NbU11m9YzqBgtmfpXypWBh0oSLTEGyWM0zqR5k6y5mFZcdXns2DCLxCsKDzEjSziAhWk_9hoJKQP2D98Udzk9uWKq5KwOzGVZ5bvb7FWFW9XHnLQHwgVEIs7Wq6S_5CUKn65ZugZHXJkeBSGeVQlXZjZ2u2sVDo-Kp0rm_Dm_RI1EnhrQst6C3RzBPdhMPoBi7-om0eaf0P3vvsD2sJ0ldBBW9_xNBwtWt4DmUg1cjisuOQa6NXkAFnNcB9wXBXyJT_UXwXn0YYSYyQ9jgfmzXK-282kW--T6_WZPUtltnQrCT25i3XLA5keSg4LyvF2sMpMVgCxsxv7ajQDJmfeCem2cLmovSNQDO8j1grdmBhx7G5uwzm1qgRdHsragqv1-e0PCrRmOUCQ=w858-h239-no" alt="Octoprss install result"><br>這樣就安裝完成了，可以使用<code>rake preview</code>指令在瀏覽器內觀看，這些指令都是在命令提示字元內執行喔。<br><img src="https://lh3.googleusercontent.com/E1EP_O8WK0_JWu8H7vNttlFE8qTSKZjh-rSKulr2OHyKls6m2cj1mP35kVHy0zcY0JK4Ztgl-Gf1C165HicbQzXN5ZolHmoyQe4uwwaTn5zC93FwLvY5R_Ph9cEZV2rBzpWFmgzzSAOyBSK67DqT3nKk7R7TXKEO8m7xlQPNOv0BDvNQzdaTv5z7jzIwqdHc-HlyJ5Zbmj_HfvRj1Ct3kCs99akFDUN4WHQLB4MiciCSRAldBzsQ4rG8G4MhlJtAtEXLeHi3z41ttg8SCTGyUXK4nqOfSi2v3NpT-c2WClhu6u800rujNHS9dm-NCS53BVELHh-r0qw8u83z-KMv3VmWW_MRGJWE1xRbUPBRfIGDLYVCB6RVPE0LtHrKl1MPBDzMoj9FoVvnCg0Dd8zmup_7b3JqcezyUvRIHwhsGXHO6HzOm9V7dLUocYg5QJQwWII1vNqRdnPY63baN--dv5fvM5Gyzu-r9LZOSeghjG1DBpcL3r0PYJ97VAIPeAP9DdJXtuyqXrEtihjyz4WxLC0IzW068E6RRWoI8ZstfPudFUEgvX85Gg1fhrmMH4qqBO2Ddu1d2KMHKlKeSUVrb4b5k7tdY4cdgJLqMYR0fmj-e6kq8kpusZMNUBXA5R71vvprfvCTW7Cos38ggVpd8ek5YZtbGMwcUsVB48QsKg=w931-h528-no" alt="rake preview"><br><img src="https://lh3.googleusercontent.com/mw_k4i_PQasGUQZOfD2sQ9OdFA9MJkbSsCH5TUIz9GuljMwszQmwwFhKOzkwtuzPiZ04I3o6icoIlf-sY4tLDvRGip-_3IRq9pJCIMR2Npx26bnJm2AtBaIDb42dOUpxgQtUMFxF3HS8q1VmGQLp4dSnY6E1atvktwV7QMsEq9opk_P-GyfG34X9DueRMM-3s3sWE0W4YU0sexaomvcnrkRJfSCxv0SibfgAiLX0KQAPC2_cuYVrncn2ubIA00_HbovzV5CpMB9qRFfIriU8SCUhPFi6HGCiklEkDdbSU3lniIfwz5TxyvwNWBIKH6xHVyzjcypywXXBtod_ENoBvTwcD____JW7eAN-Zqm9t8pLNNad0b8qxPVlJ_gyJ-9qYkpReG2gCCvaH0OKl4Hw5Nps_WAa45TkUG-QWVcnfTtrVn_7dNgFOCtpvomFOT9N0SXZ6J35Teq4Mbo_-sygUcyt8OTDNoJWDgvrcA0c2SDo3mw2zwT3ofBWj014Jw1RidafUONjOO3TQ6dDXsyVESUf9bwnFOfjwolPxFP6Uwb_51jCDL6Ex2YkWwoBKNW0W81cglzps1rJYYoUBFz8ogf6MnbokT8g3mGb7XuFCOiZplJugIJPQ_vP_Zo8q-Yhtj3e2HC5BBAy6AUJ-dXNk0ioM39TxJYYGVvDMMCK4Q=w461-h496-no" alt="browser preview"><br>按下<code>Ctrl + C</code>可以終止執行</p>
<h3 id="建立新的-Repository"><a href="#建立新的-Repository" class="headerlink" title="建立新的 Repository"></a>建立新的 Repository</h3><p>沒有 <a href="https://github.com/" target="_blank" rel="noopener">Github</a> 帳號的請先註冊喔，這邊都是預設已經擁有 Github 帳號。<br>首先，先建立一個新的 Repository<br><img src="https://lh3.googleusercontent.com/tRL6ghH0ns9uJhF7ncNGTofSSfI1ZvxtK4L8rlauzgRp_IJYU3ZUrKpCqXr1LNnlZHSgriZg3YfBk-woVYY3mg4cAjs9vaRDYgWD2cWdpMVAiYYQOxdxphNfASYYotF_A9SYkMKDkdx9mtGGXRserTljV0WM5Z4HSVpmomEJee1CCeBflGoh1NXBGPIh12FfqKf2AObzOBXB3kQXOyInLv0JnFHEVGogtCgxceE10ewTIzP_XjaZGGZnvnpOxkno9FBQ-oKX5OZWqeOQ7On8nywiib1nLqv4nWB_dNHlYiXLUsq0UWj7pYOxR-LOYXbtf1-utOtgyNzJ4gGi-8Fs7UONRNvXd7c8tGMLYYS69rhOhpHd1dIIEIjiAtrl0vKD6T5tUASVdIzo-0xXLR8uzhCYnAYa4oDJj0gwpIxK9A925qv0H0Y4TyAqrxhF9ohwgBEVPMi1huevkHksk7GDyJDHVWFHY_kL1VxBSX7oPH48546JV9tFW5gZhES_GpElCih8IDX5qWariyH53cF0dsgoLpKjR-1ubWa-5cwQNXfldAVLfeOp88Df5TAuDX5aYojcTQ9fwQHlhfe-XNk5s1ykcvzk4MTLfB1zC8TBQvIJ96rYd3qInN7Bnik_w4d03eAQS3iHxlJTBemVHfkHmJ8Y7_6Wgdc-_0lLxF-YGA=w301-h198-no" alt="New Repository"><br>這個 Respository 的名稱必須是<code>yourGithubName.github.io</code>，yourGithubName 必須是您在 Github 上面的帳號名稱，然後建立此 Repository<br><img src="https://lh3.googleusercontent.com/Na3s66gol5E3OeqRa6kgp7nLTeCudK4SsRip6pOddbIweGkmZIPX_qg02hFzDai_5eXyJNNfMe_aNoJAVNDB2HFZjHskyzuHAhkpl6iL_Qz6emCHGUagVk2qB9cfvmBmkBMy2zdoy_4ZrMI2lBnDL5XV9PL1E7EmMM_BMM51_862rgMXGmlPWALpFV6oO-oKpAZ8R7uI6wcgS8lFugazDeoeV2Ns5ysPtk2ySxkPm3e3H26rYN6iI8T0TmdWfNT1yDhZD-9y5NHLe975ss-8NEVbCHllxpC19Pjwls9kOeQu47snuRgRDFbp6RjBDxSyVBNcYdZgtyHmXJJl24ywZZHpuZDdsnB1MC45MfvAgu1dY0x2dkyEbRNML8vKDh3iPzHClZToJH32sz0y0Yvn-2k5RWPxT0x9joyHPk4Gn18XZf0U0hF65Ka1Q_31KmTGmmxHbSEjjmw6D3O02rEYAJ9X8Xo9gCJBNPs9YL6jze7EVtIKbjpyqTSDj82VzMkOIAsHmz4B8vOeeFIxW_FqqhkpkkBrZzXb3VzvVYe7x_ynBPa_X3cHduzR0_CTh_eincqz5Ebi4PvSySNgLEVlF0EfkorzqfawyJ6Mzo4h_G-5laLUQB0ujCa-eMBwBABeg7rWBEvKcgWtanCfE7_n_tbU9m-LHhvKpKr75k5_Qw=w774-h706-no" alt="Repository name setting"><br>然後請不要關閉完成頁面，等下會用到新建立的 Repository SSH 位址(使用 HTTPS 位址也可以)<br><img src="https://lh3.googleusercontent.com/bmufXRBy3abvcxn24maYjBi8sPUSeBLSxaE1UP0zPSFHNQ_LQDGvxQezrmdN7lULRwHP271zEFSok69BozYXXlfvooe0hTBk0gRHFYnLjEvF22dbjrvGdSmj0pFyoxm9xcqWJunFvIOWpD4Xt0JvwKMoPkN4EFBBWvIZ__04bTolAqDByxaD__yrs-1g-2Et8J8q5tS4gUticdr4XS0RKOBlrXhczmvmkHDw98FPzhf1-pQWrPDP_cAjl-UqhMdTuSU_tRcLyetRGT0MAnEuDZOz5IkoQJTcFioYGMFgGeHNrUD6dWhyTvTLZQ0wzwpjT-i6J9da5bsUQzFq8BMjEOwcGta_UFOx6caHAs3oFDxwDSw3ur8Gx_iv0QKndNQD2Qe8wHMawwLLWlckBr94IT5vjUju9Kc8Aqj1ugx59d3cWT-8PvhlafBsfKMIDkvjW5NpYfs2cMvQGOh5OkDt-Alijvgy1lKr8avY9lPheMm6DSusOJDypCLIEI1CDZS4y01RS6X0qDQn5aHxz_H_EP-90kodkcb6Fd-zlJaJdma9l32GI-uBKVWf7soLVgUSfzuxT5okvelmz85n2JCzgdYKILTccxn6PUvD8Nty0wtiU4lysW0BtDtdUQ3mSyBtCBYxdpfu0njlKi-FbSZ4oqFsiVF0uyVTAe69lfMx6g=w994-h181-no" alt="Repository SSH"></p>
<h3 id="自己電腦中的-Octopress-發佈-Deploy-到-Github-Pages"><a href="#自己電腦中的-Octopress-發佈-Deploy-到-Github-Pages" class="headerlink" title="自己電腦中的 Octopress 發佈(Deploy)到 Github Pages"></a>自己電腦中的 Octopress 發佈(Deploy)到 <a href="https://pages.github.com/" target="_blank" rel="noopener">Github Pages</a></h3><p>繼續使用命令提示字元，必須在 octopress 資料夾下(您所 clone 的 octopress 位置)，執行以下指令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake setup_github_pages</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/MYilouYOhoIIsy_NSdquzc6-wwOp4qKBbBlzXkBUE8hqjzx8kCIKNjM8Q2AZ6rFTC638qwdQ7ZbKxh3TfskE-sC1zpJwbE7si4vG7JoBjgbM-IktKU9W8KAvgrEorrd-XxKnoyWfmgSJQNmSaOe3CvwKYXtzHPbGWUO9bwtZa6D2BVNfHHt2Kma8hcx1EcTg5JoTNMdaCW4B3rcFGrcpcsFutwG4oVyxqmAq7PppdMmvS37OVM2b000xlTbDzG2X9kw-AOezv8fXcHb-0EciA0-248uE24udy-unIXquHILaDFcbyGCtWCvJmw2yp-J7rd1xUxEEr2UXDqzAM14TYP5qgNjwLceWnHQcRCzQcLt6EhmOBdF9jYyEoBHa1AD6eB-uq5BLxeY8jXKprak7Y5jKMUA_VpHe0RkZ2RyTNKf6cjecP2AkhdQb8BBBtuoo-8ZzkrDrgm6Rhe4uptWm7R5kfpjfHc1cA8Em4Y_kvM0jl1g-Uvidarnjw3k51Af8gKlwX-njRjxAop5Jxu-fRbLop8kMY0ES_lS1qL3OIFcZSWh7Pm2HJ0dH2U3D9d6saHTdRutzwo1fFhy0hpgT2DC_SpQW6QWHSfzokw5GYq8J46mE0bo-Wu8YVEUzKh4yoLJPoemszW7jN_QEkia_KoAfQVE72x0t2sOvHa5YUg=w860-h429-no" alt="setup_github_pages"><br>接著執行 </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake generate</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/fFA9cF192Uo9EHrcl-Q_IeHTtLWvfx1LjRHlDIEDYP5K6GU3NxRIRHY7bdhzQp0-ByxQOkrrD89rptgGyYAKSIwXq9WhdJ_4DerNLYywoBQljUJ2MVWkeaauRPZAf6Kt9XqOWmi8A9kujJBtpKWzLqmy_KWYEUq6j0WV-w3c2RbyCPw1cpYlZBHp-u6gAITWi75nSbnriHV03Qb6Yr0Fko03KfrHFGOrJKOQ8rz2mjwwmR9ZIP81ckTjEln6IABUylM7QtGzHeTdAL4JUSyma5azmY-rhqeI9QrctbimQlZw7VNkjU4Z7G6hJKfGlAg_PiUzcqmUHYQ2c5RGsVDvyLE3lJTxB88aL0851_OqpOO6lM4X8gJFg5DrECTgG27nmfCjhnEUh3tXyqHaXz0wwq7bO3Y-Tc1au9XQgyC-5TFSZDd6CmdWmGNX67V0AU7588HmxB7vmDzRIAd3O2m6V1t5zdFWm8wicj6jnKcS5YRvTquud94gBWE1DD01CMddawvmdzNLKiPQRjrQVhSLlZUmuLpBVEDWVzSzk9ETlCz6MmO-CmaTjl9MbqtnRXxWgz7iLlPJgDOhqcf-qIswq0AJ7KpJ1sVZmUSlkPLHVSHJDujXSWCx_708UNyK3iftvV3YWLhRaHCYiNok8ldlgu3orh4ptXMmdBNddU4pqQ=w486-h232-no" alt="rake generate"></p>
<p>完成之後，就可以進行發佈的指令了</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake deploy</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/RPuYT260iXWe3VTvtQtq2xbmXNqk11jd1wmEjzky0zTbmG6zQ2zCTU1SBOFGxS99aM6o-tpfc39eAjbpXTOJG-M4aY87PdqDlycPHaABcnSrYFHEunze4PInk1KqK7Rqwh_YnCAinFmhtH_cy_2frAaLvNs-nUKE1dOkeIQeaDheaIcLQ8sDT5z4mbMuCbfc4IhhQ64ubIqPw8awBzhhIFCa_arC69n0XXTlqUGdj-xt9UPzGKF9tXwiiqBtvu-jiBYBKR8biFLlG2Kjg0wOQxxESqRpQyjq1C2i_P1kTSi2xrkaiijzmTy0nX9gHrmKDAU1tZHevLA8VlMMDyPwJI4dgtQuqqEp4R3HXG8PJ8HmtuPSVPEaMfHpr7CXku4ikrzgXIi-B_Fxirll45EDOrsTDpc35LRE8BbRVsViFzUGI_PFr9KaSCKyWZPlP7AhoEIU5ygvRNJW2EHY_3xXrQzChGwsZbO-PaCOyrnUuubJew0e--LiRRBf01kf7yqydRNMbsp8fLJuXC_kOHUFzTXOK-7OUi6jore9fk1HEvAJwMi2qZMUxp0ySy-JzM45ltRhBcslSwHw7iFKONxw2AP4ufE-QwNIAT0Fc-IwngPdaYL8O4JJhxkbUTqDys7_N-4Z7NDL-tHZzT30dvJkkDhlmAiX67aTchM86QQf2g=w466-h272-no" alt="rake deploy"></p>
<p>簡單說明一下，這幾個指令，按照字面應該可以猜得出來，generate 就是產生頁面，deploy 則是發佈出去，setup_github_pages 裡面包含許多設定，有興趣的可以參考 <a href="http://octopress.org/" target="_blank" rel="noopener">Octopress</a> 的說明。發佈完成後，檢查一下網址 <code>http:yourGithubName.github.io/</code>，yourGithubName 就是你建立 Repository name<br><img src="https://lh3.googleusercontent.com/Yd4nQCkIVUTIBqaNh34hwVLqknP4QRFyY_paB5Iv_fdM9Tc1Fy-YsQ9W2Qaiht2CjWRj3Z8-lvUzFdzWpxNt7pb5fewrvm7qRqdTOtKoLSmKeV5pzf8tUqgBDclC-TeT4V3MU8s_rARomvNAVF_WQioUy6pQvkE0KGUer8Ud9L2TpL_clyursB3vgYCcpGhqXK6trZ9fHKETiAAXy3E8mPmUPBKsOkpx5NAg3y6Hv4QqTeQzoW4JKVrgaZ7bKRGz_JEywtVjMLnj2scGwbrvHpAZ4ACSZc9ibeWqy6MnZxvw8AvAnLe9ggenZZd9n2ldueTRPLcC2aMvb1dNBH20L59kteRd64pARCPReC9WYZvbZtc2REnVm5DFfJ571K9K8HfqZxNKmVJBDXSp2iX1GmE6kDf7oh2h2OxXeXA9irIQXHhxTYgrbnip5xhzY7dfYKN25XDyiZgtYIO8F0QkxgSE-bcWDSNznIx8ic-8QKKcNaaM4bQ8qe0nlGotDex_jf55okMDwWr2Ot67BdCv0ZoqF_EauBSkVsL8QH9oUEVC9oSDLjXrawa9DtTDyyvw_mRvC4zgxDBVGzQVOPTLOYewSRzwLZxAR0nq3--V3lZ13lvewcL0S8IF3rgAj1ytQhs8OGnBQ-Kchj5X6oHKZQeCF7geZ4MOhk7eWm3EaQ=w439-h456-no" alt="deploy browser preview"></p>
<p>最後，記得把原始檔案進行版控，放到 source branch 吧。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"您所要輸入的備註內容"</span></span><br><span class="line">git push origin <span class="built_in">source</span></span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/y7fzCsqoxY8yB3e22Ner30wIPPR71dEbcr2X3HHJ20asGgTQXm5PN9aWbdnp4jGx1iVn7eoFhVydTBA_YNsqCtkcVSX-6F7eUXdpmZESfyR9PvITn7xRLz78YQcnKorqM77BbufNZGrAsxuL2bhFiNGN1I7A7Zs4NDHD1c5UkA2Z8-CFU2P0Lib3Oj5sNlfuWkIyPQ45-gqqsT8R78SfVDJ-w7Ml_5MY579Jiv_D904Hv3a1JEodwBnQGjkN-DecnGSA6zWMaXHMUyQTL57j0BhBDsTmLw5frLJWnn06qXOgH6OX3K3znI1IQy6TiqJtSI5aqFDFObJFhYDRFBhhxU7D2ejMMEfvVkeOumpHcSQSwtSlEa8BK5SWbnDYkKcUPQjBaG2YsgE7GqXzzWDx5AarqsJpnH_iYmFQdFQx0wiPoI5XJ4nvHmaJ6eZmVmXk6mn04NdmoJV8ku5fQVtfXzAtEGJbZrGoOkeeVIZ_A1NHS94QWJ6joNWJkEUG0ERdyh3BvJF4baf3tDmYzyYQTAxoQyXUCZHm3Fs1ir8xPj_mPxrrR7Vy-z--pmUHVXc2BXJUwDwrTPrzMoNJjjZWnn4P-0jWl2v4eSR72UT3PuMhVBSM44cKcjrujHQunrC9_v0YeB0FBq-4lFlJ7-dzp2JnUzWLhZIw3xvzj9LXWw=w630-h463-no" alt="git to source"></p>
<p>這樣就完成您的部落格了，接著就可以使用 markdown 語法撰寫您的文章。</p>
<h3 id="部落格設定"><a href="#部落格設定" class="headerlink" title="部落格設定"></a>部落格設定</h3><p>有兩個方式，一個是下指令，一個是直接更改 _config.yml 這個檔案，想經由指令進行更動的話，可以參考一下 Octopress 上面的 <a href="http://octopress.org/docs/configuring/" target="_blank" rel="noopener">Configuring Octopress</a> 使用方式，以下說明在 octopress 資料夾下更改 _config.yml 檔案的的介紹(這樣更改感覺比較快速一點 XD)。<br>首先先到您 clone octopress 路徑下，使用 sublimeText(或是notepad、記事本等其他文本編輯器都可以)開啟，然後直接修改，修改時，記得注意每一個冒號後都要空格，不然等下執行<code>rake generate</code>產生檔案時會發生錯誤，所以這點要注意。接著更動後記得存檔，並執行下列</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake generate</span><br><span class="line">rake deploy</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/aJi7TFi3cfThGCGogRLUKchcCDH3bTIVUlr8M_cCju4r0Q98mbxcZ0UGGjQXI0nT0Z3KYwSAF_EBWdDMsxMyvwcqrGQq57wopH4GldwXyNvpQ7DHML1mSWCwGtuP5IF-wDPTH_5Fxv2L1w1ERR89cnc3VgoEyp9dJAo-srekxgmSjef2KTW5ogSQXUphYnVf9F54wIPIahThgUlnbl2dpK1w5tCYwlMVr6sbfoxET2nro5w_mfJHp0YNiuRmL5mPpvs1OEg38eXOKv92SO19Ng8vyetFuH2TjgAhPCNjWiB_xi3nIMg0u-988GzfTaBMOtViiSI2bqJyvA3xEkJto-0BVlNM8mZe6K2cMxeQKvMilo-2COLqsJULRE8cEnJTN7IBePi37ivXLj1uU-Ar4wT_2Rrem3r28GHdrYiMT7kH5PcZRGc1YmG5aRSDToyWpPSK-Gq0xpCpcWE1ti9RDo5k45AVMTccuWov7fUZY_4sAXNkmPFFvaFjNhi3ecyTWCfLTfXENpEGYWtfPNrJkSZfrKW3ITbF1YM0LzZLh2Fd7fRzmY-1sV6zKxZb2pY6ms_8AsdFLWeqcFdnY5j4cqbL4Rg01o1aciO_v8zMhxUmRdgSmmdiEpxf16D32ZAOXlmvQhT3e5u4oDbP_LLmJjngUKDO7auaHi1SmC-7QQ=w516-h608-no" alt="edit _config.yml"></p>
<p>在執行 <code>rake deploy</code>時，我發生了 <em>LF will be replaced by CRLF</em> 這些錯誤，這是因為在 Windows 中的換行符號為 <code>CRLF</code>，Git 會在你提交的時候自動將 <code>CRLF</code> 轉換成 <code>LF</code>，而在 <code>checkout</code> 時將 <code>LF</code> 轉換成 <code>CRLF</code><br>所以執行 <code>git add</code> 時偵測到了換行符號的不同，若是不希望在 <code>check out</code> 的時候不要轉換為 <code>CRLF</code>，可以試著執行以下指令，把 git 的 <code>aurtocrlf</code> 取消</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global core.autocrlf <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h3 id="發表文章"><a href="#發表文章" class="headerlink" title="發表文章"></a>發表文章</h3><p>此部分可以參考 <a href="http://octopress.org/docs/blogging/" target="_blank" rel="noopener" title="Blogging Basics">Blogging Basics</a>，語法相當簡易，一樣使用指令碼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake new_post[<span class="string">"title"</span>]</span><br></pre></td></tr></table></figure>
<p>這時候 Octopress 會幫您產生文章檔案，此檔案會放到 <code>source/_posts/</code>這路徑底下，接著您可以使用習慣的文字編輯器，編輯這些文章，編輯結束想觀看文章在部落格上的呈現時，可以使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake preview</span><br></pre></td></tr></table></figure>
<p>上述有提到這個指令的功能，此功能就是模擬一個 web 服務，讓您可以在本機端使用瀏覽器觀看執行結果；有寫過 web 開發的應該不會陌生，這就是本機測試。<br>確認完成編輯後，進行 generate 產生需要的設定與檔案，之後發佈</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake generate</span><br><span class="line">rake deploy</span><br></pre></td></tr></table></figure>
<p>這兩個語法可以合併使用以下指令，就是上述兩個指令的合併使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake gen_deploy</span><br></pre></td></tr></table></figure>

<p>差點忘了提醒，記得進行版控喔。</p>
<h4 id="參考資料："><a href="#參考資料：" class="headerlink" title="參考資料："></a>參考資料：</h4><ul>
<li><a href="http://wen00072-blog.logdown.com/posts/258497-octopress-installed-and-deployed-on-the-github-pages#oct-env" target="_blank" rel="noopener" title="國王的耳朵是驢耳朵:安裝octopress並佈署到github pages上面">國王的耳朵是驢耳朵:安裝octopress並佈署到github pages上面</a></li>
<li><a href="http://zerodie.github.io/blog/2012/01/19/octopress-github-pages/" target="_blank" rel="noopener" title="李嘉玲的技術筆記:Github Page + Octopress">李嘉玲的技術筆記:Github Page + Octopress</a></li>
<li><a href="http://shengmingzhiqing.com/blog/setup-octopress-with-github-pages.html/" target="_blank" rel="noopener" title="生命之氢:Octopress 搭建流程 – Github Pages">生命之氢:Octopress 搭建流程 – Github Pages</a></li>
<li><a href="http://octopress.org/" target="_blank" rel="noopener">Octopress</a></li>
<li><a href="https://pages.github.com/" target="_blank" rel="noopener">Github Pages</a></li>
<li><a href="http://octopress.org/docs/blogging/" target="_blank" rel="noopener" title="Blogging Basics">Blogging Basics</a></li>
<li><a href="http://octopress.org/docs/configuring/" target="_blank" rel="noopener">Configuring Octopress</a></li>
</ul>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>blog</tag>
        <tag>Octopress</tag>
      </tags>
  </entry>
  <entry>
    <title>在 Windows 安裝 Ruby on Rails</title>
    <url>/2015/11/05/in-windwos-install-ruby-on-rails/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>在 Windows 平台上很久了，今年初為了裝一些套件，就安裝了 Ruby，結果今年都快過完了都沒去玩過，只是為了那些套件安裝順利就裝了 ruby，感覺很浪費呀，所以再裝 Rails 進來玩玩，順手記錄一下安裝的過程，為了記錄，我又重新安裝一次 ruby XD。</p>
<h2 id="下載安裝檔案-Ruby"><a href="#下載安裝檔案-Ruby" class="headerlink" title="下載安裝檔案 Ruby"></a>下載安裝檔案 <a href="https://www.ruby-lang.org/zh_tw/" target="_blank" rel="noopener" title="Ruby Programming Language">Ruby</a></h2><p>首先到<a href="http://rubyinstaller.org/downloads/" target="_blank" rel="noopener">RubyInstaller</a>下載安裝檔案，請依照下圖指示進行。<br><img src="https://lh3.googleusercontent.com/P4URDa6_HJLDPC0ifoGdJg0HHmkIEkfkqBp6rkovUDuJcnAuvz2ey4Tj4qEICswxAHbcjwt-QtTzVIRTHdp51lXc2PTBbjemGqdKElENzrJadLVbhFPV-j-WHibVHt9TdGP3Uoif_7yclOit_2rciLCE6UNtiN5hX_kc4FKjEv9shV5ZsBi2rViqLGj0gFYLTwPcJCmOd50Z6CDJfrDHu04BMxd1_cjoZeRW3Nq784gVjNcZBtavBc5Utjn-JSQKUPlU8N3bgZa6AyLN3Fnwdu2Umq0Nz7Kz_8QFKMRUS-9KWDe-8QioPtTxbgAGG-jI3sn8eDn9nbf9wMJrBow4oNhFychQvZfY4tqqiqfWrM_y_7G3bns1_gyPN0sDp3mI8cauLqyJAG_eHQqZpekAZPjF_wmqAl2hT0UtYvYWt8FYgFN5eahyVbsIm2G_RUP_YxvlRAkO0-8DUhiuPnoUIWx2fJl9ddeiVuI1Bx7GHszhe5gKmQZq80dCwbhIe8u7m_GoAl7CP7uWeKHniyYIyMDQx-yfqsHpby9IylbUxqsXELkJtxHaBOO6KuBwDaUR033PJTMmpRnqYb3Jo7gwHUBf27-PoU7yjmteJrZcpgHDWYhL=w946-h360-no" alt="RubyInstaller Index"><br>到這頁面選擇符合您自己系統的版本，以下是我的安裝版本<br><img src="https://lh3.googleusercontent.com/XEjz3pnpzM1WoIcqLzHuR_oF_2mnTaWHoWO1_kCBooC1rtJw7bLGv3AHnRz5k-Xe78Q6edNC2HM3SBz74WmMHvhMvu2Zc-Crev22WC_aHhOKZW-ml4Aako9ONYE3oCK9_ZTqJW8DA5mw4_uagEmC2BzZJnWEZwh4ovLbUqGufWatViLyeYkNCtUyfGK-ibjLarX977Rjri0x5Iiah9scjGh_B2shPvZCuCb7XosJ3uUiZCOnRo7KHqtMgknpJWOfyx-UoHB2vr6gZXe1nm23krPs73_kSidDz6j_1JqteRuOMBiSrmP547ZXXOzUXIGRWC4DQWlXHt0rCsrvvi4vXs2gvLOG-seGEB1_gXNlHUAkqvVsIRsepee0_2mEClJ5-1WBUZ606uFnZv-koMAHC4bJ8cgOkCUygsTxhREE08IUPeD7vUqHwg1hn16f45HmsfZYMri_PcoPHV0jbZUZDWvGHpK29WAop0_s0ysx9C67y6yq9Mis5dxiMwdVmsjnBSEsOSMlXqAgvaB9IEMJIL-ol6PMh-VCLc1r2D7YNohDJ_V_VinjSxBX0CvGC1G4rza4cn9K7ORUMHEZIDIgZhOPhh521qkV93-EGYGZh9dcIM5dtAhUSJcJLQ9Nayh093drVfolbARF8P5btpwycF4V_2sjMlQa9rPrFTIWkw=w434-h301-no" alt="RubyInstaller Select Version"><br>然後順便下載 DevKit，一樣選擇適合自己的版本，我是選擇 <strong>For use with Ruby 2.0 and above (x64 - 64bits only)</strong>這版本<br><img src="https://lh3.googleusercontent.com/T8KOyZkZm01c7A7Q9xJutVZo3HCj1Qx2FO5-fZrREyOnb84prEv5otuyibZU5LgstnDIIDvaF02m-jkxaOGy5nnAdWZIQGvfQxDi5VMh7ozvnsXU4JJbqLa6joTVhOFfO-rIZESkJS2H1K4jIvySm0YlGNmEClnbexrPFuWFI63aYlrroLeGD3zAkl5wlv7G-YIF-HnMBfAJXqG96tmWBw0L72-M46kUVuwsvnXF6rFBexOtFZ1eIJy7gyt8ZxtOdsnXoxxncLqhA0E2QlNR8BI9gmGQ2rN_8qAMvmmD2qWEk5l30PkpGjrto2pXCdm2OL_LODuLBLJ-msdnZtZNj1iBOZVMzWVdXNlDcgKK5CvFy8oWo3JJ2hvgWc-Jaf53cq5iApPO9zc5_i_vzUfyDe70SFV3zepOKt3-dMosf4vxFbmuK7pAXnS7nWiYRdCbwrQ0WkRvRweg5sXkti9dsDLanqsN5WjOP3r7qYL5Yd9soZQdQkJqNf4bnTgauDZXGjGd0gD4CxQgXSvgBEBGyrpY8BMK0sTVYH2-UYe7gVYMi3JW-Q3pHutJs2RK9wUSmWUo1IeL4zpOjO5fjWuFwE3EaeraaHODyupEJj2G4yeefyh_hRfJct8PRuqzMwZq3IBmvyhkuz1rS-IiEze4sle1M-vI_MzoHk_Ln8d5MQ=w392-h277-no" alt="Ruby DevKit"></p>
<h2 id="安裝-RubyInstaller"><a href="#安裝-RubyInstaller" class="headerlink" title="安裝 RubyInstaller"></a>安裝 RubyInstaller</h2><p>執行剛剛下載的 <strong>RubyInstaller</strong><br><img src="https://lh3.googleusercontent.com/0S-ZhQ-fH4S2aa7vYEYNori5v5WG_nthnSKXsEzFIXPN6RBOhcewnLmlPD2HohAcj9W4HUWxnCK2cDzjeNO74CwLr29hQV--gZRTNkb4sXuCmo1wTRaNZSahkZLdKDaeIfkrV6YX7IfAPncyrQJVnsiv6r1y0x2tMsrHUgnye5sA9i0mbeYWYMSJ74dVpPefrCBXV7p1OjrgLF-BdAA7B-9jcDPMBfIGvEi3KxjDsdsI3irfTUqtAUkzU9Q3uGN2Glrl_zahE64ZSnTnz57R_kgCcfBSF8-a8jgWWSpTeZvKLBUOTABAINJ6QtUzZgdYUCUu03LZp1ZcBH4eQgHcmPE_7u2RgjtShaIF2nruQLRDd_RsBVX6Gj2RAhkCysrFPGPXW95HDbtWGz-A9V9oET0koQYDWAwYFxVBi-U85yLiHFrzHGdJOr8Z_5ZxFkbWZMj2IuLYJNYa2C9Jj_FWoQTiLxmAkE1gGIZvNS2wtEk356Z8MhOSj4XI0SHlVWpQsKRamsGYjOubcJxfb4CgRhbql1YHoGhFyn_VAfzFBgEOLZcndeDQ1oL_wTeoBmM0betVvWx2_ea7rzLXeNs3Q0djK4GR5IEl7wAgNbbnu2gx3vHXMAdzE4ykP2Uvklu01Ro2iUKqgcXCNGBFH60IlJ9l7TWJSkq0OgWth2N18g=w480-h208-no" alt="RubyInstaller Install"><br>勾選接受這** License**<br><img src="https://lh3.googleusercontent.com/kl5V_UsdcBDShPDFS2RyyUoeOtpqnRJm-AeDPVOhvmazOmYqLIAKkGUOZDkvZEOA2ztpV4GdgZXey6-TCLcP8LiOUyMEoAlqOrip4fN7zhS1ossep0R_287T504oe6TUrpFJwx5TnThPbQktReooijSgNXT4V4I9t1wktEM8F0a_tiYyI09yAcY2Sk9PskgjDCLqPHp4SR0rN3fj41S0jeT-Udxdg6i4I0eQa1xzryBq_46aQSnSilPesdCw4vSfKeMntOpPrpUwHvP8S7QRdQ8nO3B52x8tHnqsO_RlaqHpXRg9adM5auE5mSnREq-02u3IM4S9wzQL3MjaGQ1wgsgAJz1jhS9rRs2Y_YtSvtWw9jDtxq7Lo3WtHnccHNlsFgzeWVg3VJGPqQvACoYRAlAvYgTsRHBuL72mqYKUpltD81ExLvFraGhXa1fnHbJ3q7GqtAU9v966KCdTBbxpjW1S8ghxz7KroW21AaZwhB50bvRV-gDOAqhgI8quSk0BYAd_9mz82MrRkii13581to5u3AFgP5NaAmt_He5QM3siE9Lndspn10WkdQlNH8Ud4N7DdLPA7HETb4j6qMZBlM2VX3SYbtE1NhyI40u343z9qy9lT9YsJpM7LFJH4LDlDbhMTs670aFMW-alk7eoDSOnJUExjoF9mMz8IaJD3w=w499-h387-no" alt="License"><br>選擇您想要安裝的路徑並勾選 <strong>Add Ruby executables to your PATH</strong> 這個選項，這樣安裝程式會自動設定環境變數，等下就可以直接在指令列上執行。<br><img src="https://lh3.googleusercontent.com/Kn37dYUKVzn5DEb_dldQaYZ977gxeAdLGd2gfM5xmo9--8oFbhiHQRh8d1p9t-zcGN-uVbyqPG8Ko2UZ7SO0PnZ9--IDzc0b7bIhGSdyhN-zz96dNr-JFe4gI9Govdha6uwPFnzRCKX_1m72p-uYrVyTyf1AYmdv7qnhPICf1i-TJPtlZdbFto-HoWgvg-0KQVo9i9fEAgtzjH40sfxF0k63NMOyiPfH5lOnCdWSntgfUOhgT9J0lcNX3q9jwjX-5LbF5biRz7IRYcfXRepDYc94td0T3Mn2KwEgteVdfMS6DHvYfTr6d7SL9fNT0O4dh0qAoyLZFd8fz1ypvf6PR6NdtH8-G6qJZ4MD5hS9CliC7HgOsdbnJ0-R0gHeFZIbopO5FW0PJdrNxiIt3rN9WEKKT46MrojkOs3dhI8harPeMQCZ36_WLmpuizmrDSnwIAcnWEQQ-XnJJcAyGDRsshIYrHZ8_jxEh9DeO4JEX6PwoWsXud3VBaRRlgtKw99pHuBKxkNW_H0Fe-v9RAu-68Es4OLCisPvx7HfmMFJtCp6Uw-te-VUtvNY7oUIwtbPT-siKBt4k0VI3xvkjBBt8_JvK0BWgWHEEV00GwQEgkvZf51t270W90wGy4lcDkS_ETulN2m2ZtCCAIqb1Uj2IgozMQTpawPgupkP1div6Q=w499-h387-no" alt="Destination"><br>然後稍微等個幾秒<br><img src="https://lh3.googleusercontent.com/fLRCeRkcCzPD407BTI79H2eTWhWbsnI2VRkpJuNG7tvVS7uEyk3rxsla3c-9XdMYNsYfwTMeHCGbo_9ARfZ4W6m6uK5itjSN52ECL3QrIoTQKzp0ylgtIyrTpDZrTvNr1XGJjlEfUo_s0Op-wzpMZLxppG3iNtzSA4awztUhmOYJBtJV3gkMwJfxlYxvZsLVbLG1gG-jKcUcLWMYM6ldYv4KxM5E7zOxOGS9m1uSYM9VUIF4Y1JIcW-tV6Z_Omx88Q2m1QumKmIX32oGjBBspgBw46FkKHkoTNQux7cdZqDxg51rtBDU8WB4PQikJbS-9hLINJmpY7t2jGpzjXoTkIwJwC19RQ0FoPE_w_3bQ-ocZnETM9MnJ1p9yAF1hG9REC74QIB1gORRYyeWu-06SkhG7WLKfn7Ynk0W2QLhh_TKJG99vS-9mu6z38O9S_kmtNnGQufEfHNsNCmNiezu6KvdNyH0Hpdu51mOUOp8N56uJ9B8bY_mN7Oe5xEawzkoy0dYCfGySZtU5aROVKar1KvAkRCHb1bhi2_xqh0ZIJfopc5bWAv7Xu5WSUlerM-Ec0MlyZbPMWXNDv04jTS_Ws0439vNutPKO0L46QrgNTAtek9imNMXukwnOHIguhcwOElCsBBVL-PWoG_gswa4Vc9SVMuohOOVqT2k8WBBoA=w499-h387-no" alt="Installing"><br>就可以看到安裝完成畫面<br><img src="https://lh3.googleusercontent.com/0aF0CzAB8C9tVUA5xblqYdpd4DKIsp5fSGH_oqJ0Nez_nA2Py-bjdfyyLvUWfFXbEv_JK9EZnr4GIydLTZXIHLtO-ehokl5Ub97mIj9jojZWHUJZKjoIleBiXK24P5T82xSN5rs3dCEYKWuE7M5Q60psTwnEKSYUsEqkRP0n1sQYWRMG9ciHO5FjQUKkae6-zisvOzGxN5xrppqDjhrlSxsS12QcBTULpiCoJQqXoIWOuf7X99LpH-AaH0jfHvEpXRkp1jVFSnIKYcUPp8VhoNW_BxbLwuOrhi71bu30BYp03SFUsygzxdcqeTunS6etpPXzt7zw5ZZVQgmvnWILh5Q-a43K0AFfCtIVO5yIDfnbnMChP6fVu6AnEinpY3MTgkPs3dBxgoaZAjRr1UGTcT0zVpxxVRtXOLjfLfpw0yXQsLyMVtnfISpAV2n_wPDc1lt8kIApDMEBgcD3NyUwGJRiodLJFjsew8sm9lYH2zZuoNxOSjzdvMuN9c0u1H-t8ut8Jgz2mM7R7hB2OdsLnd1vgrYwwk5BFGE3e9tC3IBg_QIAYHUXlnmDddTN-yLuai3dyaDN_3uDwgKx-X7h5gyp6UmGqedl0ER2gjO4aCZmGQ_zg5ztBn7_n69L664xrciZOKK2VZ6l0EDPbGPQf9aImfdpQhECDJqODJGaSw=w499-h387-no" alt="Completing"><br>接著我們開啟命令提示字元，或是<code>Win + R</code>輸入<code>cmd</code>，我以下畫面是使用 <a href="http://blog.miniasp.com/post/2015/09/28/Useful-tool-Cmder.aspx" target="_blank" rel="noopener">cmder</a>，畫面看起來不太一樣，但是功能是相同的；命令提示字元開啟後，鍵入</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ruby -v</span><br></pre></td></tr></table></figure>
<p>查看一下 ruby 安裝的版本，應該會是如下圖顯示。<br><img src="https://lh3.googleusercontent.com/euDUAHeFTp7iMYQdaX_F59AEp9xikpkjepPst6M-cquaySRB7NBzRZwvJtI6fB8bmA6FpGQHgQIvBrknSdOBWv348-8idTdFYrbOqJYp58n_iC2nnEJtYAYpH2p2KcI0QZbWtPA4FDzfGYF9qQnRHtihhRmdk9crxKYezv3eywSvrzh0FY8hOoLkmHZAtxzglSrZVVewnrxvXm8iiiJN9TR7XHuxbDbxJ82rV2RZzd-zQr4GtvmweiSLePjb_lMC55rujI_NMTooZbni7DVgPIakGk-O5CnF8RYye2mHqLC9PwpC66qj_ewtABiwe0hgka8PfWu7ggC6XwxVndwKtCxsfmkmu5gnMkjOLl12sKixcjzZJAGGsHmV7OXGharBXy3qC25aE4ig9hGqdn2gi_Sq1bPMDTlDiWj6wDOF6RjiNdj55xCuB_0H1qcTkNrA7_Y6HHQwgdoaeJe2xSC6fp0gTD7FnKyLN6aMmJ55iM2a3XNynAyBht38TJtckpCj9m76E6gWUqOSo52n2IYrjCAdNMpQjOHVHxRminKj8wEGwxM1yKWaQ7ewcuH5f5I8Kn8A4o5geioR1CXlroTxCLTNR46dGSR33_RitbinHQD19F_WoLGYFEr_pUzmeUo34PT132xcYhKVIG-_bAUjrH8LswWMdi93b34pEJPSvw=w518-h126-no" alt="Version Check Success"><br>如果出現<strong>不是內部或外部命令、可執行的程式或批次檔。</strong>這訊息，如下圖所示。<br><img src="https://lh3.googleusercontent.com/5Y9lOFcj8iLaUt0mckz84fMgNQxmeh17oWal9YFN9AqVsTTy4fdQZFtpPztUe9H6rxyIx6GGiYTsRd4iWcHbcLTDKau5S-HpsEiMp3r-W_90C704C6SxD245UMcljk_pW83PAd7BgEzb8ai3tULKKzrFVVD6oXFBdjlZdh3siwKj8A38SBNvEWfvpxEiHNJ0o79g6-9sNuhdxp0wDT66ILb4ZGrQmxH6uDVqTNKLTuYeTtd5P-jIaxi_ivIFgEGGhJTUYjVESEdRtkoQ7apTKeE5S7xRNhN9MMoGw6tr4qNFDL3cIe5YXoIcmWnqzubMvm2w3lcRYvpfrtgf3S--AzqsFnQVgB0aloc29uxBNPrIFEWfT1qoAp59eqAwVJm9n7oU33jma6bNXcb1zIWJ2zDFZAQI2K0fEv0U8sWkSALVx50__6vgI6ZeoSjewI4FwsA8M6TTslI6VvYyXIV6u2i7YtIonmbvDKzPlI2BJjYiOg52SH4Ea4PqCTvvTD_VdxoQgoRWNCyW9nSbKIGUzUcWvqf2jitogRmuEDX3R_tMghScctRoZU3LmjS4W-fl1_DnlYPNed0ESjgaHmMqkwt2Px1IbOwcev7avbU_3Jm_M4RKw3zWbzT6gy6X-GwoI4ApxMqgwgj1R5Opasi6cEQek6u8MqlRplaRzqxkoA=w455-h125-no" alt="Version Check Failure"><br>可能是剛剛沒有勾選 <strong>Add Ruby executables to your PATH</strong>造成，您可能必須手動設定環境變數，需要進入控制台-&gt;系統-&gt;進階系統設定-&gt;進階-&gt;環境變數-&gt;系統變數-&gt;找尋 <strong>Path</strong> 路徑-&gt;編輯，把您的 ruby 安裝路徑增加進去<br><img src="https://lh3.googleusercontent.com/o3M-L2Kp5xFReTU9BtSEwWELEYIbdpWe8RMDUywFFtLBYm4niFBEixWpK8V9U8zj3sumY8shcYOKJ1QMkioraCEC4L8sUvh7u1u2W1K8ur6gYEJ46LJqQQeRjAdeCSvHOjyLdMELfB2IaqN_TJkAhNfE2GWyCxwZxhxwVHx0-cIxHSQPFfJ9MZmDk6DUWFpjW9BlAhFdNg1pPP-wpR6fVDHr1MVI2xOZEK2eOCoHlV19zqRfEv7C84Nzx_06I3zjT0Ch6wJnQmxsuEL9Oez-Ps7XsjHCEk-tGAj1tGKslW5QX8SPOM_BlMY2Qvc0ay3-jPTmF9zYtoiM1x9wU9PzDH8hLkHQQn1zmvFTUrAcNeEU4CxtH9YSYFu1IDouy4lT1ImvrxaU6ctTYeXU-7pW8q2BaUpLzFbnEZ_uD74ctTIFZYKjwn2VqB2PjCGYfbDmnuFcw0_xLJLzVQ5cQifLkKNy0_owvPxkwWyJvf_fjQb1rUN5BCOMGYVQHZyWMniYT2VKaHa26KLRcNnC7Y9U-tO7JW3uP7JWXVIFauoxd24ZG8eMgse8ZZlZ8pJHN5u9jv7jA30IAeme6v8qMr8nen8-hIkoR93QSE5n70-qcbXtyd-8TdpLlGjKO3y_RfmQ8-6WNl-VEEv7Ti0dASMQD4XJfX3z8ZaeVWVReE1_vA=w561-h509-no" alt="Set Path"></p>
<h2 id="安裝-DevKit"><a href="#安裝-DevKit" class="headerlink" title="安裝 DevKit"></a>安裝 DevKit</h2><p>執行 DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe，這檔名超長，選擇您想放置的位置，建議放到<code>C:\RubyDevKit</code><br><img src="https://lh3.googleusercontent.com/2FZfFTfhDRs-wt6OjjfocYWhnvJAhpI8qbM0iczSKOrb-sFM2HONSKGwhkRJUqCSTkfJJql1G8S30IKqhLV1Wd--xK-Zextvd9F1zrp4xF7ciCp84ctGDGkOza0CM6oTYpjlSA1eO0Cd5NdXN5UQZKBFaCOxTz5-d2dfy-nMS6dd4DoCllxuEuHQnbova7lkp_Tq0qaLbmBKFZWHrJ8IttjtLY7yluS8hKqOP58NOVPlxBjf9H2nx9gQR5At4ZPEBkMmlVF5vHTjFWJsRuJqJ_giIDo_B2uv_nuK7JC3b8GSs5cuejNHYvgqUkWEDWg4JyWLhpHLE6wVJ159kGd6w6JFAKEt-oCP9HYugEActi34VOx6vAVHEJsOW6BEEVsznSPa5otIDIBnszaSO6XYiH4Wg0T7b8W-okIbdYyxzJjbrw9bL-R98h24u1rdvhbW0scK6cKfWajAIRC_aKSSgD3cQVv5yZTiTQufIeB5imfEwEP3yq-pN54XXo1XDvzDbso3k2R6AkgAjpvztw_9f-9ap1HsqlCNEUbkuKF1Djl5qRVm2VRERgnJnc81AhkxtzVgFGyx3QdI6h-jBT-tjDPgsm4XZFdJXaLCeqcgBbJO7PjY9LkxRVOJgl0NYfTPDvPstD-2G2Fj4U9S92jMJiHxGT1r3qu0orCgg-DLnA=w344-h154-no" alt="Set DevKit Path"></p>
<p>如果都是按照上述建議的話，到<code>C:\RubyDevKit</code>資料夾下(您所解壓縮的位置下)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Ctrl + shift + mouse right click</span><br></pre></td></tr></table></figure>
<p>選擇開啟命令視窗</p>
<p><img src="https://lh3.googleusercontent.com/PFZSW_TDlBlO4LeDCisGqCiI45kFLLD1-CKzRNX2-4yBgQyP5u8kK8T8jMDhw-gPy0atKGxM4YL7mMxD-FhfWywI9vJUlGoLNDWNSzI5bfy3iR-kuGkBUgbtg_vOGbkFZdcM48sQvVKqAZrcHcFXpOeEGoBmp9RD8iUiwgBLGX1zQCTEEHbJkRzMv3Dl6ujUgph1ODV6bX7KBtWl-qunJbswVeOuOVRsokcYzFxLD181CVVsNnwFhwK-OrlIgGEXz-vAhxgAs7QZSWwgpTrCG4gb6q1gi7SfSVr-ohWUspWL4C0vWLQwGMNWxNTsNp9_9flXJb6wvLJReZOzIUPTy9Lcj983Rbj7hNGdZccH9ApPqvIr_AIpynE_FtSmrrHf2Ri1MzRrRoiGd9zdAGSGGplokmsRDCQoGUT6SicmnpJZvdXVtAMOlb0XoMLaDcqQDkf6b32UErSRfOKvyFvHV5L6SpPya0sgaN__EZCzYwe5P3bYLND-uMTebKYQpyQ3RRDkoIsPYGN_wXLr6wCok4unkdI_iytdn9nvsZOIQ0uVf5BwhBnpZpiuyAI7LXL_ejWuH0VDtlluNmVfivBEX_AOQV8Vgy3U5ymDXv9l9cb79mz17kEyXnRPKUDElz5tMGGzIrh5nz2LSKXyFfo8JCbkhXmnP2mWI79EckMTFg=w349-h463-no" alt="手動設定"></p>
<p>執行</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">dk.rb init</span><br></pre></td></tr></table></figure>
<p>這指令會產生<strong>config.yml</strong>這檔案，並且會偵測您 ruby 安裝的路徑，直接寫入到<code>config.yml</code>檔案中<br><img src="https://lh3.googleusercontent.com/yffFDFN18tXVCSXaxe6Nzx8KYgUAuINaxC37Su3qt84mLROy8OkavkYFuZCIB4mXBh-EIF7sbL6oiNu9lzy_xQha-AKQvwBeti3OJUUlyLZKVKUpMY2aZ1uXRF1tmlopUD10UoEHvSUTaDz3ybwG8pigOufJEunpPB-DFszMdWJMwFIG7_a_wIA_YXnHFPF97t0B_t9AuKiQoV8IAT1tfodk9RrogwIIDXtSDmIr-06piEPxxgD1vyzSjZx-BHeyrdH6lmVMkbaMJNJ7OhTIqen2-m5prH5f9BXcCzIkf4uHZfyWr2Y5u4LGT2HkpbzZBslrxhwLFUtzwylxvwwpetlrY1gHy2zhfCni1rih-r9u8GIFx8IP-yDz9MF9xzooJXpXhnRDDamVjlWard770qSNZAFjKPiuGLpXSZrfLIizqdXKFLayDVrU4-a11VomfmcrbYb4lOqJznsPF0FurWkaq1eyzquyLguoXKNmJkD1XPJaSD7_7r-JoSGpsg1f9_peC6k3pXX91rEHPIjClVUzybxLmLdM0AVc7w0cw3A1tnd7KX9VbwavlwZD1RejOkZdRx9sGbNvOf0rUkeffdZ-bPNUkFKYXr9RkvbPBA0wy76qhqpKiqAws5G1-17bMqvVWSfy0XQFqgrb4d3kNds9ED7xWD5oPoREDSJXuw=w623-h236-no" alt="執行 ruby dk.rb init"></p>
<p>假如沒有偵測到您的安裝路徑，請手動更改<code>config.yml</code>這檔案，用記事本就可以開啟這檔案，按照下圖修改，請修改為您所安裝的路徑，注意路徑語法是<code>- C:/yourRubyPath</code>前面有個小破折號<br><img src="https://lh3.googleusercontent.com/Nw8bPnlKBTeMcPiqBMmvkbkMd3_Szp5EI58eN85mNUzO-DnhPmnzRcYT4fjayFMDeHbp7InzwbAP8Eiik0iyAVNkXnKMYEWPMfLc32RMU9llZUVKYkEyQ8pVls4HKGVBzHuuSsUPV-ZB5W4k43T39u57fRpSB9tyvVqu0SOHSl_EYZJ8zDSS8MERHC1FhncBJOlDDYu24ZDIgReGZdC1SSSjty6Mt5hWMEV93-We-bPd41kTim7eYR1aNHJIj8pk9Qa02etXvGXB7V9epxLWY7OMoHejbVE7ElUJbV5f94iibfD8Z3fimdstHKu_5ACsXon6PqGWG4Ra88EAgAdAxC6v5vD1f2d6NDhNgZK_JZQno9oRsJNIniXNnXZ91V9rrLih_qh2Pt7G2EgGwadybsVn3SI3_1m36PAmSnegiFNCxLu2sx9ylpC3YlHeVDTJrxmN9S9DqWYlZHlBTW3rfsWU4TS9JkcEXr1IaUD5p29zH_-n-sCKvnvYDEEX9RGZpS_akzDByZT5czfXBHLNtF50sFM8iGB-e0lsgiQcvBqxm4hPNsH2a0AtR6oMBvJ7MOciyX37v7DnLUvZqssdJVSaK4A96BvYp-CzZE7RHibOCytPdBlZAwEMyrMtkLr1GtOP6onW4tOCPEXHI0lkdMiAOBDAhCDofRoBush4Xw=w245-h337-no" alt="設定 Ruby路徑"></p>
<p>然後執行以下命令，它會更動您 ruby 安裝路徑下的檔案或產生檔案</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ruby dk.rb install</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/j2ivn6Yddyvky3UXZl1JhEP_jYekRjDdjESJKmJvj9LMM7McjryeBx8z_zPPr8Ttt2rdLyPvetdvFVLv1AWILoqKFOaarTfEUqHOxb_XaCpsC16zonq1fj6oghM-foa1BRbgiYMbPSZDhyEkCVP-PfKPmjAzCveXb-iW7BEWLP3k7gG1ML3tdThIvog5P0ZZisWUkmQghKrkhV41-2ChQ4CkQqqob_0cyeHH7F0RuAwYYtiXy92wWgd-i3f-6X-3QafMJQJNqsEaZyuUd6GB6Nys-aQgbkWAThPiKtDgFxXIDieiLX-dv2cF__DFYz0Ej1ivZEeCTaWyCv4LCVP3E0oLO4EI0DolwN9Se1emmvNaUWl31rOGjmd1Q_lkIzOr2CI7gTkyioELKksj7rX7QE69ze-9wogrAaknkhkaHQDIhMYBf6vQq8CGtrVrFSZ3k36Vbxdlu0NsiquxeNF10OFNqMLIP_D4I9tPaszO2MXJ5SLrekC4fj8kwBIW8EeFYvN9T17q1y06mtecyoxYDabbtBG-lC56ahlqGjKmDwtf9WIaA5fUx4zPWXYxgzlVXW_pTxFJjGjj8mrfUNP3nJdo8pqutbbBV7D8vqIX2_61vXnp61XkKZAnjDJFMgpkHa7YzkKgBAONJjcNio5RYb9XZ2i_oMEuumNfO8Xnow=w628-h155-no" alt="DevKit Install"></p>
<h2 id="安裝-Rails"><a href="#安裝-Rails" class="headerlink" title="安裝 Rails"></a>安裝 Rails</h2><p>接下來使用<code>gem</code>來安裝，所以下指令就可以安裝完成了，直接下指令安裝 rails</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gem install rails --no-ri --no-rdoc</span><br></pre></td></tr></table></figure>
<p>安裝完成後，測試一下，看一下 rails 版本編號</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rails -v</span><br></pre></td></tr></table></figure>
<p>出現表示安裝完成了。終於弄完這篇文章了，明明裝的時候很快，弄成文章花了不少時間。</p>
<h2 id="My-Environment"><a href="#My-Environment" class="headerlink" title="My Environment"></a>My Environment</h2><ul>
<li>OS:Win 10</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://rubyinstaller.org/downloads/" target="_blank" rel="noopener">RubyInstaller</a></li>
<li><a href="https://www.ruby-lang.org/zh_tw/" target="_blank" rel="noopener" title="Ruby Programming Language">Ruby Programming Language</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>ruby on rails</tag>
      </tags>
  </entry>
  <entry>
    <title>Octopress 更換 License(footer)</title>
    <url>/2015/11/11/litopress-geng-huan-license-footer/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>現在網路上大家都很注重產權，因此應該在 footer 標示授權，而且還可以自己更動一下 footer </p>
<h2 id="Creative-Commons"><a href="#Creative-Commons" class="headerlink" title="Creative Commons"></a><a href="http://creativecommons.org/" target="_blank" rel="noopener">Creative Commons</a></h2><p>首先建立自己的授權資訊，因此進入 <a href="http://creativecommons.org/" target="_blank" rel="noopener">Creative Commons</a> 連結，點選 <strong>Licenses</strong> 的選單，出現下拉選單後，選擇 <strong>Choose a License</strong><br><img src="https://lh3.googleusercontent.com/A4rdCUSPbZnBI0znqq-0Itk5yKlo6BnVxKY2i7pvYLykQOtQQ4auMVI_Hhz6LIYQ5dS6rNvswwIk-_QvjZgScfWNMNMjwz30_oPyZ_wkgLtMACGG3h7mmAUOFlK6Y8tX0qcHYUFrpiDUWCBs_Zo_ZOKzHhevnLtv7egcnXQDzWd2uQ0n426BfS9WZgI24QfgzZAHIz95b9Da2deCwHybwL4GiCDtva9eUEYOIoGW3f84xjTuzyb6arcsOVvUf4423i0J2raPYt4cQ77oahUGSrp2QKd3QtvDJVyMg7y5n5-kc2qaVC1RGsXmNVn5bGGoFmxaia3aSE2qOTlpd0oyvC2aSFGxzOpgBRYc17ryMWE6t4FNmzE91ngQjdvCn4rBvgJ6RJ7KIxOOWfhEFcN0CRPkvOezwsVAfqGXNLwt7ZGpG-FZpNHbPGkXpXyzg-83hGOr4I6IeT4ZnW2IFagNBfcTaqVbpZxxFCaQtTkEBckPdQ2M7hSe9jeS6kw2mMEtZtt4rjE7VvIGrFhj5pPn9MNYQMMyga3Yq7MEXDbJB_I_CxDog_ZRFVwvsYZKZjb9g2PeYnVS_9-eYKuRH7_0qIBKMtWTxU4F7nCx1Bn23BOIo6LWj9ChqWYomNQnSx4_SnaVBc4qi3YCHOVmghqwyvTrZQePk_A1ooRjbCXuxw=w590-h622-no" alt="CC Index munu choose"></p>
<p>此頁面有提供多語言轉換，所以頁面底下可以選擇看的懂的語言。<br><img src="https://lh3.googleusercontent.com/dWQGoyBKvecUs673GDfUIQMYydXMAHnqoiuRnqEDDm8PYEYlo5-fN9evpZNmcl5HlU4k9GEXE8Dw_o2HbCyVIxBd6X626LCbi8ZOXCGTmI6PcdSzzPdpKdHZWpdYoFagfTAbSiEWUchO65jQfRfmKCJChkSU1SZkYaUTzRXPZji5Jte0Kb2XhJl0MR5UqreR-nUqQSisVCPFzDsZnw8mFLrtEhpnljSgppUR1puw6C1rJ0JXJE7YqCwTNYNtHVJ-lxcWsxGOv0exzY65vch3xeJO1KnzhrGPALr61WYymPX0vFCIdkJGepFvno7HHWfTJTdhqRCwsABG1WkLuXz8HbGMMqj4w2UCHj-NyBuUnIxvFrpd_ZduiiY2ZqCqJGDmcbEMLAwuOyFZ9JcCQtZPsP6vv6lDvdn5UxTGfv8Ey6dTH7l5kMMdd6hZhcmcn3km9gEAIjXZANOoNfVR_tXw_umAi1epdIzUTAbR72ydx4_M8BD0IBBIJeOeZBvyzJAfbSPAktzMc05hZpx9BLMaMCzOw2y8_Abl9GhZe16hwM9kdWWtG6NAn7DrNUOdnHw-0j3ckAAim77T5esABNn0byUDQviD71n0lf494pdVmkZiAIH5PVEMD9O6zrMixFMeY3ffKsr9A8LpLOM4LA21PiBKARfuiX38-UWYCAJljg=w783-h137-no" alt="CC choose language"></p>
<p>設定完成後，按照頁面上的指示，複製這一段 code，貼到您想更動的位置就可以<br><img src="https://lh3.googleusercontent.com/KkEA3PjeO2SNRJwCGN1JGyNjOR0NYwzBrAr33oJQc9Qw87XQiJAj_pUQIRJuva80iLbl-0jVeg8K-t5ImDK8zdOeDcbQxIoGejitm4eX4b7lVmDsVwlBoqijbKXYRukVjW8l4hr9XVJ9RSp495pXGrl5XuljABBisOngzGHPc0Ze3uTOaIGiVFXE81aZCS_NtJt7YL-YUbT5cZOw2m7dcNbzJ8g1dKdGGpnTVeBUmexSGSWZMYVSEZc-gj-Bej2m2hqlTG7-61hY-tUl4naJRk1aan-nsEB7Qq9I892WxGPcLCaz83WZwOf3COQv8PSgLKBiS_wbu19HX_25YwXMQgfOF7bo8f6rxL904GmvfydYI3t4rMMvm04uXuQCXCS3Eh1ulStiGjw4H9IucXuYMHH1FjuticGX7Hye535q1Ry1zyNpGqcbLAV7tiEzdA4plPepNazHLckCQDxJc4R56fEhigfgkQSCBvv8KdOBB9YrFU21MOrO4FcG-TWT0HTe3zkcR_zZGt3NsQtvcAvz-kxCVTeMoojCssfKgKR6nzS2ctyUBud4hH5ya6jZqnRf_vIijsZZcSgOBl2vPHPZCGKy1eDNjUW5b9zoMJj-J9i-fHHwgS7rWf5pkN8qtEG_hSQMMPqDNo3rXLzm-w1mWvzoRr16iwDiZBmQ7fX8Sg=w426-h251-no" alt="CC copy area"></p>
<h2 id="Octopress-footer-更動"><a href="#Octopress-footer-更動" class="headerlink" title="Octopress footer 更動"></a>Octopress footer 更動</h2><p>首先找到們要更動的頁面，我想要放置到 footer 位置，所以到 <em>source/_includes/footer.html</em> 查看一下內容</p>
<figure class="highlight html"><figcaption><span>source/_includes/footer.html</span></figcaption><table><tr><td class="code"><pre><span class="line">include custom/footer.html</span><br></pre></td></tr></table></figure>

<p>可以看出此頁面加入了 <em>custom/footer.html</em> 這個檔案，所以查看該檔案</p>
<figure class="highlight html"><figcaption><span>custom/footer.html</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    Copyright <span class="symbol">&amp;copy;</span> &#123;&#123; site.time | date: "%Y" &#125;&#125; - &#123;&#123; site.author &#125;&#125; -</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"credit"</span>&gt;</span>Powered by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://octopress.org"</span>&gt;</span>Octopress<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>把剛剛上述複製那段放進去，像以下這樣。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"http://creativecommons.org/licenses/by/4.0/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"Creative Commons License"</span> <span class="attr">style</span>=<span class="string">"border-width:0"</span> <span class="attr">src</span>=<span class="string">"https://i.creativecommons.org/l/by/4.0/88x31.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span>This work is licensed under a <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"http://creativecommons.org/licenses/by/4.0/"</span>&gt;</span>Creative Commons Attribution 4.0 International License<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.</span><br><span class="line"></span><br><span class="line">    Copyright <span class="symbol">&amp;copy;</span> &#123;&#123; site.time | date: "%Y" &#125;&#125; - &#123;&#123; site.author &#125;&#125; -</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"credit"</span>&gt;</span>Powered by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://octopress.org"</span>&gt;</span>Octopress<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>最後記得先<code>rake preview</code>觀看一下，確認沒問題再行發布，然後記得版控。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://creativecommons.org/" target="_blank" rel="noopener">Creative Commons</a></li>
<li><a href="http://creativecommons.tw/" target="_blank" rel="noopener">台灣創用CC計畫</a></li>
<li><a href="http://octopress.org/" target="_blank" rel="noopener">Octopress</a></li>
</ul>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
        <tag>Octopress</tag>
      </tags>
  </entry>
  <entry>
    <title>Octopress 加入 Category(分類)</title>
    <url>/2015/11/12/octopress-jia-ru-category-fen-lei/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>部落格文章一旦變多起來，就需要進行整理，而且為了讓慣看的人能夠快速簡單的找尋，最好進行分類列表，所以經由官網上的說明套入 Category 插件。</p>
<h2 id="找尋套件"><a href="#找尋套件" class="headerlink" title="找尋套件"></a>找尋套件</h2><p>先搜尋一下 Octopress 對於 Category 的相關套件，發現這篇文章 <a href="http://time.to.pullthepl.ug/blog/2012/8/20/octopress-top-categories-plugin/" target="_blank" rel="noopener" title="Time To Pull The Plug:Octopress Top Categories Plugin">Octopress Top Categories Plugin</a>，看到該篇文章中提到有人開發了 <a href="https://github.com/alswl/octopress-category-list" target="_blank" rel="noopener" title="alswl octopress-category-list">octopress-category-list</a> 這套件，這個套件也是作者 Fork <a href="https://github.com/tokkonopapa/octopress-tagcloud" target="_blank" rel="noopener">octopress-tagcloud</a> 調整而來的，此篇<a href="https://github.com/ctdk/octopress-category-list" target="_blank" rel="noopener" title="ctdk octopress-category-list">文章作者自己又 Fork 調整了一版</a>，我就偷懶一點直接 Fork 作者自己調整的這版，這樣之後我就可以直接變動<a href="https://github.com/shunnien/octopress-category-list" target="_blank" rel="noopener" title="shunnien octopress-category-list">我的版本</a>。</p>
<h2 id="安裝套件"><a href="#安裝套件" class="headerlink" title="安裝套件"></a>安裝套件</h2><p>這部份很簡易，請<a href="https://github.com/shunnien/octopress-category-list" target="_blank" rel="noopener" title="shunnien octopress-category-list">到此</a>直接下載，或是直接 git clone 一份，等下要把檔案複製到您的 octopress 資料夾下<br><img src="https://lh3.googleusercontent.com/w2QCPdqIU62sfkHgnPZ-eXUFoFnCtCYXLalwL5XF-pBAdBPfNa6WI8yt-pI_G2QcM8KbHafApp6_dIstcDW0dUdTB-ZIE7Z77knOT6a3XVyA9YRBbGT1qs8qBjrwUNDcm71QFU5la_qwbXTp9XY4ctyLTadeu4EFT6O6t7PNPiPURtLvdyby5PcqBDY3TOHgATOOz2ugZ9FYxjj27yKbCBo1nFL1NInPDAEaOiK81Skc4rzMI3AErM2seWlWyqe_lPsxyTLphz22a2cN1YNfpYALtS1zesYLEpevOEr6_lrxTYvfjvp2c46X9bKRCQoRIpGwFfa7aCLTbx9wO1E0wFa2d8Ge9UI-2W1NhheMCDEd9Xip1b_PgvFB17TDRYbf8myCdv9xCX-pTA7RrNDnllVqK0nTpWTptXDwhfKNVpH_JmTZ9F51v13QiFz6rrsjWS43yInyfMTYx-Sb3v60Cq1KngJ6Nzdzz9C-gffG2DaMpfI11f4YWbUbI-dR41OOC1G8WaVwYFMTocjJhg8v96G1fB9RbmmFJ62Pqtci0lhTMulZnE1oMT6WjONIRxqP6JORMZjBY8Cm-2HjuRBvyiYpiuwJGk7mrr4MXFMCZbTm9cW1sRE3AV6U61xbH0e36tW0GI7EwenB1tuxJTRoFfc7ZjL-qRF7xWaTFw2_6Q=w248-h339-no" alt="Github Download ZIP"></p>
<p>在剛剛下載的檔案中可以看到以下檔案<br>Files:</p>
<hr>
<pre><code>.
├───plugins
│   └── category_list.rb
└───source
    ├───categories
    │   └── index.markdown
    └───_includes
        └───custom
            ├───navigation.html
            └───asides
                ├─ category_cloud.html
                ├─ category_list.html
                └─ category_cloud.html</code></pre><p>這些檔案按照同樣的路徑放到您的 octopress 資料夾下，先把<code>category_list.rb</code>這檔案放到 plugins 資料夾下，這是 plugin 的核心 code。<br>接著修改您的<code>_config.yml</code>，在<code>default_asides</code>增加套件的 html 檔案路徑與名稱，就是 <em>category_cloud.html、category_list.html、category_cloud.html</em> 這三個檔案，這個是設定側邊欄位的顯示。示範如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">default_asides: [</span><br><span class="line">	asides&#x2F;recent_posts.html, </span><br><span class="line">	custom&#x2F;asides&#x2F;top_category_list.html, </span><br><span class="line">	custom&#x2F;asides&#x2F;category_cloud.html, </span><br><span class="line">	custom&#x2F;asides&#x2F;category_list.html, </span><br><span class="line">	asides&#x2F;github.html, </span><br><span class="line">	asides&#x2F;googleplus.html</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>接著建立頁面上方的選單<br><img src="https://lh3.googleusercontent.com/z1pDdy1ThCo--5fyxOoxa6ce1_BqBPxKhYsAs92V7KavJZkkkptPMeLA8cDA-uostwfMONTXZy0DwToZQoVQP6zMte1eYT-Zxa9LUGSjkAQQQbotJ3Go0N-1WiZOqJx2EoVM1Pfjn2l0nGZPTs5Dleybopd_zVUyuYf8Bb8UsPnxSWrQOqSmVnvHiVDk5b_9UhJA-d1KHR8DRKPXY1UUavs4AcXwHR2SFBafFrNFtrfGowZuxQgwPbkaoa-8q6n_kMVRBqhYIqamyqBNFTHnvbs4duTa_LfjVovGfGeCFgYNc0P2OU9T0GU3CZWeQiiUlQ3vC8RVhORv6GsOU5ibk0-IhWdGnAHtVuNB7wRyytpM9Gwa2fjtzDuVOp2rCH955Is15k_PyHTb-3dxY_f2kwGQJSwBZkhsxRTpovptE-nT8IQBGRWiHz_E7hXppMAv_6AMShJJQd9kFCldmWnc0z65J92fakTu8_BWHzP4veLsQSggCI2x8huiIM2jzexVcP_f6nrArwqzbzX-p1f9WaWuxuCLQ6AKyZqkQ_5vzS83wQlcb74TVjQ-pF0KfJ8NbeZWLj7Iybii78GLCtcA3-My5BmdUq3W4I5AQ73hjVoK32WEKanwfoJmAjTy5Wpb5iU_qUu1TP02zIdxRaJMA-VUqITjy8kR38wxPVyypw=w339-h169-no" alt="blog menu link"></p>
<p>請參照上方的 Files tree，將 source 資料夾下的 categories 複製到您的 octopress/source 下，再把 navigation.html 複製到您的資料夾下，確認每個檔案都按照路徑複製就可以了。</p>
<blockquote>
<p>上述的步驟太複雜的話，教大家簡單的方式：<br>將下載的 octopress-category-list 檔案開啟後，複製 plugins 跟 source 資料夾，貼上自己的 octopress 資料夾下</p>
</blockquote>
<h2 id="執行"><a href="#執行" class="headerlink" title="執行"></a>執行</h2><p>一樣使用指令碼進行觀看</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake preview</span><br></pre></td></tr></table></figure>

<p>完成的話，直接發布了</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rake deploy</span><br></pre></td></tr></table></figure>

<h2 id="碎碎念"><a href="#碎碎念" class="headerlink" title="碎碎念"></a>碎碎念</h2><p>其實後來在看 <a href="http://kaworu.github.io/octostrap3/" target="_blank" rel="noopener">octostrap3</a>，在考慮要不要使用，看起來的版面挺漂亮的，可能等以後再使用了～</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://github.com/tokkonopapa/octopress-tagcloud" target="_blank" rel="noopener">octopress-tagcloud</a></li>
<li><a href="http://time.to.pullthepl.ug/blog/2012/8/20/octopress-top-categories-plugin/" target="_blank" rel="noopener" title="Time To Pull The Plug:Octopress Top Categories Plugin">Time To Pull The Plug:Octopress Top Categories Plugin</a></li>
<li><a href="http://www.nealsheeran.com/archives/2013/01/octopress-category-list/" target="_blank" rel="noopener">Neal Sheeran:Octopress Category List</a></li>
<li><a href="http://wen00072.github.io/blog/2015/03/31/add-categories-list-plugin-to-octopress/" target="_blank" rel="noopener" title="My code works, I don’t know why.:Add Categories List Plugin to Octopress">My code works, I don’t know why.:Add Categories List Plugin to Octopress</a></li>
<li><a href="http://blog.eddie.com.tw/2011/12/05/add-catetories-to-sidebar-in-octopress/" target="_blank" rel="noopener">高見龍:幫你的 Octopress 增加文章分類</a></li>
<li><a href="https://github.com/alswl/octopress-category-list" target="_blank" rel="noopener" title="alswl octopress-category-list">alswl octopress-category-list</a></li>
<li><a href="https://github.com/ctdk/octopress-category-list" target="_blank" rel="noopener" title="ctdk octopress-category-list">ctdk octopress-category-list</a></li>
<li><a href="https://github.com/shunnien/octopress-category-list" target="_blank" rel="noopener" title="shunnien octopress-category-list">shunnien octopress-category-list</a></li>
</ul>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
        <tag>Octopress</tag>
      </tags>
  </entry>
  <entry>
    <title>Visual Studio 2015 the ViewBag Doesn&#39;t Exist in the Current Context</title>
    <url>/2015/11/13/the-viewbag-doesnt-exist-in-the-current-context/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>今日在操作系統的時候，發現系統不給進行下一個操作，想說怎麼回事？就趕快來查找一下紀錄。<br>發現原來是新接手負責的人員，資料沒有照要求輸入(這完全不限制的輸入還是照著需求調整的，<del>真是自作孽</del>)，所以下一環節的處理直接就濾掉了。<br>所以後來將此環節的處理放鬆並設定預設資料與例外處理，就把這問題處理掉。<br>但是可能一陣子沒開 <strong>Visual Studio 2015</strong>，我的 cshtml 頁面，都會出現小紅線，仔細去看，都是<br><strong>The ViewBag doesn’t exist in the current context</strong> 大概這樣的訊息，個人實在討厭這種紅色的訊息，所以還是想把它處理掉。</p>
<h2 id="處理過程"><a href="#處理過程" class="headerlink" title="處理過程"></a>處理過程</h2><p>印象中，以前 VS2012(Visual Studio 2012) 好像有處理過相同的問題，這一看就是 <strong>ASP.NET MVC</strong> 的元件引用有問題，可是查看 output 居然沒訊息 orz…。<br>好吧，開個安全模式建立一個新 MVC 專案看看是不是那專案是不是有調整，使用指令碼開啟安全模式，記得要在 VS2015(Visual Studio 2015)執行檔的路徑下執行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">devenv /safemode</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/KYJvARJ9aOMWD2cqa7hiqSIsEamPWTRPQ2tIS7jv55G3BnSCQoQ8y4pOM0eCuhxhvSaBwSL4gEOtAENV9ArvNg08bx5v8br99N-H7II03lbF4A1D8zkJRmEU7KQb_myacJFN-OSF1C-tMhM69vh-t5K02aH1-QrsZjfrC9SvTiVmuu-1x7jk5fJn1uQeS9gHFHNyF3ieTr-d_WZD-CX-cWD-DXvDDrJZbiyPGvzVEfA44YrQ0KmS3Hx7nNatPPXvmezn1rxC6CwG9IRcPmz7a3-bk7tboL-oyk1oaAyO1JH564hEyGCOu5epVc8o0An5EadHa-lcericOiff9MVrzSQ6340ivRPQhcLPK2xQmHAvMtrOr1dHB457DfCJN0fdEv1d0Svrb9i5904pEvMqC-KX5A4yh6Z9cneYfSH3-ggTY7Utn80BxQG4vQNJD-XyK4wAHnLCi5Z4ObZyFSS70oK6QmBT8AQvTVGyE8noPHQawUQ9V7kRgxKjSavS4lI5Vm4SOSBjkoNCpZNCA91ghr3DhvXVdVXw7yxqsqd1Fd3q0GWzmaMLQYxOM5K6zn7dpKLjEPetKs0qY2e85bGgVw86zRUZZJoNn1c95VYGeg6bAnwrVTyAszNVeWymqU9GwJtfNf9PR8cqs4UgxzrcOEh8Z_ylcAje2MNhZH4NJA=w653-h268-no" alt="VS2015 safemode"></p>
<p>開啟結果，還是有紅色訊息；只好去 StackOverflow 找一下，發現了<a href="http://stackoverflow.com/questions/31232394/why-does-vs2015rc-says-the-viewbag-doesnt-exist-in-the-current-context-where" target="_blank" rel="noopener" title="StackOverflow:Why does VS2015RC says “The ViewBag doesn&#39;t exist in the current context”, where as VS2013 says no errors?">Why does VS2015RC says…</a>(這名稱有點長，我就省略了)。<br>說明可以在每個<code>.cshtml</code>檔案引用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">@inherits System.Web.Mvc.WebViewPage<span class="tag">&lt;<span class="name">dynamic</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>引用後，的確紅線的提醒消失了，但是要每一頁去引用，簡直是無法想像呀，所以這方法果斷放棄。<br>仔細想一想，要是我重新把 <strong>ASP.NET MVC</strong> 元件重新安裝，應該會好吧，可是不太想進行這動作，查詢了一下，看到<a href="http://bjkeizer.blogspot.tw/2015/01/the-name-viewbag-does-not-exist-in.html" target="_blank" rel="noopener" title="sign me out:The name &#39;ViewBag&#39; does not exist in the current context">這篇</a>說出解決方式是更新 MVC 元件或是修改 config，把 System.Web.Mvc 手動變更。<br>原本我已經打算按照這方式進行了，但是後來看到<a href="http://stackoverflow.com/questions/31581666/visual-studio-2015-broken-razor-intellisense" target="_blank" rel="noopener" title="StackOverflow:Visual Studio 2015 Broken Razor Intellisense">這篇</a>，抱持著我只進行這重設 userdata 的動作就好，結果我的 VS2015就好了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">devenv.exe /resetuserdata</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://stackoverflow.com/questions/31232394/why-does-vs2015rc-says-the-viewbag-doesnt-exist-in-the-current-context-where" target="_blank" rel="noopener" title="StackOverflow:Why does VS2015RC says “The ViewBag doesn&#39;t exist in the current context”, where as VS2013 says no errors?">StackOverflow:Why does VS2015RC says…</a></li>
<li><a href="http://bjkeizer.blogspot.tw/2015/01/the-name-viewbag-does-not-exist-in.html" target="_blank" rel="noopener" title="sign me out:The name &#39;ViewBag&#39; does not exist in the current context">sign me out:The name ‘ViewBag’ does not exist in the current context</a></li>
<li><a href="http://stackoverflow.com/questions/31581666/visual-studio-2015-broken-razor-intellisense" target="_blank" rel="noopener" title="StackOverflow:Visual Studio 2015 Broken Razor Intellisense">StackOverflow:Visual Studio 2015 Broken Razor Intellisense</a></li>
<li><a href="http://www.asp.net/mvc/overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2" target="_blank" rel="noopener">The ASP.NET Site:How to Upgrade an ASP.NET MVC 4 … to ASP.NET MVC 5 …</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
        <tag>Visual Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>Octopress 設定 Search</title>
    <url>/2015/11/11/octopress-she-ding-search/</url>
    <content><![CDATA[<h2 id="config-設定"><a href="#config-設定" class="headerlink" title="_config 設定"></a>_config 設定</h2><p>此部分需要注意 <strong>url</strong> 與 <strong>simple_search</strong>，這兩個資料設定，<strong>url</strong> 是您自己的部落格位址，<strong>simple_search</strong> 使用預設值就可以；這些是由 <a href="http://octopress.org/" target="_blank" rel="noopener">Octopress</a> 提供的預設搜尋方式，是透過 google 直接搜尋 <strong>url</strong> 這設定值的網站，再查詢這網站裡面有包含查詢關鍵字的頁面。<br><img src="https://lh3.googleusercontent.com/yszidoHKiM0nlORvfIhcUv3kaSqwOJy8-NsL2K_UUqw1PSdug8yGNoBidFaZX1b5KXQupVWmjo0hmNV_dgbAajDLw0QOBhvoS37TUE-MV9IdQabXlHbuInFTxXTBg3zveUrANlxo3WlCkBfA5NUTt8DYmOuWpStzBuJHHM1bqVPrWE1oR_ZcuvOG46goZpAx1mVyxnETgLYTXJJRm1FspXhyVi4zjrsbaO6NNMo6N_GF8QSQ3izMJcLrjVVeZR-s6AaID_QUT9nARK6icABTyhn3eQZMUPiSe62y0zLfBzgb0vi2pUQt1j27KfdsxXaA0kP-eoD9lcnwaZCZ8b8SnCszl7Hjm08ZxXbSTbK9PXYz-Y8qQC7M2DzSCmHp6GSdAd4vsGFu3dOJoLLCgprCVvr8FoDovA3IRE6S-Um2ZgYu6frvBTZbTssMzD3YioG5iNEUO_z1rdSqPLo2LcL5jiNjscbCCDm2-6LoLY3S7Enk1LG6ZuD5mVmetgNfsjq86ibibbAJB4iUB8QY5TgkILsgxgK9lPNr6VDNpkzTzVwqZkfiP3FirWsxNlMYpe9T0mL6s1vIBRtDyOittrP4q_CdQ7EoD9KDuHgs4YkMszzcRP-TTe2d1rNGThmQO12kOp7YPBwppV21sTCAfnNiZDaVe9p8m6ZYPKoMsEa2xg=w358-h456-no" alt="_config.yml setting"></p>
<h2 id="navigation-html"><a href="#navigation-html" class="headerlink" title="navigation.html"></a>navigation.html</h2><p>除非是想要自訂更動，不然使用預設的搜尋方式的話是不需要變動的，<br>此檔案位置在 <em>/source/_includes/navigation.html</em>，需要自訂的話，需要變更 form tag 的部分，如下圖圈選區域。<br><img src="https://lh3.googleusercontent.com/DK9Wvz2PtqLJnObvYkHt6h8-30AR6EEia4_4-HqFxAP0atd3mLLs6Aih-DqXpPFvuqMixe6u5IRWFweF1vz91tk9V_hdy090if_hkrf4MAVmz5t37wii6aPM1yS8Jucb8isuEIrfM5kH-NpKnJGi1wYCxPHRx0BvfQ6bY5t7RRn1LwbZNo5zmAt4Da9ytGdhMRyaEY4XsJoavftyAcXCBRe0PCu4M1XmMaTHGVT2Z3YyB1qjF-z1vmTX6F6NZG9hC0WTduvrhmosFxAWVJOvfwKZeEPKiSgk4RX3LmSMT3nOQmCYw4dqnU0vhHX0dhvCfWN0N1C8KOgf14VdnU0UvLAgj_S4o2zpoGD03VgrkmOdzrHWqEnl7mMgWT-S85ZsIlTCZOSt2AgH4PfSN3JKcFPuvmcNI8Y-2R6GhWn36zxOVmGE-LoFQ_ctQOA_4xX55amDgrbMk3hfYjCUl4AMLW0lg2t5YewJ8yGwu-nQaGGQMSDqjVAQ7p-S0NfV4gmlaiVF50N3TiMeEjko5lpRX4emzxypucP7dzZ3gELtxKVxHK30HF9Nr3j4veyVgStTE-S1Yvl1HyHX849jqvoNo2ahdcfTtiUFmmkcX7ubMQr9BtWZdfKBj5wpGqsU-gwiVvpRf5kiEUas05r_ebHEBen3XA7USerM8VR9nChoRA=w889-h418-no" alt="navigation.html"><br>這些動作都完成後，就可以進行<code>rake gen_deploy</code>了，就可以看到部落格可以搜尋了。</p>
<h2 id="注意事項"><a href="#注意事項" class="headerlink" title="注意事項"></a>注意事項</h2><p>當完成上述動作後，發現搜尋沒有結果，有可能是 google 尚未將您的網站登錄，這是 google 有 <a href="https://support.google.com/webmasters/answer/182072?hl=zh-Hant" target="_blank" rel="noopener" title="Search Console說明:Googlebot">Googlebot</a> 會自動去搜尋網站登錄至 google 名單裡面；當然您也可以主動進行登錄，可由<a href="https://www.google.com/webmasters/tools/submit-url" target="_blank" rel="noopener" title="Google 提交網站">google webmasters</a> 提交。<br>提交完成後，可以在 google 搜尋進行搜尋檢查是否成功提交了，搜尋方式示範如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">site:yourUrl.github.io</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://octopress.org/" target="_blank" rel="noopener">Octopress</a></li>
<li><a href="https://www.google.com/webmasters/" target="_blank" rel="noopener" title="Google 網站管理員">Google 網站管理員</a></li>
<li><a href="https://support.google.com/webmasters/answer/182072?hl=zh-Hant" target="_blank" rel="noopener" title="Search Console說明:Googlebot">Search Console說明:Googlebot</a></li>
<li><a href="http://www.pkthink.com/knowledge-info.asp?id=4" target="_blank" rel="noopener" title="耘想科技網頁設計:SEO 網站優化">耘想科技網頁設計:SEO 網站優化</a></li>
</ul>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
        <tag>Octopress</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript to Json 基本觀念</title>
    <url>/2015/11/17/javascript-to-json-ji-ben-guan-nian/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>有個朋友詢問我<code>angular.toJson</code>這 function為什麼不能轉換到<a href="http://www.json.org/" target="_blank" rel="noopener" title="Json">Json</a>，他只是把他的<a href="https://angularjs.org/" target="_blank" rel="noopener" title="AngularJS">angularJS</a> 更換到 1.4.7 版本。<br>經過了解後，才知道他對於<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript" target="_blank" rel="noopener" title="MDN:JavaScript">JavaScript</a>一些觀念不是相當清楚，至於他的問題也不是<a href="https://angularjs.org/" target="_blank" rel="noopener" title="AngularJS">angularJS</a>的問題，是他套用的某一個對岸套件影響的，所以他才一直以為錯誤的使用方式是可行的 xd。</p>
<h2 id="Angular-JS-部分"><a href="#Angular-JS-部分" class="headerlink" title="Angular JS 部分"></a>Angular JS 部分</h2><p>一開始想說會不會是更新<a href="https://angularjs.org/" target="_blank" rel="noopener" title="AngularJS">angularJs</a>的關係，所以就查看了一下 1.4.7 的<a href="https://github.com/angular/angular.js/blob/master/src/Angular.js#L1164" target="_blank" rel="noopener" title="Github:angularJs">source code</a></p>
<figure class="highlight js"><figcaption><span>toJson</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ngdoc <span class="variable">function</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@name </span>angular.toJson</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@module <span class="variable">ng</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@kind <span class="variable">function</span></span></span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span></span></span><br><span class="line"><span class="comment"> * Serializes input into a JSON-formatted string. Properties with leading $$ characters will be</span></span><br><span class="line"><span class="comment"> * stripped since angular uses this notation internally.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Object|Array|Date|string|number&#125;</span> </span>obj Input to be serialized into JSON.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;boolean|number&#125;</span> </span>[pretty=2] If set to true, the JSON output will contain newlines and whitespace.</span></span><br><span class="line"><span class="comment"> *    If set to an integer, the JSON output will contain that many spaces per indentation.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;string|undefined&#125;</span> <span class="variable">JSON</span></span>-ified string representing `obj`.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toJson</span>(<span class="params">obj, pretty</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj === <span class="string">'undefined'</span>) <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">if</span> (!isNumber(pretty)) &#123;</span><br><span class="line">    pretty = pretty ? <span class="number">2</span> : <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(obj, toJsonReplacer, pretty);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>結果發現這段轉換很久沒更動過了，最後一次更改還是 2014/2/15(想查看的，自己在 NG github 切換到 Blame 查看)，而且仔細看看這 function 內容，還是使用<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener" title="MDN:JSON.stringify()">JSON.stringify</a>這函式。</p>
<h3 id="JSON-stringify"><a href="#JSON-stringify" class="headerlink" title="JSON.stringify"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener" title="MDN:JSON.stringify()">JSON.stringify</a></h3><p>再看一次<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener" title="MDN:JSON.stringify()">JSON.stringify</a>這函式的意義</p>
<blockquote>
<p>The JSON.stringify() method converts a JavaScript value to a JSON string, optionally replacing values if a replacer function is specified, or optionally including only the specified properties if a replacer array is specified.</p>
</blockquote>
<p>清楚明白的寫著可以將<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript" target="_blank" rel="noopener" title="MDN:JavaScript">JavaScript</a>值序列化成<a href="http://www.w3schools.com/js/js_json.asp" target="_blank" rel="noopener" title="w3schools:JavaScript JSON">JSON</a></p>
<h2 id="範例對比"><a href="#範例對比" class="headerlink" title="範例對比"></a>範例對比</h2><figure class="highlight js"><figcaption><span>錯誤用法</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = [];</span><br><span class="line">foo.bar = <span class="string">"new property"</span>;</span><br><span class="line">foo.baz = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">var</span> jsonString = <span class="built_in">JSON</span>.stringify(foo);</span><br></pre></td></tr></table></figure>
<p>jsonString 會輸出 <code>[]</code></p>
<p><img src="https://lh3.googleusercontent.com/PAwmyY6doy5gJUGu8gkMJ6fn0yod5DSwYqAEm_u3j9Mbz6B_S-38kpVS1bQWevWLUKTddDHJ1-e5KRsDhM8gevV-FoPvjiRVLeCJOq0MTrTtK4L7uXuTCUeOzIub2j68Xg7J-1d7x5TFXJ4Uw607bEaUbS4E_vuwSmfjCIGVM--qxS-eZgLMTRB389aGZcq46UeXPvtjxBnYoSgLgEIr51vUMKjS174Vc2Of-hZHv4N_JS-VheNegiBbDYnjLIwVN3KpJIxCyKPJeslIzSLL9eLbFBhmEJl4NyFLHyU87vtKhUPOcDZAg_I5GfX5EUnIlbyZSa90OEoudlRAm85gk871FM8jyyzFFcRQY0yR6v8NfT1JEhh9uOCNmRd0pM85PPrgGXmEPdsjSXPD9ci8DOU7275gH9feDsVMht-Y8PalS3PPFfaDln_hryiefg4X-tH4Jd5R-Xa_lgrQtc2vW9zVPoAHnQ8plESZLr5RCTO_kN5mGkB0-wu9biPxuEEAO8en9Sr1S0bZeoMcYNHWG3TtNLMOrGwJOdZhi_GhBeO35ww2IQ0Zv637TbP3JlFwHH5Ie6WQycwKupyGVyNLImUh45RyAEy0SRwvwWE2y0s4nZG5suSV2UlHFDR4Dn2iwe4RyScgZJRk7YPz3MzWrLTDo3NMBSPzFrumVREeYw=w385-h222-no" alt="error sample"></p>
<figure class="highlight js"><figcaption><span>正確用法</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;&#125;;</span><br><span class="line">foo.bar = <span class="string">"new property"</span>;</span><br><span class="line">foo.baz = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">var</span> jsonString = <span class="built_in">JSON</span>.stringify(foo);</span><br></pre></td></tr></table></figure>
<p>jsonString 會輸出 <code>&quot;{\&quot;bar\&quot;:\&quot;new property\&quot;,\&quot;baz\&quot;:3}&quot;</code></p>
<p><img src="https://lh3.googleusercontent.com/2mN2EpudbftXw96i0LfrPmbzKCEV5HEBOmdREYoXxEC9WGemUi7fdqNmo3jiqzqmX7ZM9NtcgkbITJrkfQ3JVPhGvmVhXCycX0GOOT4H7QtJjjScuotRLJSdEfL7KilQIWkri3eFhN_PYCR15LhJ1yPVBBd_GyOnwT8ou8cHA9-fdSliveMi00Fiv2pS4EcsVdgzVC_oI9VvEFoulxac2BrbOwM4NVoa2TKV8I6HKeFxxvE9Z-HM8zn-uDigIK2ikQQmSaf2R0V81WWd0LLv2C28HSus-b6KuLsZ9BzdjB8V1iO79hCpciXw_R1hsRmhHP6S6E5BRYms3ogJqNlaSXnXlarAg02HPeDd2Sj4hZkUsgVwtgWmOMHiEcm4hTXPXBSAyFFKOr-nS274FSHXOOa5DwYLVJeSodLNMn4xpTrU9eYI5rQgRrzZU6NvHAIaJ7kAL4sUuS1rX1ZM3tIveZ5P5VfL2506r_jqNLtrHf0qTxIvMOzV_0t8xs0OV-dTFnU7rpHzbQ-Lmzy7pR8_un-Rw5ew7wDj2JXlf9lniM74xtUUGRakvBdUHGDM-RY8_-HEddOXD56bBfPo_8uTfcXOgJrfIVioGUmZNbrhSs3PMHHsvqs8tkKbaNCK9SS1PSqaCjmX0ntxHSBAT46-igmH_Rvjvt7bOYlWEyBHeQ=w409-h227-no" alt="sample"></p>
<h2 id="說明"><a href="#說明" class="headerlink" title="說明"></a>說明</h2><p>兩個範例的差別主要在<code>foo</code>一個是 array，一個是 object，所以在宣告完<code>var foo</code>之後，以下這兩個動作</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">foo.bar = <span class="string">"new property"</span>;</span><br><span class="line">foo.baz = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p>在 array 的範例中，是指定 foo 的屬性，但是該 foo 的值為 []。<br>在 object 的例子，則是 foo 的值就是一個物件，且<code>bar</code>與<code>baz</code>都設定是該物件的屬性。<br>而<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener" title="MDN:JSON.stringify()">JSON.stringify</a>是轉換值為<a href="http://www.json.org/" target="_blank" rel="noopener" title="Json">Json</a>，所以一個是 <strong>[]</strong>，一個是屬性資料。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>MDN:<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener" title="MDN:JSON.stringify()">json.stringify()</a></li>
<li>w3schools:<a href="http://www.w3schools.com/js/js_json.asp" target="_blank" rel="noopener" title="w3schools:JavaScript JSON">JavaScript JSON</a></li>
<li>AngularJS:<a href="https://docs.angularjs.org/api/ng/function/angular.toJson" target="_blank" rel="noopener" title="AngularJS:angular.toJson">angular.toJson</a></li>
<li>Github:<a href="https://github.com/angular/angular.js/blob/master/src/Angular.js#L1164" target="_blank" rel="noopener" title="Github:angularJs">Angular.Js Source Code</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown 中支援高亮度顯示的程式語言</title>
    <url>/2015/11/19/Syntax-highlighting-in-markdown/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>記錄一下，到底支援了那些程式語言，並把我比較常用的粗體顯示一下</p>
<h2 id="Syntax-Highlight"><a href="#Syntax-Highlight" class="headerlink" title="Syntax Highlight"></a>Syntax Highlight</h2><ul>
<li>Cucumber (‘*.feature’)</li>
<li>abap (‘*.abap’)</li>
<li>ada (‘<em>.adb’, ‘</em>.ads’, ‘*.ada’)</li>
<li>ahk (‘<em>.ahk’, ‘</em>.ahkl’)</li>
<li>apacheconf (‘.htaccess’, ‘apache.conf’, ‘apache2.conf’)</li>
<li>applescript (‘*.applescript’)</li>
<li>as (‘*.as’)</li>
<li>as3 (‘*.as’)</li>
<li>asy (‘*.asy’)</li>
<li><strong>bash (‘<em>.sh’, ‘</em>.ksh’, ‘<em>.bash’, ‘</em>.ebuild’, ‘*.eclass’)</strong></li>
<li><strong>bat (‘<em>.bat’, ‘</em>.cmd’)</strong></li>
<li>befunge (‘*.befunge’)</li>
<li>blitzmax (‘*.bmx’)</li>
<li>boo (‘*.boo’)</li>
<li>brainfuck (‘<em>.bf’, ‘</em>.b’)</li>
<li>c (‘<em>.c’, ‘</em>.h’)</li>
<li>cfm (‘<em>.cfm’, ‘</em>.cfml’, ‘*.cfc’)</li>
<li>cheetah (‘<em>.tmpl’, ‘</em>.spt’)</li>
<li>cl (‘<em>.cl’, ‘</em>.lisp’, ‘*.el’)</li>
<li>clojure (‘<em>.clj’, ‘</em>.cljs’)</li>
<li>cmake (‘*.cmake’, ‘CMakeLists.txt’)</li>
<li>coffeescript (‘*.coffee’)</li>
<li><strong>console (‘*.sh-session’)</strong></li>
<li>control (‘control’)</li>
<li>cpp (‘<em>.cpp’, ‘</em>.hpp’, ‘<em>.c++’, ‘</em>.h++’, ‘<em>.cc’, ‘</em>.hh’, ‘<em>.cxx’, ‘</em>.hxx’, ‘*.pde’)</li>
<li><strong>csharp (‘*.cs’)</strong></li>
<li><strong>css (‘*.css’)</strong></li>
<li>cython (‘<em>.pyx’, ‘</em>.pxd’, ‘*.pxi’)</li>
<li>d (‘<em>.d’, ‘</em>.di’)</li>
<li>delphi (‘*.pas’)</li>
<li>diff (‘<em>.diff’, ‘</em>.patch’)</li>
<li>dpatch (‘<em>.dpatch’, ‘</em>.darcspatch’)</li>
<li>duel (‘<em>.duel’, ‘</em>.jbst’)</li>
<li>dylan (‘<em>.dylan’, ‘</em>.dyl’)</li>
<li>erb (‘*.erb’)</li>
<li>erl (‘*.erl-sh’)</li>
<li>erlang (‘<em>.erl’, ‘</em>.hrl’)</li>
<li>evoque (‘*.evoque’)</li>
<li>factor (‘*.factor’)</li>
<li>felix (‘<em>.flx’, ‘</em>.flxh’)</li>
<li>fortran (‘<em>.f’, ‘</em>.f90’)</li>
<li>gas (‘<em>.s’, ‘</em>.S’)</li>
<li>genshi (‘*.kid’)</li>
<li>glsl (‘<em>.vert’, ‘</em>.frag’, ‘*.geo’)</li>
<li>gnuplot (‘<em>.plot’, ‘</em>.plt’)</li>
<li>go (‘*.go’)</li>
<li>groff (‘<em>.(1234567)’, ‘</em>.man’)</li>
<li>haml (‘*.haml’)</li>
<li>haskell (‘*.hs’)</li>
<li><strong>html (‘<em>.html’, ‘</em>.htm’, ‘<em>.xhtml’, ‘</em>.xslt’)</strong></li>
<li>hx (‘*.hx’)</li>
<li>hybris (‘<em>.hy’, ‘</em>.hyb’)</li>
<li>ini (‘<em>.ini’, ‘</em>.cfg’)</li>
<li>io (‘*.io’)</li>
<li>ioke (‘*.ik’)</li>
<li>irc (‘*.weechatlog’)</li>
<li>jade (‘*.jade’)</li>
<li><strong>java (‘*.java’)</strong></li>
<li>js (‘*.js’)</li>
<li>jsp (‘*.jsp’)</li>
<li>lhs (‘*.lhs’)</li>
<li>llvm (‘*.ll’)</li>
<li>logtalk (‘*.lgt’)</li>
<li>lua (‘<em>.lua’, ‘</em>.wlua’)</li>
<li>make (‘<em>.mak’, ‘Makefile’, ‘makefile’, ‘Makefile.</em>‘, ‘GNUmakefile’)</li>
<li>mako (‘*.mao’)</li>
<li>maql (‘*.maql’)</li>
<li>mason (‘<em>.mhtml’, ‘</em>.mc’, ‘*.mi’, ‘autohandler’, ‘dhandler’)</li>
<li><strong>markdown (‘*.md’)</strong></li>
<li>modelica (‘*.mo’)</li>
<li>modula2 (‘<em>.def’, ‘</em>.mod’)</li>
<li>moocode (‘*.moo’)</li>
<li>mupad (‘*.mu’)</li>
<li>mxml (‘*.mxml’)</li>
<li>myghty (‘*.myt’, ‘autodelegate’)</li>
<li>nasm (‘<em>.asm’, ‘</em>.ASM’)</li>
<li>newspeak (‘*.ns2’)</li>
<li>objdump (‘*.objdump’)</li>
<li>objectivec (‘*.m’)</li>
<li>objectivej (‘*.j’)</li>
<li>ocaml (‘<em>.ml’, ‘</em>.mli’, ‘<em>.mll’, ‘</em>.mly’)</li>
<li>ooc (‘*.ooc’)</li>
<li>perl (‘<em>.pl’, ‘</em>.pm’)</li>
<li><strong>php (‘<em>.php’, ‘</em>.php(345)’)</strong></li>
<li>postscript (‘<em>.ps’, ‘</em>.eps’)</li>
<li>pot (‘<em>.pot’, ‘</em>.po’)</li>
<li>pov (‘<em>.pov’, ‘</em>.inc’)</li>
<li>prolog (‘<em>.prolog’, ‘</em>.pro’, ‘*.pl’)</li>
<li>properties (‘*.properties’)</li>
<li>protobuf (‘*.proto’)</li>
<li>py3tb (‘*.py3tb’)</li>
<li>pytb (‘*.pytb’)</li>
<li>python (‘<em>.py’, ‘</em>.pyw’, ‘<em>.sc’, ‘SConstruct’, ‘SConscript’, ‘</em>.tac’)</li>
<li><strong>rb (‘<em>.rb’, ‘</em>.rbw’, ‘Rakefile’, ‘<em>.rake’, ‘</em>.gemspec’, ‘<em>.rbx’, ‘</em>.duby’)</strong></li>
<li>rconsole (‘*.Rout’)</li>
<li>rebol (‘<em>.r’, ‘</em>.r3’)</li>
<li>redcode (‘*.cw’)</li>
<li>rhtml (‘*.rhtml’)</li>
<li>rst (‘<em>.rst’, ‘</em>.rest’)</li>
<li><strong>sass (‘*.sass’)</strong></li>
<li>scala (‘*.scala’)</li>
<li>scaml (‘*.scaml’)</li>
<li>scheme (‘*.scm’)</li>
<li><strong>scss (‘*.scss’)</strong></li>
<li>smalltalk (‘*.st’)</li>
<li>smarty (‘*.tpl’)</li>
<li>sourceslist (‘sources.list’)</li>
<li>splus (‘<em>.S’, ‘</em>.R’)</li>
<li><strong>sql (‘*.sql’)</strong></li>
<li>sqlite3 (‘*.sqlite3-console’)</li>
<li>squidconf (‘squid.conf’)</li>
<li>ssp (‘*.ssp’)</li>
<li>tcl (‘*.tcl’)</li>
<li>tcsh (‘<em>.tcsh’, ‘</em>.csh’)</li>
<li>tex (‘<em>.tex’, ‘</em>.aux’, ‘*.toc’)</li>
<li><strong>text (‘*.txt’)</strong></li>
<li>v (‘<em>.v’, ‘</em>.sv’)</li>
<li>vala (‘<em>.vala’, ‘</em>.vapi’)</li>
<li>vbnet (‘<em>.vb’, ‘</em>.bas’)</li>
<li>velocity (‘<em>.vm’, ‘</em>.fhtml’)</li>
<li>vim (‘*.vim’, ‘.vimrc’)</li>
<li><strong>xml (‘<em>.xml’, ‘</em>.xsl’, ‘<em>.rss’, ‘</em>.xslt’, ‘<em>.xsd’, ‘</em>.wsdl’)</strong></li>
<li>xquery (‘<em>.xqy’, ‘</em>.xquery’)</li>
<li>xslt (‘<em>.xsl’, ‘</em>.xslt’)</li>
<li><strong>yaml (‘<em>.yaml’, ‘</em>.yml’)</strong></li>
</ul>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>Codebase:<a href="https://support.codebasehq.com/articles/tips-tricks/syntax-highlighting-in-markdown" target="_blank" rel="noopener" title="Codebase:Syntax highlighting in markdown">Syntax highlighting in markdown</a></li>
</ul>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>SQLParameter名稱為啥不會對應</title>
    <url>/2015/11/23/SQLParameter/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>承接<a href="http://shunnien.github.io/2015/11/21/Sending-DataBase-Mail-in-Sql-Server/">上篇</a>，在撰寫呼叫 Database Mail 的<a href="https://en.wikipedia.org/wiki/Stored_procedure" target="_blank" rel="noopener" title="Wikipedia:Stored procedure">Stored Procedure</a>(預存程序)時，發現在使用<a href="https://msdn.microsoft.com/zh-tw/library/system.data.sqlclient.sqlparameter(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:SqlParameter 類別">Parameter</a>上有些小地方需要注意；以前使用沒發現，因為呼叫<a href="https://en.wikipedia.org/wiki/Stored_procedure" target="_blank" rel="noopener" title="Wikipedia:Stored procedure">Stored Procedure</a>時使用的參數不多，所以都沒發現，這次記錄一下。</p>
<h2 id="我的環境"><a href="#我的環境" class="headerlink" title="我的環境"></a>我的環境</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ systeminfo</span><br><span class="line">作業系統名稱:         Microsoft Windows 10 專業版</span><br><span class="line">作業系統版本:         10.0.10240 N/A 組建 10240</span><br><span class="line">作業系統設定:         獨立工作站</span><br><span class="line">作業系統組建類型:     Multiprocessor Free</span><br><span class="line">系統類型:             x64-based PC</span><br><span class="line">處理器:               已安裝 1 處理器。</span><br><span class="line">BIOS 版本:            American Megatrends Inc. 219, 2015/5/4</span><br><span class="line">實體記憶體總計:       16,264 MB</span><br></pre></td></tr></table></figure>
<h4 id="Visual-Studio-Version"><a href="#Visual-Studio-Version" class="headerlink" title="Visual Studio Version"></a>Visual Studio Version</h4><p>Visual Studio 2015</p>
<h4 id="C-Version"><a href="#C-Version" class="headerlink" title="C# Version"></a>C# Version</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">c:\Windows\Microsoft.NET\Framework\v4.0.30319</span><br><span class="line">$ csc</span><br><span class="line">Microsoft (R) Visual C<span class="comment"># Compiler version 4.6.0079.0</span></span><br><span class="line"><span class="keyword">for</span> C<span class="comment"># 5</span></span><br></pre></td></tr></table></figure>

<h2 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h2><p>先介紹 SqlParameter 的三種使用方式，這三種方式都大同小異，至於為什麼要使用，可以看一下<a href="https://www.dotblogs.com.tw/yc421206/archive/2009/06/14/8819.aspx" target="_blank" rel="noopener" title="余小章:為何/如何 使用 SQLParameter 物件">余小章大大的說明</a></p>
<ul>
<li><p>第一種<br>指定參數名稱、格式與值</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(connStr))</span><br><span class="line">&#123;</span><br><span class="line">    conn.Open();</span><br><span class="line">    <span class="keyword">using</span> (SqlCommand cmd = <span class="keyword">new</span> SqlCommand(str, conn))</span><br><span class="line">    &#123;</span><br><span class="line">        cmd.CommandType = CommandType.StoredProcedure;</span><br><span class="line">        cmd.Parameters.Add(<span class="string">"@profile_name"</span>, SqlDbType.VarChar).Value = <span class="string">"SendMail"</span>;</span><br><span class="line">        cmd.Parameters.Add(<span class="string">"@recipients"</span>, SqlDbType.VarChar).Value = <span class="string">"test@test.com"</span>;</span><br><span class="line">        cmd.Parameters.Add(<span class="string">"@subject"</span>, SqlDbType.VarChar).Value = <span class="string">"ADO method 1 test"</span>;</span><br><span class="line">        cmd.Parameters.Add(<span class="string">"@body"</span>, SqlDbType.VarChar).Value = <span class="string">"Hello World"</span>;</span><br><span class="line">        cmd.Parameters.Add(<span class="string">"@importance"</span>, SqlDbType.VarChar).Value = <span class="string">"NORMAL"</span>;</span><br><span class="line">        result = cmd.ExecuteNonQuery();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>第二種<br>指定參數名稱與值</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(connStr))</span><br><span class="line">&#123;</span><br><span class="line">    conn.Open();</span><br><span class="line">    <span class="keyword">using</span> (SqlCommand cmd = <span class="keyword">new</span> SqlCommand(str, conn))</span><br><span class="line">    &#123;</span><br><span class="line">        cmd.CommandType = CommandType.StoredProcedure;</span><br><span class="line">        cmd.Parameters.Add(<span class="keyword">new</span> SqlParameter(<span class="string">"@profile_name"</span>, <span class="string">"SendMail"</span>));</span><br><span class="line">        cmd.Parameters.Add(<span class="keyword">new</span> SqlParameter(<span class="string">"@recipients"</span>, <span class="string">"test@test.com;test@test.com"</span>));</span><br><span class="line">        cmd.Parameters.Add(<span class="keyword">new</span> SqlParameter(<span class="string">"@subject"</span>, <span class="string">"ADO method 2 test"</span>));</span><br><span class="line">        cmd.Parameters.Add(<span class="keyword">new</span> SqlParameter(<span class="string">"@body"</span>, <span class="string">@"Hello World"</span>));</span><br><span class="line">        cmd.Parameters.Add(<span class="keyword">new</span> SqlParameter(<span class="string">"@importance"</span>, <span class="string">"NORMAL"</span>));</span><br><span class="line">        result = cmd.ExecuteNonQuery();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>第三種<br>一樣指定參數名稱與值</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(connStr))</span><br><span class="line">&#123;</span><br><span class="line">    conn.Open();</span><br><span class="line">    <span class="keyword">using</span> (SqlCommand cmd = <span class="keyword">new</span> SqlCommand(str, conn))</span><br><span class="line">    &#123;</span><br><span class="line">        cmd.CommandType = CommandType.StoredProcedure;</span><br><span class="line">        cmd.Parameters.AddWithValue(<span class="string">"@profile_name"</span>, <span class="string">"SendMail"</span>);</span><br><span class="line">        cmd.Parameters.AddWithValue(<span class="string">"@recipients"</span>, <span class="string">"test@test.com;test@test.com;test@test.com"</span>);</span><br><span class="line">        cmd.Parameters.AddWithValue(<span class="string">"@subject"</span>, <span class="string">"ADO method 3 test"</span>);</span><br><span class="line">        cmd.Parameters.AddWithValue(<span class="string">"@body"</span>, <span class="string">@"Hello World"</span>);</span><br><span class="line">        cmd.Parameters.AddWithValue(<span class="string">"@importance"</span>, <span class="string">"NORMAL"</span>);</span><br><span class="line">        result = cmd.ExecuteNonQuery();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述的方法看起來都是正常的，但是如果沒有設定</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">cmd.CommandType = CommandType.StoredProcedure;</span><br></pre></td></tr></table></figure>
<p>就會失去按照參數名稱對應的功能，只能按照順序對應(這順序是 Procedure 的參數宣告順序)；這情形出現在<a href="https://en.wikipedia.org/wiki/Stored_procedure" target="_blank" rel="noopener" title="Wikipedia:Stored procedure">Stored Procedure</a>上，也是因為<a href="http://shunnien.github.io/2015/11/21/Sending-DataBase-Mail-in-Sql-Server/">Database Mail</a>送信的參數很多，才發覺有這情形。</p>
</li>
</ul>
<p>以下列出不使用<code>CommandType</code>的 Sql 字串</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">static void Main(string[] args)</span><br><span class="line">&#123;</span><br><span class="line">	&#x2F;&#x2F; 不使用 CommandType 的時候，呼叫 Procedure 必須指定參數名稱</span><br><span class="line">	&#x2F;&#x2F; 跟直接使用 Sql 字串查詢一樣</span><br><span class="line">    string str &#x3D; &quot;msdb.dbo.sp_send_dbmail @profile_name,@recipients,@subject,@body,@importance&quot;;</span><br><span class="line">	string connStr &#x3D; ConfigurationManager.ConnectionStrings[&quot;DBConn&quot;].ConnectionString;</span><br><span class="line">    using (SqlConnection conn &#x3D; new SqlConnection(connStr))</span><br><span class="line">    &#123;</span><br><span class="line">        conn.Open();</span><br><span class="line">        using (SqlCommand cmd &#x3D; new SqlCommand(str, conn))</span><br><span class="line">        &#123;</span><br><span class="line">            cmd.Parameters.Add(new SqlParameter(&quot;@profile_name&quot;, &quot;SendMail&quot;));</span><br><span class="line">            cmd.Parameters.Add(new SqlParameter(&quot;@recipients&quot;, &quot;test@test.com;test@test.com&quot;));</span><br><span class="line">            cmd.Parameters.Add(new SqlParameter(&quot;@subject&quot;, &quot;ADO method 2 test&quot;));</span><br><span class="line">            cmd.Parameters.Add(new SqlParameter(&quot;@body&quot;, @&quot;Hello World&quot;));</span><br><span class="line">            cmd.Parameters.Add(new SqlParameter(&quot;@importance&quot;, &quot;NORMAL&quot;));</span><br><span class="line">            cmd.ExecuteNonQuery();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Console.ReadKey();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其結果會是<br><img src="https://lh3.googleusercontent.com/v3jjenTq-EsxsTwIhvU7VfSQkuQlovyjuC-hF2Dynv2qoPTIkPyQWVIUF26UcJqzebppRd4EkH10V5oQ5sJTJIMK6yBo4QqRP4I-YsbWbwCQ6z8P-3Op2q_X3nx0l9axXw_hXyqgEmyhdkxNcKZdeUcpXiQPJ0i-DMrqoPK45o5IytMyPyYmUdDKWeLT6104BBvVQvhL9I3gArJGqXVY_p2SpC4lP_iD2cSIkrBDjnzRbr1SWKQbTaBIeeL1HyNVx_izVDq7v3u8yTlGXFaAB_BZjHhEuh1y1ecsojDcspneiPCvwMi5wdhokAIMG0ZgthGfiJkcGmjlJtukl2t_GbsdR7Jd-fgGc0v1G8rJzOOFzSEpPKSwMDfR4xtpdt3uTYWvPOEgzwGLv2e8nZV4wMqQFR8ZBFD_2fQiUi3pRTa4i1gEFohjsOy7ebz8xizP7mA0Uk-eKxQ1guCFZ8COIygGS4jT53qSMvyA5BXZI0qafnELoRPXaXNf0Yf9fcaYYNNfWWqujCUs-WGV3l3yyW85wLzLmPQWUbVXc4531qa-YdL8kya19snPkLHQR54tYKCryMBplgsj-OOEyTqtJmuJiprrEMGqiWcgPwQKKAmwe_xudOc9tCb6sD4NVmRYxw0TWg2pbNUL-9c9Zx7toALuMERaGzJobMEM3ylhqw=w557-h76-no" alt="no use commandType"><br>對照一下 Procedure 的參數順序<br><img src="https://lh3.googleusercontent.com/rFQ-vdsE5zxv09Q8bJOf6fzVq5bXfaQF76dBDx3kWbv6AAcl1L7--z0L--uc7WZs-kjBUIyNs30fmB_tTpWvnpEi1ziWYeOPUwtKhfPylSJ4K5FuomoQr51dz6UTWeCVyiw9bPLWBzDPnN7eEMdf3CPQ5Vv75wcZN-z325MTDgskjW2WrElBJQb5wNh4M-y3dP5AYVguXDEimvB7x1-DHxSxtyM3EG8wN1_DqljcyxHUacNFXYF8T6hOsYQO2UEPp3Lh3ZEhM4k7i83fYXAT1wVLLUNhFObnyocdBASug1ASoVrxi0OZ_0Txl6fQbXJnHE3s18-boVVLg73RzblHX3sW0oMuM0M1ODWPE70ikVDFQoBYgZ-MpUnjKBCUr7noQYDqpuXqsx5cdLGOPrRnHyDG6SnuKEUCWgqOl-pLrlTIn5dkaDiERshFFdNmSZtoC3cqXz8A4aEt6poB0Hf5X3L05-zJ7sysrVJ5r3TufUrE-JJyjee6Eq_ahIpmz0IkANcdS1NwUFvgD2Wjoaylm5-FPyhuA3VCf1StTj1wffCuB8lIAFh85P9QG1Ox-W08qyNH0HO5OYdFXCA0DLtJEpPMLIgc7JAtvbcWZ2lOPuMUZDUhLzaX6hsYx8qCjs5DVX9eVHE3Z4HOVXfw5BPdpkfKtcRvUMw5PReWyMo4nA=w588-h382-no" alt="sp_send_dbmail code"><br>所以如果不指定<code>CommandType</code>的話，Sql 字串的參數必須按照 Procedure 的參數順序輸入，這點一定要注意。</p>
<h2 id="範例程式"><a href="#範例程式" class="headerlink" title="範例程式"></a>範例程式</h2><p><a href="https://github.com/shunnien/SqlParameterTest" target="_blank" rel="noopener">Github Repo</a></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>MSDN:<a href="https://msdn.microsoft.com/en-us/library/37hwc7kt.aspx?f=255&MSPPError=-2147217396" target="_blank" rel="noopener" title="MSDN:Execute a Stored Procedure that Returns a Single Value">Execute a Stored Procedure that Returns a Single Value</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>EntityFramework</tag>
        <tag>ADO.NET</tag>
      </tags>
  </entry>
  <entry>
    <title>Googel Custom Search Engine</title>
    <url>/2015/11/25/Googel-Custom-Search-Engine/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>在調整部落格的搜尋功能，考慮自架服務、<a href="http://tinysou.com/" target="_blank" rel="noopener" title="微搜索">微搜索</a>、<a href="http://zn.baidu.com" target="_blank" rel="noopener" title="百度站內搜索">百度</a>與 Google，後來決定使用 Google；但是使用 Google 只要設定好參數，一樣可以進行站內搜尋呀，就像以下的方式，在 Google 搜尋框打下，或是使用進階搜尋就可以看到</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sql site:shunnien.github.io</span><br></pre></td></tr></table></figure>
<p>那為什麼要特地使用 CSE，簡單說就是偷懶而已。</p>
<h2 id="Google-Custom-Search-Engine-cse"><a href="#Google-Custom-Search-Engine-cse" class="headerlink" title="Google Custom Search Engine(cse)"></a><a href="https://cse.google.com/cse/?hl=zh-TW" target="_blank" rel="noopener" title="自訂搜尋引擎">Google Custom Search Engine(cse)</a></h2><p>首先想使用<a href="https://cse.google.com/cse/?hl=zh-TW" target="_blank" rel="noopener" title="自訂搜尋引擎">cse</a>的話，需要一個<a href="https://accounts.google.com/SignUp" target="_blank" rel="noopener" title="Google Account Apply">Google 帳號</a>，假如已經有帳號了，就照著以下步驟設定即可<br><img src="https://lh3.googleusercontent.com/z4Bi-pdr9Fle9iiLCyewJenH0jRnpcjGklNloDOYZ0Np17oMOfwnG3sOpsAtISg2gWq1Ti78EvEjpZGm88l3KXqQ12SCV292dlRSSRsQxV5kmOm0QKMCBwfQn7nz-XdVMu-h3nT5Qbv-rWmz9cxgsjhcrvim21_oee7AnB4SpvPj7uJBPeOjgVzo5O5jmJw6VmLzEsPKV6n05vyJKG67tB8thz2ezdsldBRPUOUQvfFYC2bjgVZg8YUR9ucwbylcJy4tXxI9XCKVRTxludk9g-DFxWzyjgq2X0Kfw4WUOBGBdTIcIt_OCQ0pdER6xZxxPdbk5utXPNH9b-ASjtmo8wFxFhTpNgdPq7vsDHMGeIRewFLPBvPQFbfBW2sFPfCWOgPXdBNzONocq1EqkKRKB3NZr6BvZp-Lo9km614GaGKuOdk48xY5x6EgZLJBPUyOgSoJYl16oh3HGqXbIvNzx-OirJ1eeFby7GRyPot1h5t9QBi67ebVEVrRCuYVSfv3_x71E2PVbL2A7sir9fZlBUdiRwK4vjFukPkTD4tEGccY7J9QqpLlUWup8_296Tecc_U3jQmU9EVv8bKo-B6fnViLLrjcEqBSFBV6OBXgypbTPnJOK9u_8d3enId-tJTsktVUfalBEHeaeEINaY9usUwP3yJzeKy188f_aGz6sw=w469-h280-no" alt="Creat cse 新增搜尋引擎 step1"><br><img src="https://lh3.googleusercontent.com/TJ4_HGsjScyB_gF0HsgBUU3nJkJ--aqfQcumLELfv4LL0r7NpYNMPE_9dxYe6P5SFyUaaTWfki1v37qSkL4h15ufvzwgqtBBAdlXa8E9TX_ScVqLQ-2LCir8-Xhcw1iz6UF3lR9CsMq985WaxhA2tfq_ELn6QTqEUjUojQ04QsUWITldmqsIuyYa1ZXd5AS_KtYeki-gBE6NYbWTKkt-ZRa8__g8s6mwkHMufHyYK1-ZWyGd8NYB9a3krHRKIpas_exhTr7j2hiox3X7srjiYmJ0n-Roaz4GUp6d6st9qh8msL50FmxSC3N2dbQVjB0_z-srywZYhVxo6LuxnXSJbd27Tg18-1kCzfvhU-eTF1E-KLuepl8CsQMHOiXhWvE24FB8IbLjNqBIUeMj98F8GlpinpfTeurX2HIftwHNjb7sRelgF4MwEldUTNwcqMvgK2c5MSp_mRkR3T8kbk4lKoRdGSrGI_5pXN7zSULCkjH1rtdXX7aql45sgYVGH5328lY_PSG29keI2iYA_dVqIBFWzA1yHD-E-CEr4yayhuBqMOHn-MeNB1JhfXUKtUayDjaP0r8X0R81LhENhNWa6uU-8rBLwQt5UHG6QxWEzIaWNO7zT78KGKTYUyNokjmXLxw7YdHe5123FE_xDcdjUAeyXRaiQ2C8Yy39CJndog=w491-h580-no" alt="Creat cse 設定搜尋網站 step2"><br>建立很快速簡單，接著在畫面中選取<strong>取得程式碼</strong>，把這段程式碼嵌入部落格即可。<br><img src="https://lh3.googleusercontent.com/iTlp522DkVAy5kRlRcQzKfQWzMqNndaFuEpzIpJI8feuaHCxB8nQf0a1XKlVNOkEpq-XakYly6spQWgKMQdTTozNC1ScmKBzMdSXtMQJSvsjkU0Naes76qcsGob7oFCYu66EPwOGUOX-A2Jl8TQ5SkzCoFJovgYpd5Iyrn0p4QsiBRi2bCMMnNOW4rf8j3Ggx5j7hmtwjEtRW7udv8IdhI1fxVsJRduxLW-MQt_CHlAZLpUBd0unouECBJz35Q0gxG8DzTzjzxpU9GCNe_kmG7MPGAewBny2n6gXFPE6mwccp183AW7422pd4Gl2k92-DxQIpp7Ef1EaGRxfR6EVFSlxLvxt92eaH13VmWa3UzBGMuX9_K5xMatqx3vE3ECKdHX059I8G3YRzeJaiE7RGMCLuGAgQDheUS_E0ktoVt1R8FPNuj9HoYMRYYzrXxf0Ie2l0h4MXAQmfLfOY1jpdu1OxFKRarIxUPBvcW98yPuLpTLpTj65XtXePJvkC2s5lpem2OzTSivyygjKOnPjMLYPnxHLLTaxTrUAtRnMZ57g5vqUpP5BpJPVCrDtehnSUQlOrqwPwBVYhVR7oB017BKO8UxgQtvtWgTakqVEQQ_GbSGn7QRmujnU6FpeSO3qCq21C66mwjzyHc6GwPjIeh6buSWOyTYf66LxSWYoTA=w609-h509-no" alt="get code"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>Google Develpers:<a href="https://developers.google.com/custom-search/docs/tutorial/creatingcse" target="_blank" rel="noopener" title="Google Developer:Creating a Custome Search Engine">Creating a CSE</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Google</tag>
      </tags>
  </entry>
  <entry>
    <title>Sending DataBase Mail in Sql Server</title>
    <url>/2015/11/21/Sending-DataBase-Mail-in-Sql-Server/</url>
    <content><![CDATA[<h2 id="緣起"><a href="#緣起" class="headerlink" title="緣起"></a>緣起</h2><p>剛好有個需要發送郵件的需求，而且不是對外服務的需求，就拿資料庫來發送了。</p>
<h2 id="我的環境"><a href="#我的環境" class="headerlink" title="我的環境"></a>我的環境</h2><h3 id="中文版"><a href="#中文版" class="headerlink" title="中文版"></a>中文版</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ systeminfo | findstr /B /C:<span class="string">"作業系統名稱"</span> /C:<span class="string">"作業系統版本"</span> /c:<span class="string">"作業系統設定"</span> /c:<span class="string">"作業系統組建類型"</span> /c:<span class="string">"系統類型"</span> /c:<span class="string">"處理器"</span> /c:<span class="string">"BIOS"</span> /c:<span class="string">"實體記憶體總計"</span> /c:<span class="string">"虛擬記憶體"</span></span><br><span class="line">作業系統名稱:         Microsoft Windows 10 專業版</span><br><span class="line">作業系統版本:         10.0.10240 N/A 組建 10240</span><br><span class="line">作業系統設定:         獨立工作站</span><br><span class="line">作業系統組建類型:     Multiprocessor Free</span><br><span class="line">系統類型:             x64-based PC</span><br><span class="line">處理器:               已安裝 1 處理器。</span><br><span class="line">BIOS 版本:            American Megatrends Inc. 219, 2015/5/4</span><br><span class="line">實體記憶體總計:       16,264 MB</span><br><span class="line">虛擬記憶體: 大小上限: 18,696 MB</span><br><span class="line">虛擬記憶體: 可用:     8,883 MB</span><br><span class="line">虛擬記憶體: 使用中:   9,813 MB</span><br><span class="line"></span><br><span class="line">$ sqlcmd -Q <span class="string">"SELECT @@VERSION"</span></span><br><span class="line"></span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">Microsoft SQL Server 2012 - 11.0.5343.0 (X64)</span><br><span class="line">        May  4 2015 19:11:32</span><br><span class="line">        Copyright (c) Microsoft Corporation</span><br><span class="line">        Enterprise Edition (64-bit) on Windows NT 6.3 &lt;X64&gt; (Build 10240: ) (Hypervisor)</span><br><span class="line"></span><br><span class="line">c:\Windows\Microsoft.NET\Framework\v4.0.30319</span><br><span class="line">$ csc</span><br><span class="line">Microsoft (R) Visual C<span class="comment"># Compiler version 4.6.0079.0</span></span><br><span class="line"><span class="keyword">for</span> C<span class="comment"># 5</span></span><br><span class="line">Copyright (C) Microsoft Corporation. All rights reserved.</span><br><span class="line"></span><br><span class="line">This compiler is provided as part of the Microsoft (R) .NET Framework, but only supports language versions up to C<span class="comment"># 5, which is no longer the latest version. For compilers that support newer versions of the C# programming language, see http://go.microsoft.com/fwlink/?LinkID=533240</span></span><br></pre></td></tr></table></figure>
<h3 id="英文版"><a href="#英文版" class="headerlink" title="英文版"></a>英文版</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systeminfo | findstr /b /c:<span class="string">"OS Name"</span> /c:<span class="string">"OS Version"</span> /c:<span class="string">"OS Manufacturer"</span> /c:<span class="string">"OS Configuration"</span> /c:<span class="string">"OS Build Type"</span> /c:<span class="string">"System Model"</span> /c:<span class="string">"System Type"</span> /c:<span class="string">"Processor"</span> /c:<span class="string">"BIOS"</span> /c:<span class="string">"Total Physical Memory"</span> /c:<span class="string">"Virtual Memory"</span></span><br><span class="line"></span><br><span class="line">OS Name:                   Microsoft Windows Server 2012 R2 Standard</span><br><span class="line">OS Version:                6.3.9600 N/A Build 9600</span><br><span class="line">OS Manufacturer:           Microsoft Corporation</span><br><span class="line">OS Configuration:          Member Server</span><br><span class="line">OS Build Type:             Multiprocessor Free</span><br><span class="line">System Model:              VMware Virtual Platform</span><br><span class="line">System Type:               x64-based PC</span><br><span class="line">Processor(s):              2 Processor(s) Installed.</span><br><span class="line">BIOS Version:              Phoenix Technologies LTD 6.00, 4/14/2014</span><br><span class="line">Total Physical Memory:     4,096 MB</span><br><span class="line">Virtual Memory: Max Size:  4,800 MB</span><br><span class="line">Virtual Memory: Available: 2,497 MB</span><br><span class="line">Virtual Memory: In Use:    2,303 MB</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">C:\&gt;sqlcmd -Q <span class="string">"SELECT @@VERSION"</span></span><br><span class="line"></span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">Microsoft SQL Server 2012 - 11.0.5058.0 (X64)</span><br><span class="line">        May 14 2014 18:34:29</span><br><span class="line">        Copyright (c) Microsoft Corporation</span><br><span class="line">        Enterprise Edition (64-bit) on Windows NT 6.3 &lt;X64&gt; (Build 9600: ) (Hype</span><br><span class="line">rvisor)</span><br><span class="line"></span><br><span class="line">(1 rows affected)</span><br></pre></td></tr></table></figure>

<h2 id="Sql-Server-Database-Mail"><a href="#Sql-Server-Database-Mail" class="headerlink" title="Sql Server Database Mail"></a>Sql Server Database Mail</h2><p>設定方式有兩種，一種是透過 T-SQL，另一種是透過 GUI 介面設定(只需要滑鼠操作就可以完成)</p>
<ul>
<li>Transact-SQL</li>
<li>Database Mail 組態精靈</li>
</ul>
<h3 id="Transact-SQL"><a href="#Transact-SQL" class="headerlink" title="Transact-SQL"></a>Transact-SQL</h3><h4 id="啟用-Database-Mail"><a href="#啟用-Database-Mail" class="headerlink" title="- 啟用 Database Mail"></a>- 啟用 Database Mail</h4><p>首先檢查是否已經啟用 Database Mail，沒有啟用的話，啟用它。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 啟用 Database Mail 必須在 master 系統資料庫下</span></span><br><span class="line"><span class="keyword">Use</span> <span class="keyword">master</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line">sp_CONFIGURE <span class="string">'show advanced'</span>, <span class="number">1</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line">RECONFIGURE</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line">sp_CONFIGURE <span class="string">'Database Mail XPs'</span>, <span class="number">1</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line">RECONFIGURE</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 檢查是否啟用成功</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	<span class="keyword">name</span>,</span><br><span class="line">	<span class="keyword">value</span>,</span><br><span class="line">	description</span><br><span class="line"><span class="keyword">FROM</span> sys.configurations</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'Database Mail XPs'</span></span><br></pre></td></tr></table></figure>
<h4 id="建立-Database-Mail-帳戶"><a href="#建立-Database-Mail-帳戶" class="headerlink" title="- 建立 Database Mail 帳戶"></a>- 建立 Database Mail 帳戶</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 檢查是否有 Demo 這個帳戶，有的話就刪除 </span></span><br><span class="line">IF  EXISTS (<span class="keyword">SELECT</span> <span class="keyword">name</span> <span class="keyword">FROM</span> msdb.dbo.sysmail_account <span class="keyword">WHERE</span> <span class="keyword">name</span>=<span class="string">'Demo'</span>)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"> EXEC msdb.dbo.sysmail_delete_account_sp @account_name = <span class="string">'Demo'</span> ;</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXECUTE</span> msdb.dbo.sysmail_add_account_sp</span><br><span class="line">@account_name = <span class="string">'Demo'</span>,  <span class="comment">-- Database Mail 帳戶名稱</span></span><br><span class="line">@email_address = <span class="string">'wiamyu@gmail.com'</span>,  <span class="comment">-- 電子郵件位址(寄件者Email)</span></span><br><span class="line">@display_name = <span class="string">'ShunNien'</span>,  <span class="comment">-- 顯示的名稱</span></span><br><span class="line">@replyto_address = <span class="literal">Null</span>,  <span class="comment">-- 回應的傳送地址</span></span><br><span class="line">@description = <span class="string">'Database Mail Account'</span>,  <span class="comment">-- 帳戶的描述</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SMTP 郵件伺服器的名稱或 IP 位址</span></span><br><span class="line"><span class="comment">-- 127.0.0.1 是本機端位址，配合 smtp4dev</span></span><br><span class="line">@mailserver_name = <span class="string">'127.0.0.1'</span> ,</span><br><span class="line">@mailserver_type =  <span class="string">'SMTP'</span> ,  <span class="comment">-- 郵件伺服器的類型</span></span><br><span class="line">@port =  <span class="number">25</span> ,  <span class="comment">-- 郵件伺服器的通訊埠編號。預設值是 25</span></span><br><span class="line">@username =  <span class="literal">Null</span>,  <span class="comment">-- 登入電子郵件伺服器的使用者名稱</span></span><br><span class="line">@<span class="keyword">password</span> =  <span class="literal">Null</span>,  <span class="comment">-- 登入電子郵件伺服器的密碼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 參數 0 會使用 @username、@password 這兩個參數</span></span><br><span class="line"><span class="comment">-- 參數 1 會使用 資料庫的驗證，預設是參數 0</span></span><br><span class="line">@use_default_credentials=<span class="number">0</span>,</span><br><span class="line">@enable_ssl=<span class="number">0</span>  <span class="comment">-- 是否使用SSL(安全通訊端層加密通訊)。預設值是 0 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 列出 Database Mail 帳戶資訊(密碼不會顯示)</span></span><br><span class="line">EXEC msdb.dbo.sysmail_help_account_sp</span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure>
<h4 id="建立-Database-Mail-Profile"><a href="#建立-Database-Mail-Profile" class="headerlink" title="- 建立 Database Mail Profile"></a>- 建立 Database Mail Profile</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 檢查是否存在 SendMail 這名稱的設定檔，有的話則刪除</span></span><br><span class="line">IF  EXISTS (<span class="keyword">SELECT</span> <span class="keyword">name</span> <span class="keyword">FROM</span> msdb.dbo.sysmail_profile <span class="keyword">WHERE</span> <span class="keyword">name</span>=<span class="string">'SendMail'</span>)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"> EXEC msdb.dbo.sysmail_delete_profile_sp @profile_name = N<span class="string">'SendMail'</span>;</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"><span class="comment">-- 建立新的 Database Mail 設定檔</span></span><br><span class="line">EXEC msdb.dbo.sysmail_add_profile_sp</span><br><span class="line">  @profile_name = <span class="string">'SendMail'</span>, <span class="comment">-- 新設定檔的名稱</span></span><br><span class="line">  @description = <span class="string">''</span> ; <span class="comment">-- 新設定檔的性描述</span></span><br><span class="line">GO</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 列出郵件設定檔的資訊。</span></span><br><span class="line">EXEC msdb.dbo.sysmail_help_profile_sp;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure>
<h4 id="把帳戶加入到設定檔"><a href="#把帳戶加入到設定檔" class="headerlink" title="- 把帳戶加入到設定檔"></a>- 把帳戶加入到設定檔</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">EXEC msdb.dbo.sysmail_add_profileaccount_sp</span><br><span class="line"> @profile_name = N'SendMail',  <span class="comment">-- 設定檔名稱</span></span><br><span class="line"> @account_name = N'Demo',  <span class="comment">-- 帳戶名稱</span></span><br><span class="line"> <span class="comment">-- 帳戶在設定檔內的序號。沒有預設值。序號決定了帳戶在設定檔中的使用順序。</span></span><br><span class="line"> @sequence_number =1 ;</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 列出 Database Mail 設定檔相關聯的帳戶</span></span><br><span class="line">EXEC msdb.dbo.sysmail_help_profileaccount_sp</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 補充資料 </span></span><br><span class="line"><span class="comment">-- 若是要從 Database Mail 設定檔中移除帳戶。</span></span><br><span class="line">EXEC msdb.dbo.sysmail_delete_profileaccount_sp</span><br><span class="line"> @profile_name = N'SendMail',</span><br><span class="line"> @account_name = N'Demo';</span><br><span class="line">GO</span><br></pre></td></tr></table></figure>
<h4 id="設定使用-Database-Mail-設定檔的權限"><a href="#設定使用-Database-Mail-設定檔的權限" class="headerlink" title="- 設定使用 Database Mail 設定檔的權限"></a>- 設定使用 Database Mail 設定檔的權限</h4><p>此篇在德瑞克大大的<a href="http://sharedderrick.blogspot.tw/2012/05/database-mailtransact-sql.html" target="_blank" rel="noopener" title="德瑞克:建立與組態 Database Mail，使用Transact-SQL為例">文章</a>說明得很詳細</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">主要參數說明： </span></span><br><span class="line"><span class="comment">(1) @principal_name：</span></span><br><span class="line"><span class="comment">這是關聯的 msdb 資料庫中，資料庫使用者或角色的名稱。 </span></span><br><span class="line"><span class="comment">principal_name 是 sysname，預設值是 NULL。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">您必須指定 principal_id 或 principal_name 其中之一。 </span></span><br><span class="line"><span class="comment">如果 principal_name 是 'public'，這個設定檔會成為公用設定檔，會將存取權授與資料庫中的所有主體。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">(2) @is_default</span></span><br><span class="line"><span class="comment">指定這個設定檔是否為主體的預設設定檔。 主體只能有一個預設設定檔。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">EXEC msdb.dbo.sysmail_add_principalprofile_sp</span><br><span class="line">    @profile_name = N'SendMail',</span><br><span class="line">    @principal_name = 'public',     <span class="comment">-- 設定為：公用設定檔</span></span><br><span class="line">    @is_default = 1 ;</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 列出 Database Mail 設定檔和資料庫主體間之關聯的相關資訊。</span></span><br><span class="line">EXEC msdb.dbo.sysmail_help_principalprofile_sp ;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure>
<h4 id="測試發送"><a href="#測試發送" class="headerlink" title="- 測試發送"></a>- 測試發送</h4><p>到這邊設定就完成了，可以檢查一下設定檔</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查看 Database Mail 帳戶</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> msdb.dbo.sysmail_account</span><br><span class="line"><span class="comment">-- 查看設定檔</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> msdb.dbo.sysmail_profile</span><br></pre></td></tr></table></figure>
<p>接著進行發送 mail 測試，配合<a href="https://smtp4dev.codeplex.com/" target="_blank" rel="noopener" title="CodePlex:smtp4dev">smtp4dev</a>，就可以在本機端接收 mail 了，設定可以參考 demo 大的<a href="http://demo.tc/post/793" target="_blank" rel="noopener" title="demoshop:如何在本機測試寄送郵件程式是否撰寫正確">這篇</a></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">EXEC msdb.dbo.sp_send_dbmail   </span><br><span class="line">@profile_name='SendMail',  </span><br><span class="line">@recipients='test@gmail.com',  </span><br><span class="line">@subject= N'這是郵件主旨',  </span><br><span class="line">@body=N'這是郵件內容'</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/hTRuihFjxtjWU0BBL3FvwWtyv2vIJ-GDeYSIgABlVeOVweBMUslz5KeHnwNUnAnQlWjj3SKcvu7j5xgGdoBlEqkSPzXIFSLv_oGh8nS20Bq1d_tgLLZvD7lEQSv8L-g2gy3zsPWj6-enDr3BLZko2Jdb09vl9UI_hnpdRPoZ-lM7_PUKjR328VC8wpqW4E0AjikNyiQGnZVqblDyErHJEwTjO5uBbtS0Cu8lKNZDyt5eZP377th3RvaVE1AiFTeHu47ArYC_plzDmhbqnGxxgWrZMw5zwztNlaWDjFAEST0NQRKqlDXGNRWtIoPZJKimwTqhkzM_BNlPrTKGEZ7lRKQk_Hpf6vugX1Z0ZAiFlzhVujZPpbOza_XZny3o5B_IDZLAvx8_8KjfDPEPn_ntuRT3-vEBA2ZLlbk0Rg0ndtZ6umiMALMxzg2Y-b5g5qc7Cfse3xa81gFaUAEkjwo-lr9DQGHnG4MyBpjugZzV4TgKlCS7rOWZ9pUndtVLY7-tU06Po2gsMHSSBq-QCcjM68BWd1T_zMf19p09eZ8K7fAMo8SV2SCx-lMXJg57LpOx5-XmLi6_PkbQdUN7-OKALVhbO9uZkADNS67fmbcmW9xB5awgswNNzOiV32DleQPsThvA1PkC9mKccB_pKh0_MiUzR1KZesnBuGY2Kulp4Q=w640-h278-no" alt="Send Mail Test"></p>
<h4 id="測試發送-1"><a href="#測試發送-1" class="headerlink" title="- 測試發送"></a>- 測試發送</h4><p>查看發送的狀況</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查看：Database Mail 處理的所有訊息</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> msdb.dbo.sysmail_allitems</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查看：傳送成功的訊息時</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> msdb.dbo.sysmail_sentitems</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查看：哪些訊息未成功傳送</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> msdb.dbo.sysmail_faileditems</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查看：未傳送或正在重試狀態的 Database Mail 訊息</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> msdb.dbo.sysmail_faileditems</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查看：Database Mail 系統傳回的錯誤訊息之類</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> msdb.dbo.sysmail_event_log</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查看：Database Mail 附加檔案的相關資訊</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> msdb.dbo.sysmail_mailattachments</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 發送郵件的狀態</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	last_mod_date,</span><br><span class="line">	<span class="keyword">CASE</span> sent_status</span><br><span class="line">		<span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">'Sent Successfully'</span></span><br><span class="line">		<span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="string">'Failed'</span></span><br><span class="line">		<span class="keyword">WHEN</span> <span class="number">3</span> <span class="keyword">THEN</span> <span class="string">'Unsent'</span></span><br><span class="line">	<span class="keyword">END</span> sent_status,</span><br><span class="line">	[subject],</span><br><span class="line">	recipients</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	msdb.dbo.sysmail_mailitems</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> last_mod_date <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 發送失敗的郵件與錯誤訊息</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	profile_id,</span><br><span class="line">	items.last_mod_date,</span><br><span class="line">	items.[subject],</span><br><span class="line">	l.[description] ErrorMessage,</span><br><span class="line">	items.sent_status,</span><br><span class="line">	recipients</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	msdb.dbo.sysmail_faileditems <span class="keyword">AS</span> items</span><br><span class="line">	<span class="keyword">INNER</span> <span class="keyword">JOIN</span> msdb.dbo.sysmail_event_log <span class="keyword">AS</span> l</span><br><span class="line">		<span class="keyword">ON</span> items.mailitem_id = l.mailitem_id</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> last_mod_date <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>

<h3 id="Database-Mail-組態精靈"><a href="#Database-Mail-組態精靈" class="headerlink" title="Database Mail 組態精靈"></a>Database Mail 組態精靈</h3><p>首先開啟<a href="https://msdn.microsoft.com/zh-tw/library/ms174173%28v=sql.120%29.aspx?f=255&MSPPError=-2147217396" target="_blank" rel="noopener" title="MSDN:SSMS">SSMS</a>，接著選擇<em>管理</em>，然後選擇<em>Database Mail</em>，在選項上按下滑鼠右鍵<br><img src="https://lh3.googleusercontent.com/vbC2dM4iDUm9VhmUoZPGBwXdo0YAA4kJkhPhw0o326Av7FQIaUGicSfl1AQ_WNqjC9-kvwJRt5DEWLGslaH-Ubbts3a-Pi76idbLW_qiZtw8n33mOp3azrHgIz7lOZWG7JlAMIIQUWL23LVG4zH_gWh2eG5xdjCZ9Xc1NoymBbweeYLZcdymRF_is-qa0mNxtZvunWynvI32agJdWtMIm5VQbAal9Ojzydtjmiy9BbSYjHNDn5VDWHpUIGGPZGIBkPThqHp5SawMMKKC8T0EgoOhHiSmqd6WVPdsFtShIoJuySzGT7dW1R3FNysDn68rHAQXU3ob13Nu2WlIcLONa54I-uYtL9CnT294WFO9Jz7yNU9108D3QmDy8ICEeHXmD9RB23ZTANUxHg5aM3lgPvgGgzcz_j6An4VPL1i7z7UxegiVnTTswkZZQGt9WFA7OWuRZVVpSKxWZkgbnNAGWlGGm81ZhuORUWvLyWGQZu9lxYwgOQQxxmtIDBXoaItuBoskcuQkZlzeJkud4RMSDChE5mLagte3o773Q9DvBzGBthxP1Eqi0N45GjhSsWKTaA03_kqrHijKmJV8nZ2pxOIP7hX2smdAWz_FsiesJMBsT5UVpra-KrUPdq1ohTN077lXPdPQCo74aa01AdptSIrLJajHfdOFlNNSFSlC9A=w222-h237-no" alt="SSMS Step1-1 En"><br><img src="https://lh3.googleusercontent.com/VDYwT7kT45aY89H5H2jfgE1-vX9Sc0aEaNzHOAeSMEkBdkH4duWkZxRO2m9_Kj3Td9-olDx42PisB4gc0-NTu6-6lo0XTRLm0538_NZIeElVQ20vy48cLTvhq2_OI95gvkheSGciJaRG2i-E3SbyLyJqsyeUQAKY5Z2gM9fJ-aDptgPwczuSBb7eKky3X88beVKKhykIauOCUEL-Mz8K2WTwgW4Az5_yDb9bJLfjbFf7jK4BaOdfKr0CAA4DdsYxovQRWF8dO-9vKbHA8xelNspWW7LHJoIAjpwhn1cUjgMy9h9lcsHpmIQzyihC8ZE3SnRYsi3C4we0rMenZnrRmiFbirPsKpkxjyHN1Txo8QXza5nNm1y4iCy5wogT-3m0E7ebQkhUQNa2ITv6CZ_uWonq6GZ9cTJd8Vq1aBasxVcQrEHKYcqHw_RK4T2z-r18gRfkRxyS21USpLlr3lN6la-9w4zmjvW3i18p77IZmZvXNSM8zE819y5ldfOxsPek8gF9WL1EzdzSdGwx02c9zDv5yguiFoqhF8wIop1gpZCEsUT8yrjQ34ijT_Traux5hC7NrV8rLeqc6Z2XEEyR5noect1Nw9WU_09envAyeZ_KR5HPP_ST3m3qmyKud4LjForYw_5zeXzdyP3knkoUmFHbHTs7FnRQuA5CpSf_5A=w347-h211-no" alt="SSMS Step1-2 En"><br><img src="https://lh3.googleusercontent.com/q_7n6hXi58asqHSlfjDh2RGf2qXXic3rd-brWJV517AZ3jN3im9OgtqD5LoitgUAshooVjQQPk_Eg6mawaMQhfMnTfN3ByI_uwNzrl2Lr3jCjrKQyfV6d_YvXmnBGISh4nPzTaqkbOkzKLidaRtQwS5RqZV6E1MZzLHiq-Mtmu20cTYdDc01lkE9uhHz6Ft1_yI2rmET-naCpPL6ZMwaGAmyIymu3IIcEY3utdCWnXlpL1OKNfXqfviIZNdDLUjNxDLL4lv740c0NcRadhF0Zb_jhbb7vee7kszF1aJ_9CaoPBCOhZOLlua7vWcxCU0cRdvZzr44QxnITtCNPqYm-e_NopsLtc81NmnFhBf34UwC91-uMCT22L6tgeQRRy2zWis_RAop3_KGh8NKRR0eE2c2PdlD_HP8mAy4xE9kRt-IQBJN1m-7Q2xn6YUt-9YCMWD3UYn7zxNpCrb1RaSDfBhJPGgq5dDEV2865AJ34XXvAXI_Ms2dVKSH81VINfDPnipnC6LeW05qdm546SrXOUiVkmihQ4h9mWQdefibqkJihIOa2bHKdt_rvoWUlunk-g9AvXq5L8NG2k7x-Uv1xWfQjQjttUKEwYLSBbM4ruErkJweqZ_HO20h5P7VmrmBgYCL80g9jdIWkzQDDRjA_3Dz3mt6nk9Z3kOC14hsOw=w382-h312-no" alt="SSMS Step1 Cht"><br>啟動精靈後，直接下一步<br><img src="https://lh3.googleusercontent.com/6iAZzbs3NeID5jr6tuOVMheo1h2k05Sufv1xIENvqmc3Np7A_-K0GlA6hwdHPGXAP8GQfoxLfu8H2NBRzl8t0DzzWrW3V04KpQLU6FqjA1BdJR97OiaZGgwc2QuhbpzY9h4x4XmowELbuXe1IRDwN1TjIjnri51jE6AybtrCp5vX6CrqPpvQRbJY3C-ISZae1Ou3CbpS0RpNW9V0X4wOJqsGAdawwYh84_jpERIqUIWIRie6v79hDhwxDug5rv5qqEwydJECOF6D5pkvVxX-3vk6s-YvGnEe5PQtM7nu9PZYaITlqk7RD-l6peH72ZqQbhUADF7x4X4mZr3LfG-fiE2YPTDnUvUp1h4RqzCiW7DD8w_BjRe4bq6T5pGqT8tvynoHdV_2g9aOBtXYSP_aqPrb6ISG53SRlOUiTW7upVZUUsBpdTkuNGt6PUVsm1ldMjMO4QAp7PjYwv3peCqWT5nlZ-j55H9wRWzA6UIiMWALcWlNtYM979J0Xqi5ARZmSgNNIbUugv1ksxk50mZ6KkeHxk7nU9IIVIYPTg4-vPlflGrm9QTajHg7Tc9kZZdUb0AtZ82Zo7ZfVrZw2y9v-YcTUWVLTz-uCjpf0hh-aqaolvfFM1GaKyyGiSFwrtlr3JfP_sGqnLSxgjiRU2buiHrxFmvWQCgmsa5aYZNvtg=w656-h573-no" alt="SSMS Step2 Configuration Wizard En"><br><img src="https://lh3.googleusercontent.com/PybqHjvEdAiAv6e5gGS9SAmnuQwKIAQP3954lBJeme1Feq2lppNIaHuMd_woeWUqbizcUCqWwlIMG2YMkCMnFS16ChWDLRg3wgVWjfN3gCtq3Qo9YoT2OSSYwLeP-3ahaEeaAyD8SkAhFh4KU80fSlGxaHNOpbRZBFUisoBCJsWupbsBsxQ4jAzkzYZcIPgEkl6JWvdl_Vnh8WKVz0KCITyXfeiUM0H8orVApBWyRIaCseeXUDUlv2g0t7mZUcH7vJogZO9oBBX1P2iWeDm_4qAE4yvEg4kP_vSI-iTR6hJZY3250LP8KJnlNbQnkZ-NXGiliaJEhVJ-p-H4PPgVnWJLo8X-TteMM2Tk85KmZLAoJ_lRL5oYA3t8tu7zXjW6koa66LeuIkRob8k8ce4nuoRska2JsF-5yO3VzHdGJLvTdgyB3yvP5OYeX1P91QNcvVyLj1WRh58Xuz8Ak3Mz0jIq6G243h52Kts5w0O2Mkk--8r5ZCCWYZm3B7zSDHZ2BjRpwsYBd6OfQilUkskb5iK5J8QNuSgJDw-knS7rFU314nqfJ2WQnJvCHFOgWITi49LIEQ5KSnsnMzbZRYUI-e-aDiCTI7qWPXAjj6m8n9pA3gv1HOcJVmsI3zPpfUmooDdCASVespI3eBSrA4VAAFsmm73MluDvrQYYHMjJ-Q=w652-h709-no" alt="SSMS Step2 Cht"><br>接著輸入設定檔資訊<br><img src="https://lh3.googleusercontent.com/gsH3IFxqXZJRfPvZcZn5v06PLiYS2tO3TqUeBw26pWBHKnY8IyZXoBrlAjZuSn8kZ7wgNW1hMMBXtDriurMjf427ZW7pNRZlMzfqYtApXDPn2_m37Bi3G4UtP7QAPj388_QzeOz_G8tBSEQXSXT9bOt_yoOHrTjnRke5bWXzSnzCSfRcTyrIeAf2rsO3-BZBLo7FO8AQzZE5mXLi-S2PqPGyx2z4G-XZ_8sCrs8NnJrBvTI2dLoaUSi1wydTqzvidPYMNz4VMNnqIp5JcBDZqaDyWEBidwRFoK5fAt0eGZ0MhbYGRuLol2AbCQCts8WSGT3mw1XaSSRabO6TPJj5cXDjKaYoJgr_4z04LtSk3faOV55bQgDR-8NSDr0k3OJokk5q3D5eEMOXWgmFhyvcMYNt_GphDCnA00VkG4MLRDMio94tJm4cgVUjaI_j4NRfNi85fZK57urxWumXpa2LXxxVn4J8py5w6AfleqVqQTOHdrjKzBKoYmLeWumED4HslktAFiRUACk0oemp_C-X-5T37-Ezrxi06nrPEcG_coXAdBr4xcdMKm_1zzJWIkt2QJf-28P-1J1tLFgGBavGtGqKgyB7urrMZp3j40tQYeyUYxJmIp-e1AZOqjgp_B001eP4Qct_UuhuOkZhNdnrBidRPoGBzwcZhN1vnBHV5w=w383-h115-no" alt="SSMS Step3 設定檔資訊 Cht"><br>新增 Database Mail 帳戶資料<br><img src="https://lh3.googleusercontent.com/huxWDb4oAh9oMyIpX1d_M7FMmv3qR0A2yQUJ3GHZNp7MTJDryHNzCq6YMgnbIzQzlThW9dNyLCkT85B2KzgwmGNpBXSceRDnCA9nINVm1o8gE4PCGOQVLDGH9McJ8Q7OSddFqZAzzBCOVbfvxAO3KnD_mQaDdCLJQwPwFiPq3Tr5oxpauY3DVvKMPAq3EMoFtG3H2ZvnXly1GvDZ_KhX6qHIfsfjh0F7uHKWKRkLITqsqL4vwW0YgGzR57C8HG8hA4ayLXxCZhyvIIqzBg6RQXjYQB5GFFJWTuzn2U_Hnr1VD6J75_9IWGYBDQCFDTtgbfko-p_vNfHqk5QgtiO7GnddOQ6AxHJjMb3CrvDiCiklQUQq_2bpwQRC-_JdGvynHrsm_oswbqn4k-QI2J7KS4IZeXAzYcheePqeoUVNaNJWRZJGYgcf7nTS5VTfl8OXTDFY9CMVuYOtAwmyRQT02G2i8SG7X5uRgPL0ZIs1VU64R4jLd0L3I8hriwRQd2Aq9R296FFeJ_KJViWaw_oosAD9talOKVC96seTWjC63mcpbre0d5CaaRrjxmvQgirR9GO1Ku0i99GlRMseA42Cqz4rgquNjX-3Y5TU5GgKqX0mXeB-LrTJiScjBIyYYevbq8hYlBHDQKvdOIp3759QL1fgtN7XRITqpPUz1b5mgw=w583-h625-no" alt="SSMS Step4 新增 Database Mail 帳戶 Cht"><br>設定帳戶資訊，接著將帳戶加入到設定檔，並進行下一步<br><img src="https://lh3.googleusercontent.com/PYj-yG8t7jnKtOsSrs6RBMi7qDnCtGpPfogsOIx6zPD2WVh9GckNEUAfT1MiDTMFoWZCJ8Kn3XtMLb1gVZWCcowp4OVznlfCJjTkW45fXyHvGtNMy7bYfMZvvGvAdY6zcpBfiKyalhPp_R2Gl9BxzRWzftqAdqrzh1pVo0dnl_37nYG4yvNCFOUKOP8sM6pdim1Ggt273NiqOjSUlrMIgAnmicaGR52EzldqS0kTUc83GrXCLqJ7iBvN7gZm06gaCodw5OEt_xgccjWqEh1pD7VgyZeqOO3UqhRvg55MIqXAnQ2_WfMNty_TpuxDBB6On_eOdHxDXqrrhdtcKCDuS5olNPXEZhscv-XjUAubzAiJBDvHlVRl4p0IGIryjj8Gy9yRdZooeklK3m_fmvpUe8VksKz6kbfDkoWclqRIa-7YKho548xYVRoHUUArjBEWeEbJTI0l1VVuJmAyPjFkavdOgVkLH0p1asgACkuf30HOEB4AS1IaGjTsiK89dlXYQj-cmFtJU-ul3NRUdDl1b_VfFRAgujnHl3VJUy4UnGCgpblWci_iYkS_IbZkaRcWG74D16irNL1YX19cLShSiyrU3tNfXT9yradLJtn9NcbklpkrrxEiTG1s8nm8SvcgN7sVakBfkN2ficK3ohZZdwdAwQe97zUixNL8RMEdIQ=w594-h273-no" alt="SSMS Step5 將帳戶加入到設定檔 Cht"><br>勾選設定檔<br><img src="https://lh3.googleusercontent.com/nhzcPn0T75wCa669x4tnXZ1-vUSwfmwEDGRGrDI69fDwvqqhupiqBmdM879_GtdY5kW23pnzkmKGzfBJEoyl2da2u8txji2uwBDlSneQuzE3gnSWsvJWrv47f3F3tDrEgNOU0GrCMmUDKPwYm9gtQMSz3ICHzNp3RU89RZcbqhIiPrbDpWKOFOco6VNzNZYW-CWMYikT32ZNyv4YIu_3IU_yjH1TFSHBb8TWfGLGZjx-H4PAqsT0p6drS6xJmooqrTauEJ4zhvYNMN3A__ET_2Dmbrtj4X4oGjGJWF2432XzarviNn4WG8nEXjiUwLtVGpYe1EwaE_w2gV5YVrsYFZWBK9ixpqEoJljXjQJ0yFDMHAMm7ImN9sQcatrHU5wZKoLf2NNhPc5v6U8gUuPNMM09IyMCyGj2gyj0Egc5fjB1BFnDhZD8tgDVsB-bZykAKdCl10bSffO_FWrmyL8wmDUemF5MYTgLWzaFX2ETtMy2aVuIU21hc4LX_N-GUrWI3mGR5IQpsA5hm5GWIj0l6qdbt5OYxz19COGgAQIJRI_PiefNO-GfNjVQqBMMl4FAYRb4GgTj2bjwvlBhBYKwpYrfD-xadZ-BdqEEBkikTPJamiKECi1ssw-BnLI-c7gNmI6HF7FsNEkaCgMSnNGBBPMmUsdANPxv6pFk8LXk5Q=w652-h709-no" alt="SSMS Step6 管理設定檔安全性 Cht"><br>設定系統參數可以不用變動，直接點擊下一步直到完成<br><img src="https://lh3.googleusercontent.com/4tyt_bufmq-4RhRiyzgkM5yvgWk3OBXKw9mtn0HV5ITtN9wKAcDQFi2BtJ8YpfkHZWkYWULkzz2eNrgbUUUO2UgHXCX_qWePDx5IwaFnyj7vpSjZZywIcgez3irrx2MhYcnpa6TU3xAt6fr3X6lSkO3qHcwpFfYNP8RMCJUfXDBG75pKdRahTWNUgUeAfv8gUdqz8yoWakUY-iPmIePdZB_KWFcqQmKSlUczmbcDqpeQDJaI-N8kK4fPHLMhN1jsHUhbK90tn07ASPfzkXwgiyYOqkun6R_c6LS5BmnsFTdZfr8lWOmzFAdmdmkTfNOoIISuZ6yBRltwdXGmR_8bOffB0GTcNuBHWEKXXMeElp8FnGWa0m82G5UjqHv1VeTItVbufdS5syUjWfpNWU57JSkXJhEH0xNA-Lb9mvvf8mdzFx-pOyRYTD1lWOC8hsuqiWUuiIgv5RyAstfP7q9hSplBMMIy3lwWiiO_Jg9mcX17D3SaJhycRvAr_LQqpjgr11iuhr9DveWFaSqP_hpJXac4U9KT0oTksSBxit-0XgRhv3xlofMtrvJ4f8Fx_9mjYqzvchIWVnW0Hey_8McaEwLlal6CRu6lgImgP1LUgSo1YMTl3EWLWNhJGcN0g0RXTcC6LegcCnTZOe6nsgeLKJYYMcjiKFJqSaKea265Jg=w652-h709-no" alt="SSMS Step7 設定系統參數 Cht"><br>設定完成後，點擊關閉<br><img src="https://lh3.googleusercontent.com/eW7ShL9LZlZBxO56TDJWS5c_mjGs2QvqqzKsSsfBDEuBMw6OtZhCyRiihHPeMF2V90-UicXVxevQoTLv0v1JThu3FUiqvDOCHqirOfdYrPiK2noD0g1nsG8QPmImBnwga5FrvpdyoohCs1laKqzuf6vYP6AKQiSP_L91tEeHocjglg631yQ5h9D8XRSIj5xv8F0xeY9aMDzTyY25cLexFb57Yvwx2xythg1f_xho_JLa8ztBktR8hWyrlSoDqsy6IrmW5xqTayOxUDngKJWbUpDBkcRYLdmr7795dOa9sRde_MvpAU7oe4aPVCMbucr5mork6xpL8OtAU82qNB5UcAq1dozMFbMJUWvdY2d9JRNBEGvHQJ2H8ikyLJ7O2zTi0VAxDhyx_fgxnBoCHIppyE40MSmliCOXWl0zWpS9JloqB7BgsHsNaEebaDj4jvg3HiuxGgCCLnlyv9PHEkbBljqKo3q4mCCeA8B-YpoDmGClge9BEvDq03cigfJDwPODMyWKiOyn9BZQrQ08gwhjqevBc0bBkRpZn13MAYiYL8auk0sgSkyaC4GkwtB9DAq9zLYOB09mlIqobptLFwSQdO4kL1Ig5L2RtvamH2mj-xGeDkhyvncU4kiNEhVYdhddHoNcUg9wpobyLPEvzvMEF1mVRd14oHNZONDPTY6nJg=w652-h709-no" alt="SSMS Step8 組態精靈設定 Cht"><br>這樣就設定完成了，需要注意的是，登入的帳戶權限記得開啟系統資料庫<br><img src="https://lh3.googleusercontent.com/GsvjjP48GmQAbA_Gtd12O3fp2U4GhxJpzEd6wsEBWHEOH6aU4JQMwTXzyk-_rqJ4-x4Be90wLMIAs80povOjpBp94odztcuRkvcxhwJPARW5J9M_k-SKQBftMFGOXbxGi2xceoxbdxc-VfJGKkKttRVEyPGAo9kL5UXU2pBxLoKpuzPPlp7WqJjYhm4atb2jBou0f6MRzMZQkqP5hjQzRwthWdqvZsXUzunNs7QQW-F1CR5N5ph5-RAwSrvPTKWeY-UxK_3RKK3PMSA3s7zwBbhRC0ySlTmjSWemBeqlVyPMGmygqly7SDn5_Jof73_GHBJBzpPtcXamee7mqV1ETqB4MvIoVmUoA1k17WT5Y9Inqf82Y-s7O-a9UOMBCvpEk4T8_F8KPl7DXRtAs1PLdAnnk8QVvJawdq085bIpr5NZ5hVL7v2DJcntnS8HaRVOefwF7U-zzQHcbNlT7ghxbcqTaAH6DsUAPda6VAdcVctf73ujV-DY7vmH9ptBfEo0Se7pK4UOataOPPLcDOuyNu3M9Ln4rqvfxfpkuaOtkFitXJuyIaotc9jlT58QCNmtQTCV6R5sKfkoJkyN5iKEt_8apvHP9mVKvw_WLjXCc0mmmT7W0R2yGg4Tz5vDUxnbuYKNZbv3dJAgj3T5jl1mMCBr0CtHQlGfvXwhVWVkEA=w346-h444-no" alt="Security Set01 Security Properties En"><br><img src="https://lh3.googleusercontent.com/SKr_4s4cePLMtU1xkQPRjaEZzI7_6ZLRcgIm_5QLp6Ovp49AodV8FXvL0cbKqf3RHiWiuf9I_rXdaFIy_t2yfpflyBurigNWtFTMVjM5kat4_YrmuaoHnpNmJ9Q4RL3LKPHynKVdntiwXpoWZDpHGtN6omN6ckZ3_ObPk48IRQgvVI073D9hHyA9RQ6VDtnHwX-N2_DZ-RAiK0asXZA24XtTLN0tyXCLwT1fGo7510WXXYWOnOo1_3TiE7-k99KEbU4p0oFUSEFPkENQ4N_3jIsNW8XPL4NWHpV-YGJLsMAZSa-vvpxbMH64koWDJr3fOldfCX7Lnrs-LIoxwZ49XcIV1mm_H6VURB7SEm7VUetA5r44w1byFVAZDtI8J28z35tLYSo5Lau2VL9PsJaDcwJ-rB8H2CfKZEGYKU4jX_Cm-fgOqGb1Hkyzq0rQjSsTOEGGhBxXMIjYBUBTBEiGLXYdiTNAChCT5zmkLPhSwa6WTYovnJoKsXwCLMe3stnU4MpLfUHfOioVhbpDioRrCYyhDF3xcor8Yg4OMSBLnBDKbiU5UsYnDIvKzogVbkJTcdI47-Ftz3b-8jV1qxibFVD23hhRSQINmpGG8S2wIqNJMCf-MGJDZyIPRVM6TDRhksVYqM4p5L1b0XlM7SQXplrljSMIzcQBQzXiZ46kGw=w763-h661-no" alt="Security Set02 Login Properties En"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>SQLCache:<a href="http://sqlcache.blogspot.tw/2014/11/sql-server-database-mail.html" target="_blank" rel="noopener" title="SQLCache:SQL Server Database Mail">SQL Server Database Mail</a></li>
<li>CODE PROJECT:<a href="http://www.codeproject.com/Articles/1028172/Sending-Email-Using-Stored-Procedures-in-Sql-Serve" target="_blank" rel="noopener" title="CODE PROJECT:Sending Email Using Stored Procedures in Sql Server">Sending Email Using Stored Procedures in Sql Server</a></li>
<li>StackExchange:<a href="http://dba.stackexchange.com/questions/83776/need-to-send-a-formatted-html-email-via-database-mail-in-sql-server-2008-r2" target="_blank" rel="noopener" title="StackExchange:Need to Send a formatted HTML Email via Database Mail in Sql Server 2008 R2">Need to Send a formatted HTML Email via Database Mail in Sql Server 2008 R2</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>DbEntityValidationException 取得詳細錯誤訊息</title>
    <url>/2015/11/26/trouble-shooting-DbEntityValidation/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>EF(EntityFramework) 的錯誤訊息通常都要在往下挖才會找到想要找尋的實際錯誤資訊，沒想到現在6.0以上版本有這<strong><a href="https://msdn.microsoft.com/zh-tw/library/system.data.entity.validation.dbentityvalidationexception(v=vs.113).aspx" target="_blank" rel="noopener" title="MSDN:DbEntityValidationException 類別">DbEntityValidationException</a></strong>類別，好好記錄一下。</p>
<h2 id="問題-amp-處理"><a href="#問題-amp-處理" class="headerlink" title="問題&amp;處理"></a>問題&amp;處理</h2><p>通常我們碰到 EF 的問題時都會以下這樣的情形，真的是很難處理<br><img src="https://lh3.googleusercontent.com/XNuVrryPuJGbkdZTSsymq5b76C5Uhm2YdrCwnx30m_VZ-i9M5-esZYithBQstvSGR7re5LoM6Ss8b_y35FGo-XY_8ZHzBqyHEIdNjnrfvF9V6x8KECvbR8r5c7TBuBxRinCoUIlU-LBy5mBlCZutmCmjj97fyq40qXoIqK9Qw0bcBbXzrydAXXDjrjV2nsrc73yFQB3Rg1d6w4rJr1vI3iBEg9WoOY1lowcLvv6Y-fcVJfdR1HsQfLBjmyuOpgRUkSwnG-6V2AXGW2gzBTJ1aa1Uy7YFn5dH7McrhjV0rNqHeGBBaKYqoiNkG5dnrnY86F_vwnuRGo8qxx7qpIs2w2ATirJccfhYEowaFoIjkueNM0GWUQ-pfW5vDAbh7WZPfehMRGNIHipUZrTBebke8q4_xjO5k8kIwwY7qk3g-MyS-lsktgqDdl6wGilzrqKFx140N7FDRBx_vEnKDM5RKyuSBz2DrCZ4ylSIK7A-5ZwmNbMQIod1lu1AiwTy8p0-Wvj9mTLikvs34gwRupt9YpZXBuomcz-g5ElVBNDOe0De6z7VXDplobxM4tzLzTjQqdz-Up1ZB6-epODz8DHTpwiFlmZJ29I6NE-pGQ4k5XayoiJdUwWmhCr1Op3D9f7dX344u1ZChHt1zCw3Y13cfzfwS-fp43G71XOt50BJAQ=w554-h531-no" alt="Exception"><br>要處理這些問題，要嘛就是多處理幾次，就會知道問題點在哪裡，不然就是裝些輔助工具把 EF 的訊息拉出來查看，現在有這個<a href="https://msdn.microsoft.com/zh-tw/library/system.data.entity.validation.dbentityvalidationexception(v=vs.113).aspx" target="_blank" rel="noopener" title="MSDN:DbEntityValidationException 類別">DbEntityValidationException</a>類別可以快速取出想要得知的訊息。<br>使用方式直接替換<code>Exception</code>就好，例如：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> objectContext = ((IObjectContextAdapter)<span class="keyword">this</span>).ObjectContext;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (EntitiesHelper.EntitiesSetting.SetSystemFieldsEnabled)</span><br><span class="line">    &#123;</span><br><span class="line">        SystemFieldsHelper.SetSystemFields(objectContext);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">base</span>.SaveChanges();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (DbEntityValidationException ex)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">throw</span> ex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是這樣的方式，請看以下圖片，還是要往下層撈取<br><img src="https://lh3.googleusercontent.com/I2fdhUikVV1OXA02aWX3d90iy7TLcbz4lZvof1boHmjfUC6ZL8LkR2P-A60YLLLGy4POqoSIImq9cWxi6sR7AScQrs30lphjmESwyI1uBCQ9nV-2n1C5ztBy9jDfC7vA-Br2UaSJ4YXZMmg__ZbmzIvpV7V45eJ67XLr9EflnzyT9Ok2b4itQeQ5sOAimH9jXjQajEoYfbBjiPhKNVDguS6rFK0f2oCse3flA2xESFv3Tc8XO1Hb2h-VxapRnBTxbPRY4x0QMsWgpI5LtUKa3saLHOt9BE6l-ScfH1tsqXaVq7HgynknqI3sfjPZQPbYkS_RKORh6pAWMEhL6QdG61Prq7tx5HOJ8C8dTmmCNRA9jp6TGAyq9pw0XgmOeh6uieAyLoJ2563-HAW9KQOdFNUoVpwM_346lDFw8KXrEYPMtzXiw9p1CiQ6o8zsAfsmasxEl2w0KMFmAjFJ17cjwmo9-KtG_z_ujp1NVTH4gelOGtdzy2kt1S8Qtcpmp2B6SLrJOsH7oUC55rtHmRgV57ktVHL3BnqQnaLHYQL71UoUuLKw3pVPn5Idr8XO-SB8wAd5eiUP8ihfwRkQySjWBoJD-ZzApSjE7a2-dhr_sIKrKvhY9d41_Wtvf27fo2DQ0J1PNRNeqUkAut4owraMLWLkP6kqsPrAiJX4tENOXg=w461-h180-no" alt="DbEntityValidationException"><br>所以，可以稍微變動一下，讓訊息出來的更明顯，詳細的步驟可以參考<a href="https://www.dotblogs.com.tw/jaigi/archive/2014/09/19/146616.aspx" target="_blank" rel="noopener" title="E.K 開發紀事">E.K 開發紀事</a>或是<a href="https://www.dotblogs.com.tw/wasichris/archive/2015/01/24/148255.aspx" target="_blank" rel="noopener" title="搞搞就懂">搞搞就懂</a></p>
<figure class="highlight csharp"><figcaption><span>stackoverflow</span><a href="http://stackoverflow.com/questions/15820505/dbentityvalidationexception-how-can-i-easily-tell-what-caused-the-error" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">SomethingSomethingEntities</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">int</span> <span class="title">SaveChanges</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">base</span>.SaveChanges();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (DbEntityValidationException ex)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Retrieve the error messages as a list of strings.</span></span><br><span class="line">            <span class="keyword">var</span> errorMessages = ex.EntityValidationErrors</span><br><span class="line">                    .SelectMany(x =&gt; x.ValidationErrors)</span><br><span class="line">                    .Select(x =&gt; x.ErrorMessage);</span><br><span class="line">    </span><br><span class="line">            <span class="comment">// Join the list to a single string.</span></span><br><span class="line">            <span class="keyword">var</span> fullErrorMessage = <span class="keyword">string</span>.Join(<span class="string">"; "</span>, errorMessages);</span><br><span class="line">    </span><br><span class="line">            <span class="comment">// Combine the original exception message with the new one.</span></span><br><span class="line">            <span class="keyword">var</span> exceptionMessage = <span class="keyword">string</span>.Concat(ex.Message, <span class="string">" The validation errors are: "</span>, fullErrorMessage);</span><br><span class="line">    </span><br><span class="line">            <span class="comment">// Throw a new DbEntityValidationException with the improved exception message.</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> DbEntityValidationException(exceptionMessage, ex.EntityValidationErrors);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.data.entity.validation.dbentityvalidationexception(v=vs.113).aspx" target="_blank" rel="noopener" title="MSDN:DbEntityValidationException 類別">DbEntityValidationException</a></li>
<li>搞搞就懂:<a href="https://www.dotblogs.com.tw/wasichris/archive/2015/01/24/148255.aspx" target="_blank" rel="noopener" title="搞搞就懂">查看DbEntityValidationException發生原因</a></li>
<li>E.K 開發紀事:<a href="https://www.dotblogs.com.tw/jaigi/archive/2014/09/19/146616.aspx" target="_blank" rel="noopener" title="E.K 開發紀事">Entity Framework出現Validation failed…</a></li>
<li>stackoverflow:<a href="http://stackoverflow.com/questions/15820505/dbentityvalidationexception-how-can-i-easily-tell-what-caused-the-error" target="_blank" rel="noopener" title="stackoverflow:DbEntityValidationException">DbEntityValidationException</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>EntityFramework</tag>
        <tag>Troubleshooting</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 函式的 Hoisting</title>
    <url>/2015/12/11/function-hoisting-in-javascript/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在看<em>JavaScript 設計模式</em>這本書的時候，覺得這邊整理得很好，想要筆記一下。</p>
<h2 id="函式的-Hoisting"><a href="#函式的-Hoisting" class="headerlink" title="函式的 Hoisting"></a>函式的 Hoisting</h2><p>JavaScript 在函式(function)有兩個重要特色</p>
<ol>
<li>函式是個物件</li>
<li>函式提供一個作用域</li>
</ol>
<p>而 Hoisting 特色就是函式(function)跟變數一樣，也有 Hoisting 的特性，就是所有宣告的動作皆會提升至該作用域的頂端，而函式(function)比較需要注意的是，<em>函示宣告式</em>(如下所示)也是有這特性的</p>
<figure class="highlight javascript"><figcaption><span>函示宣告式 </span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>另外比較需要注意的是，使用<em>表示式</em>的函式</p>
<figure class="highlight javascript"><figcaption><span>表示式</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>使用表示式其 Hoisting 的只有該變數，跟變數相同，函式(function)尚未定義，如以下範例</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// foo is function</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo is '</span> + <span class="keyword">typeof</span> foo);</span><br><span class="line">  <span class="comment">// bar is undefined</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'bar is '</span>+ <span class="keyword">typeof</span> bar);</span><br><span class="line">  </span><br><span class="line">  foo();  <span class="comment">// foo</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Uncaught TypeError: bar is not a function(…)</span></span><br><span class="line">  bar();</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'foo'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'bar'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><p><a href="http://www.books.com.tw/products/0010538538" target="_blank" rel="noopener">JavaScript 設計模式</a></p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Blog 改用 Hexo</title>
    <url>/2015/11/27/Blog-use-Hexo/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>其實使用了<a href="http://shunnien.github.io/tags/Octopress/" title="ShunNien:Octopress">Octopress</a>一陣子，就感覺在產生靜態檔案有點慢，也不曉得是不是在 windows 上的關係，加上之前就有在考慮是否使用<a href="https://hexo.io/" target="_blank" rel="noopener" title="Hexo">Hexo</a>了，就決定轉換使用[Heox]+Github。</p>
<h2 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h2><p>要安裝<a href="https://hexo.io/" target="_blank" rel="noopener" title="Hexo">Hexo</a>，首先必須要安裝<strong>Node.js</strong>與<strong>Git</strong>，不太清楚的部分可以觀看<a href="https://hexo.io/docs/index.html" target="_blank" rel="noopener" title="Hexo:Documentation">官方的文件</a>，這兩者都安裝完畢再執行以下命令</p>
<figure class="highlight bash"><figcaption><span>hexo</span><a href="https://hexo.io/" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安裝 hexo command line interface</span></span><br><span class="line">npm install hexo-cli -g</span><br><span class="line"><span class="comment">## hexo 初始化並建立資料夾 blog(這名稱請自由更換)</span></span><br><span class="line">hexo init blog</span><br><span class="line"><span class="comment"># 進入 blog 資料夾，並安裝 npm 套件</span></span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">npm install</span><br><span class="line"><span class="comment"># 啟動 hexo 伺服器，在本機端檢查網站(預設為:http://localhost:4000)</span></span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure>
<p>這樣就算安裝完成了。</p>
<h2 id="資料轉移"><a href="#資料轉移" class="headerlink" title="資料轉移"></a>資料轉移</h2><p>我原本是使用<a href="http://shunnien.github.io/tags/Octopress/" title="ShunNien:Octopress">Octopress</a>，現在要轉到<a href="https://hexo.io/" target="_blank" rel="noopener" title="Hexo">Hexo</a>上，需要將 Octopress 安裝資料夾的<code>source/_posts</code>這內中的檔案，全部複製一份到<a href="https://hexo.io/" target="_blank" rel="noopener" title="Hexo">Hexo</a>的安裝資料夾下<code>source/_posts</code>的位置，其他方式的移轉可以參考<a href="https://hexo.io/docs/migration.html" target="_blank" rel="noopener" title="Hexo:Migration">官方文件</a>。</p>
<h2 id="佈署"><a href="#佈署" class="headerlink" title="佈署"></a>佈署</h2><p><a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener" title="Hexo:Deployment">Hexo 的佈署</a>需要另外安裝 npm 的套件</p>
<table>
<thead>
<tr>
<th align="left">佈署類型</th>
<th align="left">套件安裝名稱</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Git</td>
<td align="left">hexo-deployer-git</td>
</tr>
<tr>
<td align="left">Heroku</td>
<td align="left">hexo-deployer-heroku</td>
</tr>
<tr>
<td align="left">Rsync</td>
<td align="left">hexo-deployer-rsync</td>
</tr>
<tr>
<td align="left">OpenShift</td>
<td align="left">hexo-deployer-openshift</td>
</tr>
<tr>
<td align="left">FTPSync</td>
<td align="left">hexo-deployer-ftpsync</td>
</tr>
</tbody></table>
<p>我是使用 git，所以使用以下指令進行安裝</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install 套件安裝名稱 --save</span><br></pre></td></tr></table></figure>
<p>附上我的<code>package.json</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;hexo-site&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.0&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;hexo&quot;: &#123;</span><br><span class="line">    &quot;version&quot;: &quot;3.1.1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;hexo&quot;: &quot;^3.1.0&quot;,</span><br><span class="line">    &quot;hexo-deployer-git&quot;: &quot;0.0.4&quot;,</span><br><span class="line">    &quot;hexo-generator-archive&quot;: &quot;^0.1.2&quot;,</span><br><span class="line">    &quot;hexo-generator-category&quot;: &quot;^0.1.2&quot;,</span><br><span class="line">    &quot;hexo-generator-feed&quot;: &quot;1.0.3&quot;,</span><br><span class="line">    &quot;hexo-generator-index&quot;: &quot;^0.1.2&quot;,</span><br><span class="line">    &quot;hexo-generator-sitemap&quot;: &quot;1.0.1&quot;,</span><br><span class="line">    &quot;hexo-generator-tag&quot;: &quot;^0.1.1&quot;,</span><br><span class="line">    &quot;hexo-renderer-ejs&quot;: &quot;^0.1.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-marked&quot;: &quot;^0.2.4&quot;,</span><br><span class="line">    &quot;hexo-renderer-stylus&quot;: &quot;^0.3.0&quot;,</span><br><span class="line">    &quot;hexo-server&quot;: &quot;^0.1.2&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接著在 Hexo 目錄的<code>_config.yml</code>進行設定(不是 themes 裡面的<code>_config.yml</code>)，找到 deploy 這行，進行如下設定，repo 更改為自己的位址，message 可以自己自定一下。</p>
<figure class="highlight yaml"><figcaption><span>佈署</span><a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span> <span class="comment">##部署類型 其他類型自行google之</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:shunnien/shunnien.github.io.git</span> <span class="comment">##git位址  </span></span><br><span class="line">  <span class="attr">branch:</span> <span class="comment">##git 頁面分支</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">Site</span> <span class="string">updated</span> <span class="string">at</span> <span class="string">&#123;&#123;</span> <span class="string">now("YYYY-MM-DD</span> <span class="string">HH:mm:ss")</span> <span class="string">&#125;&#125;</span> <span class="comment">##git message建議默認字段update 可以自定義</span></span><br></pre></td></tr></table></figure>
<p>這樣設定就都完成了，直接使用指令佈署到 Github 上</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>最後把原始碼加入到版控上，先在 Hexo 資料夾下建立新分支(hexo 安裝的資料夾下)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 建立 git repo</span></span><br><span class="line">git init</span><br><span class="line"><span class="comment"># 加入 Github 位址</span></span><br><span class="line">git remote add origin 你的Github位址</span><br><span class="line"><span class="comment"># 建立沒有 parent 的分支</span></span><br><span class="line">git checkout --orphan 新分支名稱</span><br><span class="line"><span class="comment"># 加入檔案</span></span><br><span class="line">git add .</span><br><span class="line"><span class="comment"># 寫入註解</span></span><br><span class="line">git commit -m <span class="string">"chang to hexo"</span></span><br><span class="line"><span class="comment"># 將檔案推送到 github 上</span></span><br><span class="line">git push orgin 新分支名稱</span><br></pre></td></tr></table></figure>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://hexo.io/" target="_blank" rel="noopener" title="Hexo">Hexo</a></li>
</ul>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>DataGridView 在 Winform 的簡單操作(1)</title>
    <url>/2015/12/15/DataGridView-in-winform-1/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>有一位朋友最近接了一個 Case，這 Case 後來變成 WinForm 的系統，他對於 winform 不熟悉，跑來找我一起討論，我發覺我也很久沒碰了XD，覺得順便整理一下好了。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>我準備把<a href="https://msdn.microsoft.com/zh-tw/library/e0ywh3cz(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 控制項">DataGridView</a>的操作當成一個系列來介紹；我會把範例程式丟到<a href="https://github.com/" target="_blank" rel="noopener" title="Github">Github</a>上，然後此系列應該都是同一個<a href="https://github.com/shunnien/DataGridView-winform" target="_blank" rel="noopener">Repo</a>，請大家觀看的時候配合 commit comment 。</p>
<ol>
<li><h3 id="範例資料"><a href="#範例資料" class="headerlink" title="範例資料"></a>範例資料</h3><p>此處採用<a href="https://msdn.microsoft.com/zh-tw/library/system.data.datatable(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataTable">DataTable</a>(因為朋友那邊是用<a href="https://msdn.microsoft.com/zh-tw/library/system.data.datatable(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataTable">DataTable</a>，所以就不使用 Object 了)，關於資料處理的部分就不贅述了</p>
<figure class="highlight csharp"><figcaption><span>要載入的資料</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> DataTable <span class="title">sampleData</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">           <span class="keyword">using</span> (DataTable table = <span class="keyword">new</span> DataTable()) &#123;</span><br><span class="line">               <span class="comment">// Add columns.</span></span><br><span class="line">               table.Columns.Add(<span class="string">"Name"</span>, <span class="keyword">typeof</span>(<span class="keyword">string</span>));</span><br><span class="line">               table.Columns.Add(<span class="string">"Gender"</span>, <span class="keyword">typeof</span>(<span class="keyword">string</span>));</span><br><span class="line">               table.Columns.Add(<span class="string">"Married "</span>, <span class="keyword">typeof</span>(<span class="keyword">int</span>));</span><br><span class="line">               table.Columns.Add(<span class="string">"Birthday"</span>, <span class="keyword">typeof</span>(DateTime));</span><br><span class="line"></span><br><span class="line">               <span class="comment">// Add rows.</span></span><br><span class="line">               table.Rows.Add(<span class="string">"Allen"</span>, <span class="string">"Male"</span>, <span class="number">0</span>, DateTime.Now);</span><br><span class="line">               table.Rows.Add(<span class="string">"Kevin"</span>, <span class="string">"Male"</span>, <span class="number">1</span>, DateTime.Now);</span><br><span class="line">               table.Rows.Add(<span class="string">"Dean"</span>, <span class="string">"Male"</span>, <span class="number">0</span>, DateTime.Today);</span><br><span class="line">               table.Rows.Add(<span class="string">"Jenny"</span>, <span class="string">"Female"</span>, <span class="number">1</span>, DateTime.Today);</span><br><span class="line">               <span class="keyword">return</span> table;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure></li>
<li><h3 id="畫面設計"><a href="#畫面設計" class="headerlink" title="畫面設計"></a>畫面設計</h3><p>視窗畫面的部分，如下圖設計，有些功能這次還不會描述到，但是可以先設計。<br><img src="https://lh3.googleusercontent.com/COImHwdCxJPobHK9TULGkVIpZ5nx8Wv7Z8saqnFt7ItL6d66z1Ntx8V-V0GeQarPzE3VFOHzpEj1jy4VjtJU644Kfbb2PRF59ekcWWOKJzTBJXH2o7azVV34dSqSz1XagrWPFUGHyTi8nzUrOqpDNDpl48BDiQWZc2GGTMkPfBQOpPouMiS8trgFP0HKDI8xrD2XRcL6nWedOGB4rNLS97NVHBOMybzYAVTPcgn-COVw9HA_vIoTmH_K8sUVDgvfagUYJtRIiF5bJnPUZ34ASshC8GASWiHqaGTWHGyxFOC5sM-jGyV4uuflfWSTYtnVclTdiHlMoDWxLgBUf_30riSBlXLd8WHy_gf6OXPEdMtGtK2zIvRudS52eq-NCoVYiTyHLWMQAPq3UJtw5djOBS1I3vsECcjCWoPU84-DcEoZtfTITZfDni78nOj_nx-yc9T5rEUopfCdyEZN5qf9tUsbvrK5X2F4bgYemt-No7h0c-T3XR8LxmEVPkUdJGd4DmRGZCd93qPqMizuIpWMmz5qEAWG9SkWPpa3lmCtUBJq3rsFaLZ3qL7jIFPodsfDh-ZNugr0M05RvJ1UBVNDh5YwCEqOQFwovOEtycIxHeD1L5DsCagtM9wWU54s225amV_6DpDkZXf97WRvai45XFbTo4OBSnlOzXzAI-vN3Q=w606-h502-no" alt="WinForm dataGridView Usage"></p>
</li>
<li><h3 id="欄位屬性設定"><a href="#欄位屬性設定" class="headerlink" title="欄位屬性設定"></a>欄位屬性設定</h3><p>比較需要注意的是<a href="https://msdn.microsoft.com/zh-tw/library/e0ywh3cz(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 控制項">DataGridView</a>的<strong>Columns</strong>設定(此處不自行撰寫程式碼，而依靠編輯器的 code generator)；需要在<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridview(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 類別">DataGridView</a>的屬性視窗，點擊<strong>Columns</strong>這個屬性設定，之後就可以設定<a href="https://msdn.microsoft.com/zh-tw/library/e0ywh3cz(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 控制項">DataGridView</a>顯示的欄位，另外需要設定<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewcolumn.datapropertyname(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataPropertyName 屬性">DataPropertyName</a>這屬性，這屬性跟等下需要綁定的<a href="https://msdn.microsoft.com/zh-tw/library/system.data.datatable(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataTable">DataTable</a>欄位名稱相同，這樣才可以對應綁定。<br><img src="https://lh3.googleusercontent.com/V_3tStyrJWCGD4GyWho6JktkuEO3Q5lsZrfSjvVzWuZ8NdV5BszSFVvy7EywiPaDTUUkaRDphRkvCXopUfC4teeJ-GpuW7QRartPZdFVVkSnThbC5hERC2kHUCkqYKwuD2mV5P1CYHH6VwwKFhPMrSu1_sEk1tA-TaqnRSRGwbikBMvb77VXvTasENvEv0_Vfl7ezOxqvgigUmjV-2zH8CNqFUOMGA6IQIdONJKpGOscx1Sn_qyjG_BJhZss1R7vuC4uP4O4YM07XSru7d8I67my_Me3mSgGTOhej8_CAjMqn57qVRd7tjRAXvVGaHLLikEq77dAq1umwFVD3kQ1GfebjMxQnl32XKBOrS4EtvQHlEFO5Ueg8S73-JjPAm0JK91-9Dvz1LT3JQfTdtUkFp8qpaO29y-v4JSJAQELaH9Xxh61zwUWhcEuu3wOHxpYaVdswm6gRvHyTlUSjmnosAp2b5QzupgXKxv9p7DV9ltAskWlKjkG98tNDdCc2s0k9bVcCvtpLyFHih02XLrHAp5HCKJStrkU9hlNaCmQRjqiANgaDhDTDlTZEvZKp-uwuteW2CPVtyBAd9P8UkpvCvK-iA92xfm_qWyOGYK13k4Yf6x9f_lGVe1cT3yMKXcTk4NEeMNW_06YK6qnHqRo84lrj0ALnnX7roKS0RUs8w=w419-h232-no" alt="Property Columns Set"><br><img src="https://lh3.googleusercontent.com/1F7yFS0PUsvx2uJhLHgxkab8HpYkMBQuus3ZDzgjaQLUseYr-196ZxBhbsgq_x1WHvjZa8zvs-pLlrKDjsx7BHYciW0oM0W9jPyyIUHoUUx9uftkDV98C3wBgVjWnC3ZvElUTdgA71n6dJAjVNVn0MlM_LSjpV30CzMXMsJvnlykKxamzPl7hHzeojhc5FLPP5Y_OUDW7rq7CfYFaFL58XFDt9AlllYX51ueRd6rxacFp1FtXh1EzEAOoMywh79i1XL60-dfrZ7S4GdJfpAOlAdTOUS_uabjAO8E-sfuzohjwkjdUKa3m_LdhkhqcoZdViHX-VCwgE6aJZVobAe6AIloyhC0Sx9R_edMbdQaBkELI36Nc_3zMCFyMfoSsV0dqMdxbJe5qm0jVeMTeAHES11hJv6MtOj9CJX09YfsYaP45BZyZAPKtUZg7S_4lWlMz9kxIXeXTUlwndQ1D9Lgu_Ld7509NnPacypQBt7n-bHkxbWTsLxUkV4lexSqzpxaXQIxPnZjZnldlTm_MEcnOl3tEaF5WHgyBC-3pziV6X2VxtxEXSG-ME7BaDcItvNXmUGgSgrg-o3Z-5jfqXDNp1xvVZjatpBMwmr1PUmLFFUZjjEPHdFuIt4exq2P6vqND0o0P_AGweBUiYWM_MTeC5sf356hiDhdc4NE4b7D1w=w840-h505-no" alt="DataPropertyName setting"></p>
</li>
<li><h3 id="資料綁定"><a href="#資料綁定" class="headerlink" title="資料綁定"></a>資料綁定</h3><p>這部分的程式碼很簡易，直接將<a href="https://msdn.microsoft.com/zh-tw/library/e0ywh3cz(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 控制項">DataGridView</a>的<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridview.datasource(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataSource 屬性">DataSource</a>屬性指定為範例資料就好</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Form1</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            gvSample.DataSource = sampleData();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>呈現樣式會這樣<br><img src="https://lh3.googleusercontent.com/jGvOMEpUFdPKWiuLAmSOW_yXox8e2oP9y66NNTtf_Irub_rU1-cw-eXr1MZaOBkCrM9JwP-FKu-tiApWEJzEWUrdc8-pgMiOrNPvyr6QUrH0xIlkQd_Cvib97nTuBTRiV7QIXsOh2uX5Bnfjmc4TXgjMbkF69QGvWOs6qZJEGN6ppu48QweJvic3b87gLrOmgt0MTMuJeIUgOOtTtLuA90Jwf-gsD7RbMBlGbUv-ggFwZVidA2Mg-brMVr5TRm1Gk-sbogw9CTGyKl4A5V06BABS6JeB_uabViJNxeAxyPXn1BuxLrAQsKUiSY5dpnYxQ18ze1IS-dLvcT-oWeBM8D_RVt-9rM2M-y1HhPllWVBgqi1tsb3GaOraHNjL9ASifU8ca5Ufxu6sD5azsGFoupcYmZIPdBT2ZX81QqkTNEP1hvjbqXP3OgbdPyql2gtAOOLGRgMib8SGKWknwNsrOFxVIEtt7o9BILCB5C3ZlfGyeBp5ZVMpaSJkZz5PszUgw983M3RA9V6gAbjIpdY6B6FnF7JyEQilISY-BPGGK0AhhKc9O4TgrCnxU0COoRFtoQt7UGOdMvqXKqueqce53tuNa9Dti14hQcVgKcFGzC0DsQWcilFIi1HKXTFvgvac4UmkvZZRUC4C4iRhw5O1l19-ir1jWE5PIqccQYgthQ=w694-h483-no" alt="Sample Display"><br>附上 <a href="https://github.com/shunnien/DataGridView-winform" target="_blank" rel="noopener">sample 的 github</a></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2></li>
</ol>
<ul>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/e0ywh3cz(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 控制項">DataGridView 控制項</a></li>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridview(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 類別">DataGridView 類別</a></li>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewcolumn.datapropertyname(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataPropertyName 屬性">DataPropertyName</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>WinForm</tag>
      </tags>
  </entry>
  <entry>
    <title>DataGridView 在 Winform 的簡單操作(2)</title>
    <url>/2015/12/16/DataGridView-in-winform-2/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>接續前篇</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>上一篇進行到資料連結完成，介面完成，這篇開始慢慢來完善功能吧。</p>
<ol>
<li><h3 id="屬性設定"><a href="#屬性設定" class="headerlink" title="屬性設定"></a>屬性設定</h3><p>在<a href="https://msdn.microsoft.com/zh-tw/library/e0ywh3cz(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 控制項">DataGridView</a>設定欄位，把一列的<strong>ColumnType</strong>設定為<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewbuttoncolumn(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridViewButtonColumn 類別">DataGridViewButtonColumn</a>，然後<strong>Text</strong>輸入想要顯示的文字，此外再將<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewbuttoncolumn.usecolumntextforbuttonvalue(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:UseColumnTextForButtonValue">UseColumnTextForButtonValue</a>設定為<strong>true</strong>，這樣在<strong>Text</strong>設定的文字才會顯示，如下圖顯示。<br><img src="https://lh3.googleusercontent.com/nDVSJ7rcHiFlwTqMn-qabJZT2PsG8k7QPUTfTivSu8dnOsAOPiHdQs7IYaJOLJuVjXJLFk6LNZj-bQg1xzDLiRe5saajWtDBrf6y76hJmuX-Uk1bipZlobEOuxxFLVFX3Ls-ZK-N6OqsZB9RTX647ehSYSzStdYZeo2_LI-Q2ZeCiYmzlFw_NCCDNmaawI51COxQUdaXhXkwivEvs9sn224Dghbp6jVc8cNe2bKJr9oWMV1gmwo-uPUtC7fQ0OSU09q7z2qZsEWSC47MBE-7bfYZyKWvWT81eQ73fFrZtjfKufHQF1xf7f0mHicl6Z2tDwrODtkyfMuLpxFLa-_yAy5ni3naFhYgE44xQt9gOsM1_lPMYZRU4Spu62RMs2bqS7s1Ix_06aTfNkjQMnKqGJy-kb8Qe7zoPvVdH-v3fNoTTrsoJAaSWOGxtyN4xrPCWC2j4SExJeFEn_8DDDG2D8H_Rp4B1mNZRt01sYk9k4XrGP7v5MGMM1O1hWGNIDe77JoUi2Bd6VwAhKa1p1s39Lra0o3Vr6AnzB0nz5Xd3fgWzs8SsIkap4prK-6LZMmbigeaCCFdcLUVirDH5BizUz9f2b0o562P5ILV5UcYoPQClq-k1F9S8eEc1FxSrASyQIjJdJZwx_QMuVGZk3OI3dvDCtjN73XHZQrAvtByxA=w524-h405-no" alt="Property Set"><br>接著選擇<a href="https://msdn.microsoft.com/zh-tw/library/e0ywh3cz(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 控制項">DataGridView</a>，將<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridview.allowusertoaddrows(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:AllowUserToAddRows 屬性">AllowUserToAddRows</a>設定為<strong>False</strong>，新增統一由按鍵新增就好。</p>
</li>
<li><h3 id="刪除功能"><a href="#刪除功能" class="headerlink" title="刪除功能"></a>刪除功能</h3><p>完成屬性設定後，在設計(Design)畫面選擇<a href="https://msdn.microsoft.com/zh-tw/library/e0ywh3cz(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 控制項">DataGridView</a>，然後在屬性(Properties)視窗中切換頁籤到事件(Events)，然後在<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridview.cellcontentclick(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView.CellContentClick">CellContentClick</a>新增事件，</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">gvSample_CellContentClick</span>(<span class="params"><span class="keyword">object</span> sender, DataGridViewCellEventArgs e</span>)</span> &#123;</span><br><span class="line">	<span class="comment">// 指定第 0 列，刪除按鈕的所在列</span></span><br><span class="line">    <span class="keyword">if</span> (e.ColumnIndex == <span class="number">0</span>) &#123;</span><br><span class="line">        (sender <span class="keyword">as</span> DataGridView).Rows.RemoveAt(e.RowIndex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><h3 id="新增功能"><a href="#新增功能" class="headerlink" title="新增功能"></a>新增功能</h3><p>把設計畫面上的新增按鈕增加點擊事件</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    DataRow dr = dt.NewRow();</span><br><span class="line">    dr[<span class="string">"Name"</span>] = txtName.Text.Trim();</span><br><span class="line">    dr[<span class="string">"Gender"</span>] = cbGender.SelectedItem;</span><br><span class="line">    dr[<span class="string">"Married"</span>] = ckMarried.Checked ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    dr[<span class="string">"Birthday"</span>] = dtpBirthday.Value;</span><br><span class="line">    dt.Rows.Add(dr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>畫面的呈現</p>
<iframe src="https://drive.google.com/file/d/0B24tdidnsV1vam0zQnNvRnhNcjA/preview" width="640" height="480"></iframe>

</li>
</ol>
<p><a href="https://lh3.googleusercontent.com/-ZkkhY1m-0_ih0B2QEPAwBaOsQIEAHfk1luspxwijTpYEHEFQL7GXEs8E0vu8KETIi3ZLsZICjqb6Ku9L-FUl8hdjpobAHg24O0i_kC-RtDDOWKgt4wre0P8TtxRPpgVhSrKCRbohIG77WkRnf0-pQLVIqPDSOekWW9xFhX5UTfEsaW8aKZNIaPn_3TfGHx5ogpZijRSEXgzLcpPBGF1NXWNcm0o9HvBdmd17szn1tkO3pPFae-xPnsGzgEE1lJf_A-K1Qon21DgDtK4xEEinxNU2jt1oBhjmOERO5G3NYr47lcCBPd4hZ2cpJbyUxo6jebDkR_eKxEUBpC1zMZG7fbvBSphuYuISQXy6w7CKbp2gsRG7Tux2T03DNi-YCo5FWlVOkcE4TPVHe64cO3TmVYRAz_WW_tZeniUzsokNkC0NsYMCUOZwO9pd2K_Vp9McU_5LJsf8ucioHcSgvajWEH4jpUH33Ro1Nh5PHMRcCrfCppgJXWz_2hWeL-clL_LOitZFqvPyYBViwi3L7Kxo-GtWrZeeGOQcF9iiutY2jei5V8kKAkBkQIbMJACCReVZkHbrKJWzipAGjdMzJhLM6d8yIAvVYrGZHt5SPAe28a83NCkvvVD6Tl1m5uzQmI32s3-DOjwjhvPVLq58AjFyA5G9S_hfdho9t5NVGHceQ=w694-h483-no" target="_blank" rel="noopener">sample 的 github</a></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewbuttoncolumn.usecolumntextforbuttonvalue(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:UseColumnTextForButtonValue">UseColumnTextForButtonValue</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>WinForm</tag>
      </tags>
  </entry>
  <entry>
    <title>Eclipse 無法啟動，出現 Java Was Started but Returned Exit Code=13</title>
    <url>/2015/12/09/eclipse-can-t-open/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天在增加一個系統功能的時候，需要去修改一個 Model 的 Java project…</p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><p>因為需要更改那個 Java project，所以直接開啟 eclipse，但是居然沒辦法啟動，發生如下圖的情形<br><img src="https://lh3.googleusercontent.com/mwK3KMsxF7k6LZtTdkT3yaa8U7wznEGwP2urI0aeD2jinGaNTFKvB4K269lL9yS27C6taSKYg_EqK7Cfq4AyDudNaOJoySba_XrLuFen8A6ygWZi5Xr5mTIg57cZQ9ODS4gXICwlKJ9EUfZ8efgO1ZsaBNfO0o7TyGehAxejtQ1jb77w9MffhyeaIxtLYJHZKjQY4ovCXihpHiskIcwVc5CDhqIHeEjZ21K1PEb_CG1p5kOnvgXVDG-UeB9RcH73pnV2eqleJwu9SLHGWtB_dqNnwAmyie7ybLo6et0UJrvdLPAsyX93jYq9ynEr2gX7X9poLZPPHvCWcIf4EzL9xSOcV0trjMJfD5hZ64HVFtQjSCaDBRfnhh4yZedzW6zktgBupyClaV1_uyqDE_-2W7riF4UrzORqBy4VBHooMTvj2ukaT3zEn1qfFfj-D1b5RrUSrQwiX-WQ9Y6aU3XuIqF3y1rd03zc15Z4UaMyEbag0wX2CSsizwgjddkFb1iGDd80fMoFcCanP8sXbiyNQKyhLXOn7SyPMOPCpO-a1e5MQQSqkaF-6zeVx_Kz8MJsR4kRfCFN2kqzkA8C-5KMh2MBb7bMybstTZibaRiJFkKlSJs3NqnR4Wh2IhTS0bUNvrH2h9glLeMgDTV-FrIXNnmlL_PZVmwaw9yXIuNkyA=w690-h822-no" alt="Question"><br>求助了 Google 大神，找到有可能出現這情形的因素有</p>
<h4 id="問題原因"><a href="#問題原因" class="headerlink" title="問題原因"></a>問題原因</h4><ol>
<li>最常見的原因是安裝 Eclipse 的版本或者 Java JDK 的版本不合</li>
<li>在 eclipse.ini 文件配置錯誤</li>
<li>Eclipse 安裝目錄有特殊字元(例如：#、！、@）</li>
<li>使用太新版本的 Eclipse 導致 JVM 不支援</li>
</ol>
<h2 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h2><p>不過我的情形，只有可能是前兩種，所以按照步驟</p>
<ol>
<li>檢查一下 java version，可透過指令碼查詢<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ java -version</span><br><span class="line">java version <span class="string">"1.8.0_65"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_65-b17)</span><br><span class="line">Java HotSpot(TM) Client VM (build 25.65-b01, mixed mode)</span><br></pre></td></tr></table></figure></li>
<li>JDK 版本都有對應(沒對應的就要下載對應的版本)，此步驟我就可以跳過</li>
<li>修改 eclipse.ini 配置文件<br>使用記事本直接開啟文件，添加上一行<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-vm</span><br><span class="line">C:/Program Files/你自己的路徑/bin/javaw.exe</span><br></pre></td></tr></table></figure>
順利解決。<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2></li>
</ol>
<ul>
<li><a href="http://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM" target="_blank" rel="noopener">eclipse wiki</a></li>
<li><a href="http://www.ashout.com/fix-java-started-returned-exit-code13-eclipse/" target="_blank" rel="noopener">A Shout:Fix Java was Started but Returned Exit Code=13 in Eclipse</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Troubleshooting</tag>
        <tag>Eclipse</tag>
      </tags>
  </entry>
  <entry>
    <title>DataGridView 在 Winform 的簡單操作(3)</title>
    <url>/2015/12/17/DataGridView-in-winform-3/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>接續<a href="http://shunnien.github.io/2015/12/16/DataGridView-in-winform-2/" title="DataGridView 在 Winform 的簡單操作(2)">前篇</a></p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p><a href="http://shunnien.github.io/2015/12/16/DataGridView-in-winform-2/" title="DataGridView 在 Winform 的簡單操作(2)">前篇</a>文章已經完成新增與刪除的動作了，但是怎麼沒有修改呢？，其實 <strong>DataGridView</strong> 預設是啟用的，而且是針對每個 <strong>Cell</strong>，可以簡單想成 <strong>Excel</strong> 的樣式，都是儲存格，然後只要雙擊滑鼠左鍵就可以編輯；所以這樣的話，簡單的 <strong>CRUD(Create Read Update Delete)</strong> 就完成了，今天這篇就來把 <strong>DataGridView</strong> 呈現的資料上，變換為下拉選單等等。</p>
<h3 id="添加-DataGridViewComboBoxColumn"><a href="#添加-DataGridViewComboBoxColumn" class="headerlink" title="添加 DataGridViewComboBoxColumn"></a>添加 DataGridViewComboBoxColumn</h3><p>在<a href="https://msdn.microsoft.com/zh-tw/library/e0ywh3cz(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 控制項">DataGridView</a>設定 <strong>Gender</strong> 欄位，把一列的 <strong>ColumnType</strong> 設定為<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewcomboboxcolumn(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridViewComboBoxColumn 類別">DataGridViewComboBoxColumn</a>，因為這是一個 <strong>ComboBox</strong> 所以需要設定 <strong>Items</strong> 在此輸入下拉選單要顯示的文字如下圖顯示。<br><img src="https://lh3.googleusercontent.com/Fx-oeBkbQVFYTIXfPVNKyMzqLL7dcHsIyDV5E_lcjTqdqmTnUPyjNuEfQZzIqIRFV3a-xZT6TSxtoDCsVckx1qe9sXYtJaCDREkzsNntVIV3mDgn5arYmwdyU7wC3LDlNQpBXj7IZZSKVL2RIwt-XXCeFM0APEX_vLQNo4ycNygS--GkZe8RgSgyC5EZqF_fMmEzuWjye4h_ojji1Y_ejGTcVPsMfhgw_mkW9_8ydA15VguBY0mtBJu2KHOrxC5R8CjNGK1fetpbmrtcsC7zQtURhMj8yolNzgLBuOBeBDJYPjCF9eM__TSLcuIIY9X2frCoxWf7CscIma7VB49UU7QlIQZaEENumQ1pqWI0i5yCM60gHJOfCIwaN74wWDvd2Qx9kbM4PNhPsX33ERsHd8fbtm2RDdGyiNzYQdbdb-vGnKsm2ZBKmg8vr98yMq-PmTvrUO28GenjwM7HSgO9ucYMwYDqbtO29tB82h4eloDHH2nJ3n1p5eEq6T7C3N8I9L_inpUehOzoYXxFIJ04Mi1NC9B-zC0J87EZDOh4szQ9zIaGJMGtO-eYeDirFC_3pfEPq0uo05Nr59wpswYK3h7ni7PIu3_eVfaHa4vZmXSePUabamX-tDpipi2y_jZ-a5XzXN_tuKWFXJhU-AfWeoYTh3u7Wdn7P3NaKzmTUg=w476-h631-no" alt="Bound Column Properties Set"></p>
<h3 id="添加-DataGridViewCheckBoxColumn"><a href="#添加-DataGridViewCheckBoxColumn" class="headerlink" title="添加 DataGridViewCheckBoxColumn"></a>添加 DataGridViewCheckBoxColumn</h3><p>將 <strong>Married</strong> 欄位同 <strong>DataGridViewComboBoxColumn</strong> 設定一樣，將 <strong>ColumnType</strong> 設定為<a href="https://msdn.microsoft.com/zh-tw/library/System.Windows.Forms.DataGridViewCheckBoxColumn(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridViewCheckBoxColumn 類別">DataGridViewCheckBoxColumn</a>，接著設定以下屬性：</p>
<ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewcheckboxcolumn.truevalue(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:TrueValue 屬性">TrueValue</a>:對應已核取的值</li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewcheckboxcolumn.falsevalue(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:FalseValue 屬性">FalseValue</a>:對應未核取的值</li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewcheckboxcolumn.indeterminatevalue(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:IndeterminateValue 屬性">IndeterminateValue</a>:該儲存格值對應不到或 null 時，要給予的值</li>
</ul>
<h3 id="畫面呈現"><a href="#畫面呈現" class="headerlink" title="畫面呈現"></a>畫面呈現</h3><p>添加好，直接執行就完成了<br><img src="https://lh3.googleusercontent.com/Xn8u7YmKByJ3A9IxQQ3UIAwMcpVXrbJ7WNHisMpkY_y1K0p-f2UPFQ_bqdCRpPrvZ4AQJ8Q6rofmlqL4AHZ4joyl4CWl3T_igyWZiuOFZ47yl9tBVKYNxDe_-EMWvNknmRXXZHlDFcSgbXdrA0GvhXfzaYnVB3yoIAnnUEVUYiWXZsXx6l8udaQMJrp56sO0N8nbrkX5WpAHLcfTAkbNpFufDTd9KC_Qw3_qlP9gj5zCJbMxwB_wYgSTA0lf6imX2K-4QhBHMCoruTlsKQj2DY9ChKlkrbLxEgns7rkcvVRNokQXyddUyj3bK-dw-t0BRaWyQCSVv2p-bxE0hYvM-bjulZvVAbFxjldQuD7mz6O2CY1qB1JSsMoFRPcR5DWdvpjEJhC3yyGW3lgUytfdsSIiTyqCvnOeFiAElYMaVXbkGPTunUImupU3tlcDSktZgXIac6RkYXDsSxv4HqU2MKbkX7Coulbdp2p6_rJZa55wdHRTgw_TtquobnMSqzGXmX-tLiq7Dzrh4DgHzydKAs8__gQU0vi2ys6J7DOHB_YXmLnXy0Sl26cVTz9QKQWzKwIWBXhmiQ2tRFYozHfGXsknAzjySYk9UJ5_fpVO8vLkkGzF2hKumJY5AxIfwfNaiIW4abmAFmPVboTp7vPXTP-eTynFxhOZz1IfhBYDLw=w694-h483-no" alt="Result"></p>
<h2 id="範例程式"><a href="#範例程式" class="headerlink" title="範例程式"></a>範例程式</h2><p><a href="https://github.com/shunnien/DataGridView-winform" target="_blank" rel="noopener" title="Github:DataGridView-winform">Github 上的 Sample Code</a></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewcheckboxcolumn.indeterminatevalue(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:IndeterminateValue 屬性">IndeterminateValue</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>WinForm</tag>
      </tags>
  </entry>
  <entry>
    <title>DataGridView 在 Winform 的簡單操作(4)</title>
    <url>/2015/12/21/DataGridView-in-winform-4/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><a href="http://shunnien.github.io/2015/12/17/DataGridView-in-winform-3/" title="DataGridView 在 Winform 的簡單操作(3)">前篇</a>文章都是靠設計頁面完成，但是如果我想要直接靠程式碼動態給予 <strong>DataGridViewComboBoxColumn</strong> 選項資料，所以此篇來做一些簡單應用。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h3 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h3><p>在設計頁面的時候，給予這 <strong>DataGridViewComboBoxColumn</strong> 欄位一個 <strong>Name</strong>，然後如下</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">gvInit</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    gvGender.Items.Clear();</span><br><span class="line">    gvGender.Items.AddRange(<span class="keyword">new</span> <span class="keyword">object</span>[] &#123;</span><br><span class="line">    <span class="string">"Male"</span>,</span><br><span class="line">    <span class="string">"Female"</span>,</span><br><span class="line">    <span class="string">"test"</span>&#125;);</span><br><span class="line">    gvSample.DataSource = dt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h3><p>使用 <strong>Class</strong> 撰寫一個 <strong>Text</strong> 與 <strong>Value</strong> 的類別，類似網頁下拉選單的選項</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> comboBox Items</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ComboData</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ComboData</span>(<span class="params"><span class="keyword">string</span> text, <span class="keyword">string</span> <span class="keyword">value</span></span>)</span> &#123;</span><br><span class="line">        Display = text;</span><br><span class="line">        Value = <span class="keyword">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> Display &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> Value &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接著初始化的時候，把選項塞進去</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">gvInit</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    gvGender.Items.Clear();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方式二</span></span><br><span class="line">    gvGender.Items.Add(<span class="keyword">new</span> ComboData(<span class="string">"Male"</span>, <span class="string">"1"</span>));</span><br><span class="line">    gvGender.Items.Add(<span class="keyword">new</span> ComboData(<span class="string">"Female"</span>, <span class="string">"0"</span>));</span><br><span class="line">    gvGender.Items.Add(<span class="keyword">new</span> ComboData(<span class="string">"test"</span>, <span class="string">"2"</span>));</span><br><span class="line">    gvGender.DisplayMember = <span class="string">"Display"</span>;</span><br><span class="line">    gvGender.ValueMember = <span class="string">"Value"</span>;</span><br><span class="line">    gvSample.DataSource = dt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>cbGender.SelectedValue</strong> 就是類別中的 <strong>Value</strong>， <strong>cbGender.Text</strong> 就會是 <strong>Display</strong>，所以注意一下新增動作的時候，要變更為</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    DataRow dr = dt.NewRow();</span><br><span class="line">    dr[<span class="string">"Name"</span>] = txtName.Text.Trim();</span><br><span class="line">    dr[<span class="string">"Gender"</span>] = cbGender.SelectedValue;</span><br><span class="line">    dr[<span class="string">"Married"</span>] = ckMarried.Checked ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    dr[<span class="string">"Birthday"</span>] = dtpBirthday.Value;</span><br><span class="line">    dt.Rows.Add(dr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="畫面呈現"><a href="#畫面呈現" class="headerlink" title="畫面呈現"></a>畫面呈現</h3><p>與前篇相同，主要在程式碼的操作不同<br><img src="https://lh3.googleusercontent.com/Xn8u7YmKByJ3A9IxQQ3UIAwMcpVXrbJ7WNHisMpkY_y1K0p-f2UPFQ_bqdCRpPrvZ4AQJ8Q6rofmlqL4AHZ4joyl4CWl3T_igyWZiuOFZ47yl9tBVKYNxDe_-EMWvNknmRXXZHlDFcSgbXdrA0GvhXfzaYnVB3yoIAnnUEVUYiWXZsXx6l8udaQMJrp56sO0N8nbrkX5WpAHLcfTAkbNpFufDTd9KC_Qw3_qlP9gj5zCJbMxwB_wYgSTA0lf6imX2K-4QhBHMCoruTlsKQj2DY9ChKlkrbLxEgns7rkcvVRNokQXyddUyj3bK-dw-t0BRaWyQCSVv2p-bxE0hYvM-bjulZvVAbFxjldQuD7mz6O2CY1qB1JSsMoFRPcR5DWdvpjEJhC3yyGW3lgUytfdsSIiTyqCvnOeFiAElYMaVXbkGPTunUImupU3tlcDSktZgXIac6RkYXDsSxv4HqU2MKbkX7Coulbdp2p6_rJZa55wdHRTgw_TtquobnMSqzGXmX-tLiq7Dzrh4DgHzydKAs8__gQU0vi2ys6J7DOHB_YXmLnXy0Sl26cVTz9QKQWzKwIWBXhmiQ2tRFYozHfGXsknAzjySYk9UJ5_fpVO8vLkkGzF2hKumJY5AxIfwfNaiIW4abmAFmPVboTp7vPXTP-eTynFxhOZz1IfhBYDLw=w694-h483-no" alt="Result"><br><img src="https://lh3.googleusercontent.com/tpkMY7SlhmIbo_x-ChJqE3Mo5zRqT4krnjBHfTUx3TCztql66Wddb3jUhT5fthH5VdixgfkFAPfjTJnY-qf84XhhU6suzhDBHFranSIz58QuNbz-6RRvCoMxZ4QihKmoJ2Zf7g6PhyOnNttp5PCUgqMDiNvgkGIyO1rpaXd3gQqiiAaCrQoNvk5d5LkudVsd2S8XalaJuxVK0T2WypNFVVkeqVMqh---ts2miUKlmWsyEnw0nIiLJVvWyvGBnPb44E5nwazD-4_QykNYGaEGDFnZpvs7hw6bqMAYi6d2m1PCMu5Q3xZzeLxnik42G-koXyb-EUaeWMnMJepRrCsApYm1yAzZmBf96KSDK2eSREoQwqPQLTIFAGwIYRtiehg8LvjFJil50elUyfONMM-SBfnVFKbUfixEZ6og3DHjvvrapa35fHPfS-rtL-fxDGRj3jeqPGp8aEaQIPT5HhZQy_bz_GsaftYIKAauEfPY7MI00fiXaMwdiUsm2guL3X1WzXaEJK_klic-VVMWmISyTRFNet9gNVPbHFm7q-9e_3WLzxkXRMxaxMABkvoCTLlor_lWRAmsorJbWXaTlBxkw2FDumKKqV5j6wPt3Q9YoQTsReSRXcneFaQYmQ2vggDCR0TROqNillwJx4XaOeCsAoknkypZGS7QocXdQ6rftA=w853-h197-no" alt="DataSource"></p>
<h2 id="範例程式"><a href="#範例程式" class="headerlink" title="範例程式"></a>範例程式</h2><p><a href="https://github.com/shunnien/DataGridView-winform" target="_blank" rel="noopener" title="Github:DataGridView-winform">Github 上的 Sample Code</a></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridviewcomboboxcolumn(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridViewComboBoxColumn 類別">DataGridViewComboBoxColumn</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>WinForm</tag>
      </tags>
  </entry>
  <entry>
    <title>DataGridView 在 Winform 的簡單操作(5)</title>
    <url>/2015/12/25/DataGridView-in-winform-5/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><a href="http://shunnien.github.io/2015/12/21/DataGridView-in-winform-4/" title="DataGridView 在 Winform 的簡單操作(4)">前篇</a>文章主要是針對資料來源的綁定，學會了那些，那這篇就來個進階的連動</p>
<h2 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h2><p>首先在介面增加個 <strong>comboBox</strong> 並將 <strong>Name</strong> 命名為 <em>cbDes</em>，介面設計如下圖<br><img src="https://lh3.googleusercontent.com/InkH_aviwtmndN2GgPf8kYW69_L-9XtcSeeWNYg7cKc0TFiqgH68Fn4GJZqFExNpyEXez4Inx7gvhcI4_qJCXhHgVYkfxg8Gi3wMUqTtYMqvS8EAEaObP4R5liQ3uBwrL389Ujr5fV75w7sERTkX0Nqk_Au8IA9J1FPcDObVIdWmTihskhSfO_isgNo_niMucCSy4QE5VBH3821wZM8yCWV0Zy4gtVSkaa2HVSAHRjjChVKAy_Xa_tvC0Gbbd4cuYMut6tQv8333ymjEhAuXcdngFRWYOuS4uc87i2SgujPiyTVbA-J2-T1N3ghFZdm6rRuohW3LkHfqy5Co5z2MF-N7YEzbxwuQ4drcgGKDezEgyna3ggPMiexkheefRQbXbuyxyXHX_4js2ZASEXIf1ymHtvVkIaHPrc1CKrHVhU86nFct-HjKE38xSI5HeMZr9YElco8wQ62M6UY88mGRBF560YJYFBgDEHWvvvmad1PvsIab9tZQB0yL3GjdUFijHmb7RkLtMZoKc1oMTFD2yG44qGwytlurbYAoYV9ap1jFl5L9y_wD_O_YAt7uR3yqW9u4K-P6sF4E39iMO9pQIqrfvytAjP2mG03k0f5KuLrgArOcRuJADj0NiVWDU-MsyBDzGwpa0VMWcHYY9mIbX3dKFxJQYH3J8euaXkOMVw=w710-h377-no" alt="Design Pic"></p>
<p>接著把上次 <strong>ComboData</strong> 類別變換一下格式，把 <strong>Value</strong> 變成 <strong>int</strong>，記得修正因為格變換的錯誤</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ComboData</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ComboData</span>(<span class="params"><span class="keyword">string</span> text, <span class="keyword">int</span> <span class="keyword">value</span></span>)</span> &#123;</span><br><span class="line">        Display = text;</span><br><span class="line">        Value = <span class="keyword">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> Display &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> Value &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="連動-ComboBox"><a href="#連動-ComboBox" class="headerlink" title="連動 ComboBox"></a>連動 <strong>ComboBox</strong></h3><p>接著先來把剛剛新增的 <strong>comboBox</strong> 增加下拉選單的選項，並讓 <strong>Gender</strong> 的選單動態變更 <strong>Description</strong>。先建立一個不同選項的資料對應表</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">cbDesBind</span>(<span class="params"><span class="keyword">dynamic</span> sender, <span class="keyword">string</span> selVal</span>)</span> &#123;</span><br><span class="line">    List&lt;ComboData&gt; listDes = <span class="keyword">new</span> List&lt;ComboData&gt;();</span><br><span class="line">    <span class="keyword">switch</span> (selVal.Trim()) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"Male"</span>:</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Handsome"</span>, <span class="number">1</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Nuttiness"</span>, <span class="number">2</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Polite"</span>, <span class="number">3</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Burly"</span>, <span class="number">4</span>));</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"Female"</span>:</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Beautiful"</span>, <span class="number">1</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Sexy"</span>, <span class="number">2</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Cute"</span>, <span class="number">3</span>));</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Handsome"</span>, <span class="number">1</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Nuttiness"</span>, <span class="number">2</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Polite"</span>, <span class="number">3</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Burly"</span>, <span class="number">4</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Beautiful"</span>, <span class="number">5</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Sexy"</span>, <span class="number">6</span>));</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Cute"</span>, <span class="number">7</span>));</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sender.DataSource = listDes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接著在頁面初始化的時候載入(…表示省略程式碼)</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Form1</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    InitializeComponent();</span><br><span class="line">    ...</span><br><span class="line">    cbDes.DisplayMember = <span class="string">"Display"</span>;</span><br><span class="line">    cbDes.ValueMember = <span class="string">"Value"</span>;</span><br><span class="line">    cbDesBind(cbDes, <span class="string">"Male"</span>);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然後就是要讓選單連動了，在 <strong>Gender</strong> 的下拉選單觸發 <strong>SelectedIndexChanged</strong> 事件，然後呼叫剛剛的 <strong>cbDesBind</strong></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">cbGender_SelectedIndexChanged</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    cbDesBind(cbDes, (sender <span class="keyword">as</span> ComboBox).Text);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="連動-DataGridView-中的下拉選單"><a href="#連動-DataGridView-中的下拉選單" class="headerlink" title="連動 DataGridView 中的下拉選單"></a>連動 <strong>DataGridView</strong> 中的下拉選單</h3><p>先把預設的呈現資料增加 <strong>Description</strong> 這欄位的資料</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">private DataTable sampleData() &#123;</span><br><span class="line">    using (DataTable table &#x3D; new DataTable()) &#123;</span><br><span class="line">        ...</span><br><span class="line">        table.Columns.Add(&quot;Des&quot;, typeof(int));</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Add rows.</span><br><span class="line">        table.Rows.Add(&quot;Allen&quot;, 1, 0, DateTime.Now, 1);</span><br><span class="line">        table.Rows.Add(&quot;Kevin&quot;, 1, 1, DateTime.Now, 2);</span><br><span class="line">        table.Rows.Add(&quot;Dean&quot;, 1, 0, DateTime.Today, 3);</span><br><span class="line">        table.Rows.Add(&quot;Jenny&quot;, 0, 1, DateTime.Today, 1);</span><br><span class="line">        return table;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private void gvInit() &#123;</span><br><span class="line">    ...</span><br><span class="line">    DataGridViewComboBoxColumn cb &#x3D; new DataGridViewComboBoxColumn() &#123;</span><br><span class="line">        Name &#x3D; &quot;gvDes&quot;,</span><br><span class="line">        DataPropertyName &#x3D; &quot;Des&quot;,</span><br><span class="line">        HeaderText &#x3D; &quot;Des&quot;,</span><br><span class="line">        DisplayMember &#x3D; &quot;Display&quot;,</span><br><span class="line">        ValueMember &#x3D; &quot;Value&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">    cbDesBind(cb, &quot;&quot;);</span><br><span class="line">    gvSample.Columns.Add(cb);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>這時候發現 <strong>DataGridView</strong> 的下拉選單會與新增功能的下拉選單連動，這是因為這兩個選單我偷懶使用相同資料來源，而 <strong>SelectedIndexChanged</strong> 會監看到同樣來源資料的變更，<br>所以這邊進行一下小調整，建一個新的資料來源</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">gvInit</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    gvGender.DataSource = cbData.Select(q=&gt; q).ToList();</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接著來進行 <strong>DataGridView</strong> 中的欄位連動，首先針對 <strong>DataGridView</strong> 增加一個<code>EditingControlShowing</code>事件，這表示當此事件是發生於顯示編輯儲存格的控制項時</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">gvSample_EditingControlShowing</span>(<span class="params"><span class="keyword">object</span> sender, DataGridViewEditingControlShowingEventArgs e</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// 判斷觸發事件的欄位是 Gender 才進行以下動作</span></span><br><span class="line">    <span class="keyword">if</span> (((DataGridView)sender).Columns[((DataGridView)sender).CurrentCell.ColumnIndex].Name == <span class="string">"gvGender"</span>) &#123;</span><br><span class="line">        ComboBox cb = e.Control <span class="keyword">as</span> ComboBox;</span><br><span class="line">        <span class="keyword">if</span> (cb != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// 增加事件</span></span><br><span class="line">            cb.SelectionChangeCommitted += <span class="keyword">new</span> EventHandler(cb_SelectedIndexChanged);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">cb_SelectedIndexChanged</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// 取得現在欄位索引</span></span><br><span class="line">    <span class="keyword">int</span> columnIndex = gvSample.CurrentCell.ColumnIndex;</span><br><span class="line">    <span class="comment">// 將控制項轉給 ComboBox</span></span><br><span class="line">    ComboBox cbx = sender <span class="keyword">as</span> ComboBox;</span><br><span class="line">    <span class="comment">// 判斷現在選取的 Column 是 Gender</span></span><br><span class="line">    <span class="keyword">if</span> (gvSample.Columns[columnIndex].Name == <span class="string">"gvGender"</span>) &#123;</span><br><span class="line">        <span class="keyword">string</span> selTxt = cbx.Text,</span><br><span class="line">        selVal = cbx.SelectedValue.ToString();</span><br><span class="line">        <span class="comment">// 當選取項目值和顯示文字任一為空，就不進行動作</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrEmpty(selTxt) || <span class="keyword">string</span>.IsNullOrEmpty(selVal)) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// 將此列資料的 Des Cell　取出</span></span><br><span class="line">        <span class="comment">// 其 DataType 為 DataGridViewCell </span></span><br><span class="line">        <span class="comment">// 將其強制轉換為 DataGridViewComboBoxCell</span></span><br><span class="line">        <span class="keyword">var</span> targetCbx = gvSample.CurrentRow.Cells[<span class="string">"gvDes"</span>] <span class="keyword">as</span> DataGridViewComboBoxCell;</span><br><span class="line">        <span class="comment">// 綁定資料</span></span><br><span class="line">        cbDesBind(targetCbx, selTxt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>別忘記把新增的功能增加項目</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    dr[<span class="string">"Des"</span>] = cbDes.SelectedValue;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>現在剩下當範例資料載入的時候沒有去將 <strong>DataGridViewComboBox</strong> 連動，要完成這功能，只要寫個迴圈去跑 <strong>DataGridView</strong> 每 <em>row</em> 的資料，然後變動更新就好。把以下程式碼放到<code>gvInit()</code>這方法的最後</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">gvInit</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// DataGridViewComboBoxCell gvDes dynamic databinding</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> dgvr <span class="keyword">in</span> gvSample.Rows) &#123;</span><br><span class="line">        <span class="keyword">var</span> targetCell = ((DataGridViewRow)dgvr).Cells[<span class="string">"gvDes"</span>] <span class="keyword">as</span> DataGridViewComboBoxCell;</span><br><span class="line">        <span class="keyword">var</span> genderCell = ((DataGridViewRow)dgvr).Cells[<span class="string">"gvGender"</span>] <span class="keyword">as</span> DataGridViewComboBoxCell;</span><br><span class="line">        <span class="keyword">if</span> (targetCell == <span class="literal">null</span>) <span class="keyword">continue</span>;</span><br><span class="line">        cbDesBind(targetCell, genderCell.FormattedValue.ToString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>現在會發現，畫面好像還是沒有變化，這是因為呼叫<code>gvInit()</code>是在 <em>Form1</em> 初始化的時候，在 <em>*LifeCycle</em> 上，有順序上的問題，所以將<code>gvInit()</code>移動到<code>Form1_Load</code>事件</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Form1_Load</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span> &#123;</span><br><span class="line">    gvInit();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>至於為什麼不移動到 <strong>DataBindingComplete</strong> 則可以參考這篇，主要是因為會多跑一次，所以才用這種架構。</p>
<figure class="highlight csharp"><figcaption><span>StackOverflow:Alternative to DataGridView DataBindingComplete Event</span><a href="http://stackoverflow.com/questions/24329964/alternative-to-datagridview-databindingcomplete-event" target="_blank" rel="noopener">link</a></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Initialize_DataGridView</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Add dummy data to generate the columns</span></span><br><span class="line">    <span class="keyword">this</span>.dataGridView_Items.DataContext = <span class="keyword">new</span> Item[]&#123; <span class="keyword">new</span> Item &#123;Id = <span class="number">5</span>, Value = <span class="number">6</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Make your formatting</span></span><br><span class="line">    <span class="keyword">foreach</span> (DataGridViewRow row <span class="keyword">in</span> grdComponents.Rows)</span><br><span class="line">    &#123;</span><br><span class="line">        row.HeaderCell.Value = row.Cells[<span class="number">0</span>].Value.ToString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    grdComponents.Columns[<span class="number">0</span>].Visible = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Reset the dummy data</span></span><br><span class="line">    <span class="keyword">this</span>.dataGridView_Items.DataContext = <span class="literal">null</span>; <span class="comment">// Or new Item[]&#123;&#125;;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyForm</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Initialize();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.Initialize_DataGridView();   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最後順便調整一下<strong>DataGridView</strong>編輯模式，不然每次都要在 <strong>DataGridView</strong> 點擊兩次才會出現下拉選單；只要在<code>gvInit()</code>中增加</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">gvSample.EditMode = DataGridViewEditMode.EditOnEnter;</span><br></pre></td></tr></table></figure>
<p>下拉選單的防呆設計，增加以下程式碼在<code>cbDesBind</code>方法內，放在設定 <em>DataSource</em> 之前就可以</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">cbDesBind</span>(<span class="params"><span class="keyword">dynamic</span> sender, <span class="keyword">string</span> selVal</span>)</span> &#123;</span><br><span class="line">    List&lt;ComboData&gt; listDes = <span class="keyword">new</span> List&lt;ComboData&gt;();</span><br><span class="line">    <span class="keyword">switch</span> (selVal.Trim()) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"Male"</span>:</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Select..."</span>, <span class="number">0</span>));</span><br><span class="line">            ...</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"Female"</span>:</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Select..."</span>, <span class="number">0</span>));</span><br><span class="line">            ...</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            listDes.Add(<span class="keyword">new</span> ComboData(<span class="string">"Select..."</span>, <span class="number">0</span>));</span><br><span class="line">            ...</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sender.GetType().Name == <span class="string">"DataGridViewComboBoxCell"</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> cb = (DataGridViewComboBoxCell)sender;</span><br><span class="line">        <span class="keyword">if</span> (!listDes.Any(q =&gt; q.Value == (<span class="keyword">int</span>)cb.Value)) &#123;</span><br><span class="line">            cb.Value = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sender.DataSource = listDes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>差不多完成了，但是發現這樣連動綁定，在新增一筆資料，在 <strong>Des</strong> Column 會是預設的下拉選項；如下圖所示<br><img src="https://lh3.googleusercontent.com/9U8xAcGlIRNx20djuwxbDZF_086qKrRTl4yfKjev15HKqjaENTOlHMHyn7iP8pYaJ_DrnuPd1ge_wmsiv1LsKTeaW9lIg0lgQv3enVJ4ma44kXY6tmDHUgY7u2Y3VdMNUIhqKTUtuav8A_QjfrpPSDX96C-67mzLMlcLnGJQC5zxKdHq1XUnfjkITTVIIWIoIR86_PjobfhV59gJX_o6w0XIKG2xANrD36UvTojQHUimiXrcfK1ZOWLxAldABiuM2ZnsLu9sq5ZWmhujWJfzt1t32prscdXBerPmcfIcCGSPYZQjUADlXy5n6RViWHBYHqgRYQXOk8RBB-uS2Wcg5tUfjPI1QJZ5T4YTtD0HT5cFh8YFGHgYM16C8OdRbbF1ZP__QE4B_hYUdNHdf_SK35wXaTxdxW3DcDbsTLL-WXoNbtH7Je5nqnOWNfzixJd__rCkeJhvoXeMkAO1PLUIT2i5-rIsKhpcS66dkMrrUsuXAoBUXJC1GzPZvr3dT22uDJwfJ3v7Au84MjlpNnBzcskeqx8N9xGIvu22veiGpKNv0QwUf1aKQoCmXmEfJH0jRwtPp5E1672wtl-AehBhWyHVm9vA6PstQU7GwurxskzbXjqKRwNWST9VLR_YoCOr15Q2bFSFzh5VhECVf3Ahda91Cvuw9z1ne9SeIsiScA=w694-h483-no" alt="Error Sample"><br>好吧，看起來只能使用 <strong>DataBindingComplete</strong> 作法，把<code>gvInit()</code>放到<code>Form1()</code>初始化，把原本的綁定程式碼移動到 <strong>DataBindingComplete</strong> 事件</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">gvSample_DataBindingComplete</span>(<span class="params"><span class="keyword">object</span> sender, DataGridViewBindingCompleteEventArgs e</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// DataGridViewComboBoxCell gvDes dynamic databinding</span></span><br><span class="line">    <span class="keyword">var</span> dgv = sender <span class="keyword">as</span> DataGridView;</span><br><span class="line">    <span class="keyword">if</span> (dgv.Rows.Count &gt; <span class="number">0</span> &amp;&amp; dgv.Columns.Count &gt; <span class="number">5</span> ) &#123;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> dgvr <span class="keyword">in</span> dgv.Rows) &#123;</span><br><span class="line">            <span class="keyword">var</span> targetCell = ((DataGridViewRow)dgvr).Cells[<span class="string">"gvDes"</span>] <span class="keyword">as</span> DataGridViewComboBoxCell;</span><br><span class="line">            <span class="keyword">var</span> genderCell = ((DataGridViewRow)dgvr).Cells[<span class="string">"gvGender"</span>] <span class="keyword">as</span> DataGridViewComboBoxCell;</span><br><span class="line">            <span class="keyword">if</span> (targetCell == <span class="literal">null</span>) <span class="keyword">continue</span>;</span><br><span class="line">            cbDesBind(targetCell, genderCell.FormattedValue.ToString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="畫面呈現"><a href="#畫面呈現" class="headerlink" title="畫面呈現"></a>畫面呈現</h3><p>這個系列就先到此結束，之後有其他想法再繼續延伸吧。</p>
<div class="video-container"><iframe src="https://www.youtube.com/embed/ES_sgj5XlIA" frameborder="0" loading="lazy" allowfullscreen></iframe></div>

<h2 id="範例程式"><a href="#範例程式" class="headerlink" title="範例程式"></a>範例程式</h2><p><a href="https://github.com/shunnien/DataGridView-winform" target="_blank" rel="noopener" title="Github:DataGridView-winform">Github 上的 Sample Code</a></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridview.editingcontrolshowing(v=vs.100).aspx" target="_blank" rel="noopener" title="MSDN:EditingControlShowing 事件">EditingControlShowing</a></li>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.windows.forms.datagridview_events(v=vs.110).aspx" target="_blank" rel="noopener" title="MSDN:DataGridView 事件">DataGridView 事件</a></li>
<li>StackOverflow:<a href="http://stackoverflow.com/questions/24329964/alternative-to-datagridview-databindingcomplete-event" target="_blank" rel="noopener" title="StackOverflow:DataBindingComplete Event">DataBindingComplete Event</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>WinForm</tag>
      </tags>
  </entry>
  <entry>
    <title>現代化網站技術分享日筆記心得</title>
    <url>/2015/12/28/techshareday/</url>
    <content><![CDATA[<h1 id="活動簡介"><a href="#活動簡介" class="headerlink" title="活動簡介"></a>活動簡介</h1><ul>
<li>時間：12/22(二) </li>
<li>地點：台北國際會議中心 201 會議室(台北市信義路五段 1 號)</li>
<li>主辦單位：Microsoft  iThome</li>
</ul>
<h1 id="活動議程"><a href="#活動議程" class="headerlink" title="活動議程"></a>活動議程</h1><table>
<thead>
<tr>
<th>時間</th>
<th align="left">議程</th>
</tr>
</thead>
<tbody><tr>
<td>09:30-10:20</td>
<td align="left">現代化網頁開發技術三要素</td>
</tr>
<tr>
<td>10:40-11:20</td>
<td align="left">SASS &amp; RWD 前端版型架構規劃</td>
</tr>
<tr>
<td>11:40-12:20</td>
<td align="left">104 兒童美術館 (cicisasa.com) 自動部署上線技術分享</td>
</tr>
<tr>
<td>13:30-14:10</td>
<td align="left">前端網頁資料視覺化設計</td>
</tr>
<tr>
<td>14:30-15:10</td>
<td align="left">解密網頁設計效能優化</td>
</tr>
<tr>
<td>15:30-16:10</td>
<td align="left">現代網頁設計趨勢觀察</td>
</tr>
</tbody></table>
<h2 id="現代化網頁開發技術三要素"><a href="#現代化網頁開發技術三要素" class="headerlink" title="現代化網頁開發技術三要素"></a>現代化網頁開發技術三要素</h2><p>上官林傑 / 台灣微軟 應用開發技術經理</p>
<h3 id="演講內容"><a href="#演講內容" class="headerlink" title="演講內容"></a>演講內容</h3><blockquote>
<h3 id="現在網頁開發應該注意的事項"><a href="#現在網頁開發應該注意的事項" class="headerlink" title="現在網頁開發應該注意的事項"></a>現在網頁開發應該注意的事項</h3><ul>
<li><p>標準文件模式<br>使用<code>&lt;!DOCTYPE html&gt;</code>作為開頭<br>避免使用<code>X-UA-Compatible</code>標頭，限制瀏覽器的能力</p>
</li>
<li><p>減少依賴外掛程式<br>安裝外掛程式會讓使用者不想停留在該網頁上<br>一定要用外掛程式嗎？找出當初使用此外掛程式的原因，逐漸走向沒有外掛程式的網頁應用。<br>此處的外掛是指例如：ActiveX、flash</p>
</li>
<li><p>避免判斷瀏覽器版本<br>瀏覽器版本不再是重要的指標，因為現在瀏覽器更新頻率很高，你很難記住哪些瀏覽器支援哪些功能，應該檢查此 function &gt; &gt; 存在，而不是根據瀏覽器版本做判斷。</p>
</li>
<li><p>使用新版的 JavaScript 函式庫<br>修正舊版本的錯誤，提升效能，如果你還在使用舊版本，等於在折磨你的 user<br>換不掉的原因可能是用了太多 plugin，存在著技術債<br>使用更有效率、瀏覽器原生的 HTML5/ECMAScript 2015 APIs<br>大幅導入 HTML5 特性的 jQuery 1.6 都是已經四年前的事了…<br>以 jQuery 為例，假如你在用 1.8.0 那你盡量用 1.8.3，找最穩定的版本，但是不要用latest.js XD</p>
</li>
<li><p>減少在 CSS 中使用 vendor-prefix<br><code>-webkit-*</code> 反而成為這個年代的 IE6，減少使用<code>vendor-prefix</code>，新增更多相容性<br>建議查看 <a href="http://caniuse.com" target="_blank" rel="noopener">http://caniuse.com</a> 或 升級最新版本的 CSS Framework</p>
</li>
<li><p><a href="https://dev.windows.com/zh-tw/microsoft-edge/tools/staticscan/" target="_blank" rel="noopener">Site Scan</a><br><a href="https://github.com/MicrosoftEdge/static-code-scan" target="_blank" rel="noopener">Github</a> 上有開放原始碼，可單機進行</p>
</li>
</ul>
<h3 id="RWD-Responsive-Web-Design"><a href="#RWD-Responsive-Web-Design" class="headerlink" title="RWD, Responsive Web Design"></a>RWD, Responsive Web Design</h3><p>以前螢幕解析度還有特定解析度，但現在已經無法預測世界會有多少解析度了…<br>要採用手機用戶思考使用情境，更容易進行設計 ( 例如 table 桌機和手機設計大不同 ）<br>比較快速的方法：套用 RWD framework<br>設計是一回事，那怎麼做測試？</p>
<ul>
<li>手動調整瀏覽器寬度<br><a href="https://www.browserstack.com/" target="_blank" rel="noopener">BrowserStack</a><br><a href="https://dev.windows.com/en-us/microsoft-edge/tools/screenshots/" target="_blank" rel="noopener">Browser screenshots</a></li>
</ul>
<h3 id="支援高解析度螢幕"><a href="#支援高解析度螢幕" class="headerlink" title="支援高解析度螢幕"></a>支援高解析度螢幕</h3><p>新的裝置幾乎都是高解析度螢幕</p>
</blockquote>
<ul>
<li>[HTML5 picture](<a href="http://webdesign.tutsplus.com/tutorials/quick-tip-how-to-use-html5-picture-for-responsive-images--&gt;" target="_blank" rel="noopener">http://webdesign.tutsplus.com/tutorials/quick-tip-how-to-use-html5-picture-for-responsive-images--&gt;</a> &gt; s-21015)<blockquote>
<ul>
<li><a href="https://github.com/scottjehl/picturefill" target="_blank" rel="noopener">picturefill</a></li>
<li>向量圖形，向量字型</li>
</ul>
<h3 id="Touch-Friendly"><a href="#Touch-Friendly" class="headerlink" title="Touch Friendly"></a>Touch Friendly</h3><p>減少只有滑鼠可以操作的行為<br>針對特殊的輸入格式，提供不同的鍵盤按鈕 例如<br><code>&lt;input type=&quot;email&quot;&gt;</code></p>
<h3 id="自動化工具"><a href="#自動化工具" class="headerlink" title="自動化工具"></a>自動化工具</h3><p>挑一個熟悉，生態系還活著的來用</p>
<ul>
<li>grunt</li>
<li>gulp </li>
<li>broccoli</li>
</ul>
<h3 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a><a href="http://typescriptlang.org" target="_blank" rel="noopener">TypeScript</a></h3><p>編譯成 JavaScript<br>JavaScript 本身沒有 Type<br>TypeScript 可以加上 Type 可以檢查呼叫的 Type ， 確認資料型態是否正確</p>
<h3 id="BabelJS"><a href="#BabelJS" class="headerlink" title="BabelJS"></a>BabelJS</h3><p>將 ES6 的語法翻譯成 ES5</p>
<h3 id="VorlonJs"><a href="#VorlonJs" class="headerlink" title="VorlonJs"></a><a href="http://vorlonjs.com/" target="_blank" rel="noopener">VorlonJs</a></h3><p>大大部落格有介紹使用 [Vorlon.js: 同時測試多瀏覽器網頁呈現的好工具](<a href="http://blogs.msdn.com/b/ericsk/archive/2015/11/06/ing-&gt;" target="_blank" rel="noopener">http://blogs.msdn.com/b/ericsk/archive/2015/11/06/ing-&gt;</a> &gt; vorlonjs-to-debug-your-web-app.aspx)<br>同時偵錯多個瀏覽器的呈現效果的工具，使用 nodejs 開發<br>如果在本機跑的話，會在本機產生一個 web 應用程式<br>網站裡只要加上一行：</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://localhost:1337/vorlon.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>感想：<br>大大說明了開發現代化網頁的注意事項，以及設計的重點。</p>
<h2 id="SASS-amp-RWD-前端版型架構規劃"><a href="#SASS-amp-RWD-前端版型架構規劃" class="headerlink" title="SASS &amp; RWD 前端版型架構規劃"></a>SASS &amp; RWD 前端版型架構規劃</h2><p>廖洧杰/高雄前端社群發起人</p>
<iframe src="//www.slideshare.net/slideshow/embed_code/key/3avhl84oYNyNnd" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>

<p><strong><a href="www.slideshare.net/sfismy/sassamprwd">Sass &amp; rwd前端版型架構規劃</a></strong> from <strong><a href="www.slideshare.net/sfismy">洧杰 廖</a></strong></p>
<p>感想：<br>命名與架構規劃的結合，讓你維護更加便利。</p>
<p>補充：<br><a href="https://github.com/airbnb/css" target="_blank" rel="noopener">Airbnb CSS / Sass Styleguide</a><br>bootstrap 4 用 sass<br>bootstrap 5 用 postcss</p>
<h2 id="Modem-FrontEndDevops-104-兒童美術館-cicisasa-com-自動部署上線技術分享"><a href="#Modem-FrontEndDevops-104-兒童美術館-cicisasa-com-自動部署上線技術分享" class="headerlink" title="Modem FrontEndDevops - 104 兒童美術館 (cicisasa.com) 自動部署上線技術分享"></a>Modem FrontEndDevops - 104 兒童美術館 (cicisasa.com) 自動部署上線技術分享</h2><p>李坤承 / 104 Devops 專案經理</p>
<h3 id="演講內容-1"><a href="#演講內容-1" class="headerlink" title="演講內容"></a>演講內容</h3><blockquote>
<p><a href="http://www.cicisasa.com/" target="_blank" rel="noopener">兒童美術館</a>這個網站，導入很多新技術</p>
<p>why FrontEnd Devops？<br>Devops 其實不太會分前端後端<br>但是許多 Ops 偏向後端技術，他們不懂 為何前端如何複雜？</p>
<p>我們需要好的架構，做上線的規劃<br>我們需要瞭解一些後端技術<br>Plan &amp; Goal 計畫網站要如何部署</p>
<ol>
<li>自動化！！！<br>不自動化的話，會非常的辛苦，為了降低人工的成本，自動化的範圍：QA TESTing</li>
<li>需要有好的 JS/CSS 框架，如果沒有的話，會非常難處理</li>
</ol>
<p>利用 HotDeploy 實現 Zero Downtime<br>特性是，上線的話，網站不需要封站<br>如何網站不要封，在部署的時候，那些使用者還繼續在使用你的網站<br>要去實現 Zero Downtime，要做的難度非常高，台灣的網站目前要做到，是完全不可能的，但我們把這個當作目標來看。<br>如果做自動化的話，要 CI/CD 實現隨時都可以上線</p>
<p>500 error 需要被 handle<br>server handlserver error handleing!!!</p>
<p>cicisasa 是如何做到如何自動部署？</p>
<p>cicisasa 做的事情是 免費儲存小孩圖畫的網路空間，保存孩子的童年回憶及創意<br>這個需求很簡單，把圖片上傳，讓大家留言和分享<br>那這麼簡單，就拿來玩吧，當作技術的實驗場</p>
<p>考慮要用什麼 Code language？<br>例如 PHP nodejs 等<br>最後決定是 nodejs<br>因為是輕量，語法很簡單，前後端語言可以相容，可以一致，<br>有相當豐富的 Ecosystem</p>
<p>Ecosystem 使用的技術</p>
<ul>
<li>Database redis</li>
<li>FrontEnd Framework  JS Framework Backbone.js</li>
<li>Grunt</li>
<li>browserify Bower</li>
<li>Continuous integration </li>
<li>Travis CI</li>
<li>Template Engine JADE</li>
<li>mocha PhantomJS</li>
<li>socket.io</li>
<li>HotDeploy naught</li>
</ul>
</blockquote>
<p>感想：<br>這個實作範例的目標是 Zero Downtime，但是大大特地繞了一下，想要當作技術實驗場</p>
<p>補充: <a href="https://github.com/KennyTw/ITHomeFEDevops?files=1" target="_blank" rel="noopener">Kenny大大的gitHub 有分享日的資料</a></p>
<h2 id="前端網頁資料視覺化設計"><a href="#前端網頁資料視覺化設計" class="headerlink" title="前端網頁資料視覺化設計"></a>前端網頁資料視覺化設計</h2><p>吳泰輝/infographics.tw 創辦人</p>
<h3 id="演講內容-2"><a href="#演講內容-2" class="headerlink" title="演講內容"></a>演講內容</h3><blockquote>
<h3 id="資料和前端怎麼結合在一起"><a href="#資料和前端怎麼結合在一起" class="headerlink" title="資料和前端怎麼結合在一起"></a>資料和前端怎麼結合在一起</h3><p>[A 3-D View of a Chart That Predicts The Economic Future: The Yield Curve](<a href="http://www.nytimes.com/interactive/2015/3/19/&gt;" target="_blank" rel="noopener">http://www.nytimes.com/interactive/2015/3/19/&gt;</a> &gt; upshot/3d-yield-curve-economic-growth.html)<br><a href="http://d3js.org/" target="_blank" rel="noopener">Data-Driven Documents( D3.js)</a><br>d3.js 不只可以畫 svg 也可以做數值運算 還可以畫 3d 的圖<br>例如：</p>
<ul>
<li><a href="http://zbryikt.github.io/visualize/banana/" target="_blank" rel="noopener">Banana in X3D</a></li>
<li><a href="http://bl.ocks.org/" target="_blank" rel="noopener">bl.ocks.org</a></li>
</ul>
<p><a href="http://processingjs.org/" target="_blank" rel="noopener">Processing</a><br><a href="http://p5js.org/" target="_blank" rel="noopener">p5.js</a><br><a href="http://www.pixijs.com/" target="_blank" rel="noopener">pixijs</a><br>PathGL<br>PathGL D3,meet webGL<br><img src="https://lh3.googleusercontent.com/opm0HwtQ_CHdY-gaDZwS_DpZZ2xGMZjUXdrUU9TF7eijzueCsPA09g0LvtnNAq5rNN1Pdy_1w9wd7wjbpYYuOto7RzKCtBZu-myJ-5bALbIP1xT_SZATDk7JHghO979LxpnQsOwEXrphf9WVXdROZA22gTRHMdxRRmgF4DCwkS3W105Fkc4M2g2Ns7aTyHyMV7vSgOZfSlyClvOsLqDPX0f07yoqvAME9F2TRsQi_1ASkk5jZ3G2nOf6r5oFzh4imeJ1GiHy_7MlOtIEA4foKVIsIDpfWEanI8JEhxY3q2MTpuoOxx-2m5sK1tbqh24S4CE-ebgo82i9UnsuLlk31rBAIdXNe4ZFXK8Fe4UxSDM-OHhzBniZMxlje03rvOP2Nhxn5vPmJLL_7PARs8Xuo6ns8fq05bvdyNObArV8IZ02cDZPqjxAGnYE9FBBtAUlXauRNGafVGEw0Wv2CdgmQKUoBemzTFCBiKIY3UVvbW69DqqIC0bKaHfL64FrMO6bIlp96mO72O0xg9aWindH5V8UwKoNccJA1y2S6HRntAyGDqnYrBzQZ_w2ALaueDgmNiA1s33M5WcDCPXsaim7klmsTWbEiq89ruLIqfxUNd1DMLoFqG4p2QZnXd_nRDzl0Wj25SCpI6mBDV-ThQDaKiwPYzmwtesDyXREFOWU7w=w429-h343-no" alt="Rasterize D3.js"></p>
<h3 id="RWD"><a href="#RWD" class="headerlink" title="RWD"></a>RWD</h3><p>[new york time example](<a href="http://www.nytimes.com/interactive/2015/06/17/world/middleeast/map-isis-attacks-around-the-orld.&gt;" target="_blank" rel="noopener">http://www.nytimes.com/interactive/2015/06/17/world/middleeast/map-isis-attacks-around-the-orld.&gt;</a> &gt; html)<br><a href="http://guns.periscopic.com/" target="_blank" rel="noopener">U.S. GUN DEATHS</a><br>我們在做視覺化的時候，如果遇到螢幕比較小，可以把相關的文字資訊移出來<br>圖表文字的大小要注意<br>長條圖的長寬是可以調整的，自己去做 scale<br>如果遇到螢幕比較小，手指比較大，我們可以利用切割區域的方式增加感應的區塊<br>當你資料真的很多，但又想要全部顯示出來的話，可以透過 change<br><a href="http://www.foundi.info/lab/badneighbor/" target="_blank" rel="noopener">房地資訊實驗室</a> 嫌惡設施報你知 灰色是墓碑，紅色是電塔</p>
<h3 id="Visualization-without-Web"><a href="#Visualization-without-Web" class="headerlink" title="Visualization without Web"></a>Visualization without Web</h3><p>當我們在考慮視覺化的時候，我們可以用什麼方式讓人們重新去做思考<br>U.S. 視覺化搭配情緒影響力，我們可以發現更多不一樣的東西<br><a href="http://0media.tw/" target="_blank" rel="noopener">報導者，零傳媒</a><br>不只是視覺，還包括聽覺等等來敘事<br>新聞上面要怎麼使用這些新技術<br>新知和案例</p>
</blockquote>
<p>感想：<br>視覺化設計的工具不少，效能與表現效果的取捨得看內容決定，所欲表達的內容，利用視覺化呈現達到加倍的效果是視覺化的目的。</p>
<h2 id="解密網頁設計效能優化-The-Secrets-of-Web-Design-Performance"><a href="#解密網頁設計效能優化-The-Secrets-of-Web-Design-Performance" class="headerlink" title="解密網頁設計效能優化 (The Secrets of Web Design Performance)"></a>解密網頁設計效能優化 (The Secrets of Web Design Performance)</h2><p>Paul Li / Yahoo Front End Engineer</p>
<iframe src="http://mei.homin.com.tw/Keynote_the_secrets_of_web_design_performance.html" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen > </iframe>

<h3 id="演講內容-3"><a href="#演講內容-3" class="headerlink" title="演講內容"></a>演講內容</h3><blockquote>
<h4 id="WebPageTest-yslow"><a href="#WebPageTest-yslow" class="headerlink" title="WebPageTest yslow"></a>WebPageTest yslow</h4><p>Chrome devTool 快速瞭解網站缺點和優點，進一步去改善<br>點到 Network 會看到網站發出哪些 Request 以及 藍色的線和綠色的線<br>藍色的線越短越好，藍色越短，使用者可以越快看到我們的內容<br>第一個原則是： 有效的減少 request 因為是我們網站等待時間成本最高的部分<br>點選 Timeline 可以看到 request detail<br>今天的任務就是有效的減少 request<br>如果你不在乎 user 的感受，那麼使用者就用訂單來修理你<br>Avoid 404 response<br>我們要盡量避免這種事情發生，千萬不要忘記這個小圖示(Favicon)的置入<br>可能我們的頁面會有不同的 module<br>checkout flow - cart<br>Yahoo是BY PageFlow來載入CSS，只MERGE相關的CSS，不會載入不必要的CSS<br>用inline可以減少Request，但就無法得到Cache的好處。<br>the Ultimate solution</p>
<h4 id="Css-Sprites"><a href="#Css-Sprites" class="headerlink" title="Css Sprites"></a>Css Sprites</h4><p>把所有的 icon 都 merge 成一張，透過 css 做動態定位的效果<br>原本有 50張圖片的 request，拼成一張 只需要一個 request<br>or svg sprite?</p>
<h4 id="Icon-font"><a href="#Icon-font" class="headerlink" title="Icon font"></a>Icon font</h4><p>把圖形放到字型裡面，透過 Icon font，顯示向量圖檔，不會有失真的問題出現<br>例如： IcoMoon</p>
<h4 id="imageLazyLoad"><a href="#imageLazyLoad" class="headerlink" title="imageLazyLoad"></a>imageLazyLoad</h4><h4 id="Minimize-cookie"><a href="#Minimize-cookie" class="headerlink" title="Minimize cookie"></a>Minimize cookie</h4><h4 id="Extend-Max-parallel-HTTP-request"><a href="#Extend-Max-parallel-HTTP-request" class="headerlink" title="Extend Max parallel HTTP request"></a>Extend Max parallel HTTP request</h4><p>如果我們可以拓展連線數的話，可以拆開不同的 domain，就可以加速同時連線的速度<br>這邊應該是 hostname 吧？<br>Frontend就是要幫DOM做有效的瘦身</p>
<h4 id="Remove-useless-DOM"><a href="#Remove-useless-DOM" class="headerlink" title="Remove useless DOM"></a>Remove useless DOM</h4><p>例如：css的<br><code>before</code><br><code>after</code><br>(使用css的before和after，就可以消除多餘的div，也減少DOM）<br>Generate DOM when need<br>Store DOM in somewhere</p>
<h4 id="SEO-Structure-data"><a href="#SEO-Structure-data" class="headerlink" title="SEO Structure data"></a>SEO Structure data</h4><p>Schema.org<br>使用 Microdata 會增加不少的節點，建議不要再用了！<br>我們可以使用最新最潮的 <strong>JSON-LD</strong><br><a href="https://developers.google.com/structured-data/testing-tool/" target="_blank" rel="noopener">Structured Data Testing Tool</a></p>
<h4 id="即早輸出CSS"><a href="#即早輸出CSS" class="headerlink" title="即早輸出CSS"></a>即早輸出CSS</h4><p>CSS SELECTOR 做優化（browser是右邊往左邊讀)<br>盡量用classname做快速選取<br>Screen Render flow<br> <figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">CSS</span> <span class="selector-tag">attribute</span>: <span class="selector-tag">will-change</span></span><br><span class="line"><span class="selector-class">.moving-element</span> &#123;</span><br><span class="line"><span class="attribute">will-change</span>: transform;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.moving-element</span> &#123;</span><br><span class="line"><span class="attribute">will-change</span>: transform, opacity;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>只要是CSS可以做到的，就不會用JS去代工<br>JS是一個一個下載後再解析，等所有JS載入完成，會很久</p>
<h4 id="timeline"><a href="#timeline" class="headerlink" title="timeline"></a>timeline</h4><p>動態的運行 script</p>
<h4 id="pageRender"><a href="#pageRender" class="headerlink" title="pageRender"></a>pageRender</h4><p>some javascript tips<br>真正需要用到才去 init<br>不要把太多的事件加在同一個 element ，會造成效能上的損耗<br>不要在同一個時間做太多DOM的操作</p>
<h4 id="Remove-Flash"><a href="#Remove-Flash" class="headerlink" title="Remove Flash"></a>Remove Flash</h4><p>早期 multi-upload video 等，現在 html5 都可以幫我們執行<br>Navigation Timing API</p>
<h4 id="Web-Storage"><a href="#Web-Storage" class="headerlink" title="Web Storage"></a>Web Storage</h4><p>我們可以透過 client side 來幫我們儲存資料<br>有效減少 request，幫我們把資料 cache 起來<br>可以用在例如搜尋 ( relative dropdown list ) 或autocomplete</p>
<h4 id="instant-page"><a href="#instant-page" class="headerlink" title="instant page"></a>instant page</h4></blockquote>
<p>感想：<br>Paul 大大的調校面面觀，很有收穫呀。</p>
<h2 id="現代網頁設計趨勢觀察"><a href="#現代網頁設計趨勢觀察" class="headerlink" title="現代網頁設計趨勢觀察"></a>現代網頁設計趨勢觀察</h2><p>李建杭(Amos) / 熱血的前端開發者＆講師</p>
<blockquote>
<p>那道閃光真的離開我們了！！！ flash！！<br>最友善的瀏覽器被宣告了死刑<br>Javascript 突然稱霸了網路世界<br>視覺＋互動<br>扁平化設計當道<br>網頁總要放漢堡<br>操作流程改善<br>網頁互動改善<br>動畫設計組件化<br>參考網站</p>
<ul>
<li>Smashing</li>
<li>awwwards</li>
<li>UXPin</li>
</ul>
</blockquote>
<p>補充一下最後Amos大demo的sublime text 外掛 (<a href="https://packagecontrol.io/packages/iconfont%20snippets" target="_blank" rel="noopener">iconfont snippets</a>)：</p>
<hr>
<p>詳細來源可以參考<a href="https://hackpad.com/ZWVGk6BFDfn" target="_blank" rel="noopener">共筆資料</a></p>
]]></content>
      <categories>
        <category>心得筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Web駭客攻擊手法及防護實戰 Day 2</title>
    <url>/2016/01/27/webhacking2/</url>
    <content><![CDATA[<h2 id="本日議程"><a href="#本日議程" class="headerlink" title="本日議程"></a>本日議程</h2><ul>
<li>資料端安全</li>
<li>資料庫安全設置</li>
<li>連線與限制</li>
<li>權限管制與建議作法</li>
</ul>
<h2 id="資料安全"><a href="#資料安全" class="headerlink" title="資料安全"></a>資料安全</h2><p>所有的資安事件都不是單一的錯誤，都是一連串的錯誤引起。</p>
<h3 id="SQL-Injection"><a href="#SQL-Injection" class="headerlink" title="SQL Injection"></a>SQL Injection</h3><blockquote>
<p>鄉野傳說<br> 傳說…某冷色調店面討論區，有一位神人說.. SQL Injection 根本沒什麼!!<br> 只要把 xp_cmdshell 刪除就好<br>SQL Injection 只有 xp_cmdshell 有威脅?!<br>只要以 SQL Parameter 即可!<br>如果把 customErrors mode=”Off” 你就倒大霉了</p>
</blockquote>
<p>註：<strong>xp_cmdshell</strong> 利用 sql server 去呼叫可執行程式，關掉之後，一堆處理都會掛點，而且 sql server 只會回答<strong>權限不足</strong><br>註：SQL Injection 做好，可以減少很多 XSS 錯誤</p>
<h3 id="XP-cmdshell-20-BCP"><a href="#XP-cmdshell-20-BCP" class="headerlink" title="XP_cmdshell %20 BCP"></a>XP_cmdshell %20 BCP</h3><ul>
<li>BCP命令<br>SQL Server提供的一個快捷的資料導入匯出工具。使用它不需要啟動任何圖形管理工具就能以高效的方式導入匯出資料。當然，它也可以通過xp_cmdshell在SQL語句中執行，通過這種方式可以將其放到用戶端程式中（如delphi、c#等）運行，這也是使用戶端程式具有資料導入匯出功能的方法之一。</li>
<li>xp_cmdshell<br>以作業系統命令列解譯器的方式執行給定的命令字串，並以文本行方式返回任何輸出。授予非管理使用者執行 xp_cmdshell 的許可權。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SET</span> NOCOUNT <span class="keyword">ON</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="comment">#a (name varchar(128), id int identity)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="comment">#a</span></span><br><span class="line">(</span><br><span class="line">	<span class="keyword">name</span></span><br><span class="line">)</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="keyword">name</span></span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		sysobjects</span><br><span class="line">	<span class="keyword">WHERE</span> xtype = <span class="string">'U'</span></span><br><span class="line"><span class="keyword">declare</span> @<span class="keyword">id</span> <span class="built_in">int</span>, @cmd <span class="built_in">varchar</span>(<span class="number">2000</span>)</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	@<span class="keyword">id</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> @<span class="keyword">id</span> &lt; (</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="keyword">MAX</span>(<span class="keyword">id</span>)</span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		<span class="comment">#a</span></span><br><span class="line">) <span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	@<span class="keyword">id</span> = <span class="keyword">MIN</span>(<span class="keyword">id</span>)</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	<span class="comment">#a</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span> &gt; @<span class="keyword">id</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	@cmd = <span class="string">'bcp '</span> + DB_NAME() + <span class="string">'..'</span> + <span class="keyword">name</span> + <span class="string">' out</span></span><br><span class="line"><span class="string">"c:\temp\'</span> + <span class="keyword">name</span> + <span class="string">'.txt" -c -T'</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	<span class="comment">#a</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span> = @<span class="keyword">id</span></span><br><span class="line">EXEC master..xp_cmdshell @cmd</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	@cmd</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>
<p>這兩者混合使用，會達到非常嚴重的後果，所以伺服器角色權限設定非常重要。</p>
<h3 id="Blind-SQL-Injection"><a href="#Blind-SQL-Injection" class="headerlink" title="Blind SQL Injection:"></a>Blind SQL Injection:</h3><p>仰賴<strong>錯誤訊息</strong>來建構出攻擊的語法；例如:註冊日期的年份，輸入負值，看有沒有過濾</p>
<p>註：Oracle 的最大數值位數是零下 32 位<br>註：PHP 5.2 和 5.3 版在 32bits 的 PHP 有浮點數 Bug，這個數字丟下去 <strong>2.2250738585072011e-308</strong>，會直接運算過載(沒有容錯處理)</p>
<h3 id="自動化工具"><a href="#自動化工具" class="headerlink" title="自動化工具"></a>自動化工具</h3><ul>
<li>Havij:網路上流傳的一部分有毒，請不要亂下載 XD</li>
<li><a href="http://w3af.org/" target="_blank" rel="noopener" title="W3AF">W3AF</a>:可測試 SQL Injection + XSS</li>
<li><a href="http://sqlmap.org/" target="_blank" rel="noopener" title="SQLMap">SQLMap</a>:有同學整理相關<a href="http://www.legendsec.org/1111.html" target="_blank" rel="noopener" title="SQLMap 指令集">指令集</a>，或是 Facebook 搜尋 <strong>資訊安全+網路管理=資管?</strong> 加入該<a href="https://www.facebook.com/groups/hacker.tw/" target="_blank" rel="noopener" title="資訊安全社群">社群</a></li>
<li><a href="http://sqlninja.sourceforge.net/" target="_blank" rel="noopener" title="SQL Ninja">SQL Ninja</a></li>
</ul>
<h3 id="Hex-to-ASCII"><a href="#Hex-to-ASCII" class="headerlink" title="Hex to ASCII"></a>Hex to ASCII</h3><p>將上述的範例或是一些簡易的 SQL Injection 透過 <strong><a href="http://www.dolcevie.com/js/converter.html" target="_blank" rel="noopener" title="Hex To ASCII Converter">Hex Convert</a></strong> 工具，如果轉換出來覺得沒有排版可以使用<a href="http://www.dpriver.com/pp/sqlformat.htm" target="_blank" rel="noopener" title="Instant SQL Formatter">這個線上工具</a>來格式化。</p>
<h2 id="資料庫安全設置"><a href="#資料庫安全設置" class="headerlink" title="資料庫安全設置"></a>資料庫安全設置</h2><p>電腦發展到今年已經 52 年了，帳號密碼是最根本的驗證方法。而帳號與密碼對比而言，猜帳號比猜密碼還難，因為密碼還有限制，所以還比較好猜中；</p>
<h3 id="3A架構"><a href="#3A架構" class="headerlink" title="3A架構"></a>3A架構</h3><ul>
<li>Identification(識別)<br>輸入能被識別的資訊(如帳號、ID)</li>
<li>Authentication(驗證)<br>輸入的資訊是否正確，辨認使用者(可以是人員或程式)的身份</li>
<li>Authorization(授權)<br>依照權限給予相對的權利，主要精神在於根據安全政策給予使用者所能擁有的權限</li>
<li>Accountability(審計)<br>供稽核使用，包括量測(measuring)、監控(monitoring)、報告(reporting)各種資源使用量及事件紀錄（log）；主要精神在於收集必要的使用者與系統之間互動的資料，最完備的作法就是「凡走過必留下痕跡」，鉅細靡遺地記錄所有的互動。</li>
</ul>
<p>所以 <strong>Identification(識別)</strong>應該是先確認帳號，確認這帳號存在，再行驗證密碼，如果不驗證帳號的話，就等於直接進入電腦了。例如：遠端登入桌面，你只要帳號對就等於進入對方電腦了。</p>
<p>註：sql server 提供的 AES 的預設加密是只有 128 位元，不過不幸的是已經被破了(附上<a href="http://valerieaurora.org/hash.html" target="_blank" rel="noopener" title="Lifetimes of cryptographic hash functions">雜湊函式生命週期表</a>)</p>
<blockquote>
<p>IT冷知識：Microsoft AD 的驗證系統是 <strong>Kerberos</strong>(地獄三頭犬的名字)</p>
</blockquote>
<h3 id="MS-SQL"><a href="#MS-SQL" class="headerlink" title="MS SQL"></a>MS SQL</h3><p>資料庫的連線是基於RBAC(Role-base Access control;角色基礎存取控制)，<strong>MS SQL</strong> 是 <strong>RBAC</strong></p>
<ul>
<li>Sysadmin &amp; Public 外部連結帳戶是<ul>
<li><strong>MSSQLServer</strong></li>
<li>SQLServerMSSQLUser$Computer$MSSQLSERVER</li>
</ul>
</li>
</ul>
<p>sql server 檢查順序是這樣 MSSQLServer =&gt; Authenticated Users =&gt; Users =&gt; Everyone 最後發現都不行的時候，sql server 通知 OS 他需要一個寫入的權限，OS 會開啟一個臨時的 Authenticated Users<br>版本愈新，控制措施愈好!</p>
<p>當你開了 Everyone 就包含了Everyone&lt;=Users &lt;= Authenticated Users&lt;=MSSQLServer</p>
<p>有些人的資料庫會有本機執行時候很快，但是架到 Server 上發現，每秒鐘幾百 MB 的寫入率(單機)變成 27 MB 的寫入率(因為 sql server RBAC 會檢驗各個身分去看能不能寫入)，就是這個原因。</p>
<h3 id="伺服器角色"><a href="#伺服器角色" class="headerlink" title="伺服器角色"></a><a href="https://msdn.microsoft.com/zh-tw/library/ms188659(v=sql.120).aspx" target="_blank" rel="noopener" title="伺服器層級角色">伺服器角色</a></h3><blockquote>
<table>
<thead>
<tr>
<th align="left">角色</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">sysadmin</td>
<td align="left">系統管理員 (sysadmin) 固定伺服器角⾊的成員可以在伺服器中執行所有活動。</td>
</tr>
<tr>
<td align="left">serveradmin</td>
<td align="left">伺服器管理員 (serveradmin) 固定伺服器角⾊的成員可以變更整個伺服器的組態選項及關閉伺服器。</td>
</tr>
<tr>
<td align="left">securityadmin</td>
<td align="left">安全性管理員 (securityadmin) 固定伺服器角⾊的成員可以管理登入及其屬性。他們可以 GRANT、DENY 及 REVOKE伺服器層級權限。如果他們擁有資料庫的存取權，也可以GRANT、DENY 和 REVOKE 資料庫層級權限。此外，他們可以重設 SQL Server 登入的密碼。</td>
</tr>
<tr>
<td align="left">processadmin</td>
<td align="left">處理序管理員 (processadmin) 固定伺服器角色的成員可以結束在 SQL Server 執行個體中執行的處理序。</td>
</tr>
<tr>
<td align="left">setupadmin</td>
<td align="left">setupadmin 固定伺服器角色的成員可以使用 Transact-SQL 陳述式加入和移除連結伺服器 (使用 Management Studio 時需具備 sysadmin 成員資格)。</td>
</tr>
<tr>
<td align="left">bulkadmin</td>
<td align="left">大量管理員 (bulkadmin) 固定伺服器角色的成員可以執行 BULK INSERT 陳述式。</td>
</tr>
<tr>
<td align="left">diskadmin</td>
<td align="left">磁碟管理員 (diskadmin) 固定伺服器角色是用來管理磁碟檔案。</td>
</tr>
<tr>
<td align="left">dbcreator</td>
<td align="left">資料庫建立者 (dbcreator) 固定伺服器角色的成員可以建立、改變、卸除及還原任何資料庫。</td>
</tr>
<tr>
<td align="left">public</td>
<td align="left">每一個 SQL Server 登入都屬於 public 伺服器角色。當伺服器主體未被授與或拒絕安全物件的特定權限時，該使用者會繼承授與該物件之 public 的權限。只有當您想要將任何物件提供給所有使用者使用時，才指派該物件的 public 權限。您無法變更 public 的成員資格。</td>
</tr>
<tr>
<td align="left">資料參考：<a href="https://msdn.microsoft.com/zh-tw/library/ms188659(v=sql.120).aspx" target="_blank" rel="noopener" title="伺服器層級角色">MSDN</a></td>
<td align="left"></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li>Securityadmin 權限幾乎等同 Sysadmin，但是兩者指令牴觸的時候，以 Sysadmin 為主</li>
<li>Setupadmin 權限等同 ServerAdmin</li>
</ul>
<h2 id="連線與限制"><a href="#連線與限制" class="headerlink" title="連線與限制"></a>連線與限制</h2><h3 id="資料庫權限影響"><a href="#資料庫權限影響" class="headerlink" title="資料庫權限影響"></a>資料庫權限影響</h3><ul>
<li>網路<ul>
<li>防火牆</li>
<li>協定</li>
</ul>
</li>
<li>作業系統<ul>
<li>權限設定</li>
</ul>
</li>
</ul>
<p><strong>明確許可</strong>與<strong>明確拒絕</strong>非常重要，只要你設定為明確拒絕寫入的權限，那就幾乎不可能有 <strong>SQL Injection</strong>；但是這些安全性架構對於欄位新增的設定很麻煩，但是銀行、航空公司都是這樣的設定，安全性比較安全，所以像航空公司行李的托運條碼從 13 碼擴增就花了 13 年，才把全球的資料庫更新統一。</p>
<ul>
<li>應用程式安全<br><strong>共用資料夾的代理身份</strong>、<strong>服務啟動帳號權限設置</strong>或<strong>指定特定帳號及權限設置</strong>，例如：IUser是否有寫入權，ASPNET是否應明確拒約特定目錄寫入權<ul>
<li>資料庫</li>
</ul>
</li>
<li>身分角色</li>
<li>資料庫權限<br>資料庫出包影響最大，依次遞減為作業系統、網路兩層，所以網路層安全性出問題，不會往後放大影響。</li>
</ul>
<h3 id="網路"><a href="#網路" class="headerlink" title="網路"></a>網路</h3><ul>
<li>防火牆</li>
<li>協定</li>
</ul>
<p>IPv4 不能驗證來源，IPv6 可以獲取哪台電腦的 Mac Address</p>
<p>RBAC 的精神，伺服器角色與登入其電腦身分的權限，sql server 是以其登入其電腦身分權限為主；也就是說，就算你的 sql server 登入角色權限是最大的，但是想要將 table 資料擷取建立到新建資料夾等等，是要判斷你登入該電腦身分的權限，是否擁有建立的權限。</p>
<p>Sysadmin 與 Securityadmin 是在系統帳戶權限下；剩下的角色都是在資料庫權限下。</p>
<h2 id="權限管制與建議作法"><a href="#權限管制與建議作法" class="headerlink" title="權限管制與建議作法"></a>權限管制與建議作法</h2><p>Robocopy 指令</p>
<p>關掉防火牆特定的 profile</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">netsh advfirewall <span class="built_in">set</span> /?</span><br></pre></td></tr></table></figure>

<p>MSDN 提供 DirectAccess</p>
<p>防火牆規則設定上，MS 資料庫的 1433 port 除了這個 port 之外，sql server 還可以分離，data 走 1433，指令跑 1434<br><img src="https://lh3.googleusercontent.com/Y78HAIdZGWT9kCokFc0PUBPaUmcRLIr1mJYOXwmpTAP0WhlhH5NV4rfwV-0TZzbrSJ0iATvBH0nIh0ZUanNe_zmxLtidv4CmEEZVvArDI8NYxdEDWKDta93m3vSvHQaLAJ9Ov8ebEetRBF_3saQtvitOFrIdKGBP3l6HlwfBf6ZjTacV5t22eTGpmBwqX56PTiQEAz5NCqtl2GFjUiHayOmhwZX6S8evbp6kU8rqHipiVh_3bSPdxLM7s4xGimTM6BTwg95-4h6kp1xL01-i_MoupXZRrdYq9RA_I5t_hlhx0itG34PMS7wNci6ojxpQjV92XdvQ6YCN-uSK4bbNL4BjE5ZbjAO3Ht7Fv6rSqEoxepplUZ_wHc8aAXchzp_q0slSxJti4ghHw7nIR0wtzSHGVN8HNbulwqsXyavsIftWrGiffmSJ1dXu3u1I0YiEWeXZUSXlHaA_lR3cjW23Ns4HuFp6sAyCqHu0-3V5T1i2nhKQJvihFR9EbtHsB2ghq-wPUksXUEizTFJ11q86W4ZI1SO2eqIkWeLAkFVfZwWOxOBKHx_6UkwqQEqx9ZAAsqdec72ksytk9skAr46CIWlNEPOt_BCA6HzJuQLCUljNUhhY4rCh-ZUkVBUlsqNtG6xSqzId1fTCUx13LBeDKqGanyqAiLN6H-7tiMfyZQ=w547-h391-no" alt="example"></p>
<p>μ δ 這些符號送到 SQL 裡面，SQL 無法解析會導致電腦自動重啟</p>
<p>windows server 2012 原生就可以跑 php</p>
<p>php reference 多加一個單引號，可以把使用的方法列出；如果是 asp.net 會直接把 web.config 裡面的連線字串取出</p>
<p>SQL Injection 會讓被入侵的電腦，裡面新增的檔案(大量)建立日期都是一樣；</p>
<p>注意是否被 dll Injection</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms162802(v=sql.120).aspx" target="_blank" rel="noopener" title="bcp 公用程式">bcp 公用程式</a></li>
<li><a href="http://www.dolcevie.com/js/converter.html" target="_blank" rel="noopener" title="Hex To ASCII Converter">Hex To ASCII Converter</a></li>
<li><a href="http://www.dpriver.com/pp/sqlformat.htm" target="_blank" rel="noopener" title="Instant SQL Formatter">SQL Formatter</a></li>
<li><a href="http://sqlmap.org/" target="_blank" rel="noopener" title="SQLMap">SQLMap</a></li>
<li><a href="http://www.legendsec.org/1111.html" target="_blank" rel="noopener" title="SQLMap 指令集">SQLMap 指令集</a></li>
<li><a href="http://www.qxorm.com/qxorm_en/home.html" target="_blank" rel="noopener" title="QxOrm">QxOrm</a></li>
<li><a href="https://www.youtube.com/watch?v=ZyjvDiOI3uw" target="_blank" rel="noopener" title="QxOrm安裝教學">QxOrm安裝教學</a></li>
<li><a href="http://w3af.org/" target="_blank" rel="noopener" title="W3AF">W3AF</a></li>
<li><a href="https://sourceforge.net/projects/w3af/" target="_blank" rel="noopener" title="W3AF windows download">W3AF windows download</a></li>
<li><a href="http://sqlninja.sourceforge.net/" target="_blank" rel="noopener" title="SQL Ninja">SQL Ninja</a></li>
<li><a href="http://www.w3schools.com/tags/ref_urlencode.asp" target="_blank" rel="noopener" title="HTML URL Encoding Reference">HTML URL Encoding Reference</a></li>
<li>MSDN:<a href="https://technet.microsoft.com/zh-tw/library/hh831416.aspx" target="_blank" rel="noopener" title="MSDN:遠端存取 (DirectAccess、路由和遠端存取) 概觀">DirectAccess</a></li>
<li>hacking 統計數據<a href="http://www.zone-h.org/" target="_blank" rel="noopener" title="zone-h">zone-h</a></li>
<li><a href="https://www.maxmind.com/en/geoip-demo" target="_blank" rel="noopener" title="test IP address.">Test IP Address</a></li>
</ul>
]]></content>
      <categories>
        <category>心得筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Web駭客攻擊手法及防護實戰 Day 1</title>
    <url>/2016/01/11/webhacking/</url>
    <content><![CDATA[<h2 id="本日議程"><a href="#本日議程" class="headerlink" title="本日議程"></a>本日議程</h2><ul>
<li>資安基本概念</li>
<li>各種標準解析</li>
<li>當資料變程式時</li>
<li>輸入確認及輸出確認</li>
<li>服務設定架構</li>
</ul>
<h2 id="2015-Mandiant-網路攻擊趨勢報告"><a href="#2015-Mandiant-網路攻擊趨勢報告" class="headerlink" title="2015 Mandiant 網路攻擊趨勢報告"></a>2015 Mandiant 網路攻擊趨勢報告</h2><ul>
<li><p>2014前三大APT受駭產業</p>
<ul>
<li>金融服務(15%)</li>
<li>媒體與娛樂(13%) </li>
<li>製造業(10%)</li>
</ul>
</li>
<li><p>2015前三大APT受駭產業</p>
<ul>
<li>商業及專業服務(17%)</li>
<li>零售(14%)</li>
<li>金融服務(10%)</li>
</ul>
</li>
</ul>
<p><strong>進階持續性滲透攻擊</strong>(<strong>A</strong>dvanced <strong>P</strong>ersistent <strong>T</strong>hreat, APT)，什麼是 <strong>APT</strong>？講師提了一個例子：<br>某高中女生某天回家路上，在離家不到百公尺的距離遇到一男子，那男子身穿大衣，雙手似在衣內進行手部運動(XD)，女高中生受到驚嚇趕緊回家，並告知家人這件事情，但是家人認為應該是突發性事件；<br>之後，這情形持續了一年，終於在某天，女高中生的男友送她回家，在門口前吻別，那跟蹤男子大受刺激，跑到高中女生前大喊：「妳怎麼可以這樣」之後急速跑離。原來，這跟蹤男子暗戀女高中生<br>這例子就是 APT &gt;.&lt;</p>
<h2 id="WEB-Server-最難維持的是"><a href="#WEB-Server-最難維持的是" class="headerlink" title="WEB Server 最難維持的是?"></a>WEB Server 最難維持的是?</h2><ul>
<li>可用性(Availability)<ul>
<li>即時</li>
<li>可信任</li>
</ul>
</li>
<li>一致性(Integrity):<ul>
<li>避免未經授權的人做未經授權的變更。</li>
<li>避免授權的人做未經授權的變更。</li>
</ul>
</li>
<li>機密性(Confidentiality)<ul>
<li>避免有意或無意的<br>機密資料不是敏感資料，例如前女友這是敏感資料</li>
</ul>
</li>
</ul>
<p>但是 Web Server 最難維持是<strong>一致性</strong></p>
<h2 id="雲端解決方案"><a href="#雲端解決方案" class="headerlink" title="雲端解決方案"></a>雲端解決方案</h2><ul>
<li>雲端提供的是高可用性的解決方案。</li>
<li>雲端最大的罩門則是<strong>機密性</strong>!</li>
<li>隱私資料傳到雲端上失控時即開始散播!<br>例如：<br>Google free account 其實 google 擁有你所有檔案存取、散佈、再造的權力<br>又或者小紅傘免費版擁有提取分析病毒樣本的權利(例如中毒的是你的個人照片，被散佈到小紅傘)</li>
</ul>
<h2 id="角度與知識"><a href="#角度與知識" class="headerlink" title="角度與知識"></a>角度與知識</h2><p>黑箱、灰箱、白箱(黑帽、灰帽、白帽)</p>
<ul>
<li>黑箱：沒有任何的資訊與權限</li>
<li>灰箱：部份的知識或授權</li>
<li>白箱：完全的充份授權<br>白箱檢測就像原始碼檢測</li>
</ul>
<h2 id="典型的測試流程"><a href="#典型的測試流程" class="headerlink" title="典型的測試流程"></a>典型的測試流程</h2><ul>
<li>主機弱點掃描:檢查主機 port 做什麼事</li>
<li>協定弱點掃描</li>
<li>組態設置測試</li>
<li>應用程式測試</li>
<li>資料權限測試</li>
</ul>
<p>MAC(Mandatory Access Control)主動存取控制，例如:網路芳鄰<br>DAC(Discretionary Access Control)被動存取控制</p>
<h2 id="Hack如何扒糞"><a href="#Hack如何扒糞" class="headerlink" title="Hack如何扒糞?"></a>Hack如何扒糞?</h2><ul>
<li>DNS</li>
<li>WHOIS</li>
<li>Google Hack<br>使用 Google Search<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Robots.txt Disallow &#x2F;admin filetype:txt</span><br></pre></td></tr></table></figure></li>
<li>Robots.txt</li>
<li>關鍵字</li>
<li>Fingerprint</li>
</ul>
<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>DNS 區域轉送測試指令碼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nsloolup</span><br><span class="line">server 8.8.8.8  </span><br><span class="line"><span class="built_in">set</span> <span class="built_in">type</span>=ns</span><br><span class="line">domain.com</span><br><span class="line">server dns.domain.com</span><br><span class="line">ls domain.com</span><br></pre></td></tr></table></figure>

<h3 id="telnet-很好用-T-T"><a href="#telnet-很好用-T-T" class="headerlink" title="telnet 很好用 T_T"></a><strong>telnet</strong> 很好用 T_T</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">telnet yourTarget</span><br><span class="line"></span><br><span class="line">HEAD / HTTP/1.0</span><br></pre></td></tr></table></figure>
<p>然後要按兩次 <strong>ENTER</strong></p>
<h3 id="改-PORT-只是騙自己"><a href="#改-PORT-只是騙自己" class="headerlink" title="改 PORT 只是騙自己"></a>改 PORT 只是騙自己</h3><p>使用 <a href="https://nmap.org/download.html" target="_blank" rel="noopener" title="NMAP">NMAP</a> 工具，列舉你的 port </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Nmap –PN –sT –sV –p0-65535 x.x.x.x</span><br></pre></td></tr></table></figure>
<p>改 port 不是就能一勞永逸，只要對方列舉 port ，就能知道開啟的 port 。</p>
<h2 id="幾個流傳較廣的-hacking"><a href="#幾個流傳較廣的-hacking" class="headerlink" title="幾個流傳較廣的 hacking"></a>幾個流傳較廣的 hacking</h2><ul>
<li>Facebook <div class="video-container"><iframe src="https://www.youtube.com/embed/HfJAtZcGXnk" frameborder="0" loading="lazy" allowfullscreen></iframe></div></li>
<li>SQL Injection<div class="video-container"><iframe src="https://www.youtube.com/embed/Fp47G4MQFvA" frameborder="0" loading="lazy" allowfullscreen></iframe></div>

</li>
</ul>
<h2 id="各種標準解析"><a href="#各種標準解析" class="headerlink" title="各種標準解析"></a>各種標準解析</h2><ul>
<li>系統測試遵循<br><a href="http://www.isecom.org/research/osstmm.html" target="_blank" rel="noopener" title="OSTMM">OSSTMM</a>(Open Source Security Testing Methodology Manual)<a href="http://www.isecom.org/mirror/OSSTMM.3.pdf" target="_blank" rel="noopener" title="OSTMM v3">v3</a><br>判別使用那些 OS 等等，例如:ssh 絕對不是 windows</li>
<li>網站應用程式測試遵循<br><a href="https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project" target="_blank" rel="noopener" title="OWASP Top Ten Project">OWASP</a>(Open Web Application Security Project)<a href="https://www.owasp.org/images/5/52/OWASP_Testing_Guide_v4.pdf" target="_blank" rel="noopener" title="OWASP Testing Guide v4">Testing Guide v4</a></li>
<li>網路安全問題測試遵循<br>SANS(SysAdmin, Audit, Networking, and Security)(Top 20 Internet Security Problems, Threats and Risks) (TOP 25 Most Dangerous Programming Errors)</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/j1O0teYjvFs3e0mG0lw5hqinZYcOW_Y4jJ7EUUFBHOhlLbwIDoUVY9xR8-G6bMUMQC_O5ytL_AdWs0pdY8vL6OPhWSKnF4Q1bZYSdeOCDZggIzJoMFpLnLD6RDFyvhBYthAZE-D1rZG9Hy4YcEgGmVPdvfX4xreYb3zMdt1J84FPjS6nDwZEYyxnV7NnqDTV2tdrZYm9gN-kip2fjOTx5e_62X-NnMyDEhzOqFw1o-RrP9zMo4lpEx-bJtkQ_fFjihzVEq2fq57Gsf7VahLTY6qSW4JxBKEkkmxzl31oFEiFXj0S2NCUqI76IaxbAqllg49qQUx-1SpwG1hkNcIai7bep7qj-hi1rh94c_f3Ne4xCI09Wpvc2hf4QbeFCootZxw9AFITR4uaIr0Qd-_YGtu7isXjvhOFkDR-dnGfXzcw7y-g0OJPNHmsigB8vAUfnG2YuElBASq7gtbCA_K2fa1a7OOB_KXtnWQ5gKcDRTrlxruc8IvHkaynD-kr_OQ_Q5oup59XHjasYb_oiFCA7jCQH-VNWyGlsL_m3IugHoNc_dnkNobr8q6vY1w5R1K_EUhH1-V1IhotJx2Y7ikSjyH1mxAqGRsjU1eEqXxnWyFbAzYaC4q7tjhARJEHrajWoU0l95xVecPss0-e9olZXMqLo0KfVpy7f_xJzn_8Ng=w810-h463-no" alt="測試遵循示意"><br>三種測試遵循各有優缺點，所以最好是三種都測試過，最是完善。</p>
<p>主機弱點</p>
<ul>
<li>服務版本(版本過舊問題很多)</li>
<li>協定的基礎<br>程式弱點</li>
<li>應用程式</li>
<li>組態設定</li>
</ul>
<p>測試細項很多，可以參考 <a href="https://www.owasp.org/images/5/51/OWASP_Top_10_2013-Chinese-V1.2.pdf" target="_blank" rel="noopener" title="OWASP Top 10 2013 Chinese">Guideline</a> 文件</p>
<h3 id="Injection"><a href="#Injection" class="headerlink" title="Injection"></a>Injection</h3><p>資料庫建立使用者資料，通常第一筆資料是一個停用的 nobody，因為這是為了避免最高權限資料被輕易找到</p>
<h2 id="程式和資料的糾結"><a href="#程式和資料的糾結" class="headerlink" title="程式和資料的糾結"></a>程式和資料的糾結</h2><p>主要特性是吃了才知道有毒，簡單說就是資料餵回 server ，進行檢測才知道有問題等等，而沒辦法信任丟回前的檢測，因為在 Client 的檢測很容易被使用者關閉。</p>
<h2 id="輸入確認及輸出確認"><a href="#輸入確認及輸出確認" class="headerlink" title="輸入確認及輸出確認"></a>輸入確認及輸出確認</h2><ul>
<li>帳號/密碼本身就是問題，要納入的驗證有哪些？運算符號、科學符號？<br>最好方式是使用白名單</li>
<li>大部分人都只進行 input validation，但是 output validation 讀取資料庫時，應該很少人還會再過濾一次。</li>
</ul>
<h2 id="無害測試法"><a href="#無害測試法" class="headerlink" title="無害測試法"></a>無害測試法</h2><p>使用單引號進行測試，在網址後加上單引號，尤其是使用參數的網址</p>
<h2 id="作業"><a href="#作業" class="headerlink" title="作業"></a>作業</h2><p><a href="https://www.owasp.org/images/5/52/OWASP_Testing_Guide_v4.pdf" target="_blank" rel="noopener" title="OWASP Testing Guide v4">OWASP_Testing_Guide_v4</a> 的 Testing for SQL Injection</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project" target="_blank" rel="noopener" title="OWASP Top Ten Project">OWASP Top Ten Project</a></li>
<li><a href="https://www.owasp.org/index.php/Taiwan" target="_blank" rel="noopener" title="OWASP Taiwan">OWASP Taiwan</a></li>
<li>OWASP Top 10:<a href="http://owasptop10.googlecode.com/files/OWASP%20Top%2010%20-%202013.pdf" target="_blank" rel="noopener" title="OWASP Top 10 2013 English">2013 English</a></li>
<li>OWASP Top 10:<a href="https://www.owasp.org/images/5/51/OWASP_Top_10_2013-Chinese-V1.2.pdf" target="_blank" rel="noopener" title="OWASP Top 10 2013 Chinese">2013 Chinese</a></li>
<li>OWASP <a href="https://www.owasp.org/images/5/52/OWASP_Testing_Guide_v4.pdf" target="_blank" rel="noopener" title="OWASP Testing Guide v4">Testing Guide v4</a></li>
<li>OWASP <a href="https://www.gitbook.com/book/kennel209/owasp-testing-guide-v4/details" target="_blank" rel="noopener" title="OWASP Testing Guide v4 En/zh">Testing Guide v4 中文</a></li>
<li><a href="https://nmap.org/download.html" target="_blank" rel="noopener" title="NMAP">NMAP</a></li>
<li><a href="https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet" target="_blank" rel="noopener" title="SQL Injection Prevention Cheat Sheet">SQL Injection Prevention Cheat Sheet</a></li>
</ul>
]]></content>
      <categories>
        <category>心得筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Disqus 申請與設定</title>
    <url>/2016/01/28/disqusApply/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一直以為我有記錄過這些，有朋友在詢問，才發現我居然沒紀錄過，乾脆趁現在重新寫一下好了。</p>
<h2 id="註冊"><a href="#註冊" class="headerlink" title="註冊"></a>註冊</h2><p>註冊步驟很簡單，甚至可以使用 FaceBook、Twitter、Google Plus 帳號註冊，參照下圖吧</p>
<p><img src="https://lh3.googleusercontent.com/Y5BBv1_RsATxVwdxGKbm1NcUPQDxrQgENbuXILZrewSQgucijAUX1wtFUArBRdvbjabLRoUMQQQiSK01OEBJsaJqccNjv4gqgPy_9-VGqWxNxsycCfLJZi-nrFuXIf78LOYXkwUu92UZFw26U4_c5jdzrjDaBdHrTNk52loVoyGmkC02oNTCJh6WGvmoIFjXhqRuYbCY7b6g-DyTU03WM5YiLfcEYd0Lh9OMStuQGVmTlwcr_d-GPP5ILecuIN1NbjXD8LWGCfyDfBnvvfVEPkUgGaCq-_JERrFcl86Pv_B839MRwLqxtq4J30XB3Cloez8D2BXgcFITCI1uUu7TD6JzBjPwvbQylDFFHrjCdyDnd5N4KDQgcjmpwcGxHU6Gxw9Td-uP3rYNgpYki0VOrtn5w6MVofe-NzudXgf-BOx5v0mr8XvR2siFUNPLguPRVz3h1jOAlMwnhn7W52xZcYBJCxl5bsjj6TP2rBb5LrK39YL3DVNWZfpwRHllcuutkAIzOzN7iQFSe4jCIPRNqtyM2FhT5StHPsiZnW6HJBfMLMM_LXiHdOW02bBeON1bxiwATqulhr_rSMi8-wgXfLnZMqd_Zn7ngTuKnUFfzYYNcCeiGI5sz7NxMutGNMJ_q4HaQBrhzazXEz4R9Sby4iwi2Yc34YZilCD3idRMfQ=w491-h641-no" alt="Sign Up"></p>
<p><img src="https://lh3.googleusercontent.com/Fq0T0b7MfZKhJuQ14f0UcCsHeDI4pFof4gABB8KWcffmcQ4emC7k1hijjTvnr5ubyIy-gjwqdk_mDZF5JTUj_5bYIGNxcUKdlJC-Bsn-YRh0aJarqxViNZ5wDJAmZyQxwdpH5aHT93SH_S3Usgfu7SL_6oinjhdA26gLmIlFPnvfrRA2IZRU94i7Z3NiTBY4IXC75OdNd19QLNxBLXCZo6iKkSTS8GtVxAhyFa5PHfl1fRZmeHuIY0dIGhALxV_oP8d7Pmi6fIDoGVLIbQujJCAgn422ro_PfA3tCxMt-Vae6gDqGBwTVdn9UvwaIyi7SWolL1UkKVLOIwQ0foPiWOaFTSPekm_-cm-QWlYcbxkx8N6Ed1uMzeCmqoTiez6IGDKWkxKqTfwGrvbU2RZYOaCRDdAHjgyNNtA2S6SlaS0XGZBUNN1fxxIHDtWcZh9xZgdpwf5vmCu7aDq2Sw0btOfjItE0Lr9p1_yP3Q7hg4IUaEtRkTfVWux_lde_o5mYdMQRsVY8Xr-sMCZRcb5Pbn5CaFewtu23D9mJzvMfz5VG8ut0ggtQ1Wun4TsGwp2FfTaP6Ff7wiNYoLrKwIwV5qfbDUCo-rv-tUGVMTKWb2saKNnnvmOIVCisGeiNk6Va6iT2ckOjLqB6s_EImIpjtFegf-f9orGGwr2XtJFEBg=w491-h688-no" alt="Sign up with"></p>
<h2 id="設定"><a href="#設定" class="headerlink" title="設定"></a>設定</h2><p>註冊完成後，會顯示讓你選擇三個 channel，這個可以不用理它；直接進入 **<br>Add Disqus To Site**，之後簡單的設定好之後(shortname 要記好，不記得可以到設定去找)<br><img src="https://lh3.googleusercontent.com/fYpDJpCAWvPVR-kw9ViUcrizd7qfqCw6O3y8hDpIZ5y4tQ0xrRcKEPB7gNR201u_g5SgoS0x6Kf6lAZ3DHMihWQyql8AQTvgYzMVMxRYAjFaKsw_keP1U03u-AHsOrxBlzteMiflzQ28Al6_yCPCBFm66PaX775uOvfnU5aDReLHwCZ6hD04gKus4xBaFZC3A3qXW91YlarICloRhG2nlGNVztMiDDc_FlvJzwAzU3LQ4LdwkmKOfZFFMI3jo8aTzaWllG5lppbyy04APU0sHlcQ5FxWGbNg2-K_NYBxtho2sHGT3Yz9OHKPsW3NHdwwap03TD4JieZwY5TQyZNGQyTBVpQmyVMHJsZHsJSIx1YOfqcOfsYZlbVG9QHshg0fhEeW5AojmzqpdiB_V1ZHXdsfjf7AMkaF_ZDomZlitfGLrQPsrpvACc-XPW-uVjeWHWQWGCAjSQQ1CKkuN4DAbPWWfRRhsyZfZlgmFS_KzQ3NtLWdyYCg6uSta0b96bXev2jloi06-YO1qJ7PGmzvv1hrts8Mruxt25nTgxC1JhgF2wCf47Opm8HrCB1nJMP9IweQHOf_cr2y9JVhCHdIO8FVDb9ur6RHI24suZYCMraBrcwupT77qi5wZ48og_CP-S7luK6sMoO9VulqdBXjH4zrbFyUyIVV-jnVC42sMw=w751-h333-no" alt="Add Disqus To Site"></p>
<p><img src="https://lh3.googleusercontent.com/4oGMYSLdYfyWTobAX827PrpuA1AT9Z6u_S7tlq5PVp5vBOFmpOClUUSZZDOaWBYaIsWUUF24wc6m8Wh1nuNAymd-T-IMp9LKso0MMPtVHt8BkeIG9QvVU1kLVcBbHjcxKTUpzZB_A42kJdu9N0-H_sf_BbMfNn6vtRopXg5uaao4nkb4QiaVrpp05PbRUk3s77dYSIkbI_k8DIrFyvvIVYmjo0AkgV8B9bes4jMnjWBj52VFU-fDIHvXApDifA0HKZg4KD3jbGl8MhztgvWKcNHiZz9Xdw4WaGSEturA7XBQABy2ZBpJsIxUe8tFzQMirtMBhy8MgmQi4e88H0nUffHBjpNvdRyeBuTlcuUgB1apWQzxPYsjoed0wSLN1rQVQUYN1fI__gDRz4uVY03Jf6jVodHP3kDkvZaIyHsQlqtEFYnTiBa6pLoo5r6IEdR5iHqL0PE88BtDbltHSCqxRqt5VmuQzMTkdiDiBgIjXP-nTlREXGUtYgZSjIz1i-MutRDEjOa7D8wN5RLvqu4RJ4mvMX782ZTsvqx9HOjlMk7uVt5vkn6d_q0LqxvXi1akPDAthGVd5xBwoLYSeb0hpoP9GCX2jM7mHUSH3abxkuEqaLnk5nBNg6-6meDTOVRIdRAvnxfc1ZsWkxiZ11CVoM86nCVGEZl-omgsL1DQvg=w675-h418-no" alt="Start Using Engage"></p>
<p>這邊輸入您想要的 disqus url<br><img src="https://lh3.googleusercontent.com/cNkStQ63q7NDqN6bX2XpN7EKfibfkf8Bq4WMD_J0MNZl0bEvjl71xOdKCuNjbg0TGvM_-5RXou-QFpkWn9NS5eLJcfE3QuoWZM26XlA_-Y92e6ihdVIKth6eN9uNBho1JikLBKOqJPYrO4VaRY3I46eKJgBZvUxLRP25rsXo1tTS29pNC-drsQ479EE5ykUAJ9ADLBMfaQ-eHQVJUrFDQviVKTTLY2LSxqwo9y3JE73GlNlKjNd8te2P-_82KakaVglxzIy5_KpbrpRFn0OQ2BKPK0EyMt9lIbr29Wfl_3cPFL82Ypx_vX00H1wFw5ux4JOa9dlJIDzoleX5Dj_1tRf3hLjkh385mzQV5u5vAIVYh2FVloJTiB8acKVjwua5jkf90hbUZ53xUZlClST2ejrYt2_Nl-6al8ZhIuj701D851xrBUCYNL39DABHo45OGnreRhu9slNoG0pefjjjmh7QTXR6TllvRnBVNuqYHQp9oS6kG5YV962WiLHlqWf3BQX1pf7NJ6pe3SR_CENuTu8o1co9FkdRF2i8ljMB-G3Pg8GbSCetmw5jHfb4ciFo4uJUeTsuMnZqi91NwIkG39Pv6Ett2R9mrwRHqccGkVLwRN5Ru68adxGENGoxnbigclTtrf8uJCAoWll0ZztJ2Fi-fM8PLo3h1D6kbTOn8w=w481-h433-no" alt="Fill Info"></p>
<p>會看到 <strong>Installation</strong> 選擇你自己的平台，這邊使用 js 方式(如果是其他平台，有些就會用到 shortname)<br><img src="https://lh3.googleusercontent.com/-t2dgeHSzK9QynoJMJUXyZEcYXo_a_O-kGNmFhK8keAn2yIKCYvV83EjvrzgjlWO-P0SQQcnMujfHNX03KkWgm6vO7n0c_AlSBJusam1isJVpUoiRA2QfTOllzT02zMD6gLdX-sHJVUROOdSiIAeEqruJaEavBbeqoO5FkHC-b-lBa8jDL6pnGPx36HeumdUO6u5giU-yCCNbtWqhAkGSIp2-bz7jNZsvP7JMAWR2ltxC34EJy0P7pq_5WPtMkHfOLRwj5OruAuIrn9VVejrfMa9ynq3c5qPcUs7ALGgaq4lTK9DimIzs7zTsXo_5lDQ9QYN5UG3PQMLO3kFQZL7ZijtPrWemsclvwIRva5j9V3ceNVit-patPSN2_xsq4HRD0_2W4JBwc_Vn_doWKMADNy91O7BQkvkR2E6gJvCiqEfx-ounctx5rtvACaRHt3uMr08S3YoOQT_QLEX0GhB6788_0J-DNlZbdCM-1OfD9hZEs0EmV77dnvLVGpv8I-LfmmRpDMejyP2T7AvaCFaqklOhg0t7GHP-wcOSC4wp5jVtRvra30lY0-LajqFFvIO6ui0uF2Cv1qf52D9hF6cc1C4jdG4w0eM3FMOsiYvD8-0EkxR0LHG2Khnxhc7PprTqyi1FLm6Ys8qrnAgbvG838TNQguwiklN98wCTIrOhQ=w587-h489-no" alt="Universal Code"></p>
<figure class="highlight html"><figcaption><span>Disqus Universal Code</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"disqus_thread"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">/**</span><br><span class="line">* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.</span><br><span class="line"><span class="actionscript">* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https:<span class="comment">//disqus.com/admin/universalcode/#configuration-variables</span></span></span><br><span class="line">*/</span><br><span class="line">/*</span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> disqus_config = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.page.url = PAGE_URL; <span class="comment">// Replace PAGE_URL with your page's canonical URL variable</span></span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.page.identifier = PAGE_IDENTIFIER; <span class="comment">// Replace PAGE_IDENTIFIER with your page's unique identifier variable</span></span></span><br><span class="line">&#125;;</span><br><span class="line">*/</span><br><span class="line"><span class="actionscript">(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123; <span class="comment">// DON'T EDIT BELOW THIS LINE</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> d = <span class="built_in">document</span>, s = d.createElement(<span class="string">'script'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">s.src = <span class="string">'//disqussample01.disqus.com/embed.js'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">s.setAttribute(<span class="string">'data-timestamp'</span>, +<span class="keyword">new</span> <span class="built_in">Date</span>());</span></span><br><span class="line">(d.head || d.body).appendChild(s);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">noscript</span>&gt;</span>Please enable JavaScript to view the <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://disqus.com/?ref_noscript"</span> <span class="attr">rel</span>=<span class="string">"nofollow"</span>&gt;</span>comments powered by Disqus.<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>其實嵌入如上所示，相當清楚，所以其實是可以將 js 這樣嵌入</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> disqus_shortname = your_short_name;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">document</span>.querySelector(<span class="string">'#disqus_thread'</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> d = <span class="built_in">document</span>, dsq = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">  dsq.async = <span class="literal">true</span>;</span><br><span class="line">  dsq.setAttribute(<span class="string">'data-timestamp'</span>, +<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">  dsq.src = <span class="string">'//'</span> + disqus_shortname + <span class="string">'.disqus.com/embed.js'</span>;</span><br><span class="line">  (d.head || d.body).appendChild(dsq);</span><br><span class="line">&#125;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 留言計數</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">document</span>.querySelector(<span class="string">'#disqus_thread'</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> dsq = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">  dsq.type = <span class="string">'text/javascript'</span>;</span><br><span class="line">  dsq.async = <span class="literal">true</span>;</span><br><span class="line">  dsq.src = <span class="string">'//'</span> + disqus_shortname + <span class="string">'.disqus.com/count.js'</span>;</span><br><span class="line">  (d.head || d.body).appendChild(dsq);</span><br><span class="line">&#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/1dgjfqc4/embedded/html,js,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<p>最後附上 <strong><a href="https://disqus.com/" target="_blank" rel="noopener">DISQUS</a></strong> 的連結</p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Disqus</tag>
      </tags>
  </entry>
  <entry>
    <title>個人常用的 Sublime Text 3 快捷鍵</title>
    <url>/2016/02/23/sublimetext-shortcuts/</url>
    <content><![CDATA[<p>紀錄個人比較常用的一些快捷鍵，或是一些比較少用但是實用的快捷鍵(僅有 windows/linux 版本)。</p>
<h3 id="一般操作-General"><a href="#一般操作-General" class="headerlink" title="一般操作(General)"></a>一般操作(General)</h3><table>
<thead>
<tr>
<th align="left">快捷鍵</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Ctrl + Shift + P</td>
<td align="left">打開命令框</td>
</tr>
<tr>
<td align="left">Ctrl + K + B</td>
<td align="left">開/關側邊欄</td>
</tr>
</tbody></table>
<h3 id="搜尋-Navigation-Goto"><a href="#搜尋-Navigation-Goto" class="headerlink" title="搜尋(Navigation/Goto)"></a>搜尋(Navigation/Goto)</h3><table>
<thead>
<tr>
<th align="left">快捷鍵</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Ctrl + F</td>
<td align="left">打開底部的搜尋框</td>
</tr>
<tr>
<td align="left">Ctrl + H</td>
<td align="left">取代</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + F</td>
<td align="left">按照資料夾/檔案進行搜索</td>
</tr>
<tr>
<td align="left">Ctrl + P</td>
<td align="left">打開搜尋框</td>
</tr>
<tr>
<td align="left">Ctrl + R</td>
<td align="left">打開搜尋框，自動代入<strong>@</strong>；前往符號(symbol)、函數名稱等</td>
</tr>
<tr>
<td align="left">Ctrl + ;</td>
<td align="left">打開搜尋框，自動代入<strong>#</strong>；前往變數名稱、屬性名稱(word)等</td>
</tr>
<tr>
<td align="left">Ctrl + G</td>
<td align="left">打開搜尋框，自動代入<strong>:</strong>；前往此檔案某行</td>
</tr>
</tbody></table>
<h3 id="編輯操作-Editing"><a href="#編輯操作-Editing" class="headerlink" title="編輯操作(Editing)"></a>編輯操作(Editing)</h3><table>
<thead>
<tr>
<th align="left">快捷鍵</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Ctrl + K + U</td>
<td align="left">轉換大寫</td>
</tr>
<tr>
<td align="left">Ctrl + K + L</td>
<td align="left">轉換小寫</td>
</tr>
<tr>
<td align="left">Ctrl + Enter</td>
<td align="left">在下一行插入新行</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + Enter</td>
<td align="left">在上一行插入新行</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + ↑</td>
<td align="left">將所在行和上一行互換</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + ↓</td>
<td align="left">將所在行和下一行互換</td>
</tr>
<tr>
<td align="left">Ctrl + L</td>
<td align="left">選取整行，跟 Shift + ↓ 效果相同</td>
</tr>
<tr>
<td align="left">Ctrl + D</td>
<td align="left">選取詞句，繼續操作則會繼續選取相同詞句的文字</td>
</tr>
<tr>
<td align="left">Alt + F3</td>
<td align="left">一次性選取相同內容的語句</td>
</tr>
<tr>
<td align="left">Ctrl + M</td>
<td align="left">游標移動到括號內結束或開始的位置</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + M</td>
<td align="left">選取括號內的內容，繼續操作則會把括號一起選取</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + K</td>
<td align="left">刪除整行</td>
</tr>
<tr>
<td align="left">Ctrl + K + K</td>
<td align="left">從游標處向右刪除到行尾</td>
</tr>
<tr>
<td align="left">Ctrl + K + Backspace</td>
<td align="left">從游標處向左刪除到行首</td>
</tr>
<tr>
<td align="left">Ctrl + ]</td>
<td align="left">向右縮排</td>
</tr>
<tr>
<td align="left">Ctrl + [</td>
<td align="left">向左縮排</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + D</td>
<td align="left">複製游標所在整行，並插入到下一行</td>
</tr>
<tr>
<td align="left">Ctrl + J</td>
<td align="left">合併選取的多行為一行</td>
</tr>
<tr>
<td align="left">Ctrl + /</td>
<td align="left">註解單行</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + /</td>
<td align="left">註解多行</td>
</tr>
<tr>
<td align="left">Ctrl + Z</td>
<td align="left">返回上一操作</td>
</tr>
<tr>
<td align="left">Ctrl + Y</td>
<td align="left">前往下一操作，對應 Ctrl + Z；或是重複最後執行的快捷鍵操作</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + V</td>
<td align="left">貼上並進行縮排</td>
</tr>
<tr>
<td align="left">Ctrl + Space</td>
<td align="left">顯示自動化建議語句</td>
</tr>
<tr>
<td align="left">Alt + Shift + W</td>
<td align="left">將選取的內容外插入 html tag</td>
</tr>
<tr>
<td align="left">Ctrl + T</td>
<td align="left">游標左右字母互換</td>
</tr>
<tr>
<td align="left">F6</td>
<td align="left">單字檢測</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + L</td>
<td align="left">先選取多行，操作後將開啟多行編輯</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + [</td>
<td align="left">先選取程式碼，操作後，摺疊程式碼</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + ]</td>
<td align="left">先選取程式碼，操作後，展開程式碼</td>
</tr>
<tr>
<td align="left">Ctrl + K + 0</td>
<td align="left">展開所有摺疊程式碼</td>
</tr>
<tr>
<td align="left">Ctrl + F2</td>
<td align="left">設定/取消書籤</td>
</tr>
<tr>
<td align="left">F2</td>
<td align="left">切換下一書籤</td>
</tr>
<tr>
<td align="left">Shift + F2</td>
<td align="left">切換上一書籤</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + F2</td>
<td align="left">清除所有書籤</td>
</tr>
</tbody></table>
<h3 id="分頁操作-Tabs"><a href="#分頁操作-Tabs" class="headerlink" title="分頁操作(Tabs)"></a>分頁操作(Tabs)</h3><table>
<thead>
<tr>
<th align="left">快捷鍵</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Ctrl + Shift + T</td>
<td align="left">開啟最後關閉的分頁</td>
</tr>
<tr>
<td align="left">Ctrl + PgUp</td>
<td align="left">分頁切換，向右順序切換</td>
</tr>
<tr>
<td align="left">Ctrl + PgDn</td>
<td align="left">分頁切換，向左順序切換</td>
</tr>
<tr>
<td align="left">Ctrl + Tab</td>
<td align="left">按照分頁瀏覽過的順序切換</td>
</tr>
<tr>
<td align="left">Ctrl + W</td>
<td align="left">關閉此分頁</td>
</tr>
<tr>
<td align="left">Ctrl + [NUM]</td>
<td align="left">切換到該數字代表的分頁，[NUM]表示分頁順序，由左至右，由 1 開始</td>
</tr>
</tbody></table>
<h3 id="視窗操作-Split-window"><a href="#視窗操作-Split-window" class="headerlink" title="視窗操作(Split window)"></a>視窗操作(Split window)</h3><table>
<thead>
<tr>
<th align="left">快捷鍵</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Alt + Shift + 1</td>
<td align="left">切換到單一欄位，其實就是一般分頁</td>
</tr>
<tr>
<td align="left">Alt + Shift + 2</td>
<td align="left">切換到兩欄位，就是把兩個分頁合併在一個分頁顯示，左右對照形式</td>
</tr>
<tr>
<td align="left">Alt + Shift + 3</td>
<td align="left">切換到三欄位，一個分頁顯示四個分頁內容，左右對照形式</td>
</tr>
<tr>
<td align="left">Alt + Shift + 4</td>
<td align="left">切換到四欄位，左右對照形式</td>
</tr>
<tr>
<td align="left">Alt + Shift + 5</td>
<td align="left">切換到十字分隔(Grid)形式，上述的分隔都是條列分隔，</td>
</tr>
<tr>
<td align="left">Alt + Shift + 8</td>
<td align="left">切換到兩欄位，橫向的分隔，上下對照形式</td>
</tr>
<tr>
<td align="left">Alt + Shift + 9</td>
<td align="left">切換到三欄位，橫向的分隔，上下對照形式</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + [NUM]</td>
<td align="left">移動檔案到分隔的欄位，[NUM]表示 1-4</td>
</tr>
<tr>
<td align="left">F11</td>
<td align="left">全螢幕模式</td>
</tr>
</tbody></table>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://docs.sublimetext.info/en/latest/reference/keyboard_shortcuts_win.html" target="_blank" rel="noopener">Sublime Text 3 Documentation</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Sublime Text3</tag>
      </tags>
  </entry>
  <entry>
    <title>Sheetsu 把 Google 試算表轉成 API</title>
    <url>/2016/02/01/sheetsu/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前陣子朋友在弄個小 case，想要拿 Google sheet 當作資料，後來他找了 <a href="https://sheetsu.com/" target="_blank" rel="noopener" title="Sheetsu">Sheetsu</a> 這工具，提供免費的轉換 API</p>
<h2 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h2><p>首先第一個步驟，你得先有一個 Google Account (XD)，沒有帳號的話就沒有 Google 雲端硬碟了。<br>在雲端硬碟新增一個 Google 試算表，取一個好聽的標題名稱，然後在第一行(橫的)，輸入你想要的欄位名稱，這欄位名稱最好使用英文；這個欄位名稱就是你之後串接的 json 名稱，注意大小寫是不同的喔。<br>另外，這個試算表你可以不用公開，你可以將這檔案設定成只有你自己可以存取。<br><img src="https://lh3.googleusercontent.com/sC_KNlI3S1gvOR99e-2g2J-8G9VKITHK3R9hyTc93_ItyHJhc5-9bVDvs6pYiEaZ8NELfSEnpp8dsvDdy0kQnvPRxkRqRlbglX5JCoWDXBXoRrN4jnRM3IOWHKrcyZ8t-BqlmSV5A0skyUYn0Sz8tyTVHOmVGf-wOrgHAbOFsS0U2UCV3F3AW0UHLaAUzfVYap62TRsd7coLrOXC3uVpy-tbwQvMincd3nlcWWF6yX7W77ByHJL1qIGLvj1LlpAVhFf3Vhw6_t6zaufpVIHd2IKGm0Y9wK7fbvJJ311_eyWh3drrIjWmCIFGnK_jg-5CFEcwzJZ3l0fx5OsIdsy2Ag4YKMzz9qlnyT2STD2iHcJitKRGMJYFfTWTNj_eNakmo-GOEMCmfmybRpxYnMPbDAW2Dnnc4cyqadBqnYH-auyeN1n8QW1y7t8wEmkyiLXMTMJFhj2rU9USMEdIhfGAaOlx-LTcss2iv4iMcT4LJazGp7ICnEbfR0sKWw4kxjwjX4UCJnRuoQH3NIkVq4SO2GHMmT5IWZ2CAuiLQ6ncQt89SN4UqIrRUylMq_wfX9Gl69oLIzICclXPve8cU9y2MvjzE90UFXB5A7g1MsM65vyztpn5YXkFl9FTDCdHehl0VSOl0iccz1wy5a6hiH_0sGggaUJVtthL0VZT9pbFZQ=w388-h325-no" alt="google spreadsheet"></p>
<h2 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h2><p>將試算表的 URL 複製，貼上到 <a href="https://sheetsu.com/" target="_blank" rel="noopener" title="Sheetsu">Sheetsu</a> 的欄位中，然後按下 Create API，輕鬆簡單，API 完成了。<br><img src="https://lh3.googleusercontent.com/CDsKEmx5276IbXm4sM3c29htHietWdOI6JjKdg621Q0oL7z5z4if_XkGLBjZDm1_voiO4HoV3rVI8Ltgg5ZObab7NcG2Qz0ARf0M0bFDkPf7Twq3adPCr7tqBXInBDRkbzbZXRqnPxs1q_QfM0kkMczmf4QOF9ivreFxYrWHLns6_efqBPyf__izGf9ZhqHBFvG17Oi10leNeTzBcLN3-w-c_MSdNNwPL40V-P3gjKF-CiowUkp5SdL3s8SpJ4ajSv1eznRp9qH7aX_Zsd9mHDXNzb6bdTVdZvfwHLVHd2NTEqGe5w_NLYQD27IvIaaSzFULAi-YndzTAdP5OyM9La-0qFvS9N3ldC54vrHGhCciBXuXZTQoZkSF1j4zg6INWR9aXWqF7fvEhuHr3JoqwEpZbZCWd9dT8EuatEuFcGzOW-nz4HM03VbBwn369F_qsYLiAc0sqV2vajt_VIhu2MFmuEBskLgD01-PSgJStEkEcTnqaVVJq-w5Sc4Wyqr8b6eXfQJA7tsYvduXsT7zxZ8DV3WMVu6sWnZSqXkCz_ENWgHsH4ILqvBLGxOcDuIibdHgYOzRgs53zPG9BM8Ra9YucBQINXkvxq2p80JgRGC-dkJEJt44aUZvqDzqof6bt1hAQcAdPepMazLxrJcMAJksyjEw9Xt9mfxKE9oltA=w951-h508-no" alt="Turn a google spreadsheet into an api"></p>
<p><img src="https://lh3.googleusercontent.com/fFzYjR6asVr57PovXexvO7M0E_YtCd01XP2YTA5hy1m2vxxsOO_A65ixcBpvWcq311s8TS6JAPknPweR-jDMt95hquGkjqbFa3pXRfrsCeUEdLv8W7z1E29BnnILHsWmcLg769IsdRkJjGpZaiDBIEfwwl2VSqb3RXDAVYymm_38R0mPeHiAKYKX3wF9o1BVrAG6b-TIUGEe3uNwpZAkLqnuy-iHnc_2cBe4IxaLlAAImJnd9W4Dmt4CIabiHm7feMx_B6zgZmwQkRy1WavwrRZp4qABbZH1vaSX1qMHshPc8-kc9d_oEiER_Tcq-k2EfhcqX2AiXpXJhA_a4FeYk1KZIfQWVG1pVCgWujMuVtCMNfSMEKas74BQI5LjUGS4HVyStwkIEOeimvsla5cdynQBtaR2tNmiMIKbBG5-nHdlWl5q9GYPF5ArQWTsG4_wlTVipQrUbxpT5FrayAaPY9Y-GHjntMfUS8m7xVkooNVr5xt0C-TR6KqOJfPAL_IZN4u21ZKXctCK9jBNM9jTNmSHUvcDYmdkXp2OlA4sHI5-Au2i_Ymw8E4IvQM_LhjdirF7cU7x4Hj65plXAdROQ8vBoHU6tZLItGXbN120k7iXBmN8nqGaevbOwAsQb8JxsOH8GlKnV2EkVBznLddMMLZJKHvz2vv6zZRCdc-kgQ=w771-h214-no" alt="Your APIs"></p>
<h3 id="注意事項"><a href="#注意事項" class="headerlink" title="注意事項"></a>注意事項</h3><p>如果只是這樣我記錄這東西做啥，當然是還有一些眉角，列出如下</p>
<ul>
<li>只有 Get 全部資料與某列資料</li>
<li>Post 只有新增一筆資料</li>
<li>Post 數字會自動過濾，也就是送 09 出去，會變成 9</li>
</ul>
<p>以上這些，關於數字的地方，還是有處理方式的，跟儲存格的方式差不多，多添加一個<strong>單引號</strong>就行了。但是想要修改資料的話，只能自己進去 Google 表單進行修改，想要透過 API 進行修改，請自行撰寫吧，畢竟只是簡單的工具而已。</p>
<h2 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h2><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/c3Lcngcu/embedded/html,js,result/light" frameborder="0" loading="lazy" allowfullscreen></iframe>


<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>API:<a href="https://sheetsu.com/" target="_blank" rel="noopener" title="Sheetsu">Sheetsu</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Google</tag>
      </tags>
  </entry>
  <entry>
    <title>Web駭客攻擊手法及防護實戰 Day 3</title>
    <url>/2016/02/18/webhacking3/</url>
    <content><![CDATA[<h2 id="本日議程"><a href="#本日議程" class="headerlink" title="本日議程"></a>本日議程</h2><ul>
<li>正確設置 Web 及 db 服務</li>
<li>第三方元件檢測與分析</li>
<li>案例分享及解析</li>
</ul>
<h2 id="正確設置-Web-及-db-服務"><a href="#正確設置-Web-及-db-服務" class="headerlink" title="正確設置 Web 及 db 服務"></a>正確設置 Web 及 db 服務</h2><p>可以參考規範標準 <a href="http://csrc.nist.gov/publications/PubsSPs.html" target="_blank" rel="noopener" title="NIST">NIST</a>，建議觀看編號 <strong>SP 800-44 Version2</strong> 的文件，此篇文件 <strong>Guidelines on Securing Public Web Servers</strong> 都是說明 Web 相關的安全性。</p>
<p>例外，<a href="https://msdn.microsoft.com/enus/library/zdh19h94.aspx" target="_blank" rel="noopener" title="MSDN:Web 應用程式的基本安全性實行方式">微軟</a>也寫了一堆說明，而且很詳細。還有 <a href="http://www.opensecurityarchitecture.org" target="_blank" rel="noopener" title="Open Security Architecture"><strong>O</strong>pen <strong>S</strong>ecurity <strong>A</strong>rchitecture</a> 上的介紹，<a href="http://www.opensecurityarchitecture.org/cms/library/patternlandscape/222-pattern-public-web-server" target="_blank" rel="noopener">此篇</a>可以看出詳細職能的區分。</p>
<h2 id="第三方元件檢測與分析"><a href="#第三方元件檢測與分析" class="headerlink" title="第三方元件檢測與分析"></a>第三方元件檢測與分析</h2><p>關於檢測的部分，需要考量第三方元件是否安全、是否有外洩的可能；可以觀看這篇資料<a href="http://download.icst.org.tw/attachfilecomm/%E5%AE%89%E5%85%A8%E8%BB%9F%E9%AB%94%E6%B8%AC%E8%A9%A6%E5%8F%83%E8%80%83%E6%8C%87%E5%BC%95.pdf" target="_blank" rel="noopener">安全軟體測試參考指引</a></p>
<h2 id="案例分享及解析"><a href="#案例分享及解析" class="headerlink" title="案例分享及解析"></a>案例分享及解析</h2><p>此篇主題就省略了…</p>
<h2 id="附錄"><a href="#附錄" class="headerlink" title="附錄"></a>附錄</h2><p>此篇附上介紹的工具與講師提到的部分資料。</p>
<h3 id="coin-amp-able"><a href="#coin-amp-able" class="headerlink" title="coin &amp; able"></a><a href="http://www.oxid.it/cain.html" target="_blank" rel="noopener">coin &amp; able</a></h3><blockquote>
<p>15 年沒改過的軟體，請注意使用 XD</p>
</blockquote>
<p>以下是三套進行檢測的工具</p>
<ul>
<li><a href="http://www.tenable.com/products/nessus-vulnerability-scanner" target="_blank" rel="noopener" title="Nessus">Nessus</a></li>
<li><a href="http://www.nstalker.com/" target="_blank" rel="noopener" title="N-stalker">N-stalker</a></li>
<li><a href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project" target="_blank" rel="noopener" title="OWASP ZAP">OWASP ZAP</a></li>
</ul>
<h3 id="Nessus"><a href="#Nessus" class="headerlink" title="Nessus"></a><a href="http://www.tenable.com/products/nessus-vulnerability-scanner" target="_blank" rel="noopener" title="Nessus">Nessus</a></h3><blockquote>
<p>主要針對協定的弱點掃描<br>進入<a href="https://www.tenable.com/products/nessus/select-your-operating-system" target="_blank" rel="noopener" title="Nessus Download">下載頁面</a>，選擇 <strong>Nessus Home</strong> 這樣就可以免費使用了，接著安裝，然後進行[序號申請](<a href="https://www.tenable&gt;" target="_blank" rel="noopener">https://www.tenable&gt;</a> .com/products/nessus-home)，要啟用需要進行序號申請(序號申請失敗請更換瀏覽器試試)<br><img src="https://lh3.googleusercontent.com/uN0C4NAQCVQvPNRG0ASphDe0BeAs1DEKOOF8OAgeMRmVQ62DkuLfeF_1FTa2402KKACZgwt2Z5mQ5YfO-Z0HAHm6Ex4OrBESX3eZ8-j7V1iuXAzBkEKBvVEWLjkNpaY2lvvYYRa7368IeKl9ymf47dDhZU_kAbmVlmIeP54UQSgHaw6jqjauGZErqu_EzMHbVY0YA5xeZytjjec0IX2JVtXJO-zmfGNSDoOaU05b4vMHRAtq1QjKGRfAERDah1Hq6BZoa2ESarEPF8Kc4EnxlOTESH_wJY6jXJ4ogfiapahjJM9NyFpG74kNMULr8JG5jZ-qGrjnApF4Urhl5pB2mc2RhP7uq4mmMSQYRuhBzPnY9y0zbIIf4xq1Qj8acqA5C5Euhh6OzXAhqtU_oGm_KGE_ri5frkZFFfK23M58luEt3LacjYacddyGg4XilEBKoRkavtKombTaUqFBNS2kNTELO-u5Z5gXeu_5whZdzNUIU0Q00oAgqk5JWE19nucR4h6QqusQZpCNnPQ64XiBPB65sB8lVWqrBFmuONPQpls_SWNlkqTVJ3G2wA8qU3mWoc_zDS-rsXG6nSchQ4p-qmwsU0YC1ib_UWTruMi_Ri2dwUKuW3Oj-XWRKTtCBO75VHfVCFBhmRX6bhZxOztby7m6Olm-UQhVGnhUa_PJOw=w525-h460-no" alt="Nessus Login"><br><img src="https://lh3.googleusercontent.com/CGcZIt_Ij4CT-G1L5Qd5dxGoUUrb9iWKd8NzRKsVgByeh_rbCNhOkg183EOFmZBL4C_UnJgOgkhOjLdtqnn9Zqm4icK3888XjitFGbSwdV28GVnglw0m7KLLthDJ2Cxig15texTQRZS_KzrfTAuxiesqB0xZyYRKtMLwcABjOr2HwlOtCSxeeDbeMOpmQsm0dfqgC2PDw9SNc0drLT3Nlc3W42FkLDU4nsWtPutyAYnfPqHrKJr7jdQf-3_3TO5RXs4Y333B33bCGyvm8hgIEr7fp1nkVVbli4tyq_-gv0kfNp1LgBtrEY2xfEnAWzzSFjgnvWkJq56DNWXefLO8ncOTEVecjUHRNZiOlz72eursO84j4RsfXD8OVqtBKdPXnvZqmQgM2etiT7UpnD7IAmso20ztbEtEfrQmps3HlK_FGT1Nlyj0q_LRJAy_deGg218hiUV99dte-1kNzUa0NTHSbU3NicMAlVJfq7OMtGxeE17kCaD1qu0uyIxPdq3Yk6d5iUlwOPiP7R3ZJRQVnGHQiffg4sHQGleCb3nixqPLZIOq18LROoViPdB1uyU4RCUuUFvgAYraxac51IHxK3cJUOiMtos_Vj0k3ppnFIb8D4DvA_4bwBrvG1lFUzWfNcAeIbhOhKkHsfgxofBzKBa33nebw4tBNFefNt3LOQ=w862-h631-no" alt="Advanced Scan"><br><img src="https://lh3.googleusercontent.com/XylK3SY6UUDwNWcRHft9QjQJAvZKk5Sy8P4yh_Mk1ZKIZt-eRaErwd8MEHJdLYOAtqDFI3H7tC7pC4tWplRSj996IbDDx2hziG3wA7U-WNzit8Rcc-r5bJ0ACyNl4-0-3FKZr9o5ZseVKLXwMhFRaHePYjKNNNuaOmMrs_iYfftk3lWF3rrywTzJ25u3IOUMYRGm8PK3bsMnJC1YOY3ZvToSzL3SwDHYbfYRr_Gso44T92E_dPj5QwS8rnGZozPAOaWZOW-rZbo1Oo3zpMAFgp01uB43JwkxWb41aLtnLBTy4aGIYI4TTt5_soCX2UpxFvEu3MxKlrD7K7pBde1_AhFd4qR36UnoLi3L79iG51zSVeFxaBPrAbLsoiK4Gjj-ECgzKgias8OPOSNHB2bDaRpQbIzL4XkIJ8sdIkrgvHV8e0MD0MsZyrk4JAqDMZwLA7x4I67lCabrhRZAHP1noOGGLWCBGwqJcHmnujZU7ReLzuAWHFek2QufrhMZOtmko-mCYawMlotstaygQmtIC0Ljx-pmKu1r3-7KDg5CdRyr0hBFnF-UpogX6hCQjHId9uZ3ZDsmwZ1vdq8JnGYhjg38IoHdDgRZSfIrTQ-jzj_VK58aBVBxmuVrQZZecDfSJcguO-fEvqO68aPUd3AUsUH5_zWvsXPI8G8nkU7fJQ=w716-h687-no" alt="Host Discovery"></p>
<ul>
<li>ARP<br>ip 跟 mac 的對應 table，可以掃描 ip 就會對應到 mac，有 mac 就會掃到 ip</li>
</ul>
<p>Web Applications 家用版沒有提供，只有付費版才有，而且掃出來的結果跟 Zap 一模一樣，所以使用 Zap 就好</p>
</blockquote>
<h3 id="N-stalker"><a href="#N-stalker" class="headerlink" title="N-stalker"></a><a href="http://www.nstalker.com/" target="_blank" rel="noopener" title="N-stalker">N-stalker</a></h3><blockquote>
<p>檔案下載前需要填寫資料，如果 Chrome 送不出去，請使用其他瀏覽器<br><img src="https://lh3.googleusercontent.com/Awhndmll-H0u2bXKgi2VYs3pKOIo5o90T4FKwlw46cnfYcKl2WpG7j-Q2D6vz-77mHt1fttS2rTAkQSFrHifbYQitrcz2YJgeL65FkLWPEgELDdSjG3uoja_jE4OsM6tfcKPFowy9gQzQlfETXbHY6ypLrTk7AnPaLNnn_OC2jwa6dyf_I939vtqAkkxTGdOq1RpfNPn-dbVQv1VaCk-42_eEonlL3D6iogDBKR8rOS8sYfw6yqyTrgtITfUngiR9gwo1gpc6RJAVplWVjRWp0YZxsgD2c9O3W7nA7mdjMMGfvUNO2dsB3qWsLuOk0lIolRiCn7KXxiBIPVjTNzvK3xpJDdRG5pdx5tyKT6xtGvhcNicjqqe63F-dOKEQpk5EzhhIy3uGbUxrKlzOvIwj0HtcXhdObZVA8shTrBwVr_Yvvcti77kABgq_1mpiAKEm-HmzVSAGPMlmMZEPcbFS_8Udo6ubU_4JIo_4XRmULBcuer4KHGZI4eoy8xphiIMOXWxt5tA2n6ijVRg6nrqF3pbXau3YhT9781n8q4pxvK0q6G-Lp-sIftQq3HA33Bj-BONRJVpFwWixzGiXnju9N4h7c7rAFV6oGxfy6OYrrtBS6NlaUY3eYf3qK0R38ePNeq5nVNLkV_nQJY4PxmZ6PUrF0FZJdAXZFAtjihTdA=w748-h569-no" alt="Download Free Edition"><br>安裝完成後，直接啟動，如有需要更新請先行更新喔；然後就可以直接掃描了<br><img src="https://lh3.googleusercontent.com/l2rt2umobWzQHyFkQqlnJkb5vxbVtDsuvjAE7SpZePSWc5bR7m4MTQ_WP5vlX40_P_Szhkvh6RvPjiYby08VSgwYtKFuScDb_ndm9cokrww31TX7ucs1Em94fL-kaHRHrjxZg6OG3eGKmUPQAUnEP90dE18lWXLAGY3sbA85QNtVvD3gjXuaEmfB_PM1Aff-UVhn-rWcSH7DDtA7yBRbQgor486ZfKYgvygVDO1o6SJwe4MDCbKWwjPhwJyqTwMFQ2utow-Nk5zLxSXByAc68aq3xT0eGK0BP7bgjDIZ4Ygs10tqTpUe4Ly50wWaboUx17RzHSFM0Kn8xhsoliC9H8JLbuCx-nIpTC1r9p1p4N0Cb0oJT0LrzIk3dPgXu5JqqonlCMLnOLevM0Myeo2WGSB8uJgRcjBaL9-tdzYCVZBrHWz6TTXwyb9BrihnInMK2btad2WQJH4jZWlCTG81zDhKsuIHTwgvYQ4HDK_BK1H0sCR3wUlaIaHhewHc7Qqf76AY_4Qt0EqqGhEOR9Flzp9lhRsz_gkOJ1O-8izzySyi8dMrVtVrQSH0pXGggoga4-uj9k1igQG5_rPBCOPK4XCQw6d-OQz-tjf7m-qtFueGLjKFBBCAltqwNr2sFune8wTxDn2-sXDjN8ZXyUB7y7MpbbBLwCNAuYRcvo_5SA=w776-h570-no" alt="N-stalker Scan Set"><br>掃描完成後會有 Report，裡面會有錯誤編號，這些編號可以查詢 <a href="https://web.nvd.nist.gov/view/vuln/search?execution=e2s1" target="_blank" rel="noopener" title="Search CVE and CCE Vulnerability Database"><strong>CVE 弱點庫</strong></a></p>
</blockquote>
<h3 id="OWASP-ZAP"><a href="#OWASP-ZAP" class="headerlink" title="OWASP ZAP"></a><a href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project" target="_blank" rel="noopener" title="OWASP ZAP">OWASP ZAP</a></h3><blockquote>
<p>安裝完成後，直接執行，輸入想要測試的 url 然後點下 <strong>攻擊</strong><br><img src="https://lh3.googleusercontent.com/S7qzQ5UEXjgkdo5yKG74muGemGci_qMHwNIIQswIoLS5JW8AjDwbSs1oZcmjmhcQ_UDo1Yu7HOuYSSoD0xkRB4FWXj7Lwf7j7PR5be_ZTezzcYJ-ptBivoV_ztw9oXuTuzEJHSTNXOI8gr_y1-UWAYoRMtHmLE87kPty8V4mGtB7ueGijo2Z1ObQbgjTVBRuw4HJ-GMczYtvRca-MhjGQ5NvRFLoDDDzre5EKgAdAjhyLik40qb6QHa6NRPb8PwmSU-ln8GYF6v0xzOBpVduhTKS1B_TqXkzLd5FxK_6SsNbe0fXS4VNPRZULeIwqKVJb2IlDR8wqxafsK30-6OLC7LuSSMXRSoQeyt9VWfVM5RVZMUcJ47irQk5WRXL6ZjMihqlbO3ftJ87ZHLpGEnedrC23SWskKeUfWD6NU7m9Z4hsIPa95kXE3mem1hsG2nJe25765zbTvqe12cNJ7ycrt9HCScPszhosxkeXJD8ivzBX8nasY4Xf9le7jXqvZhuz6VMjO7MPjSTnoZp7pUiC1InSGaDZNUEvnRAQADrsdJ6VTP_dCSlqVRIfIgQmgDyM3x1Ch4G6gH8q3H15gnsTJNrSKryIdHLbdE0_RwkZQy06_F9CI8hVrE05agwinRqE28JcyVzLOT7V4Q1cbaeOXMFKUhn4wPY3xru5vOEfA=w786-h593-no" alt="Scan Set"></p>
</blockquote>
<h3 id="mimikatz"><a href="#mimikatz" class="headerlink" title="mimikatz"></a><a href="http://blog.gentilkiwi.com/mimikatz" target="_blank" rel="noopener" title="mimikatz">mimikatz</a></h3><blockquote>
<p>一個方便取得密碼的指令集工具</p>
<h4 id="指令集"><a href="#指令集" class="headerlink" title="指令集"></a>指令集</h4><p>privilege::debug</p>
</blockquote>
<h2 id="線上工具"><a href="#線上工具" class="headerlink" title="線上工具"></a>線上工具</h2><ul>
<li><a href="https://hashkiller.co.uk/ntlm-decrypter.aspx" target="_blank" rel="noopener">Hash decrypted</a></li>
</ul>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://csrc.nist.gov/publications/PubsSPs.html" target="_blank" rel="noopener" title="NIST">NIST</a></li>
<li>MSDN:<a href="https://msdn.microsoft.com/enus/library/zdh19h94.aspx" target="_blank" rel="noopener" title="MSDN:Web 應用程式的基本安全性實行方式">Web 應用程式的基本安全性實行方式</a></li>
<li><a href="http://www.opensecurityarchitecture.org" target="_blank" rel="noopener" title="Open Security Architecture">Open Security Architecture</a></li>
<li><a href="https://www.tenable.com/products/nessus/select-your-operating-system" target="_blank" rel="noopener" title="Nessus Download">Nessus Download</a></li>
<li><a href="http://www.tenable.com/products/nessus-vulnerability-scanner" target="_blank" rel="noopener" title="Nessus">Nessus</a></li>
<li><a href="http://www.nstalker.com/" target="_blank" rel="noopener" title="N-stalker">N-stalker</a></li>
<li><a href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project" target="_blank" rel="noopener" title="OWASP ZAP">OWASP ZAP</a></li>
<li><a href="https://cve.mitre.org/" target="_blank" rel="noopener" title="CVE">CVE</a></li>
<li><a href="http://blog.gentilkiwi.com/mimikatz" target="_blank" rel="noopener" title="mimikatz">mimikatz</a></li>
</ul>
]]></content>
      <categories>
        <category>心得筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Chrome 瀏覽器操作快捷鍵</title>
    <url>/2016/02/24/Chrome-shortcuts/</url>
    <content><![CDATA[<p>紀錄個人覺得比較便利與實用的一些快捷鍵(Windows/Linux 版本)。</p>
<h2 id="分頁與視窗快速鍵"><a href="#分頁與視窗快速鍵" class="headerlink" title="分頁與視窗快速鍵"></a>分頁與視窗快速鍵</h2><table>
<thead>
<tr>
<th align="left">快捷鍵</th>
<th align="left">說明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Ctrl + N</td>
<td align="left">開啟新視窗</td>
</tr>
<tr>
<td align="left">Ctrl + T</td>
<td align="left">開啟新分頁</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + N</td>
<td align="left">開啟無痕模式新視窗</td>
</tr>
<tr>
<td align="left">Ctrl + O</td>
<td align="left">開啟電腦中的檔案</td>
</tr>
<tr>
<td align="left">按住 Ctrl 鍵，然後按一下連結</td>
<td align="left">新分頁中開啟連結</td>
</tr>
<tr>
<td align="left">按住 Ctrl + Shift 鍵，然後按一下連結</td>
<td align="left">新分頁開啟連結，並切換至新開啟的分頁</td>
</tr>
<tr>
<td align="left">按住 Shift 鍵，然後按一下連結</td>
<td align="left">新視窗開啟連結</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + T</td>
<td align="left">開啟您最近關閉的分頁</td>
</tr>
<tr>
<td align="left">Ctrl + [Num]</td>
<td align="left">切換分頁列上特定編號位置，由左至右編號由1～8；<strong>[Num]</strong>表示 <strong>1～8</strong></td>
</tr>
<tr>
<td align="left">Ctrl + 9</td>
<td align="left">切換至最後一個分頁</td>
</tr>
<tr>
<td align="left">Backspace</td>
<td align="left">分頁瀏覽紀錄中的上一頁</td>
</tr>
<tr>
<td align="left">Alt + ←</td>
<td align="left">分頁瀏覽紀錄中的上一頁</td>
</tr>
<tr>
<td align="left">Shift + Backspace</td>
<td align="left">分頁瀏覽紀錄的下一頁</td>
</tr>
<tr>
<td align="left">Alt + →</td>
<td align="left">分頁瀏覽紀錄的下一頁</td>
</tr>
</tbody></table>
<h2 id="Chrome-功能快速鍵"><a href="#Chrome-功能快速鍵" class="headerlink" title="Chrome 功能快速鍵"></a>Chrome 功能快速鍵</h2><table>
<thead>
<tr>
<th align="left">快捷鍵</th>
<th align="left">說明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Alt + F</td>
<td align="left">開/關 Chrome 選單</td>
</tr>
<tr>
<td align="left">Alt + E</td>
<td align="left">開/關 Chrome 選單</td>
</tr>
<tr>
<td align="left">F10</td>
<td align="left">開/關 Chrome 選單</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + B</td>
<td align="left">開/關書籤列</td>
</tr>
<tr>
<td align="left">Ctrl + H</td>
<td align="left">開啟<strong>紀錄</strong>網頁</td>
</tr>
<tr>
<td align="left">Ctrl + J</td>
<td align="left">開啟下載內容頁</td>
</tr>
<tr>
<td align="left">Shift + Esc</td>
<td align="left">開啟 Chrome <strong>工作管理員</strong></td>
</tr>
<tr>
<td align="left">Shift + Alt + T</td>
<td align="left">焦點設在瀏覽器工具列中的第一項工具，使用 Tab 切換</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + J</td>
<td align="left">開啟開發人員工具</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + Delete</td>
<td align="left">開啟 [清除瀏覽資料]視窗</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + M</td>
<td align="left">切換多位使用者</td>
</tr>
</tbody></table>
<h2 id="網址列快速鍵"><a href="#網址列快速鍵" class="headerlink" title="網址列快速鍵"></a>網址列快速鍵</h2><p>在網址列中，可以使用以下方式快速輸入</p>
<table>
<thead>
<tr>
<th align="left">快捷鍵</th>
<th align="left">說明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Ctrl + Enter</td>
<td align="left">網址列的輸入內容中加上 <strong>www.</strong> 和 <strong>.com</strong> 並開啟結果網址</td>
</tr>
<tr>
<td align="left">Alt + Enter</td>
<td align="left">新分頁開啟網址</td>
</tr>
<tr>
<td align="left">Ctrl + L</td>
<td align="left">全選網址列內容</td>
</tr>
<tr>
<td align="left">Alt + D</td>
<td align="left">全選網址列內容</td>
</tr>
<tr>
<td align="left">Ctrl + K</td>
<td align="left">網址列中自動代入 <strong>?</strong>，使用預設搜尋引擎搜尋</td>
</tr>
<tr>
<td align="left">Ctrl + E</td>
<td align="left">網址列中自動代入 <strong>?</strong>，使用預設搜尋引擎搜尋</td>
</tr>
<tr>
<td align="left">Ctrl + ←</td>
<td align="left">游標在網址列向左移動一個字詞</td>
</tr>
<tr>
<td align="left">Ctrl + →</td>
<td align="left">游標在網址列向右移動一個字詞</td>
</tr>
<tr>
<td align="left">Ctrl + Backspace</td>
<td align="left">刪除網址列中游標左邊的關鍵字詞</td>
</tr>
</tbody></table>
<h2 id="網頁快速鍵"><a href="#網頁快速鍵" class="headerlink" title="網頁快速鍵"></a>網頁快速鍵</h2><table>
<thead>
<tr>
<th align="left">快捷鍵</th>
<th align="left">說明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Ctrl + P</td>
<td align="left">列印網頁</td>
</tr>
<tr>
<td align="left">Ctrl + S</td>
<td align="left">儲存網頁</td>
</tr>
<tr>
<td align="left">F5</td>
<td align="left">重新載入目前的網頁</td>
</tr>
<tr>
<td align="left">Ctrl + R</td>
<td align="left">重新載入目前的網頁</td>
</tr>
<tr>
<td align="left">Ctrl + F</td>
<td align="left">開啟搜尋列</td>
</tr>
<tr>
<td align="left">F3</td>
<td align="left">尋找下一個與您在搜尋列所輸入內容相符的項目</td>
</tr>
<tr>
<td align="left">Ctrl + G</td>
<td align="left">尋找下一個與您在搜尋列所輸入內容相符的項目</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + G</td>
<td align="left">尋找上一個與您在搜尋列所輸入內容相符的項目</td>
</tr>
<tr>
<td align="left">Shift + F3</td>
<td align="left">尋找上一個與您在搜尋列所輸入內容相符的項目</td>
</tr>
<tr>
<td align="left">Shift + Enter</td>
<td align="left">尋找上一個與您在搜尋列所輸入內容相符的項目</td>
</tr>
<tr>
<td align="left">Ctrl + F5</td>
<td align="left">重新載入目前的網頁，略過已快取的內容</td>
</tr>
<tr>
<td align="left">Shift + F5</td>
<td align="left">重新載入目前的網頁，略過已快取的內容</td>
</tr>
<tr>
<td align="left">按住 Alt，然後按一下連結</td>
<td align="left">下載連結目標</td>
</tr>
<tr>
<td align="left">Ctrl + U</td>
<td align="left">開啟網頁原始碼</td>
</tr>
<tr>
<td align="left">Ctrl + D</td>
<td align="left">網頁儲存為書籤</td>
</tr>
<tr>
<td align="left">Ctrl + Shift + D</td>
<td align="left">所有開啟的網頁儲存為新資料夾中的書籤</td>
</tr>
<tr>
<td align="left">F11</td>
<td align="left">開關全螢幕模式</td>
</tr>
<tr>
<td align="left">Ctrl + 加號[+]</td>
<td align="left">放大頁面</td>
</tr>
<tr>
<td align="left">Ctrl + 減號[-]</td>
<td align="left">縮小頁面</td>
</tr>
<tr>
<td align="left">Ctrl + 0</td>
<td align="left">頁面回復為正常大小 100%</td>
</tr>
</tbody></table>
<h2 id="備註"><a href="#備註" class="headerlink" title="備註"></a>備註</h2><p>有些功能相同的快捷鍵可以應對不同附加功能給予的快捷鍵互相衝突時使用。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://support.google.com/chrome/answer/157179?hl=zh-Hant&ref_topic=14678" target="_blank" rel="noopener">Chrome 說明書</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title>Vdi to vhd(VirtualBox) &amp; Vhd to Vhdx</title>
    <url>/2016/02/25/VMConverter/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>VirtualBox 建立的虛擬機器想移動到 Hyper-v 使用呀。</p>
<h2 id="VDI-to-VHD"><a href="#VDI-to-VHD" class="headerlink" title="VDI to VHD"></a>VDI to VHD</h2><p>VirtualBox 安裝後，會有 VBoxManage 轉換工具，要執行這工具，必須要在安裝程式路徑下執行命令提示字元；可由執行程式，開啟檔案位置。<br><img src="https://lh3.googleusercontent.com/ttJR4tAoKwxw0ccPqQFP8bfaMxyud6OnKHdegFLxko2QklCDgO5BVKq1fnJ3rakV6OCr5hwO1qANnM_DOltwzC_4_1baH5UfCQYzQZRwA54_Jad8xIYl60vaQh8XwqFQnRBxbXLw4XSv6dIeltFC01FfGBdiFNqKIXOI3X5anMvMB7BYLa1U5Bp-2y74Xue6W8d8rB8oLddJUJesERYveFaF1HDvo21nt_6K_isLGzpl-v1B4lfIGWw0BMPvqSJQ1-L7q9hP0cKhwEXcbKD8OrReB7HLxMplTNh6RFv0Jzp9KEXebb_PP4Y4TzhLOzjrRkfdhDeChTjoH071RvpP_nZbIRLCn9SAmqWjRxN6Zs-5CgYMCCT2wqxFbZkQbDaAJy5NJVlAuycLvYxaZxhFsKzaE8QaP7UmgIP9loFTrQnawzLaDn9utJ8NXn5vdLNoG030tytoJSNHs33KO6In-ZK12lCbW4rV18YTvGJz8ywCeu-XFtR8q7O-GWQF54ZiHKVxiyVV_ydi0ktH4pfUmdRAnx1JFTX2mtQWAweT8j2dLp-rsL6XaO2qgIAe1gxg9vhd2VwmaMf3oHRgWsrG0XLR4y7yi6UATuS4ITYUgMxUzGYe8LfrCMsStT_zPpdPqlvgT4TFw1Ali6YK-9UpINMmm8u78RSsRWPI6b5hOw=w285-h200-no" alt="open path"><br><img src="https://lh3.googleusercontent.com/2hwWpvyHlzURydB4ClimwurhI6Sa8UEjnYYQmyNfmA9YjFunQTFf2wEWOwDf_ROqaCV6FarYrVsqqjQ-4GGFhH2p_FeV-j7GshJzOONA9d0CZdR7w0uIzwFXT2HN9tWPBrEm9zUO5fb4zypgac0A04B6XyYV6FFmeUmPS8dhuUuAmSfN9f9aFqgXasT3uYKKgow7he1KmMP_Xq3pRgMoramyf2k2kX_Prs9vZg7c5wFwm99mlENnIH6eBgPgUp7xi5RXLnodQmGIosFa4vKCRnIKAMmjFSFeT40rSl5n34i_k0iAtIa-36yAw_T2NCpc666VYGERF7VNzbmorvFFgbDh40I2qyaBsEMF5BaHYM9LTclowyUjB7k8Spoyv_a_PHf7lONOcgg1_6RmwvdFNszYijWIt8qXvejboLGRZ0GCAOEM0cTchfDoc_ObKlIKxWWgTJsqCA2puCWroh2tw0GfMO9q4ztN6XqFATrQ2tNBHGzSZZ59cONjIMst3Ajci2fW2hNGC3QaPfzIGHoTqNhmLxpLhFeAbo68QhYfFDXlmfwBUne_scrFnhh3XH7aPFc7N997Ti7nsoI-8JvnMtFVrmBsslmzwVBl5R5_OO_5ezV_oIvH5cB6HBEIheJSQoZJjoDfDIl9PES3boEQCF0p508Rlz1itv5ayQQUcw=w317-h72-no" alt="open command line"><br><img src="https://lh3.googleusercontent.com/VE5nhs5SFbM8Jly2OHphgH4iKoO4sz1kNfZZfabokI2DbjLtPcmp--teVlU5bvhbFjUQeFBdODPzVhsb8UFjtdNpeGj2t_wZB28Gz34Y52mBv_vWH9cMyfGX_Qt3Jc3yXeI_vG-lGQ6ZhuELu-6RVWD5fCZRK62UGWYZdut9UiFRy_XHiTmeeG_yG4892oZLMvNagseCEFClD_c22mhh3FZTKRAB2uoysU7qJd2i2EtHwNULBSUWkcZLmclbwkf_at-9WPUcB5lo2tzEWLMa_qM-ItK8qU9rw0AiWsOCas3leswa_5ziQUIcJPDG2KAUpPVT0lWtejqCNFF3JwdZcCUO9Y8scWV3dpCo4gSG-DscN5PaLyYXbTPisPX6S64tx2XMmuwzxwGyGIs_1AoqjdxBGTdulCuFGZkVPZxHb7XXxhrSzWP0mMl0HHIXwhrw9HSSCM-x2107-h8qZGlOhqKeNh1YsvnQDQ7yrNKkfI4HmWOLnhW0UTED4MPwFnrCQJVnGlZCoQkUH2AC5zn70NXDYvcvjzWuShI2GCTM7pSPXIceQYcES7scDpMdk0Z0gA4IixQbInrJkKAjKJEf2eHVcL3HU6zxABH-0ydDRT8T0Mo5JM8SewzSug99eVU_1Syu0hcRaoDYJGB2HCcGInGbIXX0Zs9o7FIzcU1tAA=w627-h98-no" alt="command line"></p>
<p>接著請在 VirtualBox 安裝資料夾下的路徑執行以下指令，檔案格式除了 VHD，也可以轉換到 VMDK(VMWare 的格式)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vboxmanage clonehd 來源檔案.vdi D:\目的檔名.vhd --format VHD</span><br></pre></td></tr></table></figure>

<p>條列一下轉換格式，想更了解相關資料的可以參考<a href="https://www.virtualbox.org/manual/ch08.html" target="_blank" rel="noopener">官方文件</a></p>
<ul>
<li>VDI</li>
<li>VMDK</li>
<li>VHD</li>
<li>RAW</li>
<li>other</li>
</ul>
<h2 id="VHD-to-VHDX"><a href="#VHD-to-VHDX" class="headerlink" title="VHD to VHDX"></a>VHD to VHDX</h2><p>這部分就要透過 Hyper-V 來進行轉換了，只是 Hyper-V 提供的轉換只有 VHD 跟 VHDX 的互相轉換而已<br><img src="https://lh3.googleusercontent.com/FXpkSXS_EDnAtaW-S5jaFvJAuTAEtHksXHDStHVvuJ9ZmWHAm7OrMEb9rKGbpcBMBkGWxQY_1MQL2bpwZXhtkbHiv7I7U5UkQNqqcs1lle6nAzPO2Qr_roQwNGVd7lB1NFW1PpW2lxPAeGRN1lAhmc_F-Gc0rM3nGr06PEcM5BVDgbuGRJ62FGHGAVx7GNEFNrweApd1_4daPTL0BH2P1InDI1obZnxB52ZO60Bvb0jQ_ceJEYjozKZtVOeObZSBmY9Dr7UE0DZMVKx9oqgNDZmRpz28NmONndPHgWPqVC-O2tHaXS9Pcn6cy4ZmLsR6RRH8RrDE_mN-xA4E3Z8oDAbAK3POvfEHhZ_UHSt_b1izCj51iGGwTIy2Jt0nvFExKjwKehHSEADLhacUg-XBcrxLjb43Py2fFEj7qJ0YoB7JJlS8yfvuWrpoknhbw3exexjNOBGjpA4Es0ewlgPvN5dxHaHNM76i0Cc7okGSnyYgtr3GKzpfE7HzGhFKJSgxds57VCj2WAJlvxNg5iTrSqrRCPXc0Ryhzx7ZcG3CnT4drC8JENkYYMywqLa-hMTk1XOW6pzes2ap484ltlA21p1mU-KxNeIXfnotWgmn1Tp90lUfm8tUfqVBdhp9sSP8c5DZfRGEE64fN-L9kqy_LfXfvEYIkMsx450M_r4Zkg=w262-h353-no" alt="編輯磁碟"><br><img src="https://lh3.googleusercontent.com/WCnoVxPbP9Mgf2Bh0cE5ZnY-OHAs95jO_lYnO9mvDF94sZnSbAPSzTaBasUw_WkinzaEBErR5Q4sI-tlgrLGVnuGxmeRCurHSjVLIyK5DQurFasFBkJQh1Zyy2KFasLD1kFBqV3LdtgS_fJgN8FkaNCB-dDfwwQliKihmwfGBDMgXqtUsGJpobXBWGiSyQX3Ls0OBkm00PnAxKpZlt3aQYjK0QRcF9DDYEcjwzX2K4bL_LiEb7UcnSz4iAxSmGUwiU3StUKSyurd_wev65CyKu-_JRfWvebM7hcvAdlUyM2ReOgvvYJISf0H_n7KZgv1djQ7aRGR94K34WbmfwLPQh7I-MWKzpffmDHE-jUUfkLPjysFOplnADW48pivddZJBxJPaKDxM-STz5138SAm-JIcK03wmBLo8dVT6Ys1-3lAdmDg8umcMzZ1Bzyath3fQvv01V8Tc0ALdKTdOLOZujC4osXUPryNgbgj7HUXKqFZF5eLvztDfewiQk68eDlDmbIFAIhoJTnPHhLHXQEDk1rnlxyIx7cX2XUZN1MRKS9mcB7QrsrokWDmSmX07PWdYS5dEEoRVRBH1mbdU-930S_lvc4_-jePgfEdDHAMjiBB7cuWkrV1rQbsfUzciRXi5Gai0WVSPH8AyUAc8xMWabadXA4AwIfbGwzCeEj0yA=w754-h314-no" alt="轉換"><br><img src="https://lh3.googleusercontent.com/bPSpzaNecdijHY9KwyhT_9rbxZVDgnvKZVGOzC4E86gUZixheevmxGLj8hqbgUSNvpyukJ444dIttZSlzqIw8DBROjyod0gk0V0AQ6P1lknhHI5v6E17CzZ-crX0XjimM8yZkw7bAIAaVo9Kus21darcOj1rZgXfDET11F8QeruL7WebXYwnrfjnlkUb86qUwEPHMClYgYQZVxxnVUYaXQ_LivgWoCRgToWCRrhziZOVdWasCffRvOqkUb6D9clCkf-0NCznBwFLCGQnKO_vsI9IRH2QVMuzYxi1OGCKT_4ysXfcUTW_1LR2l3rCgOOxA5uPPOuBpkOZQ-5M8EJIpMWGfMRt5bfa-AemmbHsF9buacsekKh74fvJ2sj_EE4ORKlf1NVqtDdrIzUZa0SBMZmcRCLyKrET2ZyQpB1yk2N54zHGEfI_3pk7NSraBeEPirgkGdbz082X52zhH6GNUBstQ4gxAiCzqZuGhCK8HTWnAKTIm_tMasMGHRAoHfxRaCle0uE9WDybemI6S5rB5p3bPK4dG21Vg7vICA2ZXisEC01dAaLD4RZQtLrGG0z19jFf5NKmCDpy1eS7rnDahMttus-uRqx3Ug2STdDbLKhrYys7_UVepfibvyoVIDXWNSsHJUd-AUdeoEzodmE8LJY9_AGa3ii-I49NyDjntA=w586-h184-no" alt="轉換格式"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://www.virtualbox.org/manual/ch08.html" target="_blank" rel="noopener">VirtualBox</a></li>
<li>皓皓-IT生涯-<a href="https://dotblogs.com.tw/haohao200138/2012/10/23/78816" target="_blank" rel="noopener">VHD轉換VHDX格式</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Hyper-V</tag>
      </tags>
  </entry>
  <entry>
    <title>Hyper-v 建立虛擬機器</title>
    <url>/2016/02/24/VMBuild/</url>
    <content><![CDATA[<p>記錄一下建立第 2 代虛擬機器的過程。因為之前沒建立過第 2 代的虛擬機器，在建立的時候發生無法安裝 OS 的情形，特別在這邊記錄一下</p>
<p>此篇使用 Ubuntu 作為範例安裝。</p>
<p>順便說下我的 OS 環境是 Win10</p>
<h2 id="啟動-Hyper-V"><a href="#啟動-Hyper-V" class="headerlink" title="啟動 Hyper-V"></a>啟動 Hyper-V</h2><p>首先先啟動 Hyper-V，就是這個圖案 <a href="https://lh3.googleusercontent.com/dGHyfL6EzWZ4u3I-E87Jgywm-QP3sphgVRz7hnzB8Ef7FJiOMigfjYR0bgtMQraRrHisMn99nL2KxKwzoKbXexwiTZkebIenVy5JRcOLci90TFWAWM_e2P9Zryq_EJ1woza8oTaW-6S3yH8GZL6pqwqYKYwJzHXM81w7v8wogHwDiAXT_yz87TYfLPN20mTeZRxGGzQkMOOIqS61YWXtCy8aLdl_18oDKB3LwCiMseqkhOGJK2blJENsL9s636hVRMd-JrOaT3FFDCbBJaD5K24gxiBoZuv4MlZyyu1_X0eF7ESxNMcMY72ynxdmyR7DJnt92TTMUNO1N2-DjLjqCO8eLl1G4aQq8ZBijAvzfU2stHSA6mEeT4psLapSAETGtw2vKkAM3oJn6KpZZQA0qTrzPiJEefKW8qjho2N5sBt9Q9i5qRo5M33dqmZQ3XZkrV9yphx8GM18ZMLNhb0NTXxZdjiX1inagYyGyLiXu2wiclyEp1UzenHB5gVJgDTifSh1C4eg4C488hPDGBdGv6lrh3ZoPJKYG5KX6f6dhqmQ69DSs8RcujfskaJzMBeobo5ifWd5YybtXYQOXz19KhCQD5lbv7H1B2UL4qTZ-ud1kn3yYl0tOl8ofdjcBAvfBDYRdNqpzeRVYQexBudJHCzkQTaXAOl1W-os-CMzWQ=w204-h65-no" target="_blank" rel="noopener"></a></p>
<h2 id="建立虛擬機器"><a href="#建立虛擬機器" class="headerlink" title="建立虛擬機器"></a>建立虛擬機器</h2><p>記得選取 第 2 代<br><img src="https://lh3.googleusercontent.com/IYef5cG0JfvgvByWojyM1WeqzQgNBpYNnQRM6CDa-87G30pfqntY91CLilabAXCVSkSSXMnSatK1kkfs_qCp5ZwpSIUr6hRpGk1e81yisIffs4w8ghmaAhLw_zmag3miRFenxlvGgJdpk1v6igQAvKnYxdxOeZXNFAkzhk7faBO1FeQX9Woyk-jjhHdXHID0wlOvaAa9Wa4LdgSOVpsMD8VsC7UyOGMO9UHtSxVjSf6tsg_AVow7a7WVnUlGJGITpWfx-bRsPMAbINA8kg_5Fm2m75pzVZVyfBuuQ1p6IWcgU3zD00KNjdWpXnDwqojXj81wDdebEiGfCsocU7BmWxqGwSdVKaCMkacSEaWtSkfH95X9MTBH5pr29P7vGKSnZPsEneK80-kp-ZBexxdzNw0br0wetX16VMQZuSIX3dppfqc9aYk4vhzP--tX0dAEGoaUkOetHt2e1p8UBsEodiKwoKWmGR1UWqxEyVOlqelqyfU8LPGHriYRR01eMKmjlYfLQn5cbortVSLppAHK_xnqFm1i2vaEPRbtDQuMKT8z-KvnxG28KWsRqZcFvIbJpsiEJYoiuK4I7tF54mYo-UGnWnloHsx1gTeaejII6USBwZQI2GOj7MHi4F-SwdB7XZvfsGE-jn6_4yohaLY9kwa1M6XMUCjnsDIIqAzcgw=w787-h533-no" alt="Select 2"><br>建立好之後，連線啟動該虛擬機器，然後發現問題了</p>
<p>問題點</p>
<blockquote>
<p>The image’s hash and certificate are not allowed (DB) .<br><img src="https://lh3.googleusercontent.com/AnoPnE84UBZ2l-v95yAwDJ-XwvwrDbaMBtKTW72yb4IPVinv7NmtcRafPBYXXsotdMRHWuX23ytFeIIykpYnrelO-kEvcSIyrfocBybqmckbWEPg1qL9Iequfb1dBvWlobgZs7Ks2kbjRXCRGmDWVven7xT119PHEZzAuncemhGn8elPw8bmBEym8nwaVIxDLU6rYwCXTVDXcBEC973pFzijSuiyAvHPVWfwchLlQZimn6OFGTFKESkAjzxzN87XXYQuwjgvjivnNvR5HfrSHwSoiaKsaTNJovsKfUUroJfrBaVY1dPCbgwdy47PTqZlCnkL3yMbXKzveDS2hfKYOFlU43s1maW2w4GObuDgPTDffkiBgJdqxEpsEM9zMR8cHD7DDIN3C8NxJBRB45jm2b0Sxl1T6psEHULLDIe29k7bXQZnZWShsEx6wqeLEkfaK-TrG66SOlmmSEaT3Y36qxkiyS9-r8OI1jFG40iNpH6Wc8yUvZItQOJ7l3AtLqvtnvbsFaysxmJlcHwUlnufd_5IYzGiNsgra8dvf_fem5Dnj3rh7RhaCV5wfvPu3tt6F6OECbsGSeiSdYQHAX4jOpenbhs5Fl2QeJ4vzUNosiINpSh4CukQqaBxZfIAyZnFN7UGiNKABRuh0p82pNtaTxLfAaHHU4OLaWB50T7taQ=w773-h344-no" alt="Question point"></p>
</blockquote>
<h2 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h2><p>先把虛擬機器關閉，然後打開設定，在<strong>韌體</strong>設定部分，將<strong>啟用安全開機</strong>取消。<br><img src="https://lh3.googleusercontent.com/rHEitSV8O_S8Ou7kVcEJL2SjvFTNvwQpwij6ume-1VgdXWywj2OCcsB14MQraYekUxGwNPHtyPeu3wvgexLWcgTdxU2uU-RyRPcuIBW7Fzxu0PmFQVBoeLfiwBNXUHWbOIkva3LD7WGRhhY2_uKSFIZnTrRACbV9_17nOUprL9RfKwENdNHZNuRua0QINnk88NQJcrOg2HRui5n1rV9jM7HZxWVrZXkBOsmWt5WoM8tZEsO1Cg0UydwCo5fa9u_x42HcvtQZaI11jxKLfyK7CIgsj6KzcCDs93Frzg0N586I08Wt_6qxVjsYLiK3kRw5lhj103AOYaUB-m7pte360u19LyX-Mq9uQOoccGax9NDvUbixbLOmJcQLzy7Ninugdti3rIlHt_IskNdDY2rdahutyZ3CDcbXaF2ti8GLs_bS7--Yl4Pf251pl-ugQ0_7CtIMhYxzbQYJW-JZt_a1wv7PSUO_y79yK41yuqRqUbOvm7CxROK5mDQfmzrQ0ImE04o6dIXeB4SCcaXAGIOo0w1kLHV4iYy0rl07AqKDXuslSGcMO7_Q6KDpIX9WLRQPbpDdGsYMYaY4ea4DGzTxITCspeM_9os0oOAb8T84Aub80Ywlbj1rgj17wq15kWSE7EtfTFxiMBKhPNORkXNDXgo7uLtltbawv3z9UfL1mg=w546-h267-no" alt="Disable Secure Boot"></p>
<h2 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h2><p>完成上述動作後，重新啟動虛擬機器；這次可以順利安裝了，接著就把系統安裝完成吧。<br><img src="https://lh3.googleusercontent.com/bOnfmNM4myn9_VwgzBp5479WMkdR4j2A-hdGknW7RML1amjmyPHdbPydfl9cT15o8F6TDldWuphHrLBd1I5UHjUY1eWZcRvmyQmOHk0fAk9-fIFvgYu4Z_vYo1BdM3lo2jh4GZy95Mtfzz46jbOCocApVDcqaQkn60gL1EWe7uV4HjcbFKmDtTH3vj_2Sv0T3N19GqKVAc2qn6OCuz4idXEk8nd-axuNk69G3aXAS6tb6xWeR7jdWk4fG9QcaSeAklvtizdUnprJIi9PrbOcLx5cs_9Wx0ThWWnqDIlTkWCwSFBCvuN6f4PuHr3TL0D6xIA_H37Xit_8rMrdjPpidXisCNLmVV_CDF64rngkJfPshP7_sdmjpNnayab1p8Kc_aZKEKRKO7IbZ_rTvcxXhKfo2k6yJEVG_KFaah0cZaqN2ScwXPscdRJ0HCtLhI-dhLsHMZOERNBDlHxj0k8k7uNIUFaSO4m-EiGJPjPcD058rWTj61FF25vdQkvTqCRo5kn4lnvz0xITkiVq6QoMwzFoFlSD1GjT0EWauaTZBsMgzTwFvKL75s7vUnNzyKB_lpxarBbVqnDY7OV4b72zVnPWcWeGGysqISdZk-GnnnCvd25pz8Igy9wUWBGB_7HA7ICKEPh39WdUpMSfiwXmREiPFpWyjB9JfzC_nREwgA=w678-h223-no" alt="Install OS"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://wiki.ubuntu-tw.org/" target="_blank" rel="noopener">Ubuntu 正體中文 Wiki</a></li>
<li><a href="http://www.virtualrick.com/?p=230" target="_blank" rel="noopener">VirtualRick</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Hyper-V</tag>
      </tags>
  </entry>
  <entry>
    <title>Add SublimeText to ContentMenu</title>
    <url>/2016/04/12/Add-SublimeText-to-ContentMenu/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近把電腦重灌，順便把一些環境設置記錄下來。Sublime Text 在滑鼠右鍵是沒有快捷鍵，有些文件檔案在開啟的時候就沒那麼方便，把 SublimeText 加入到右鍵選單，這樣就便利許多。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>要調整滑鼠右鍵的話，就要動到登錄檔了，不過可以參考<a href="http://wordpress-corner.com/add-open-sublime-text-3-windows-explorer-context-menu/" target="_blank" rel="noopener">此篇</a>，把以下的指令存成批次檔（.bat），然後使用管理者權限執行即可</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"> :: st3Path 為 sublime Text3 的程式路徑</span><br><span class="line"> SET st3Path=D:\OneDrive\Sublime Text Build 3065 x64\sublime_text.exe</span><br><span class="line"></span><br><span class="line"> rem add it <span class="keyword">for</span> all file types</span><br><span class="line"> :: 滑鼠右鍵選單的顯示名稱</span><br><span class="line"> @reg add <span class="string">"HKEY_CLASSES_ROOT\*\shell\Open with Sublime Text 3"</span>         /t REG_SZ /v <span class="string">""</span> /d <span class="string">"Open with Sublime Text 3"</span>   /f</span><br><span class="line"> :: 滑鼠右鍵選單的顯示圖示  </span><br><span class="line"> @reg add <span class="string">"HKEY_CLASSES_ROOT\*\shell\Open with Sublime Text 3"</span>         /t REG_EXPAND_SZ /v <span class="string">"Icon"</span> /d <span class="string">"%st3Path%,0"</span> /f</span><br><span class="line"> :: 執行程式路徑</span><br><span class="line"> @reg add <span class="string">"HKEY_CLASSES_ROOT\*\shell\Open with Sublime Text 3\command"</span> /t REG_SZ /v <span class="string">""</span> /d <span class="string">"%st3Path% \"%%1\""</span> /f</span><br><span class="line"></span><br><span class="line"> rem add it <span class="keyword">for</span> folders</span><br><span class="line"> @reg add <span class="string">"HKEY_CLASSES_ROOT\Folder\shell\Open with Sublime Text 3"</span>         /t REG_SZ /v <span class="string">""</span> /d <span class="string">"Open with Sublime Text 3"</span>   /f</span><br><span class="line"> @reg add <span class="string">"HKEY_CLASSES_ROOT\Folder\shell\Open with Sublime Text 3"</span>         /t REG_EXPAND_SZ /v <span class="string">"Icon"</span> /d <span class="string">"%st3Path%,0"</span> /f</span><br><span class="line"> @reg add <span class="string">"HKEY_CLASSES_ROOT\Folder\shell\Open with Sublime Text 3\command"</span> /t REG_SZ /v <span class="string">""</span> /d <span class="string">"%st3Path% \"%%1\""</span> /f</span><br><span class="line"> pause</span><br></pre></td></tr></table></figure>

<p>完成後，滑鼠右鍵顯示<br><img src="https://lh3.googleusercontent.com/P1lUUl64jplXbDxkKZggx9cCHuKmNvcd5Gahp4vAqIwfIFcdE4Ro2OAY2-aaSGjWJB6gkY7Z27A6hqfZ-n4aqJAll9Q23Vo2WHvvzSsoNSm08hRVaGUVSOzjyZlUWPGQSsV8ZXLtbxI0MzRimpjFqnd7HXfLDksCrsUrjMTVfH9osYF1VFuSxfCdD_PCB2NJg7xeeJUPrI7lS2kl4YP75Ep9egTZhJkxPaGnOvQ0Z3MPGGrUWkRsHnJyxSNJwbC1ERDHJBjn1E23cpRO5k9ktttqOHtIycPj1sloJZxHRlyRCYCeA03ppIfP5YfboPElgZG3Xyb4OX4Si74j83zO-TsaXI3KlA5xvCPCEP3naJ_N-nlA01WnBxpOSRsta8M_PjFPq9MfYI-oV0T6PSFjXZQi8fEtq8HyOJEbxD2X41sUc7Wh6DNHmVkJmmPDEjKh8vcmXe3mNk6NAUUEjdP7st2XETU9qTOE51nmka7pkx3lqXTHvkyfNSBHYCn-gvgUlnHczRWAh-NB6Vch8-GRwYNgkMWbP8bcbI05EJmIOFK1FczZwfc5chFMBQkHYsikSH22K6E-BOGDQXWtMQwjT-ayXaDSd2CfsSQtk-q6vPznX2-IGLmDJiG3vF5I_xQlgZzJMBlUqawWvGfJL24e2AjoQepnWmKhD2nJ-7bYEw=w329-h202-no" alt="result"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://wordpress-corner.com/add-open-sublime-text-3-windows-explorer-context-menu/" target="_blank" rel="noopener">Add “Open with Sublime Text 3” to Windows Explorer Context Menu</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Sublime Text3</tag>
      </tags>
  </entry>
  <entry>
    <title>Add Cmder to ContentMenu</title>
    <url>/2016/05/16/Add-Cmder-to-ContentMenu/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>同樣是重新設定一些便利的操作而已。目的是為了可以使用滑鼠右鍵選單操作。</p>
<h2 id="設定方式"><a href="#設定方式" class="headerlink" title="設定方式"></a>設定方式</h2><p>在設定之前，先說明我的環境，我的環境是在 <strong>Windows 10</strong>；</p>
<p>建立一個純文字檔案，將以下指令貼上，然後另存成 <strong>.bat</strong> 批次檔案</p>
<p>之後執行該批次檔案。</p>
<p><em>cmderPath</em> 路徑按照個人的設定變動路徑位址</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"> SET cmderPath=D:\OneDrive\DevTool\Win\cmder_mini\Cmder.exe</span><br><span class="line"></span><br><span class="line"> rem add it <span class="keyword">for</span> Directory</span><br><span class="line"> @reg add <span class="string">"HKEY_CLASSES_ROOT\Directory\Background\shell\Open with Cmder"</span>         /t REG_SZ /v <span class="string">""</span> /d <span class="string">"Open with Cmder"</span>   /f</span><br><span class="line"> @reg add <span class="string">"HKEY_CLASSES_ROOT\Directory\Background\shell\Open with Cmder"</span>         /t REG_EXPAND_SZ /v <span class="string">"Icon"</span> /d <span class="string">"%cmderPath%,0"</span> /f</span><br><span class="line"> @reg add <span class="string">"HKEY_CLASSES_ROOT\Directory\Background\shell\Open with Cmder\command"</span> /t REG_SZ /v <span class="string">""</span> /d <span class="string">"%cmderPath% \"%%V\""</span> /f</span><br><span class="line"> pause</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>jojobyte:<a href="https://gist.github.com/jojobyte/66c8346ed8948b9b395f" target="_blank" rel="noopener">ContextCmder-Disable</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Cmder</tag>
      </tags>
  </entry>
  <entry>
    <title>Postgresql 的一些查詢指令</title>
    <url>/2016/06/07/PGSQLCheatSheet/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>就是一份簡單的筆記</p>
<h2 id="內文"><a href="#內文" class="headerlink" title="內文"></a>內文</h2><p>注意喔，以下大部分都是 PostgrestSQL 的查詢喔，使用的 PG 版本是<br><code>PostgreSQL 9.5.3</code></p>
<h3 id="查詢連線數"><a href="#查詢連線數" class="headerlink" title="查詢連線數"></a>查詢連線數</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> datname, </span><br><span class="line">       <span class="keyword">Count</span>(*) </span><br><span class="line"><span class="keyword">FROM</span>   pg_stat_activity </span><br><span class="line"><span class="keyword">GROUP</span>  <span class="keyword">BY</span> datname;</span><br></pre></td></tr></table></figure>
<p>順便附上 Sql Server 的查詢連線數方式</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> cntr_value <span class="keyword">AS</span> User_Connections </span><br><span class="line"><span class="keyword">FROM</span>   sys.sysperfinfo <span class="keyword">AS</span> sp </span><br><span class="line"><span class="keyword">WHERE</span>  sp.object_name = <span class="string">'SQLServer:General Statistics'</span> </span><br><span class="line">       <span class="keyword">AND</span> sp.counter_name = <span class="string">'User Connections'</span></span><br></pre></td></tr></table></figure>

<h3 id="取得版本"><a href="#取得版本" class="headerlink" title="取得版本"></a>取得版本</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">version</span>();</span><br></pre></td></tr></table></figure>

<h3 id="列出資料表名稱"><a href="#列出資料表名稱" class="headerlink" title="列出資料表名稱"></a>列出資料表名稱</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * </span><br><span class="line"><span class="keyword">FROM</span>   information_schema.TABLES </span><br><span class="line"><span class="keyword">WHERE</span>  table_schema = <span class="string">'public'</span> </span><br><span class="line">       <span class="keyword">AND</span> table_type = <span class="string">'BASE TABLE'</span></span><br></pre></td></tr></table></figure>

<p>SQL Server 的查詢方式相當簡單，還是附上好了</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> @@<span class="keyword">VERSION</span></span><br></pre></td></tr></table></figure>

<h3 id="取得繼承關係的資料表"><a href="#取得繼承關係的資料表" class="headerlink" title="取得繼承關係的資料表"></a>取得繼承關係的資料表</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> parent.relname <span class="keyword">AS</span> parent_table, </span><br><span class="line">       child.relname <span class="keyword">AS</span> child_table </span><br><span class="line"><span class="keyword">FROM</span>   pg_inherits </span><br><span class="line">       <span class="keyword">join</span> pg_class <span class="keyword">AS</span> <span class="keyword">child</span> </span><br><span class="line">         <span class="keyword">ON</span> ( inhrelid = child.oid ) </span><br><span class="line">       <span class="keyword">join</span> pg_class <span class="keyword">AS</span> <span class="keyword">parent</span> </span><br><span class="line">         <span class="keyword">ON</span> ( inhparent = parent.oid )</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://www.postgresql.org/" target="_blank" rel="noopener">官方網站</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>PostgrestSQL</tag>
      </tags>
  </entry>
  <entry>
    <title>JSON精要筆記</title>
    <url>/2016/06/11/json-note/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>這篇其實就是一個筆記，紀錄一下讀書心得，<br>看完這本<strong><a href="http://www.books.com.tw/products/0010694652" target="_blank" rel="noopener" title="JavaScript Object Notation精要">JavaScript Object Notation精要：JSON核心主題導引</a></strong></p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>想仔細了解 Json 的可以參考一下 <a href="http://json.org/" target="_blank" rel="noopener">json.org</a>。Json 都是名－值對（key value pair），需要注意 key 與 value 都要使用<code>&quot;</code>包起來，key 不使用的話就是 JavaScript 物件了，嚴格上來說是不同的，雖然在 JavaScript 中，都是一樣可以讀取。</p>
<h3 id="正確格式"><a href="#正確格式" class="headerlink" title="正確格式"></a>正確格式</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="string">"name"</span>:<span class="string">"allen"</span>,</span><br><span class="line">	<span class="string">"gender"</span>:<span class="string">"male"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>頂層 Json 陣列，這是有效的 json，建議不要如此使用，有安全性風險；這是假如在值的部分放入了方法，再使用 script 的方式引入，</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">	&#123;<span class="string">"user"</span>:<span class="string">"allen"</span>&#125;,</span><br><span class="line">	&#123;<span class="string">"gender"</span>:<span class="string">"male"</span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="Json-資料型別"><a href="#Json-資料型別" class="headerlink" title="Json 資料型別"></a>Json 資料型別</h3><ul>
<li>Object</li>
<li>String</li>
<li>Number</li>
<li>Boolean</li>
<li>Null</li>
<li>Array</li>
</ul>
<h3 id="Json-需要跳脫字元"><a href="#Json-需要跳脫字元" class="headerlink" title="Json 需要跳脫字元"></a>Json 需要跳脫字元</h3><ul>
<li>/（斜線）</li>
<li>\b（後退）</li>
<li>\f（送出）</li>
<li>\t（tab）</li>
<li>\n（換行）</li>
<li>\r（回車）</li>
<li>\u 後面接16進位字元</li>
</ul>
<h3 id="Json-語法檢驗"><a href="#Json-語法檢驗" class="headerlink" title="Json 語法檢驗"></a>Json 語法檢驗</h3><ul>
<li><a href="http://jsonformatter.curiousconcept.com" target="_blank" rel="noopener" title="JSON Formatter &amp; Validator">JSON Formatter &amp; Validator</a></li>
<li><a href="https://www.jsoneditoronline.org/" target="_blank" rel="noopener" title="JSON Editor Online">JSON Editor Online</a></li>
<li><a href="http://jsonlint.com/" target="_blank" rel="noopener" title="JSONLint">JSONLint</a></li>
</ul>
<h3 id="Json-結構描述"><a href="#Json-結構描述" class="headerlink" title="Json 結構描述"></a>Json 結構描述</h3><ul>
<li><a href="http://json-schema.org/" target="_blank" rel="noopener" title="JSON 結構描述">JSON 結構描述</a></li>
<li><a href="http://json-schema.org/latest/json-schema-validation.html" target="_blank" rel="noopener" title="JSON 結構描述檢驗規格">JSON 結構描述檢驗規格</a></li>
<li><a href="http://jsonschemalint.com/draft4/" target="_blank" rel="noopener" title="JSON Schema Lint">JSON Schema Lint</a></li>
<li><a href="http://www.jsonschemavalidator.net/" target="_blank" rel="noopener" title="JSON Schema Validator">JSON Schema Validator</a></li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://json.org/" target="_blank" rel="noopener">Json ORG</a></li>
<li><a href="http://jsonformatter.curiousconcept.com" target="_blank" rel="noopener" title="JSON Formatter &amp; Validator">JSON Formatter &amp; Validator</a></li>
<li><a href="https://www.jsoneditoronline.org/" target="_blank" rel="noopener" title="JSON Editor Online">JSON Editor Online</a></li>
<li><a href="http://jsonlint.com/" target="_blank" rel="noopener" title="JSONLint">JSONLint</a></li>
<li><a href="http://json-schema.org/" target="_blank" rel="noopener" title="JSON 結構描述">JSON 結構描述</a></li>
<li><a href="http://json-schema.org/latest/json-schema-validation.html" target="_blank" rel="noopener" title="JSON 結構描述檢驗規格">JSON 結構描述檢驗規格</a></li>
<li><a href="http://jsonschemalint.com/draft4/" target="_blank" rel="noopener" title="JSON Schema Lint">JSON Schema Lint</a></li>
<li><a href="http://www.jsonschemavalidator.net/" target="_blank" rel="noopener" title="JSON Schema Validator">JSON Schema Validator</a></li>
</ul>
]]></content>
      <categories>
        <category>讀書筆記</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Win10 右鍵選單調整</title>
    <url>/2016/06/15/ContextMenuChange/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前在桌面點選滑鼠右鍵的時候，選單會延遲幾秒；只要在桌面進行右鍵選單就是這樣，判斷是右鍵選單的某個項目造成。</p>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>因為當時電腦才剛剛重置還原，選單也沒什麼項目，頂多就是多了一個顯示卡項目，初步判定就是這個項目影響的。</p>
<h2 id="解決方式"><a href="#解決方式" class="headerlink" title="解決方式"></a>解決方式</h2><p>直接使用<strong>登錄編輯程式</strong>進行修改。（以下都是在 windows 10 環境下）<br>首先使用<code>win + R</code>開啟執行，接著輸入 <strong>regedit</strong> 開啟<strong>登錄編輯程式</strong><br><img src="https://lh3.googleusercontent.com/Ez5g9_s_Q9Lb58EevRsd2mGC29rIwjynZPJtLGilsTV_rKpSlYngHww-7fUnCeKBz0mTyogwltCFaHOOXFwRaSk016CiZqtnErG70zb0OqxZc8fS1PeyuoNIfJrIrxHx75y9Xrbi-IYuTBFeRLuKYqP5Zv_43cUGLF44gPZoYNIJTuMP7MpfjkT470Z6IykIvf8moN7s-kt6hBy7aTT4Hg_whN4xGb9xY9nhDNFW7PijfoAbkJ9E4MpQNy4JyI09LGjwzrOiZZpZsMjPBI0eVv5PCndL8zuQAf5wV0kgXU5hjRLHEQTos6ToQ3YjcZQEm6J-69ymu_XVCAA3nHNNC6egCoGXtWy0LRQi91V8oP5lDTBSnMiWEaaweSwj4-ZEKbo_-d4ZhcjTW6kfe_OFKLH-tTErPcVZh14QhmJOUhK01UDXXUm2UIAHulAdD3yJ8CiF5g3NnwXiU_iNF083XA4XoT3CRq_NAIkJlQHGyVGiX9j78xVBDxGHBPWYbXnBQQDXr8ZzZKkqH1nwGgFi5p2Dp36vglXAR4F0L3mNCmidrGpNDg-fN1-gedXE5IADfhX9z_o--4OBmt6BxTjQtKfxWz0bIiI-irwvz-BaB6CVFTsQonReK5P3R7MQZxI_8JaNm68AV8YBxr_cnVFXsxUdnv0QyG3mRPlHN50ntw=w399-h205-no" alt="Run"></p>
<p><img src="https://lh3.googleusercontent.com/o26dHgUbFJ3yej-mOuOvoQy3zw8Rqgx0rD6Wey-nqD9EGEL_89n7rMFpPhWhY_4Kvmm6acDrH2Uw6Og3Ncx-oPXVPsBp-xzQrfwCdNNYypl6k8v1qcjQaWD8ptF894uKHTI9UchY3Ax2H-qRBs4wacF4SxpZEEv75dAy6AMrbM6qcprkwRttNgAhhc-jwL7mer7XUyewN9BRAkRmCKUO-bw45537jtlqvJ93ltfRmeHeUTIKSFv5S-XcsaJibjNex0cC0mT8YHRFregbPRFdYzi7tQdUdjjJ1IZayzbSX02MVGxYFHWEJXq8nd0mtvRGHqQRCmxEaHv6hrTQfXXP2cjH-Ne_y-rb6RmLlzNw1W6DdzjmnwbhpJr9Ie2257o6MS2AoWmGPa0cza-EEVLYXAz1Ec2BEjPfG7l0GLxBg7q0gFQ4zVm0JZH_JDFNsxoUj7JwRx3ZxGfStSOXAE5CYgZG7Z3CITWMWIDzyD45Yg_jZFk8Z3DM6FNX_Wemc9kB4FCKXXvzvDiPa9DfZQvIfybPPAm2PCYWuR2O0pzCJ1fLQ73jBI_-WN3O6JhakB6X6SPtoejF9SOZQaPw-Fya2w_UcgEWiI1NCb7HLvidGU6A6IUXNS1aioKxIUN5pDN8xnn2xgfhWpClq5l9L446396Z8RUcuYMVmtfhMihcpg=w317-h173-no" alt="Regedit"></p>
<p>接著按照以下的路徑去找尋位址</p>
<ul>
<li>HKEY_CLASSES_ROOT</li>
<li>Directory</li>
<li>Background</li>
<li>shellex</li>
<li>ContextMenuHandlers<br><img src="https://lh3.googleusercontent.com/SvdEOf6DOx5HSZEeI9OjqPaViGiljNBzGyx_yh4c8m9sm9iW3URZk4ou0t_wLNUHaG79t5yT-vnYq9ycZHln6sj_y7PRKm70RWIwAe9m-8sFbVQfnPE6QQKwJ0ht_6VOksvMgha2hY1q8fwcLZsR9Ruhm7vc8I88cf4zP1GJU1NPq6nOttDQh1naW8ZsQzi7Z8m36m5qsNBfqdmIQSOZPwPrCJiuNvKe-8vjYELOEcrPGqK5wd9dABBJK8J419uRLQzojFlXnXE1P7JClPEKtzsvTk6vaXfz0StTknrkh8UgcgHlO4T65YEKP10_ZroJ8_F9e3i4MpQtcJe_0K5Q0zak_LD_gChTQjy4o5d0xxlGfgzrBnSgNWST7TJyBBgMR6fdQ_IBm4xzGZMFIgT58UEy9alhUnexXqpUjYBwib6p104oTG_7YEgZryJFAhlM8V3fh1vXKLZHhBY-mCGox506uv06acGCCZMFQPpePEZ46MkgISaOvY6uz1u6_jjjAt9VDIAMOp2dgduITPq01aWeFw2Qa__6ZKthsvEcmOFs0XYsnTbi4t-tgbnbM5GwAlcmTe5a2mH3ATBsP-tiDOjiyre1-lD7YEpVW3mJi4FjnRnUwcK8JeE3kcVY4Z8gcuq81ZhsvrvM0ZRh9lFXUnDq1skFPkIfDUJ1SIE6rA=w560-h459-no" alt="HKEY_CLASSES_ROOT"></li>
</ul>
<p>接著 <strong>New</strong> 和 <strong>Sharing</strong> 記得保留，剩下的項目，看各人喜好，不想要的就直接刪除吧。完成之後關閉編輯程式，回到桌面試試看。<br><img src="https://lh3.googleusercontent.com/JxWnoTb84iDm7f98CZPMdtjEpIrIpLV639j7DjtB66YI8br8-TQ6OAXoOALzaJjU_CWQ4TaPJWAhh5MVwmNJ6XTMQq2U1JzXYNucb7B1V24Gaf4ldYYZIdBMfEO7wWPpbkQYE61h2CWu-ikHYo6U28OwHKkbkX_O95R1J6etRevcVNuzWdkGxs5TJTMVc1aFBCre2hktcHUF6F4iYVs8kNaB_5qcs1m-DG3BPLTa7SWch0GwgoPX28YTWWRflNQB0coEKwyLs4pUYlP0CwG2srWCR63DrS4fXjouc4oZmI3l3IhXEzv08u3JU2F2n3gvgWq9zhKSpkwTKIXHJGIO0k97FcYRfLABxWdaCUwAAUWY6GkooV16lWDLOjCgIFvcPWaoc22iQk0MoVTHn89RDZhUGiDQ81Nx-y1OlMsIX9Zn3P9rRs59Di9GGdOxjzx3LdMth5IQUsLsA6vgKmh3Zt1UYb0zCNVticTY6O5HuS1ham7cS__rcd_l_99Axc9UFY2gg25tmq9pg9saop7VeENB52F3n4JaskSV8T4uS2Y2CWJANnXD6To9KWB8mAtXYQagwGhG9ZiSuEYxEOLZolssq3DI2jEjhv7G9NmZj2VHuojiHI3ugEnkfhLnZHiXdX_t1N0G9U1HdUbZ0jf3RVtKxiL_qjNzr4AdDosG3w=w482-h459-no" alt="Custome"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>mobile01:<a href="http://www.mobile01.com/topicdetail.php?f=300&t=663495" target="_blank" rel="noopener" title="mobile01:在桌面空白處點右鍵，延遲相當嚴重">在桌面空白處點右鍵，延遲相當嚴重</a></li>
<li>makebizeasy:<a href="http://www.makebizeasy.com/article/60472.html" target="_blank" rel="noopener" title="win8桌面滑鼠右鍵菜單反應慢該怎麽辦">桌面滑鼠右鍵</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Encoding 字碼頁編號</title>
    <url>/2016/06/13/encoding-in-csharp/</url>
    <content><![CDATA[<h2 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h2><p>筆記一下字碼頁編號，這樣查詢比較方便</p>
<table>
<thead>
<tr>
<th align="right">字碼頁</th>
<th align="center">名稱</th>
<th align="left">顯示名稱</th>
</tr>
</thead>
<tbody><tr>
<td align="right">37</td>
<td align="center">IBM037</td>
<td align="left">IBM EBCDIC (美國和加拿大)</td>
</tr>
<tr>
<td align="right">437</td>
<td align="center">IBM437</td>
<td align="left">OEM 美國</td>
</tr>
<tr>
<td align="right">500</td>
<td align="center">IBM500</td>
<td align="left">IBM EBCDIC (國際)</td>
</tr>
<tr>
<td align="right">708</td>
<td align="center">ASMO 708</td>
<td align="left">阿拉伯文 (ASMO 708)</td>
</tr>
<tr>
<td align="right">720</td>
<td align="center">DOS 720</td>
<td align="left">阿拉伯文 (DOS)</td>
</tr>
<tr>
<td align="right">737</td>
<td align="center">ibm737</td>
<td align="left">希臘文 (DOS)</td>
</tr>
<tr>
<td align="right">775</td>
<td align="center">ibm775</td>
<td align="left">波羅的海文 (DOS)</td>
</tr>
<tr>
<td align="right">850</td>
<td align="center">ibm850</td>
<td align="left">西歐語系 (DOS)</td>
</tr>
<tr>
<td align="right">852</td>
<td align="center">ibm852</td>
<td align="left">中歐語系 (DOS)</td>
</tr>
<tr>
<td align="right">855</td>
<td align="center">IBM855</td>
<td align="left">OEM 斯拉夫文</td>
</tr>
<tr>
<td align="right">857</td>
<td align="center">ibm857</td>
<td align="left">土耳其文 (DOS)</td>
</tr>
<tr>
<td align="right">858</td>
<td align="center">IBM00858</td>
<td align="left">OEM 多語系拉丁我</td>
</tr>
<tr>
<td align="right">860</td>
<td align="center">IBM860</td>
<td align="left">葡萄牙文 (DOS)</td>
</tr>
<tr>
<td align="right">861</td>
<td align="center">ibm861</td>
<td align="left">冰島文 (DOS)</td>
</tr>
<tr>
<td align="right">862</td>
<td align="center">DOS-862</td>
<td align="left">希伯來文 (DOS)</td>
</tr>
<tr>
<td align="right">863</td>
<td align="center">IBM863</td>
<td align="left">加拿大法文 (DOS)</td>
</tr>
<tr>
<td align="right">864</td>
<td align="center">IBM864</td>
<td align="left">阿拉伯文 (864)</td>
</tr>
<tr>
<td align="right">865</td>
<td align="center">IBM865</td>
<td align="left">北歐 (DOS)</td>
</tr>
<tr>
<td align="right">866</td>
<td align="center">cp866</td>
<td align="left">斯拉夫文 (DOS)</td>
</tr>
<tr>
<td align="right">869</td>
<td align="center">ibm869</td>
<td align="left">希臘文，現代化 (DOS)</td>
</tr>
<tr>
<td align="right">870</td>
<td align="center">IBM870</td>
<td align="left">IBM EBCDIC (多國語言拉丁文 2)</td>
</tr>
<tr>
<td align="right">874</td>
<td align="center">windows-874</td>
<td align="left">泰文 (Windows)</td>
</tr>
<tr>
<td align="right">875</td>
<td align="center">cp875</td>
<td align="left">IBM EBCDIC (現代希臘文)</td>
</tr>
<tr>
<td align="right">932</td>
<td align="center">shift_jis</td>
<td align="left">日文 (SHIFT-JIS)</td>
</tr>
<tr>
<td align="right">936</td>
<td align="center">gb2312</td>
<td align="left">簡體中文 (GB2312)</td>
</tr>
<tr>
<td align="right">949</td>
<td align="center">ks_c_5601-1987</td>
<td align="left">韓文</td>
</tr>
<tr>
<td align="right">950</td>
<td align="center">big5</td>
<td align="left">繁體中文 (Big5)</td>
</tr>
<tr>
<td align="right">1026</td>
<td align="center">IBM1026</td>
<td align="left">IBM EBCDIC (土耳其文拉丁文 5)</td>
</tr>
<tr>
<td align="right">1047</td>
<td align="center">IBM01047</td>
<td align="left">IBM 拉丁文 1</td>
</tr>
<tr>
<td align="right">1140</td>
<td align="center">IBM01140</td>
<td align="left">IBM EBCDIC (美國-加拿大-歐洲)</td>
</tr>
<tr>
<td align="right">1141</td>
<td align="center">IBM01141</td>
<td align="left">IBM EBCDIC (德國歐洲)</td>
</tr>
<tr>
<td align="right">1142</td>
<td align="center">IBM01142</td>
<td align="left">IBM EBCDIC (丹麥-挪威-歐洲)</td>
</tr>
<tr>
<td align="right">1143</td>
<td align="center">IBM01143</td>
<td align="left">IBM EBCDIC (芬蘭-瑞典-歐洲)</td>
</tr>
<tr>
<td align="right">1144</td>
<td align="center">IBM01144</td>
<td align="left">IBM EBCDIC (義大利歐洲)</td>
</tr>
<tr>
<td align="right">1145</td>
<td align="center">IBM01145</td>
<td align="left">IBM EBCDIC (西班牙歐洲)</td>
</tr>
<tr>
<td align="right">1146</td>
<td align="center">IBM01146</td>
<td align="left">IBM EBCDIC (英國歐洲)</td>
</tr>
<tr>
<td align="right">1147</td>
<td align="center">IBM01147</td>
<td align="left">IBM EBCDIC (法國歐洲)</td>
</tr>
<tr>
<td align="right">1148</td>
<td align="center">IBM01148</td>
<td align="left">IBM EBCDIC (國際歐洲)</td>
</tr>
<tr>
<td align="right">1149</td>
<td align="center">IBM01149</td>
<td align="left">IBM EBCDIC (冰島文歐洲)</td>
</tr>
<tr>
<td align="right">1200</td>
<td align="center">utf-16</td>
<td align="left">Unicode</td>
</tr>
<tr>
<td align="right">1201</td>
<td align="center">unicodeFFFE</td>
<td align="left">Unicode (Big endian)</td>
</tr>
<tr>
<td align="right">1250</td>
<td align="center">windows-1250</td>
<td align="left">中歐語系 (Windows)</td>
</tr>
<tr>
<td align="right">1251</td>
<td align="center">windows-1251</td>
<td align="left">斯拉夫文 (Windows)</td>
</tr>
<tr>
<td align="right">1252</td>
<td align="center">Windows -1252</td>
<td align="left">西歐語系 (Windows)</td>
</tr>
<tr>
<td align="right">1253</td>
<td align="center">windows-1253</td>
<td align="left">希臘文 (Windows)</td>
</tr>
<tr>
<td align="right">1254</td>
<td align="center">windows-1254</td>
<td align="left">土耳其文 (Windows)</td>
</tr>
<tr>
<td align="right">1255</td>
<td align="center">windows-1255</td>
<td align="left">希伯來文 (Windows)</td>
</tr>
<tr>
<td align="right">1256</td>
<td align="center">windows-1256</td>
<td align="left">阿拉伯文 (Windows)</td>
</tr>
<tr>
<td align="right">1257</td>
<td align="center">windows-1257</td>
<td align="left">波羅的海文 (Windows)</td>
</tr>
<tr>
<td align="right">1258</td>
<td align="center">windows-1258</td>
<td align="left">越南文 (Windows)</td>
</tr>
<tr>
<td align="right">1361</td>
<td align="center">裘哈</td>
<td align="left">韓文 (裘哈)</td>
</tr>
<tr>
<td align="right">10000</td>
<td align="center">macintosh</td>
<td align="left">西歐語系 (Mac)</td>
</tr>
<tr>
<td align="right">10001</td>
<td align="center">x mac 日文</td>
<td align="left">日文 (Mac)</td>
</tr>
<tr>
<td align="right">10002</td>
<td align="center">x-mac-chinesetrad</td>
<td align="left">繁體中文 (Mac)</td>
</tr>
<tr>
<td align="right">10003</td>
<td align="center">x-mac-韓文</td>
<td align="left">韓文 (Mac)</td>
</tr>
<tr>
<td align="right">10004</td>
<td align="center">x-mac-阿拉伯文</td>
<td align="left">阿拉伯文 (Mac)</td>
</tr>
<tr>
<td align="right">10005</td>
<td align="center">x-mac-希伯來文</td>
<td align="left">希伯來文 (Mac)</td>
</tr>
<tr>
<td align="right">10006</td>
<td align="center">x mac 希臘文</td>
<td align="left">希臘文 (Mac)</td>
</tr>
<tr>
<td align="right">10007</td>
<td align="center">x mac 斯拉夫文</td>
<td align="left">斯拉夫文 (Mac)</td>
</tr>
<tr>
<td align="right">10008</td>
<td align="center">x-mac-chinesesimp</td>
<td align="left">簡體中文 (Mac)</td>
</tr>
<tr>
<td align="right">10010</td>
<td align="center">x mac 羅馬尼亞文</td>
<td align="left">羅馬尼亞文 (Mac)</td>
</tr>
<tr>
<td align="right">10017</td>
<td align="center">x-mac-烏克蘭文</td>
<td align="left">烏克蘭文 (Mac)</td>
</tr>
<tr>
<td align="right">10021</td>
<td align="center">x-mac-泰文</td>
<td align="left">泰文 (Mac)</td>
</tr>
<tr>
<td align="right">10029</td>
<td align="center">x-mac-ce</td>
<td align="left">中歐語系 (Mac)</td>
</tr>
<tr>
<td align="right">10079</td>
<td align="center">x mac 冰島文</td>
<td align="left">冰島文 (Mac)</td>
</tr>
<tr>
<td align="right">10081</td>
<td align="center">x mac 土耳其文</td>
<td align="left">土耳其文 (Mac)</td>
</tr>
<tr>
<td align="right">10082</td>
<td align="center">x mac 克羅埃西亞文</td>
<td align="left">克羅埃西亞文 (Mac)</td>
</tr>
<tr>
<td align="right">12000</td>
<td align="center">utf-32</td>
<td align="left">Unicode (UTF-32)</td>
</tr>
<tr>
<td align="right">12001</td>
<td align="center">utf-32be</td>
<td align="left">Unicode (utf-32 Big endian)</td>
</tr>
<tr>
<td align="right">20000</td>
<td align="center">x-中文-CN</td>
<td align="left">繁體中文 (CN)</td>
</tr>
<tr>
<td align="right">20001</td>
<td align="center">x cp20001</td>
<td align="left">TCA 台灣</td>
</tr>
<tr>
<td align="right">20002</td>
<td align="center">–倚天 x 中文</td>
<td align="left">繁體中文 (倚天)</td>
</tr>
<tr>
<td align="right">20003</td>
<td align="center">x cp20003</td>
<td align="left">IBM5550 台灣</td>
</tr>
<tr>
<td align="right">20004</td>
<td align="center">x cp20004</td>
<td align="left">TeleText 台灣</td>
</tr>
<tr>
<td align="right">20005</td>
<td align="center">x cp20005</td>
<td align="left">Wang 台灣</td>
</tr>
<tr>
<td align="right">20105</td>
<td align="center">x IA5</td>
<td align="left">西歐語系 (IA5)</td>
</tr>
<tr>
<td align="right">20106</td>
<td align="center">x IA5 德文</td>
<td align="left">德文 (IA5)</td>
</tr>
<tr>
<td align="right">20107</td>
<td align="center">x IA5 瑞典文</td>
<td align="left">瑞典文 (IA5)</td>
</tr>
<tr>
<td align="right">20108</td>
<td align="center">x IA5 挪威文</td>
<td align="left">挪威文 (IA5)</td>
</tr>
<tr>
<td align="right">20127</td>
<td align="center">我們 ascii</td>
<td align="left">US-ASCII</td>
</tr>
<tr>
<td align="right">20261</td>
<td align="center">x cp20261</td>
<td align="left">T.61</td>
</tr>
<tr>
<td align="right">20269</td>
<td align="center">x cp20269</td>
<td align="left">ISO -6937</td>
</tr>
<tr>
<td align="right">20273</td>
<td align="center">IBM273</td>
<td align="left">IBM EBCDIC (德國)</td>
</tr>
<tr>
<td align="right">20277</td>
<td align="center">IBM277</td>
<td align="left">IBM EBCDIC (丹麥挪威)</td>
</tr>
<tr>
<td align="right">20278</td>
<td align="center">IBM278</td>
<td align="left">IBM EBCDIC (芬蘭瑞典)</td>
</tr>
<tr>
<td align="right">20280</td>
<td align="center">IBM280</td>
<td align="left">IBM EBCDIC (義大利)</td>
</tr>
<tr>
<td align="right">20284</td>
<td align="center">IBM284</td>
<td align="left">IBM EBCDIC (西班牙)</td>
</tr>
<tr>
<td align="right">20285</td>
<td align="center">IBM285</td>
<td align="left">IBM EBCDIC (英國)</td>
</tr>
<tr>
<td align="right">20290</td>
<td align="center">IBM290</td>
<td align="left">IBM EBCDIC (日文片假名)</td>
</tr>
<tr>
<td align="right">20297</td>
<td align="center">IBM297</td>
<td align="left">IBM EBCDIC (法國)</td>
</tr>
<tr>
<td align="right">20420</td>
<td align="center">IBM420</td>
<td align="left">IBM EBCDIC (阿拉伯文)</td>
</tr>
<tr>
<td align="right">20423</td>
<td align="center">IBM423</td>
<td align="left">IBM EBCDIC (希臘文)</td>
</tr>
<tr>
<td align="right">20424</td>
<td align="center">IBM424</td>
<td align="left">IBM EBCDIC (希伯來文)</td>
</tr>
<tr>
<td align="right">20833</td>
<td align="center">x-EBCDIC-KoreanExtended</td>
<td align="left">IBM EBCDIC (擴充韓文)</td>
</tr>
<tr>
<td align="right">20838</td>
<td align="center">IBM 泰文</td>
<td align="left">IBM EBCDIC (泰文)</td>
</tr>
<tr>
<td align="right">20866</td>
<td align="center">koi8 r</td>
<td align="left">斯拉夫文 (KOI8 R)</td>
</tr>
<tr>
<td align="right">20871</td>
<td align="center">IBM871</td>
<td align="left">IBM EBCDIC (冰島文)</td>
</tr>
<tr>
<td align="right">20880</td>
<td align="center">IBM880</td>
<td align="left">IBM EBCDIC (斯拉夫文俄文)</td>
</tr>
<tr>
<td align="right">20905</td>
<td align="center">IBM905</td>
<td align="left">IBM EBCDIC (土耳其文)</td>
</tr>
<tr>
<td align="right">20924</td>
<td align="center">IBM00924</td>
<td align="left">IBM 拉丁文 1</td>
</tr>
<tr>
<td align="right">20932</td>
<td align="center">EUC-JP</td>
<td align="left">日文 (JIS 0208-1990年和 0212年 1990年)</td>
</tr>
<tr>
<td align="right">20936</td>
<td align="center">x cp20936</td>
<td align="left">中文 (簡體) (GB2312-80)</td>
</tr>
<tr>
<td align="right">20949</td>
<td align="center">x cp20949</td>
<td align="left">韓文 Wansung</td>
</tr>
<tr>
<td align="right">21025</td>
<td align="center">cp1025</td>
<td align="left">IBM EBCDIC (斯拉夫文塞爾維亞文保加利亞文)</td>
</tr>
<tr>
<td align="right">21866</td>
<td align="center">koi8 u</td>
<td align="left">斯拉夫文 (KOI8 U)</td>
</tr>
<tr>
<td align="right">28591</td>
<td align="center">iso-8859-1</td>
<td align="left">西歐語系 (ISO)</td>
</tr>
<tr>
<td align="right">28592</td>
<td align="center">iso-8859-2</td>
<td align="left">中歐語系 (ISO)</td>
</tr>
<tr>
<td align="right">28593</td>
<td align="center">iso-8859-3</td>
<td align="left">拉丁文 3 (ISO)</td>
</tr>
<tr>
<td align="right">28594</td>
<td align="center">iso-8859-4</td>
<td align="left">波羅的海文 (ISO)</td>
</tr>
<tr>
<td align="right">28595</td>
<td align="center">iso-8859-5</td>
<td align="left">斯拉夫文 (ISO)</td>
</tr>
<tr>
<td align="right">28596</td>
<td align="center">iso-8859-6</td>
<td align="left">阿拉伯文 (ISO)</td>
</tr>
<tr>
<td align="right">28597</td>
<td align="center">iso-8859-7</td>
<td align="left">希臘文 (ISO)</td>
</tr>
<tr>
<td align="right">28598</td>
<td align="center">iso-8859-8</td>
<td align="left">希伯來文 (ISO)</td>
</tr>
<tr>
<td align="right">28599</td>
<td align="center">iso-8859-9</td>
<td align="left">土耳其文 (ISO)</td>
</tr>
<tr>
<td align="right">28603</td>
<td align="center">iso-8859-13</td>
<td align="left">愛沙尼亞文 (ISO)</td>
</tr>
<tr>
<td align="right">28605</td>
<td align="center">iso-8859-15</td>
<td align="left">拉丁文 9 (ISO)</td>
</tr>
<tr>
<td align="right">29001</td>
<td align="center">x 木衛二</td>
<td align="left">木衛二</td>
</tr>
<tr>
<td align="right">38598</td>
<td align="center">iso 8859-8 i</td>
<td align="left">希伯來文 (ISO-邏輯)</td>
</tr>
<tr>
<td align="right">50220</td>
<td align="center">iso-2022年-jp</td>
<td align="left">日文 (JIS)</td>
</tr>
<tr>
<td align="right">50221</td>
<td align="center">csISO2022JP</td>
<td align="left">日文 (JIS 允許 1 位元組假名)</td>
</tr>
<tr>
<td align="right">50222</td>
<td align="center">iso-2022年-jp</td>
<td align="left">日文 (JIS 允許 1 個位元組片假名-因此 / SI)</td>
</tr>
<tr>
<td align="right">50225</td>
<td align="center">iso-2022年-kr</td>
<td align="left">韓文 (ISO)</td>
</tr>
<tr>
<td align="right">50227</td>
<td align="center">x cp50227</td>
<td align="left">中文 (簡體) (ISO 2022)</td>
</tr>
<tr>
<td align="right">51932</td>
<td align="center">euc jp</td>
<td align="left">日文 (EUC)</td>
</tr>
<tr>
<td align="right">51936</td>
<td align="center">EUC CN</td>
<td align="left">簡體中文 (EUC)</td>
</tr>
<tr>
<td align="right">51949</td>
<td align="center">euc kr</td>
<td align="left">韓文 (EUC)</td>
</tr>
<tr>
<td align="right">52936</td>
<td align="center">hz-gb-2312</td>
<td align="left">簡體中文 (HZ)</td>
</tr>
<tr>
<td align="right">54936</td>
<td align="center">GB18030</td>
<td align="left">簡體中文 (GB18030)</td>
</tr>
<tr>
<td align="right">57002</td>
<td align="center">x-iscii-de</td>
<td align="left">ISCII 梵文字母</td>
</tr>
<tr>
<td align="right">57003</td>
<td align="center">x iscii 是</td>
<td align="left">ISCII 孟加拉文</td>
</tr>
<tr>
<td align="right">57004</td>
<td align="center">x-iscii-東西</td>
<td align="left">ISCII 坦米爾文</td>
</tr>
<tr>
<td align="right">57005</td>
<td align="center">x-iscii-te</td>
<td align="left">ISCII 特拉古文</td>
</tr>
<tr>
<td align="right">57006</td>
<td align="center">x iscii 身分</td>
<td align="left">ISCII 阿薩姆文</td>
</tr>
<tr>
<td align="right">57007</td>
<td align="center">或 x iscii</td>
<td align="left">ISCII 歐利亞文</td>
</tr>
<tr>
<td align="right">57008</td>
<td align="center">巴 iscii x 卡</td>
<td align="left">ISCII 坎那達文</td>
</tr>
<tr>
<td align="right">57009</td>
<td align="center">x-iscii-ma</td>
<td align="left">ISCII 馬來亞拉姆文</td>
</tr>
<tr>
<td align="right">57010</td>
<td align="center">x-iscii-gu</td>
<td align="left">ISCII 古吉拉特文</td>
</tr>
<tr>
<td align="right">57011</td>
<td align="center">x-iscii-pa</td>
<td align="left">ISCII 旁遮普語</td>
</tr>
<tr>
<td align="right">65000</td>
<td align="center">utf-7</td>
<td align="left">Unicode (UTF-7)</td>
</tr>
<tr>
<td align="right">65001</td>
<td align="center">utf-8</td>
<td align="left">Unicode (UTF-8)</td>
</tr>
</tbody></table>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.text.encoding(v=vs.110).aspx" target="_blank" rel="noopener">Encoding 類別</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>西元年與民國年的轉換 C#</title>
    <url>/2016/06/16/AdTaiwnaDateConvert/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>這陣子在改一個案子的舊 code，看到使用西元年減去 1911 的方式處理年份，月份與日期不與年份處理，這樣子進行轉換的確是可行的，但是個人還是比較喜歡使用 Calendar 的方式轉換；</p>
<p>因為使用減法方式處理轉換，萬一順手把月份與日期一起轉換，在閏年的時候就會有日期誤差了。<br><img src="https://lh3.googleusercontent.com/G54xIonGf_LNMrYUNXkGFGNJC724d58NZGEsWS6xP9WGk4Nu5KRXg9AK-97syFNI_SV-GPTiElFUoIJ_f7nlGhsJH9Qv5AZPN9WPeTwTjwxg6ohk1xqIBI7hFkUCFWJ0LNN7AZ43LLXtUkJfgAuQgy1S7Pd4dYhvVwBmea4OnWMLwdt_iEUotNPbSBQllkfdCdyh42y1XKRHix36w7fsXsc77RTivp2WxeG-O6F-TBF3l9Encgi2g5iKlsCzmLJ1V9goRpimESE3UzACVnVW8gx-EyfnCgs-TfyInqTigiTA5ts2iABI5yweFCclwP61Dz4gqypUWik-0q5DE5EhBX1uwFXKnmhc43BCE8N4keL0qQ-Dn95ZduDN4hi7LELteyaFPNvwxnc0PGSYTvVV3JpObiF4Yo3vJs8rP53vlr9-RhjgkVXJddRrrYQ-wC2_9PNdtYcu5eK-TE9eGkO7nrsoMo9ABbZZKavgiz83Wyi33w3DkouJopFPJPHCJa8BQ2yieLsFTddPEui_S1TENYQ2CFUlz3naDx7RwXSzE5cPn14AyLoaHQ-f2X0VYrfIdYbxtfvKo22kUOHoAAReEFBJFMDGHA4bctvQlMlAIzcotUxJtAy1hNZrEL4uSnlaC9j4RWn3PBYSNCkByh6sRBoTNIdDb9RWLQdjNv2jrg=w441-h219-no" alt="errorEx"></p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>個人習慣的處理方式還是使用 <strong>Calendar</strong>，而且要轉農民曆也方便 XD</p>
<ul>
<li><p>西元年轉換民國年</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">string</span> sampleDate = <span class="string">"2012-2-29"</span>;</span><br><span class="line">DateTime dt = DateTime.Parse(sampleDate);</span><br><span class="line">CultureInfo culture = <span class="keyword">new</span> CultureInfo(<span class="string">"zh-TW"</span>);</span><br><span class="line">culture.DateTimeFormat.Calendar = <span class="keyword">new</span> TaiwanCalendar();</span><br><span class="line">dt.ToString(<span class="string">"yyy/MM/dd"</span>,culture);</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/T3plt7Y-v9xbwsU052c5fOyCgHRFJuT5BOyOlZ-H-jEYEnAuiUvu5uNIzXHRocaxI-WSuetbnpsRnK1CWAZI0pjjDoCn28mb84bpjN2PXp7QdfgXQd07_JGegfi6yLHNR3i3JzXa7cJ8rYVY_4A3PuvbJ4VJfUufCUn38a8yDdmMMGwo8_mlaIagzzX1mqn9sDC8EJGHZ_7ny_4uoBQpuzGPoR2XWN6yBUvcAqFQNiCDgcHgitxI_wUoi7EClglvV5eyJ9fWCzIW11KZWcSs4WLVw8VNi4yJ0xlWxi3CsyRPGKxBcdQcu1nwq2rPfiPUCvgVfScbrEJqxTAjNk6WTTforyEUBrlpI_OR4WWYCHtKcpabKJ77hAaDdKVvGemmw4VA-dvt18l4-XznR2oCAAzSWdUV3zTILuU1ZXHarkWugTBqeO1xG3eEfrwFxpDnLHJ0yFHVPuDKSvYI3sf-YYDTkxmZBvV_OXvPJZsSHFqEYJhl5iX9AeTTBRlF1F2IcumZYHP65EQkl69zpHXHEuMlMVwzvvhzv7oOD65-i5m5PHhN5yhn4eTp_xe4synVrcPtptJW-PdLJm0COQgqFtH4A9HwKCSgOBp_q1HEfVByW_t-iz-yduf9fVu-ahPV2PhRGKocA-qPLJu64nz91608BqiBMzdNwSGOPVt2tA=w494-h249-no" alt="AdToTwCal"></p>
</li>
<li><p>民國年轉換西元年</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">string</span> sampleDate = <span class="string">"101/02/29"</span>;</span><br><span class="line">CultureInfo culture = <span class="keyword">new</span> CultureInfo(<span class="string">"zh-TW"</span>);</span><br><span class="line">culture.DateTimeFormat.Calendar = <span class="keyword">new</span> TaiwanCalendar();</span><br><span class="line">DateTime.Parse(sampleDate,culture);</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/ikKMh8PsGPADuY1pc6PSEaEK0gKBvnWsXSQEDZ5joqdc8pKVDFCBsbyQjObZtCwvciVB8DPyPCF-Xd_0JHHW7OL3hso8jMbjDoyhU4MO6xH023lgQzzKeAk7-C9zroaVjVrkLzaOr3d-D_EIpifz3QHObmHHBmt7U0nMKeOTY-bRcfPEfOp7jhnaTkzDai2FK3jxu5YSkD1YDv82WYsBFCb4-_sE74P72ZhCVWoibbu7bqZpvdSB4crasufCqDoLIWhDfQqWSLLb35A_Hb67DB4f43cF3FXfGW0-N58N_npNwjrgK-BU7vDJCe2SJ-0zQRW_Fn6wvY4KFvqdQvNCA2Ph8R_NWul2WBrryUn07rpSJ5CWBhCt85AqeDE5l4VQbjAbJ4nr0j1TufE_GduYYC7R6nO023IhOD3iK_zibe9YU57pXrE-HV7jFGqm6x0f7lq7dy-VG-RDqpQ6t9J3LAGTV_a3ErEnI_2nHGoglQzpfm5324U8BmvmrXFQE5Q-Qo0lWEnrhbFj9E6WKTHP7SFhLzkGmrpOcMnZ6LflifbyTZGgSIZquFUxDjbIR3k_Enxo8Y-UYLjz0qyxCDXjpNsvEznklK4wVcNKXgjtYMku6GvD9Or5Mk_1K5OfjfqNpty_iGMdAF32dNuzwUlMVL-HUUj3zCaXK2Q3OYpoZw=w454-h295-no" alt="TwCalToAd"></p>
</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>相關的資料非常多，就列出幾個比較知名的部落客</p>
<ul>
<li><a href="http://kevintsengtw.blogspot.tw/2014/06/c.html" target="_blank" rel="noopener" title="Kevin">Kevin 學習筆記</a></li>
<li><a href="http://blog.darkthread.net/post-2012-03-01-leap-year-and-taiwancalendar.aspx" target="_blank" rel="noopener" title="darkthread">darkthread</a></li>
<li><a href="https://dotblogs.com.tw/kirkchen/archive/2009/11/30/12223.aspx?fid=56031" target="_blank" rel="noopener" title="愛流浪的小風">愛流浪的小風</a></li>
<li><a href="http://blog.miniasp.com/post/2007/12/04/I-Found-two-very-useful-Calendar-for-Taiwan.aspx" target="_blank" rel="noopener" title="Will保哥">Will 保哥</a></li>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.globalization.cultureinfo(v=vs.110).aspx" target="_blank" rel="noopener" title="CultureInfo">CultureInfo</a></li>
<li>MSDN:<a href="https://msdn.microsoft.com/zh-tw/library/system.globalization.taiwancalendar(v=vs.110).aspx" target="_blank" rel="noopener" title="TaiwanCalendar">TaiwanCalendar</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>DataReader.GetFieldType(int) Returned Null</title>
    <url>/2017/04/04/DataReader-GetFieldType-int-returned-null/</url>
    <content><![CDATA[<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><p>開發完成的網站應用程式，在測試機運行都是正常，但在正式機時，發生了 HTTP 500 錯誤，錯誤訊息如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Exception information:</span><br><span class="line">    Exception type: InvalidOperationException</span><br><span class="line">    Exception message: DataReader.GetFieldType(5) returned null.</span><br></pre></td></tr></table></figure>

<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>依據這個錯誤訊息，查找一下微軟論壇上的討論，確認應該是應用程式使用了 Sql Server 的部分元件，因此需要將此元件註冊；但是因為此專案主要是使用 Geomerty 型別產生的問題，所以比較符合 Huan-Lin 老師的<a href="http://huan-lin.blogspot.com/2012/08/datareadergetfieldtype5-returned-null.html" target="_blank" rel="noopener" title="Huan-Lin DataReader.GetFieldType(5) returned null">此篇文章</a>，需要在正式機的電腦上額外安裝 <strong>Sql Server Featrue Pack</strong>，版本按照各自使用的資料庫版本安裝</p>
<h2 id="解決方式"><a href="#解決方式" class="headerlink" title="解決方式"></a>解決方式</h2><p>請到<a href="https://www.microsoft.com/zh-tw/" target="_blank" rel="noopener" title="Microsoft">微軟</a>網站搜尋 <strong>SQL Server Feature Pack</strong>，取得<a href="https://www.microsoft.com/en-us/search/result.aspx?q=SQL+Server+Feature+Pack&form=dlc" target="_blank" rel="noopener" title="Microsoft SQL Server Feature Pack">搜尋結果</a>，然後找尋符合自己資料庫的版本選取下載，我的版本是 <em>SQL Server 2014<em>，所以在下載列表中選取 *</em>SQLSysClrTypes** 這檔案，在不同*Sql Server</em> 版本中名稱會有稍微不同，主要就是找尋 <strong>CLR Types</strong> 的元件擴充就是了。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://huan-lin.blogspot.com/2012/08/datareadergetfieldtype5-returned-null.html" target="_blank" rel="noopener" title="Huan-Lin DataReader.GetFieldType(5) returned null">Huan-Lin DataReader.GetFieldType(5) returned null
</a></li>
<li><a href="https://www.microsoft.com/en-us/search/result.aspx?q=SQL+Server+Feature+Pack&form=dlc" target="_blank" rel="noopener" title="Microsoft SQL Server Feature Pack">Microsoft SQL Server Feature Pack</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>Troubleshooting</tag>
      </tags>
  </entry>
  <entry>
    <title>Error 175:The ADO.NET Provider With Invariant Name &#39;Npgsql&#39;...</title>
    <url>/2017/04/04/Error-175-The-ADO-NET-provider-with-invariant-name-Npgsql/</url>
    <content><![CDATA[<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><p>有朋友在開發時要將透過 <a href="https://msdn.microsoft.com/en-us/library/aa937723(v=vs.113).aspx" target="_blank" rel="noopener" title="Entity Framework">Entity Framework</a> 產生的 <em>edmx file</em> 更新，但是出現了以下的錯誤訊息。(Entity Framework 6)</p>
<blockquote>
<p>Error 175: The ADO.NET provider with invariant name ‘Npgsql’ is either not registered in the machine or application config file, or could not be loaded.</p>
</blockquote>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>錯誤訊息說明 <a href="https://github.com/npgsql" target="_blank" rel="noopener" title="Github Npgsql">Npgsql</a> 沒有註冊進機器，所以無法讀取使用，檢查過 <code>config</code> 設定，確認都已經進行設定後，確認 <a href="https://github.com/npgsql" target="_blank" rel="noopener" title="Github Npgsql">Npgsql</a> 需要安裝其元件。</p>
<h2 id="解決方式"><a href="#解決方式" class="headerlink" title="解決方式"></a>解決方式</h2><p>至 <a href="https://github.com/npgsql/npgsql/releases" target="_blank" rel="noopener" title="Npgsql Release">Npgsql Release</a> 下載 <code>Npgsql-3.2.2.msi</code> 安裝，即可解決。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://msdn.microsoft.com/en-us/library/aa937723(v=vs.113).aspx" target="_blank" rel="noopener" title="Entity Framework">Entity Framework</a></li>
<li><a href="https://github.com/npgsql" target="_blank" rel="noopener" title="Github Npgsql">Github Npgsql</a></li>
<li><a href="https://github.com/npgsql/npgsql/releases" target="_blank" rel="noopener" title="Npgsql Release">Npgsql Release</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>Troubleshooting</tag>
        <tag>PostgrestSQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Visual Studio Browsing With Incognito</title>
    <url>/2017/04/11/Visual-Studio-browsing-with-incognito/</url>
    <content><![CDATA[<h2 id="設定方式"><a href="#設定方式" class="headerlink" title="設定方式"></a>設定方式</h2><p>使用 Visual Studio 開發網站的時候，使用無痕視窗偵錯，避免每次清理一些快取或是 cookie 等資料。<br>首先，先開啟 <em>Visual Studio</em> ，開啟一個網站專案，然後在工具列上選取 <strong>Browser with</strong> ，如下圖<br><img src="https://lh3.googleusercontent.com/4g6oS5pcK1bJydVygpuopUslPhNbhksyn7g4OwgcGhO58pLUNIwlTuQIJugB07w9efPJ8-cLZWEDTAZN4X3Mo6uKRj_ysR6TA48Sawkg1R4WoRMjlpWhqlv3x47XcJ4pu9bmZF5Wz6-gUaJMcQu-trqA3A0stV6ueOLjfUapV3nXyxCgEKtS2zBzyaTuVoVwCb8paEO5NM64NItb3FL-eDS2yHPk1dJg_IynBpbhFn58qw2fockxJla5xLNo1pWfHcHncwcbHW8z4ODGfJsP2T2oAXz-c-Pu-KLZ9t1aLDxrQu6aBpItmeF2gSfWYpZSX1H9eXV1PHmusqEsRswv-V2dpuLEDqzWcK6ORfmcHNLBvn_ymHoS4MS2bhMHOMuTWgMwCHOfSMjjItyQR9AjWnrg4drzQDWPfw6g0ZoVChcBr9JMvIwjsFU4EDIVmtAuHvnp5ShcWgm-PUF8fanDoEU0gGvc52WxSY4frUiasivcNzMD-DcnOy8O-jnhNW3zkGq1FY3KQiNIkGW66_PnkBna-3G1eyHt1V5Xal0H4I2KzvM_Iq2OdsPbp4Am8PB63PxCD4HrpDklHI8NPPfOhqyjFCA_MrY7GoTYOJuODPyga4Xln9DlHCwrgiqBI7_wxi6nlrTLerNpYqik2MkTkg2KuBveFr8X3chD8vyIvw=w304-h298-no" alt="Browser with"><br>之後會看到 <em>Visual Studio</em> 預設的偵錯瀏覽器，想要新增 <strong>Chrome</strong> 的，直接先複製 *<em>Chrome *</em> 的執行程式路徑，接著設定<em>引數(Arguments)</em>，各瀏覽器設定方式如下：<br><img src="https://lh3.googleusercontent.com/hhbGeZMi64HetqOgvY9l2XEZ_pkXhF7zn6T7cT_nlO25e4I6JBBqMwzsDOGTaFxJzDARBnc6MWElRvn4r6Ixqf-5jKGfR-VD7buw74jrSLBUt9SjA8rVsG1VyqYavYxERRfIdH3PgLJNExvujMoE7urygguDpdxiD5SXv28wTSn3ATatweBly4zinQoDHeRjoyXX7qR3H5EMnpDg_xuiJvciiMe_kGTIpM-V9s-SxVD77VJqKUDQLaq2nxip4XvzG9QPBi36_2PkyN8mqnt7DAFgfWNv2nlwBOm007nChtPPg6JKzPlJcp8mxFJ-G9EadgcHqqzH27OZ-gKWB7U37PSy_oH0rzEjQ5-LZO4HU1SYn1pcxhuGEc6Bad_wh2ODNU0taW4Epkxd4mg23zPm1wl7in2tWrY2CBxftJM_iREVX3zLPpsloF0gvcxEW8gg3104e6p_1nYqCa2_fsA0bFdXv-MXqEiCxvuBzM8a9VNYUD5-kmiNvildde45RIUPzGL6xgXdTZLm08sjaXNsqA6-5doinLAo_7CpOcKDDFwNU_tkFEN2Q0j8sfTEBcS8lpmkimrNcRD41jk0qGrDNtCUm63jUahsC66SYIs59b1UPQHG49me_JT2Zibc-Lw_0HQb9wSogT209Y19cv-JfYc7XPpx8ncD1vgXjg6Hkg=w457-h446-no" alt="Add Program"></p>
<h3 id="Chrome-設定方式"><a href="#Chrome-設定方式" class="headerlink" title="Chrome 設定方式"></a>Chrome 設定方式</h3><p>引數(Arguments)設定為<code>--incognito</code></p>
<h3 id="Firefox-設定方式"><a href="#Firefox-設定方式" class="headerlink" title="Firefox 設定方式"></a>Firefox 設定方式</h3><p>引數(Arguments)設定為<code>-private</code> 或是 <code>-private-window</code></p>
<ul>
<li><code>-private</code>:<em>Firefox</em> 版本 <strong>3.6</strong> 及其後版本才可使用以下指令，第一次開啟視窗，之後啟動新分頁</li>
<li><code>-private-window</code>:<em>Firefox</em> 版本 <strong>20</strong> 及其後版本才可使用以下指令，每次都會開啟新視窗</li>
</ul>
<h3 id="IE-設定方式"><a href="#IE-設定方式" class="headerlink" title="IE 設定方式"></a>IE 設定方式</h3><p>引數(Arguments)設定為<code>-private</code></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://jumping-fun.blogspot.tw/2016/07/visual-studio-debug-with-incognito-browsing.html" target="_blank" rel="noopener" title="耕作筆記本">耕作筆記本</a></li>
<li><a href="http://peter.sh/experiments/chromium-command-line-switches/" target="_blank" rel="noopener" title="Peter Beverloo">Peter Beverloo Chrome command line</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Command_Line_Options" target="_blank" rel="noopener" title="Firefox">Firefox command line</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/hh826025(v=vs.85).aspx" target="_blank" rel="noopener" title="IE Private">IE command line</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Visual Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>將共用資料夾設為虛擬資料夾</title>
    <url>/2016/06/22/shareFolderToAnotherServerSetIISVirtualFolder/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>主要是針對 WebFarm 的一些調整，所以後來想說直接將共用資料夾設定為 IIS 虛擬資料；看以下說明圖比較清楚。<br>原本是這樣<br><img src="https://lh3.googleusercontent.com/jX-zI3AW6DpW27CIKqfv5GVgIzQJjs1Wa9lb3kcU97U8UiBGmYMLfTg1AsjwNMGflpqGGPI0tv-3ZHx5c0dQvlOfOrfYqDWBMGXExboxvg2-8Q2AZkBuSd6xU4k6XkT5k-34Mi5cQZ8RAI93q8jYAWzXOqisG6fS3n_Cb6xmlcWFEWbBwZpa43ySqYhkwnkOd-C3cv0ZhHt1c7zGnMj4uHH1dmckrAqMRR_G_VnQD5XwMdJ6roDCIOCiHcd_Y3UqtMON06nXI6cn-wXxpb5GH6cohpqZoUtOr-Z6fNWw8dCqxCyCawTcA2GVqxxl1dGlIMt9aQwn8b6vHAde21ZzILcAg_G03iUXLD9E3NewrJ2c440Q0g1vUgDVWPyEVO268InqXHDQfJiMm2sU57yLNzAcjX4iEx-LDrqkygOz3B8a25A2KhOkCqevLR6RIWJibBT9Qy2hjBoLRgyYXjzrepXGbtHwOubPbvVp1QRl-5s423sJx61JHug5FS0MDnywZrSolI3ECJ-VWkN0YxuULSbtSjCgkfk885qOhmxlf8FW_g7fw5mqfFgXWwuRNArHZrOIENZDvVrooZ2AufbnnJS1HZMIeYrD6DfSgQjQ_sACw6Zrw9w6w5KpOt35utabuid28KBEOw1pkScrggfYr6FsPx-9yQ_K6_pTk9GJEg=w711-h347-no" alt="Origin"></p>
<p>轉換成這樣<br><img src="https://lh3.googleusercontent.com/Mxyp2eNy5sY4RH1tIDGdUI-0aZoVOuZGWe-rkfmMlPTcjDeOg89QrFHHHzAQodYPvJsDGbU6a7tcKPKP0GZhVI8Cl9EfVbQSpJfEThqc4zbtLfHtA1iofL2fZxyNAUkyY4h_Se4sl2Cqn8kum3wDnCurXxcWm_EYrgcThQa6RS5Mtw3X7HjLy5E9fyETT7zC4uln7JoMpigwI61F1KXGyoIWTrZaXH4ryJoH5EaPmvgB0rXBGgC_w33D61jw1OrJqpzfnSBvKIKD03sILuT2-ATeqkulEV8FVT3bJs4abt5fCTZOQHiP2XPRzdOfCq44b5uAzPnYWQl2OeVax5o6YvVXBfi-JYkI_FX8gETN7hprrAirc8pR-XPsWZn8fkJyhfICLk7ep7-BMgUp3hE7w1x4T9u0QE2CTuqEd0ZGjh6tr9g_7pKV3lbpvzSyQTK17rPyTBqH9-nsnJqk_1uKiXPtwYG0B2k8f7HfXbKt-IZsM27OQeEZn4plzoUuTR1ZC844LK39VcLv_1RBwua4PIAF6zbxtxvtTAlBV8GWrUf3O8mtwOXNDoC0VJffu7xBjffUz0syOgM_aashaFKy0m9-uQwaK6Fsc0A67XP6QSAvkCS6p9Nsm65khZXk4YSFQXnQgigIP_a0aqTnWMtK6_Ygtb5bB7-W5GYNErnRzg=w720-h389-no" alt="Fix"></p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><h3 id="試作範例"><a href="#試作範例" class="headerlink" title="試作範例"></a>試作範例</h3><p>我設定了兩台 VM，將共用資料夾設定在某台 VM，另一台 VM 的 IIS 去讀取或寫入該共享資料夾。<br><img src="https://lh3.googleusercontent.com/yTk0_LaPuhJtXwmeKt3vji5JqpB3iwW6fJ_W7SfI4D8IuFbaZW3D27iE81RgUxzi_vcNLRyXajM41JKCB4D7GF0gR9sjzX7Na4cWAAxb9UVgm8HiMeOXbyteC8rwsAOnG-JWqgael1Bkr7mDKSo4_fhVeQxtON-WHNvVACZ1eC_SbtBZoKDocQg4lV5JiM8D1QxBe8fwF3JZZYViPqhDoG0zdmKGjPWSADy1Ro2ZdMGmDOwQrKGTrJOSfUN-w0EiCWWju1qPG_ULvlAnxiDv0Byc5D9noCGFFEeooXLX7twoP_KaXSxeueoXUDz9FI356WOxgF4YuNjshmlrFYB3L5mig-UUYZ6ME0SpcZ5bnrgWSM7eTec0yTiKfDP_BxnfwiO5vEgTMTpf7zk_gCrlbMTHuGOq4VYbJaPxOjiLlGFLM3uZBUULt4x5SD_F13ulWucoE3ldKVGY0GarbZrODBCYtx2Qh2qO13g_Yr5Mb9wTUDv-r7tNJZASM9tgdfQdcGnxjzzdxh_nD26VPW8NLPxP_WVFOdS26088zgMT4NfYF53xJgPs_cJIoVN5yTmIcMen0gZBqgD9_LJxwEu18g2HqIRJqEzOgLsC6h0gOxnIGcaOzySceo4iuU-sicFCQGabis--TlN-BUPGg8pIw_wyWuuyai-Tr-GDj_drug=w762-h253-no" alt="MySample"></p>
<h3 id="作法"><a href="#作法" class="headerlink" title="作法"></a>作法</h3><p>建立一個 Sample 網站（此處使用 asp.net mvc）示範</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"jumbotron"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ASP.NET<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"lead"</span>&gt;</span>ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://asp.net"</span> <span class="attr">class</span>=<span class="string">"btn btn-primary btn-lg"</span>&gt;</span>Learn more <span class="symbol">&amp;raquo;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>@Html.ActionLink("DownLoad Demo", </span><br><span class="line">            "DownloadFile",</span><br><span class="line">            null,</span><br><span class="line">            new &#123;@class = "btn btn-primary btn-lg"&#125;)<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">DownloadFile</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">string</span> mimeType = <span class="string">"image/jpeg"</span>;</span><br><span class="line">    <span class="keyword">return</span> File(Server.MapPath(<span class="string">"~/DLfiles/20130604_181744.jpg"</span>),mimeType,<span class="string">"testDemo"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然後架設該網站到 VM 上的 WebServer（以下稱這台機器為A好了） 上。<br>再把 DLfiles 放到 VM 的另一台機器B上，並開啟共用。接下來的設定才是重點。</p>
<blockquote>
<p>Server 說明</p>
<ul>
<li>A 代表 vWinServer2012Web</li>
<li>B 代表 vWinServer2012DB</li>
</ul>
</blockquote>
<ul>
<li><p>在 B 上建立一個新的帳戶<br>開啟執行視窗（Run）輸入 <code>compmgmt.msc</code> 開啟電腦管理建立帳戶也可以<br>帳號：Sample<br>密碼：Abcd1234<br><img src="https://lh3.googleusercontent.com/V3u6YtCWAxbNdxSNFUA6Drys6J1VBCAEKnPKw51zqTr4egGF4zqHU-2p37XsYrPqbxWIgbS3rgT7477-ErZqmAa7CMGR-2ZbFuKvYvBl3p7ExqP-7SwXjBI25ANu2TWa_nGmMsIv2B84l06XNnK_0fuPCU4UmHsCt_EIREI_SlL1vaLEMpgT3zaFDuwUEJdilmyJtHTYDPhO53NMLfE_IPDKB-00VT3ap7974oYGHeXwxDe0UOE3brT5Bhw9foYyAI6hQHrQgL24XfkrgXxD6hnN9hGoWiAUUa-v62yhovlwQrQBQuc9LeuHoEjz3-IIh6fcO68ol-K5aO2a3wYrX0WuSZaS47quUh-qLwVIAFEpx_c4S2MzSgq_5G715ndtOf2PgUaK1qZ04ggOK8VnuCVecUVrSl6KQi08UnUWSncY-uj9FdZ2bUt3LLvaWZvsL7Ab826grS_UPJoTiDAInYFtFjbVXPuZLdyO9F8HZ2fi2ZbM5-fSSbgtNqpOZx-bkqydM38pqR3OMlDKRYXdFfTrhJ0zXA1xcgWg52DykL76JkUv_CBoCbcHKV-cARSgcaRnQx4UQIGoJ3kFbkpY147UL57xicsTbq9LpFJyWQNRQCkd6Csa4xBmJX9-LqvOcqh_qczRlynwSnMN9UK4SurPBzfM1hl8J6VtoDfUTA=w596-h459-no" alt="BServer"></p>
</li>
<li><p>共用資料夾加入該新建帳戶的權限<br><img src="https://lh3.googleusercontent.com/Kh03j59CwBRaGH39RcdXyq7d8lLogvv-dGgwDNQ5rsvTtpD-cisbcoK5XDBb8j6K0kVXLWpbq1mV0Fj6DwmvZvzYpcuOmSjL5PGTjrT2r48kJtou8r6cjw2hj3znK_ji4ZHKuVZTYZM14n8v3af0XxYEqrforMs-hhJly75Pl7GfRZvCeEQvjY3rgJyY7wud3sOc0vGq6-erRMbKn9KFnvw0WaixdYu9ac4evx9daBLsnMxEgHI1PPMTfQC_SYsGl8VI-OtjH38ATbF1fOgVDWZtirUNDGaS3YEjUfo2Le1CvrYdkaZ67H1ptHrx-8zRm7UBdnmK97Wmc_s_XvfVNw8_HVcWJ2peobxPTBIArOvrbx-RNhwkW93KuJoXHLvBZxya4eaMrpZ2E_16g43fw8X8aGmOXc9c0GWGJ8Ic0cCStExia2ZTVSfpnM_1Pzv3pSBksp63UBijlfICi8AtDEnFgRX-2045Yeh1zoJFcyaElhnTpYlVRXcy0EwT_976lZO4aUxGLQV99ulYwowdwqHtlv14Il7wONeWiY2rwt8wNMnF5mEA9k9oLOlFqX6TeOq77M3dpRWCE1kv2q1D2jVuGWB6fN5EkC6yCSOxz66pogYqQ6nZcYbvizy8pOHUYQXZNDhmO4mAEQid_cirplzblM-OfE_Jroxkwt3AWQ=w418-h538-no" alt="ShareFolder"><br>接下來的設定，都是在 A 上面的部分了。</p>
</li>
<li><p>在 A 上也建立一個新的帳戶(帳號密碼必須與 B 相同)<br>帳號：Sample<br>密碼：Abcd1234<br><img src="https://lh3.googleusercontent.com/VY99Qs6ppLml-x6fjjBLdj3-2GZrrryd8eA7hFXK0jhzhVNzGOo9UvILVtA_1OQo42Xtw75reNmef3MJhQhkk0Zlx4nIHi29tdHdW9JIVsgUtZRQZ4ojgJA_hnNjUlRh98czqMICyjl6UUZq_WwQisG7Z9uue5D-TepqXtzLP3g3poIYNN1llELehKO_g4YnuxtLP7cnVrCTAX10fEX_DHnz9ZN1gnrMolcWjO0lsAzLILThxt0IQEMPFbu84G1PMbMzIYlWUcwg8l4rq8y42dLx31XfwIrpynB8bwhFQcm61Q36iQW3aL-Ojfz6WmWeq5fl5Ww38WQHxRFXBbvv2Fvly_9x7Z9PvypUr2taF1f9a-FD4cp7r-qwoWN1rQt4HY5V4Q-K46gVIQ9AGN7CSGza-dlDugOKJFWhhxv5GPmRgxMRNSrlz5feW5FRrebFVp_yFJfiEF5x7aPIAKNcRxnDZZOtB0jhkY4oLBMcjeoWdSPiTwJrpmBfM71_SETJtGqCOxtDW6GpkWU_zd6o6-ai630Ps7jLyQ-bk41BOlQKBpsJN1bIcD0qhUNwHA_w64LvAjhDojcScj3Xh2CK1fK130wm3pSLqcDRUiNBUswXmc5srh5_YOCAH-xr_XF8qBWK-93eg-vFHeU2I_5GZ7W8D6FpVP41AcjiBgOq7Q=w570-h466-no" alt="AServer"></p>
</li>
<li><p>IIS 設定<br>把示範網站部署到上，接著設定剛剛建立的共用資料為該網站的虛擬資料夾，接著設定應用程式集區(看網站使用那個應用程式就設定那個)，變更該應用程式的識別為自訂帳戶，輸入剛剛建立的新帳戶名稱與密碼<br><img src="https://lh3.googleusercontent.com/WVwUsMrnsUIXWC5qRqKuSs85fDZXsMETToIeGppg9xvksrUc7yYgcmxmGof5doUJfn9QiIWUTbCjNEaWkUBMv5ElACvLr_UBTo4csjoyUk2IdjUl3pznZWagN18ekc0hSaysixjVZU-WIdDT-tOQ-DSSHw838VlWq-AttXmNMpBamSwO3OpVhImlNLyWR6aBq75Ub8hd-uYMGIYaYLt3f8aAzKrJ6gwtaV6HJTnbZoQ0P1dJS9wXUGoQi8zJjCKxR-1PRwyplrIr0MSOLscL2UkoUoV0kFPhx5m96aNAJ1KSHB-yye1iU3oIH3o0Le91oV75hNXguzSf05Q3gnhxjc-1FOJXGF_Q3EeGLSGskJv3cTctaQTREIJ5xcysgxxNyrfD2Rcl2Zj0Sa3ObAS3ydDA6mL-jHP3YrZTipshw5Kd77QoJdDAoZzRETn0mRSuX3bS0LJFTomdUl2OUwxJ1O_6Rz6GdheX5-84vfGdX6zKMMNWxjhdWyowZ4E0pl43-pLCDn-goV1y5X_TGO1ir_-SYW_IoQQYT_Mp4-JRoyqxjGrCvdemYszW0yBeXRBpO86odVvfpcjOsLtjQfwEtjUW8f0JPJKEgAb0-2sD5cCKG3vLE5KNWhndkNeWnL4Rw7OwexzUmf6PwXz-yrBJI476pOjGyZkuEnNk4LvKhw=w412-h634-no" alt="DefaultAppPool"></p>
</li>
</ul>
<p>查看一下網站測試連線與該虛擬資料夾測試連線<br><img src="https://lh3.googleusercontent.com/Q8_WAhRpOX-qpU9qfEDpGYRuEM7Np21ML5lJcKwPHSHeA9_AMFsrq_5PR0MfNZZCaSQm86Ylyr6q5pZBWVwaM1CwPlHl-ufExDCXlGg-RSm3pIKZbboZ8WXwvLhOvAkm6xvs60-aHDH8__T_M_IY1FPSRN8KgF_du-a_qooD_bNCkfSK3nKj_evUdGToSrKAtKCAfzFj-TbDx_uLsmRv15rWYPxJIS21-P64Fte9hb6mVte25PnaaDkEWo59npOsQ_mLC95gOlIKBsH2b7HsIqvrmA8TtHzg-Mb0pXpDV7Hy0jsOLKp2wPUZ6HoXK1iNqwcpWnO7k28dO5CVUnv3BYszzUG37HqoQIlqoI-kg8hQwZPOIA094Vmr9TgQjh6LBaLe76Jc9wNilAQ-nJcALj3QM8JgZDR9dHpFj3PdnBbtyy3MSPP-iVtjKEf7zCqIozD2YzsSOKPf-vh6XaplXLH0oMkyP7bll5XRA9vw6vfJ4psy0YhDZKt5HocGEUBGMUFbagzQ70-u7KSLOxaaaK02L5Ff3mhg0Iwhje_CJWAtmf-gkRwv5lJaUDJ7hlmfeRxHWdWcVIioDnp2NIQzqpZkswcwlsClq4jUkJjxbrBhm2vlVuLdPstFaMKnoChczgc-dyoaFIEaoUHwdE8M9wLkIq4rPeXerdjQ8d59uw=w538-h201-no" alt="TestConnection"></p>
<p>這樣就可以了，附上範例結果<br><img src="https://lh3.googleusercontent.com/vAxdYHM3lBzPgXqMThLLqjW6tdOjTbnadWbwPk0fYgdupt0YFsF6k4jKgf45_HxDDyZnvqgmXxb28pQ_biD7cYyNFqR9UzJ5XO4OsFaLuCzjKPMm2LnyfV-sWxA6SFpkDr3ghq7jGXS638t8yDdCGv06zcYrwNIvogcFUYryzoguDAX924OXblewa_LhwJ0pGDPOA8YWdLhIWdHPNsOmUqAoi_fskyplrp69msGelqtoGm4QD8wVsZYO3ZqaKnTBrLzat15lwkM_dfDj4KkGhRsA35aW3_mSn88ZO19wUKJfqUIOHXYiAaslaEYo1FRTBBMTaN8uodjs55yr-ZZg27Hqby_iC78zddePZlFOPXehGx_7dhmyUzFiBCIFsnv5MmLXJ4HUlp29TFBYhYPrGHylfOinyGryFLMv02lnDhUJcGYSHf4TWcGF1HIUOu_CoWZvq8pcIhJR_N3jF8gOAQ5ZwqNJ7DYaERrBLbt_-2S9EANjkF0CtebLDgIGo-rqV-ReRbUdY_vFmK-Ah-fZGvp20Jnmzg4l9fVSl2k0ZFyKCm-nObAHn2uWxBSVEZ6pKfdea1qnBkRX8sMo1CMjDaeE9aQkJXx6B5IwlRhygvv9GzmYl2Bx98mSjbZx1vJgIogna8pIHB6kQuhv4dK6eDQuHBxAyf9eirhVQkakwQ=w635-h416-no" alt="Result"></p>
<h2 id="附錄"><a href="#附錄" class="headerlink" title="附錄"></a>附錄</h2><p>IIS Version:8.5.99600.16384</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li>Will保哥<a href="http://blog.miniasp.com/post/2007/11/10/How-to-write-file-to-net-share-folder-using-ASPNET.aspx" target="_blank" rel="noopener" title="Will">ASP.NET 如何將檔案寫入到網路芳鄰的分享目錄</a></li>
<li>Will保哥<a href="http://blog.miniasp.com/post/2009/04/17/CryptographicException-The-handle-is-invalid.aspx" target="_blank" rel="noopener">CryptographicException: 控制碼無效</a></li>
<li>Will保哥<a href="http://blog.miniasp.com/post/2010/02/28/Setup-aspnet-website-on-remote-UNC-Path.aspx" target="_blank" rel="noopener">ASP.NET 網站部署在 UNC 路徑上</a></li>
<li>Will保哥<a href="http://blog.miniasp.com/post/2009/09/09/Introduce-IIS-75-Application-Pool-Identity-and-Virtual-Account.aspx" target="_blank" rel="noopener">IIS 7.5 的應用程式集區與新增的「虛擬帳戶」特性</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>WindowsServer2012</tag>
      </tags>
  </entry>
  <entry>
    <title>PostgresSQL 取得所有欄位定義的方法</title>
    <url>/2017/05/03/PostgresSQL-Get-Data-definition/</url>
    <content><![CDATA[<h2 id="碎碎念"><a href="#碎碎念" class="headerlink" title="碎碎念"></a>碎碎念</h2><p>把以前的一些參考資料或是會用到的東西紀錄一下，筆記一下 <strong>postgresSQL</strong> 的取得所有定義資料</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--- postgres SQL 取得所有欄位定義的方法(含備註欄位)</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span></span><br><span class="line">    pgc.relname <span class="keyword">as</span> tablename,</span><br><span class="line">    a.attname <span class="keyword">as</span> <span class="keyword">name</span>,</span><br><span class="line">    format_type(a.atttypid, a.atttypmod) <span class="keyword">as</span> typ,</span><br><span class="line">    a.attlen <span class="keyword">as</span> <span class="keyword">maxlen</span>,</span><br><span class="line">    def.adsrc <span class="keyword">as</span> <span class="keyword">default</span>,</span><br><span class="line">    a.attnotnull <span class="keyword">as</span> <span class="keyword">notnull</span>,</span><br><span class="line">    com.description <span class="keyword">as</span> <span class="keyword">comment</span>,</span><br><span class="line">    <span class="keyword">coalesce</span>(i.indisprimary,<span class="literal">false</span>) <span class="keyword">as</span> primary_key,</span><br><span class="line">    pgi.inhrelid</span><br><span class="line"><span class="keyword">FROM</span> pg_attribute a </span><br><span class="line"><span class="keyword">JOIN</span> pg_class pgc <span class="keyword">ON</span> pgc.oid = a.attrelid</span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> pg_tables t <span class="keyword">on</span> </span><br><span class="line"> (t.tablename = pgc.relname <span class="keyword">and</span> t.schemaname = <span class="string">'public'</span>)</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> pg_inherits pgi <span class="keyword">on</span> </span><br><span class="line"> (pgi.inhrelid = pgc.oid )</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> pg_index i <span class="keyword">ON</span> </span><br><span class="line">    (pgc.oid = i.indrelid <span class="keyword">AND</span> i.indkey[<span class="number">0</span>] = a.attnum)</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> pg_description com <span class="keyword">on</span> </span><br><span class="line">    (pgc.oid = com.objoid <span class="keyword">AND</span> a.attnum = com.objsubid)</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> pg_attrdef <span class="keyword">def</span> <span class="keyword">ON</span> </span><br><span class="line">    (a.attrelid = def.adrelid <span class="keyword">AND</span> a.attnum = def.adnum)    </span><br><span class="line"><span class="keyword">WHERE</span> a.attnum &gt; <span class="number">0</span> <span class="keyword">AND</span> pgc.oid = a.attrelid</span><br><span class="line"><span class="keyword">AND</span> pg_table_is_visible(pgc.oid)</span><br><span class="line"><span class="keyword">AND</span> <span class="keyword">NOT</span> a.attisdropped</span><br><span class="line"><span class="keyword">and</span> pgc.relkind = <span class="string">'r'</span></span><br><span class="line"><span class="keyword">and</span> pgi.inhrelid <span class="keyword">is</span> <span class="literal">null</span></span><br><span class="line"><span class="comment">--and pgc.relhassubclass = 'f'</span></span><br><span class="line"><span class="comment">--AND (pgc.relname = 'statistics'  or  pgc.relname = 'chart_data')</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> pgc.relname<span class="comment">--,a.attnum;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>PostgrestSQL</tag>
      </tags>
  </entry>
  <entry>
    <title>批次檔案取得檔的日期、時間欄位</title>
    <url>/2017/04/21/batch-record-date/</url>
    <content><![CDATA[<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>紀錄一下批次檔案取得日期與時間</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">rem 取得今天日期的年、月、日三個欄位（透過 date /t 指令取得）</span><br><span class="line"><span class="keyword">for</span> /f <span class="string">"tokens=1-4 delims=-/ "</span> %%i IN (<span class="string">'date /t'</span>) DO (</span><br><span class="line"><span class="built_in">set</span> year=%%i</span><br><span class="line"><span class="built_in">set</span> month=%%j</span><br><span class="line"><span class="built_in">set</span> day=%%k</span><br><span class="line"><span class="built_in">set</span> week=%%l</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">rem 取得當下時間的時、分兩個欄位</span><br><span class="line"><span class="keyword">for</span> /f <span class="string">"tokens=1-3 delims=:"</span> %%i IN (<span class="string">'time /t'</span>) DO (</span><br><span class="line"><span class="built_in">set</span> hour=%%i</span><br><span class="line"><span class="built_in">set</span> minute=%%j</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">rem 濾掉 hour 前面可能會出現的空白以及上午下午的文字</span><br><span class="line"><span class="keyword">for</span> /f <span class="string">"tokens=1-2 delims= "</span> %%i IN (<span class="string">"%hour%"</span>) DO (</span><br><span class="line"><span class="built_in">set</span> hour=%%j</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"====== Start ======"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"date parameter = %date%"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"time parameter = %time%"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"year = %year%"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"month = %month%"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"day = %day%"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"week = %week%"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"minute = %minute%"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"hour = %hour%"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"====== End ======"</span></span><br><span class="line">pause</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://blog.miniasp.com/post/2007/10/29/How-to-get-system-date-time-in-batch-file.aspx" target="_blank" rel="noopener">Will</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>batch</tag>
      </tags>
  </entry>
  <entry>
    <title>2016 年的軟體工具清單整理</title>
    <url>/2017/04/16/2016-software-list/</url>
    <content><![CDATA[<p>整理一下去年裝的一些軟體，目前還有在使用，而且覺得不錯的東西。</p>
<h2 id="通訊工具"><a href="#通訊工具" class="headerlink" title="通訊工具"></a>通訊工具</h2><ul>
<li><a href="https://line.me/zh-hant/" target="_blank" rel="noopener">Line</a></li>
<li><a href="https://zoomnow.net/" target="_blank" rel="noopener">Zoom</a></li>
<li><a href="https://slack.com/downloads/windows" target="_blank" rel="noopener">Slack</a></li>
<li><a href="https://www.skype.com/zh-Hant/" target="_blank" rel="noopener">Skype</a></li>
</ul>
<h2 id="截圖工具"><a href="#截圖工具" class="headerlink" title="截圖工具"></a>截圖工具</h2><ul>
<li><a href="https://www.techsmith.com/screen-capture.html" target="_blank" rel="noopener">Tech Smith Snagit</a>：TechSmith 的產品之一，付費軟體但是功能強大，包含截圖錄影等等。</li>
</ul>
<h2 id="瀏覽器"><a href="#瀏覽器" class="headerlink" title="瀏覽器"></a>瀏覽器</h2><ul>
<li><a href="https://www.google.com.tw/chrome/browser/desktop/" target="_blank" rel="noopener">Chrome Desktop</a></li>
<li><a href="https://www.mozilla.org/zh-TW/" target="_blank" rel="noopener">Firefox</a></li>
<li><a href="https://www.torproject.org/projects/torbrowser.html.en" target="_blank" rel="noopener">Tor Browser</a></li>
</ul>
<h2 id="未分類"><a href="#未分類" class="headerlink" title="未分類"></a>未分類</h2><ul>
<li><a href="https://www.softperfect.com/products/ramdisk/" target="_blank" rel="noopener">SoftPerfect RAM Disk</a>：把記憶體模擬成硬碟，付費軟體。</li>
<li><a href="http://www.xmind.net/" target="_blank" rel="noopener">XMind</a>：畫心智圖的軟體，有免費與付費版本。</li>
<li><a href="https://balsamiq.com/products/mockups/" target="_blank" rel="noopener">Balsamiq Mockups</a>：畫 Mockup 的軟體，付費軟體。</li>
<li><a href="https://www.softwareideas.net/" target="_blank" rel="noopener">Software Ideas Modeler</a>：UML 繪圖工具，但是需要付費。</li>
<li><a href="https://openvpn.net/" target="_blank" rel="noopener">OpenVPN GUI for Windows</a>：VPN 連線工具</li>
<li><a href="http://cidian.youdao.com/?keyfrom=dict2.index" target="_blank" rel="noopener">有道辭典</a>：免費的翻譯軟體，介面與使用都很不錯。</li>
<li><a href="http://support.logitech.com/zh_hk/software/unifying" target="_blank" rel="noopener">Logitech Unifying</a>：滑鼠鍵盤吃一個接收器的軟體，但是有限制必須是 Logitech 的產品，且必須接收器有支援。</li>
<li><a href="https://www.displayfusion.com/" target="_blank" rel="noopener">binaryfortress DisplayFusion</a>：<strong><a href="https://www.binaryfortress.com/" target="_blank" rel="noopener">binaryfortress</a></strong> 的產品，此家產品許多工具都不錯，<em>DisplayFusion</em> 是多螢幕控制管理軟體，提供許多便利功能。</li>
<li><a href="https://filezilla-project.org/" target="_blank" rel="noopener">FileZilla FTP Client</a>：這軟體不需解釋了，免費的 FTP 工具</li>
<li><a href="https://markdownmonster.west-wind.com/" target="_blank" rel="noopener">Markdown Monster</a>：偶爾會拿來觀看 <strong><a href="https://zh.wikipedia.org/zh-tw/Markdown" target="_blank" rel="noopener" title="markdown">markdown</a></strong> 語法的預覽，<strong><a href="https://zh.wikipedia.org/zh-tw/Markdown" target="_blank" rel="noopener" title="markdown">markdown</a></strong> 語法我還是習慣直接寫居多</li>
<li><a href="http://cmder.net/" target="_blank" rel="noopener">Cmder</a>：指令列工具，想了解設定的話，可以參考<a href="http://blog.miniasp.com/" target="_blank" rel="noopener">保哥</a>的<a href="http://blog.miniasp.com/post/2015/09/27/Useful-tool-Cmder.aspx" target="_blank" rel="noopener" title="保哥 介紹好用工具：Cmder">文章</a></li>
<li><del>Remote Desktop Connection Manager</del>：微軟提供的遠端桌面管理工具。(<a href="https://www.ithome.com.tw/news/136345" target="_blank" rel="noopener">由於安全漏洞，微軟已宣布除役</a>，<a href="https://quaries.com/windows-remote-desktop-connection/" target="_blank" rel="noopener">替代方案</a>)</li>
<li><a href="http://www.1upindustries.com/bins/" target="_blank" rel="noopener">Bins</a>：讓鎖定在工作列的捷徑分組<br><img src="https://lh3.googleusercontent.com/gDi3gI3tk_GtD3-Sj10rH5ZMJzDYFFTwFONfW5njfgiv-p8TOFdd-lmWpYNDpIqDQH_sTOdSj0sFTHU47owzjoQEddzqtCms9-3TZnRbWLz_hf4sDDYPexQEc-FGTYB7ZgULp76gIxMRAWhoF8kOvXjhEdY68vreoeMv0ugn0RufZYf6Fb78JrGI3W2HfpRC_UQIkCs9AF3kJOA7i2z8cOj3pYOBeiwj5xUwf-U4nC08LIKJsYVKV0KMXTpnY3hxE6GMubKVO6kJstdE_56mAE3cqLNG4oVtKEVyqt4XbB0cbDG-b8IkXg9WLSPYI4tuUVoUZjhXzfy6bjM7Dr2r8Kd8M6rH9T7TKFW-9qvsYflbny4JE5jevY8ty-RxfZ44AbDJLLCBmGR8MhwKlxhliWNIZKJ7WF26Kjq9n2EwmnvO7JE51apCT5cVlGLW-rJ4tmmMh7zPKJYe7S4eq_mooNWh_NfzIApx7vKPder7WjhuydMw7HpiP8Pd8VMCD5iNUrfQ5Al2WQyZOl92by5beBrcMd0GWVY3th1lHd10NjAzKLQUokp1Tch-2ZfIWyjKMfLEowcOlCC5SVM7lLk6AUeGBI6klj4leKyPfYE1nfr5z2f0Sbyd0MW0K7NaI5UMjAgjGS9dW7JlElghMu-xhYxvvTIr0VqEnQjyU1-W4w=w530-h285-no" alt="Bins"></li>
<li><a href="https://www.abelssoft.de/en/windows/System-Utilities/SSD-Fresh" target="_blank" rel="noopener">SSDFresh</a>：SSD 硬碟最佳化工具，有免費與付費版本，免費的就夠用了。</li>
<li><a href="http://www.7-zip.org/" target="_blank" rel="noopener">7-zip</a>：壓縮工具。</li>
<li><a href="http://www.iq-t.com/Main/main.asp" target="_blank" rel="noopener">自然輸入法 10</a>：這輸入法不錯用。</li>
</ul>
<h2 id="地理資訊工具"><a href="#地理資訊工具" class="headerlink" title="地理資訊工具"></a>地理資訊工具</h2><ul>
<li><a href="http://www.qgis.org/en/site/index.html" target="_blank" rel="noopener">QGIS</a>：自由軟體的桌面GIS軟體。它提供資料的顯示、編輯和分析功能。</li>
<li><a href="http://www.esri.com/" target="_blank" rel="noopener">ArcGIS for Desktop</a>：<strong>ArcGIS</strong> 是由 <strong>ESRI</strong> 出品的一個地理資訊系統系列軟體的總稱，我所使用的是桌面版本，這是付費軟體。</li>
<li><a href="https://www.google.com.tw/intl/zh-TW/earth/" target="_blank" rel="noopener">Google Earth</a>：Google 地圖，用來觀看一下 KML 資料。</li>
</ul>
<h2 id="資料庫工具"><a href="#資料庫工具" class="headerlink" title="資料庫工具"></a>資料庫工具</h2><ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/mt238290.aspx" target="_blank" rel="noopener">SSMS(SQL Server 2014 Management Studio)</a></li>
<li><a href="http://www.ssmstoolspack.com/" target="_blank" rel="noopener">SSMSToolsPack</a>：這工具支援SSMS 2012 以前版本的部分是免費的，之後版本的要收費。</li>
<li><a href="https://www.pgadmin.org/" target="_blank" rel="noopener">pgAdmin III</a>：PostgresSQL 的 GUI 工具</li>
<li><a href="https://datadictionary.codeplex.com/" target="_blank" rel="noopener">Data Dictionary Creator</a>：DD　資料調整工具</li>
<li><a href="https://www.devart.com/dbforge/sql/sqlcomplete/" target="_blank" rel="noopener">dbForge SQL Complete Express</a>：SQL code 格式化的工具，SSMS 的套件</li>
</ul>
<h2 id="偵錯工具"><a href="#偵錯工具" class="headerlink" title="偵錯工具"></a>偵錯工具</h2><ul>
<li><a href="http://www.telerik.com/fiddler" target="_blank" rel="noopener">Telerik Fiddler</a>：免費的 web debugging 工具</li>
<li><a href="http://www.telerik.com/products/decompiler.aspx" target="_blank" rel="noopener">Telerik JustDecompile</a>：免費的反組譯工具</li>
<li><a href="https://www.getpostman.com/" target="_blank" rel="noopener">Postman</a>：開發 API 很好用的測試工具，建議裝 App 版本，<strong>Chrome Extension</strong> 版本有些測試會有問題</li>
</ul>
<h2 id="開發工具"><a href="#開發工具" class="headerlink" title="開發工具"></a>開發工具</h2><ul>
<li><a href="https://www.visualstudio.com/zh-hant/vs/whatsnew/" target="_blank" rel="noopener">Vistul Studio 2017</a>：<del>號稱</del>地表最強的編輯器，以下列表是常用的部分套件。<ul>
<li><a href="http://submain.com/" target="_blank" rel="noopener">GhostDoc Pro</a>：有 <strong>Community</strong> 版本，也有付費版，看個人用途囉。</li>
<li><a href="https://visualstudio.github.com/" target="_blank" rel="noopener">GitHub Extension for Visual Studio</a>：GitHub 工具</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=MadsKristensen.OpenCommandLine" target="_blank" rel="noopener">Open Command Line</a>：快速開啟 <strong>Command Line</strong> 工具，還可自行設定想要啟動哪個命令列工具。</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=VisualStudioProductTeam.ProductivityPowerPack2017" target="_blank" rel="noopener">Productivity Power Tools 2017</a>：提供不少功能，好用。</li>
<li><a href="https://www.jetbrains.com/resharper/" target="_blank" rel="noopener">JetBrains ReSharper</a>：超好用工具。</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=PrecisionInfinity.AutomaticVersions" target="_blank" rel="noopener">Automatic Versions</a>：自動產生版號工具。</li>
<li><a href="https://oz-code.com/" target="_blank" rel="noopener">OzCode</a>：強力偵錯工具，付費工具。</li>
</ul>
</li>
<li><a href="https://www.jetbrains.com/webstorm/?fromMenu" target="_blank" rel="noopener">JetBrains WebStorm</a>：寫 <strong>JavaScript</strong> 的好用 IDE 工具</li>
<li><a href="https://www.jetbrains.com/idea/?fromMenu" target="_blank" rel="noopener">JetBrains IntelliJ IDEA Community</a>：Java, Groovy, Scala and Android development</li>
<li><a href="https://www.linqpad.net/" target="_blank" rel="noopener">LINQPad 5</a>：寫 C# LINQ 小範例的好用工具</li>
<li><a href="https://notepad-plus-plus.org/" target="_blank" rel="noopener">NotePad++</a>：text editor</li>
<li><a href="https://www.sublimetext.com/3" target="_blank" rel="noopener">Sublime Text3</a>：text editor</li>
<li><a href="https://code.visualstudio.com/" target="_blank" rel="noopener">Visual Studio Code</a>：text editor</li>
<li><a href="http://www.pspad.com/en/download.php" target="_blank" rel="noopener">PSPad</a>：text editor</li>
<li><a href="http://brackets.io/" target="_blank" rel="noopener">Brackets</a>：text editor</li>
<li><a href="https://www.devart.com/codecompare/" target="_blank" rel="noopener">Devart Code Compare</a>：免費的程式碼比較工具，可以對比兩個檔案的差異</li>
<li><a href="https://chocolatey.org/" target="_blank" rel="noopener">Chocolatey</a>：套件管理工具，以下是透過 <strong>chocolatey</strong> 安裝的套件<ul>
<li>Chocolateygui：GUI 介面，裝了這個後，可經由 GUI 介面安裝套件</li>
<li>SuperBenchmarker：測試網站和 HTTP API 的 工具</li>
<li><a href="https://yarnpkg.com/" target="_blank" rel="noopener">Yarn</a>：套件管理安裝工具，據說比 npm 快。</li>
<li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></li>
</ul>
</li>
</ul>
<p>以下的<strong>版本控制工具</strong>與 <strong>Log 工具</strong>一樣可以透過 <strong>Chocolatey</strong> 安裝</p>
<h2 id="版本控制工具"><a href="#版本控制工具" class="headerlink" title="版本控制工具"></a>版本控制工具</h2><ul>
<li><a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a></li>
<li><a href="https://tortoisegit.org/" target="_blank" rel="noopener">TortoiseGit</a></li>
<li><a href="https://tortoisesvn.net/" target="_blank" rel="noopener">TortoiseSVN</a></li>
<li><a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener">Source Tree</a>：免費的 <strong>git</strong> 與 <strong>Mercurial</strong> 工具</li>
<li><a href="https://www.gitkraken.com/" target="_blank" rel="noopener">gitkraken</a>： Git GUI 工具</li>
</ul>
<h2 id="Log-工具"><a href="#Log-工具" class="headerlink" title="Log 工具"></a>Log 工具</h2><ul>
<li><a href="https://www.microsoft.com/en-us/download/details.aspx?id=24659" target="_blank" rel="noopener">Log Parser</a>：微軟提供的 log 解析工具</li>
<li><a href="https://lizard-labs.com/log_parser_lizard.aspx" target="_blank" rel="noopener">Log Parser Lizard GUI</a>：圖形化工具</li>
<li><a href="https://www.logfusion.ca/" target="_blank" rel="noopener">binaryfortress Log Fusion</a>：binaryfortress 出品的工具，有付費與免費功能。</li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>tools</tag>
      </tags>
  </entry>
  <entry>
    <title>刪除資料庫全部資料表的資料</title>
    <url>/2017/05/02/delete-all-table-data/</url>
    <content><![CDATA[<h2 id="碎碎念"><a href="#碎碎念" class="headerlink" title="碎碎念"></a>碎碎念</h2><p>這個指令也是很實用的，在公司測試機上的資料或是 staging 上的系統，體驗完後，有要求要全部清空資料的話，這就很實用了，如果資料表不多，倒是不太需要。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>在 <strong>SSMS</strong> 或是 <strong>sqlcmd</strong> 執行以下 SQL ，要注意的是，有些資料表可能有建立關聯，導致 <em>Truncate Table</em> 失敗，但是以下 SQL Script 中會使用 <em>Truncate</em> 與 <em>Delete</em>，兩種方式同時使用來清除資料，所以出現錯誤訊息的話，多執行幾次應該就可了。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 取得資料庫中的資料表，並建立儲存到 #LISTTABLES 這資料表中</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">    <span class="keyword">distinct</span> 表格名稱</span><br><span class="line">    <span class="keyword">into</span> <span class="comment">#LISTTABLES </span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">    (</span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        Top <span class="number">100</span> <span class="keyword">PERCENT</span></span><br><span class="line">        a.TABLE_NAME <span class="keyword">as</span> 表格名稱</span><br><span class="line">    <span class="keyword">FROM</span></span><br><span class="line">        INFORMATION_SCHEMA.TABLES  a</span><br><span class="line">        <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> INFORMATION_SCHEMA.COLUMNS b <span class="keyword">ON</span> ( a.TABLE_NAME=b.TABLE_NAME )</span><br><span class="line">    <span class="keyword">WHERE</span></span><br><span class="line">        a.TABLE_TYPE=<span class="string">'BASE TABLE'</span> </span><br><span class="line">        <span class="keyword">and</span> a.TABLE_NAME != <span class="string">'sysdiagrams'</span></span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">        a.TABLE_NAME, ordinal_position) c;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> </span><br><span class="line">    @tablename <span class="keyword">nvarchar</span>(<span class="keyword">max</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> icur <span class="keyword">cursor</span> <span class="keyword">static</span> <span class="keyword">for</span> <span class="keyword">select</span> * <span class="keyword">from</span> <span class="comment">#LISTTABLES</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">OPEN</span> icur</span><br><span class="line"></span><br><span class="line"><span class="keyword">fetch</span> <span class="keyword">next</span> <span class="keyword">from</span> icur <span class="keyword">into</span> @tablename</span><br><span class="line"><span class="keyword">while</span>(@@FETCH_STATUS=<span class="number">0</span>)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 使用 TRUNCATE 最快，且會將表格中的自動編號欄位歸零</span></span><br><span class="line">    <span class="comment">-- 但若表格有被參考 Foreign Key 的話，會無法使用 TRUNCATE 指令</span></span><br><span class="line">    exec (<span class="string">'TRUNCATE TABLE '</span> + @tablename);  </span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 如果 TRUNCATE 不成功，還可以用 DELETE 刪除所有資料</span></span><br><span class="line">    exec ('<span class="keyword">delete</span> <span class="keyword">from</span> <span class="string">' + @tablename + '</span> <span class="keyword">where</span> <span class="number">1</span>=<span class="number">1</span><span class="string">');</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    -- 使用 DELETE 不會將自動編號的欄位歸零，使用 DBCC CHECKIDENT 指令歸零</span></span><br><span class="line"><span class="string">    exec ('</span>DBCC CHECKIDENT(<span class="string">''' + @tablename + '''</span>, RESEED, <span class="number">0</span>)<span class="string">');</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    FETCH NEXT FROM icur INTO @tablename</span></span><br><span class="line"><span class="string">END</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">close icur</span></span><br><span class="line"><span class="string">deallocate icur</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">drop table #LISTTABLES</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://blog.miniasp.com/post/2007/11/16/SQL-Tips-Delete-All-Data-in-whole-Database.aspx" target="_blank" rel="noopener">Will 保哥</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL Server 刪除資料庫中所有資料表</title>
    <url>/2017/05/06/delete-all-database-table/</url>
    <content><![CDATA[<h2 id="序"><a href="#序" class="headerlink" title="序"></a>序</h2><p>還是整理記錄。</p>
<h2 id="作法"><a href="#作法" class="headerlink" title="作法"></a>作法</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 記得先切換到想要移除的資料庫名稱下</span></span><br><span class="line"><span class="keyword">USE</span> yourDataBaseName</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DECLARE</span> @table_schema <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">       ,@table_name <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">       ,@constraint_schema <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">       ,@constraint_name <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">       ,@cmd <span class="keyword">nvarchar</span>(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">DECLARE</span> table_cursor <span class="keyword">CURSOR</span> <span class="keyword">FOR</span></span><br><span class="line">  <span class="keyword">select</span> TABLE_SCHEMA, TABLE_NAME</span><br><span class="line">    <span class="keyword">from</span> INFORMATION_SCHEMA.TABLES</span><br><span class="line">   <span class="keyword">where</span> TABLE_NAME != <span class="string">'sysdiagrams'</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">OPEN</span> table_cursor</span><br><span class="line"><span class="keyword">FETCH</span> <span class="keyword">NEXT</span> <span class="keyword">FROM</span> table_cursor <span class="keyword">INTO</span> @table_schema, @table_name</span><br><span class="line">  </span><br><span class="line"><span class="keyword">WHILE</span> @@FETCH_STATUS = <span class="number">0</span> </span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">     <span class="keyword">SELECT</span> @cmd = <span class="string">'DROP TABLE ['</span> + @table_schema + <span class="string">'].['</span> + @table_name + <span class="string">']'</span></span><br><span class="line">     <span class="comment">--select @cmd</span></span><br><span class="line">     EXEC sp_executesql @cmd</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">     <span class="keyword">FETCH</span> <span class="keyword">NEXT</span> <span class="keyword">FROM</span> table_cursor <span class="keyword">INTO</span> @table_schema, @table_name</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">CLOSE</span> table_cursor </span><br><span class="line"><span class="keyword">DEALLOCATE</span> table_cursor</span><br></pre></td></tr></table></figure>

<p>補充說明一下，這版假如在移除有關聯資料表的時候，會因為 <strong>FOREIGN KEY constraint</strong> 而失敗，要先移除所有的關聯限制喔。<br>可以參考我這篇<a href="https://shunnien.github.io/2017/05/06/remove-database-relationship-constraint/"><strong>移除關聯限制</strong></a>。</p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>列出資料庫中檢視表的欄位以及對應的資料表</title>
    <url>/2017/05/03/list-view-table-schema-and-relationship/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>這個 SQL 組合語法也很實用，畢竟檢視表(View)也很常用到。</p>
<h2 id="語法"><a href="#語法" class="headerlink" title="語法"></a>語法</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 檢視表 名稱與欄位</span></span><br><span class="line"><span class="keyword">SELECT</span> a.name <span class="keyword">AS</span> <span class="string">'表格名稱'</span></span><br><span class="line">     <span class="comment">--, b.text AS '創建資料表SQL'</span></span><br><span class="line">     , c.name <span class="keyword">AS</span> <span class="string">'欄位名稱'</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">  sysobjects a</span><br><span class="line">  <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> syscomments b</span><br><span class="line">    <span class="keyword">ON</span> a.id = b.id</span><br><span class="line">  <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> syscolumns c</span><br><span class="line">    <span class="keyword">ON</span> a.id = c.id</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">  a.type = <span class="string">'V'</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">  a.name</span><br><span class="line">  </span><br><span class="line"><span class="comment">-- 條列檢視表與資料表欄位對應關係</span></span><br><span class="line"><span class="keyword">SET</span> NOCOUNT <span class="keyword">ON</span></span><br><span class="line"><span class="keyword">DECLARE</span> @<span class="keyword">DataBases</span> <span class="keyword">table</span> (</span><br><span class="line"> VIEW_CATALOG   <span class="keyword">nvarchar</span>(<span class="number">256</span>),</span><br><span class="line">VIEW_SCHEMA   <span class="keyword">nvarchar</span>(<span class="number">256</span>),</span><br><span class="line">VIEW_NAME   sysname,</span><br><span class="line">TABLE_CATALOG   <span class="keyword">nvarchar</span>(<span class="number">256</span>),</span><br><span class="line">TABLE_SCHEMA    <span class="keyword">nvarchar</span>(<span class="number">256</span>),</span><br><span class="line">TABLE_NAME    sysname,</span><br><span class="line">COLUMN_NAME   sysname  </span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> @<span class="keyword">DataBases</span> (VIEW_CATALOG</span><br><span class="line">                      , VIEW_SCHEMA</span><br><span class="line">                      , VIEW_NAME</span><br><span class="line">                      , TABLE_CATALOG</span><br><span class="line">                      , TABLE_SCHEMA</span><br><span class="line">                      , TABLE_NAME</span><br><span class="line">                      , COLUMN_NAME)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 資料庫1名稱那邊，可以列出檢視表有關連到的資料庫(假如所使用的檢視表有跨資料庫的話)</span></span><br><span class="line">EXEC sp_msforeachdb <span class="string">'</span></span><br><span class="line"><span class="string">SELECT *</span></span><br><span class="line"><span class="string">FROM</span></span><br><span class="line"><span class="string">  [?].INFORMATION_SCHEMA.VIEW_COLUMN_USAGE</span></span><br><span class="line"><span class="string">WHERE</span></span><br><span class="line"><span class="string">  VIEW_CATALOG IN (''資料庫1名稱'', ''資料庫2名稱'')</span></span><br><span class="line"><span class="string">ORDER BY</span></span><br><span class="line"><span class="string">  VIEW_CATALOG</span></span><br><span class="line"><span class="string">, VIEW_NAME'</span></span><br><span class="line"><span class="keyword">SET</span> NOCOUNT <span class="keyword">OFF</span></span><br><span class="line"><span class="keyword">SELECT</span> VIEW_CATALOG <span class="keyword">AS</span> <span class="string">'檢視表資料庫'</span></span><br><span class="line">     <span class="comment">--, VIEW_SCHEMA AS '檢視表結構結構'</span></span><br><span class="line">     , VIEW_NAME <span class="keyword">AS</span> <span class="string">'檢視表名稱'</span></span><br><span class="line">     , TABLE_CATALOG <span class="keyword">AS</span> <span class="string">'對應資料庫'</span></span><br><span class="line">     <span class="comment">--, TABLE_SCHEMA AS '資料表結構'</span></span><br><span class="line">     , TABLE_NAME <span class="keyword">AS</span> <span class="string">'資料表名稱'</span></span><br><span class="line">     , COLUMN_NAME <span class="keyword">AS</span> <span class="string">'欄位名稱'</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">  @<span class="keyword">DataBases</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL Server 中，移除資料庫中所有的關聯限制</title>
    <url>/2017/05/06/remove-database-relationship-constraint/</url>
    <content><![CDATA[<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>還是紀錄。</p>
<h2 id="內容"><a href="#內容" class="headerlink" title="內容"></a>內容</h2><p>不多說，直接看作法吧</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 記得先切換到想要移除的資料庫名稱下</span></span><br><span class="line"><span class="keyword">USE</span> yourDataBaseName</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*Create Script to drop constraint and remove columns*/</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="string">'IF  EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'''</span> + DC.Name + <span class="string">''') and Type = ''D'')</span></span><br><span class="line"><span class="string">            ALTER TABLE ['</span> + OBJECT_SCHEMA_NAME(SO.ID) + <span class="string">'].['</span> + SO.Name + <span class="string">'] DROP CONSTRAINT ['</span> + DC.Name + <span class="string">']'</span></span><br><span class="line"><span class="keyword">FROM</span> SysObjects SO</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> SysColumns SC</span><br><span class="line">    <span class="keyword">ON</span> SO.ID = SC.ID</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> sys.default_constraints DC</span><br><span class="line">    <span class="keyword">ON</span> SO.ID = DC.Parent_object_id</span><br><span class="line">        <span class="keyword">AND</span> SC.colid = DC.Parent_column_id</span><br><span class="line"><span class="keyword">WHERE</span> SO.XTYPE = <span class="string">'U'</span></span><br><span class="line"><span class="keyword">AND</span> SC.Name = <span class="string">'msrepl_tran_version'</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="string">'IF EXISTS (SELECT * FROM dbo.syscolumns where id = OBJECT_ID(N'''</span> + SO.Name + <span class="string">''') and Name = ''msrepl_tran_version'')</span></span><br><span class="line"><span class="string">           ALTER TABLE ['</span> + OBJECT_SCHEMA_NAME(SO.ID) + <span class="string">'].['</span> + SO.Name + <span class="string">'] DROP COLUMN [msrepl_tran_version]  '</span></span><br><span class="line"><span class="keyword">FROM</span> SysObjects SO</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> SysColumns SC</span><br><span class="line">    <span class="keyword">ON</span> SO.ID = SC.ID</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> sys.default_constraints DC</span><br><span class="line">    <span class="keyword">ON</span> SO.ID = DC.Parent_object_id</span><br><span class="line">        <span class="keyword">AND</span> SC.colid = DC.Parent_column_id</span><br><span class="line"><span class="keyword">WHERE</span> SO.XTYPE = <span class="string">'U'</span></span><br><span class="line"><span class="keyword">AND</span> SC.Name = <span class="string">'msrepl_tran_version'</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>可以搭配<a href="https://shunnien.github.io/2017/05/06/delete-all-database-table/">移除所有資料表</a>的語法一起使用。</p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>取得SQL Server 的版本資訊</title>
    <url>/2017/05/07/get-database-version-in-sql-server/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>列出 SQL Server 的相關資訊</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查詢相關的版本資料</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="keyword">RIGHT</span>(<span class="keyword">LEFT</span>(@@<span class="keyword">VERSION</span>, <span class="number">25</span>), <span class="number">4</span>) N<span class="string">'產品版本編號'</span></span><br><span class="line">   ,SERVERPROPERTY(<span class="string">'ProductVersion'</span>) N<span class="string">'版本編號'</span></span><br><span class="line">   ,SERVERPROPERTY(<span class="string">'ProductLevel'</span>) N<span class="string">'版本層級'</span></span><br><span class="line">   ,SERVERPROPERTY(<span class="string">'Edition'</span>) N<span class="string">'執行個體產品版本'</span></span><br><span class="line">   ,DATABASEPROPERTYEX(<span class="string">'master'</span>, <span class="string">'Version'</span>) N<span class="string">'資料庫的內部版本號碼'</span></span><br><span class="line">   ,@@<span class="keyword">VERSION</span> N<span class="string">'相關的版本編號、處理器架構、建置日期和作業系統'</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.microsoft.com/en-us/sql/t-sql/functions/version-transact-sql-configuration-functions" target="_blank" rel="noopener">Micsoft Doc @@version</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>取得資料庫中的資料表的建立修改時間</title>
    <url>/2017/05/07/get-table-modify-date-in-sql-server/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>可以用來查詢進來是否有人變動過資料表或是檢視表等等。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>主要查詢 <strong><a href="https://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-all-objects-transact-sql" target="_blank" rel="noopener">all_objects</a></strong>，利用條件式篩選出想要查詢的資訊</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查詢資料表修改時間</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    [<span class="keyword">name</span>]</span><br><span class="line">   ,create_date</span><br><span class="line">   ,modify_date</span><br><span class="line"><span class="keyword">FROM</span> sys.all_objects</span><br><span class="line"><span class="keyword">WHERE</span> type_desc = <span class="string">'USER_TABLE'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查詢預存程序修改時間</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    [<span class="keyword">name</span>]</span><br><span class="line">   ,create_date</span><br><span class="line">   ,modify_date</span><br><span class="line"><span class="keyword">FROM</span> sys.all_objects</span><br><span class="line"><span class="keyword">WHERE</span> type_desc = <span class="string">'SQL_STORED_PROCEDURE'</span></span><br><span class="line"><span class="comment">-- 以下這是過濾內建的預存程序</span></span><br><span class="line"><span class="keyword">AND</span> <span class="keyword">SUBSTRING</span>([<span class="keyword">name</span>], <span class="number">1</span>, <span class="number">3</span>) <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="string">'sp_'</span>, <span class="string">'dt_'</span>, <span class="string">'xp_'</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-all-objects-transact-sql" target="_blank" rel="noopener">Micsoft Doc all_objects</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>取得預存程序的資訊</title>
    <url>/2017/05/06/get-database-store-procedure-schema-information/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>還是紀錄…，等 <strong>SQL</strong> 部分都整理完，再來整理其他部分。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--- set your database name</span></span><br><span class="line"><span class="keyword">USE</span> yourDataBaseName</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="comment">---取得 DATABASE 的預存程序資訊</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    A.[<span class="keyword">NAME</span>] <span class="keyword">AS</span> <span class="string">'結構敘述'</span></span><br><span class="line">   ,B.[<span class="keyword">NAME</span>] <span class="keyword">AS</span> <span class="string">'預存程序名稱'</span></span><br><span class="line">   ,C.[<span class="keyword">NAME</span>] <span class="keyword">AS</span> <span class="string">'預存程序傳入參數'</span></span><br><span class="line">   ,C.[PARAMETER_ID] <span class="keyword">AS</span> <span class="string">'傳入參數順序'</span></span><br><span class="line">   ,D.[<span class="keyword">NAME</span>] <span class="keyword">AS</span> <span class="string">'傳入參數型別'</span></span><br><span class="line">   ,C.[MAX_LENGTH] <span class="keyword">AS</span> <span class="string">'長度'</span></span><br><span class="line">   ,C.[<span class="keyword">PRECISION</span>] <span class="keyword">AS</span> <span class="string">'精確度'</span></span><br><span class="line">   ,C.[IS_OUTPUT] <span class="keyword">AS</span> <span class="string">'傳出參數'</span></span><br><span class="line">   ,B.[CREATE_DATE] <span class="keyword">AS</span> <span class="string">'建立時間'</span></span><br><span class="line">   ,B.[MODIFY_DATE] <span class="keyword">AS</span> <span class="string">'修改時間'</span></span><br><span class="line"><span class="keyword">FROM</span> SYS.SCHEMAS A</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> SYS.PROCEDURES B</span><br><span class="line">    <span class="keyword">ON</span> A.[SCHEMA_ID] = B.[SCHEMA_ID]</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> SYS.PARAMETERS C</span><br><span class="line">    <span class="keyword">ON</span> B.[OBJECT_ID] = C.[OBJECT_ID]</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> SYS.TYPES D</span><br><span class="line">    <span class="keyword">ON</span> C.[SYSTEM_TYPE_ID] = D.[SYSTEM_TYPE_ID]</span><br><span class="line">        <span class="keyword">AND</span> C.[USER_TYPE_ID] = D.[USER_TYPE_ID]</span><br><span class="line"><span class="keyword">WHERE</span> B.[<span class="keyword">TYPE</span>] = <span class="string">'P'</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> A.[<span class="keyword">NAME</span>], B.[<span class="keyword">NAME</span>], C.[PARAMETER_ID] <span class="keyword">ASC</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://shunnien.github.io">Ref1</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>更新 Npm 全部套件的方式</title>
    <url>/2017/05/08/npm-update-dependency-all-packages/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>這是昨天在整理資料的時候想到，我部落格的 <strong>Repo</strong> 裡面的 <code>package.json</code>，想要全部更新裡面使用到的 packages，以及安裝在全域(global)的 <strong>packages</strong></p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>更新全域套件的方式，使用 <code>npm-check-updates</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i -g npm-check-updates</span><br></pre></td></tr></table></figure>
<p>更新 <strong>Repo</strong> 裡面套件的方式，這語法有 <strong>alias</strong> 即是簡短指令，只要下 <code>ncu</code>，就可以不用下這麼長的指令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm-check-updates -u</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>以下是 [<strong>npm</strong>](npm info express version) 的參考資料</p>
<ul>
<li><a href="https://www.npmjs.com/package/npm-check-updates" target="_blank" rel="noopener">npm check updates</a></li>
<li><a href="https://docs.npmjs.com/getting-started/updating-local-packages" target="_blank" rel="noopener">updating local packages</a></li>
<li><a href="https://docs.npmjs.com/getting-started/updating-global-packages" target="_blank" rel="noopener">updating global packages</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>建立死結查詢</title>
    <url>/2017/05/09/Creat-dead-lock-search/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>建立一個預存程序，用來查詢死結(deadlock)</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>建立死結查詢的預存程序，該程序名稱請自由調整，這邊是命名為 <strong>sp_who_lock</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">----- 建立死結查詢</span></span><br><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span>;</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> sp_who_lock</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> sp_who_lock</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">declare</span> @spid <span class="built_in">int</span>,@bl <span class="built_in">int</span>,</span><br><span class="line">@intTransactionCountOnEntry <span class="built_in">int</span>,</span><br><span class="line">@intRowcount <span class="built_in">int</span>,</span><br><span class="line">@intCountProperties <span class="built_in">int</span>,</span><br><span class="line">@intCounter <span class="built_in">int</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="comment">#tmp_lock_who (</span></span><br><span class="line"><span class="keyword">id</span> <span class="built_in">int</span> <span class="keyword">identity</span>(<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">spid <span class="built_in">smallint</span>,</span><br><span class="line">bl <span class="built_in">smallint</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">IF</span> @@<span class="keyword">ERROR</span>&lt;&gt;<span class="number">0</span> <span class="keyword">RETURN</span> @@<span class="keyword">ERROR</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="comment">#tmp_lock_who (spid, bl)</span></span><br><span class="line">        <span class="keyword">SELECT</span></span><br><span class="line">            <span class="number">0</span></span><br><span class="line">           ,blocked</span><br><span class="line">        <span class="keyword">FROM</span> (<span class="keyword">SELECT</span></span><br><span class="line">                *</span><br><span class="line">            <span class="keyword">FROM</span> sysprocesses</span><br><span class="line">            <span class="keyword">WHERE</span> blocked &gt; <span class="number">0</span>) a</span><br><span class="line">        <span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span></span><br><span class="line">                *</span><br><span class="line">            <span class="keyword">FROM</span> (<span class="keyword">SELECT</span></span><br><span class="line">                    *</span><br><span class="line">                <span class="keyword">FROM</span> sysprocesses</span><br><span class="line">                <span class="keyword">WHERE</span> blocked &gt; <span class="number">0</span>) b</span><br><span class="line">            <span class="keyword">WHERE</span> a.blocked = spid)</span><br><span class="line">        <span class="keyword">UNION</span> <span class="keyword">SELECT</span></span><br><span class="line">            spid</span><br><span class="line">           ,blocked</span><br><span class="line">        <span class="keyword">FROM</span> sysprocesses</span><br><span class="line">        <span class="keyword">WHERE</span> blocked &gt; <span class="number">0</span></span><br><span class="line"><span class="keyword">IF</span> @@<span class="keyword">ERROR</span> &lt;&gt; <span class="number">0</span></span><br><span class="line"><span class="keyword">RETURN</span> @@<span class="keyword">ERROR</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 找到臨時表的紀錄數</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    @intCountProperties = <span class="keyword">COUNT</span>(*)</span><br><span class="line">   ,@intCounter = <span class="number">1</span></span><br><span class="line"><span class="keyword">FROM</span> <span class="comment">#tmp_lock_who</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">IF</span> @@<span class="keyword">ERROR</span> &lt;&gt; <span class="number">0</span></span><br><span class="line"><span class="keyword">RETURN</span> @@<span class="keyword">ERROR</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">IF</span> @intCountProperties = <span class="number">0</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="string">'現在沒有阻塞和Dead Lock訊息'</span> <span class="keyword">AS</span> message</span><br><span class="line"><span class="comment">-- 循環開始</span></span><br><span class="line"><span class="keyword">WHILE</span> @intCounter &lt;= @intCountProperties</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="comment">-- 取第一條紀錄</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    @spid = spid</span><br><span class="line">   ,@bl = bl</span><br><span class="line"><span class="keyword">FROM</span> <span class="comment">#tmp_lock_who</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span> = @intCounter</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">IF</span> @spid = <span class="number">0</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="string">'引起死結的SPID是:'</span> + <span class="keyword">CAST</span>(@bl <span class="keyword">AS</span> <span class="built_in">VARCHAR</span>(<span class="number">10</span>)) + <span class="string">',其執行的SQL語法如下'</span></span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="string">'SPID：'</span> + <span class="keyword">CAST</span>(@spid <span class="keyword">AS</span> <span class="built_in">VARCHAR</span>(<span class="number">10</span>)) + <span class="string">'被'</span> + <span class="string">'SPID：'</span> + <span class="keyword">CAST</span>(@bl <span class="keyword">AS</span> <span class="built_in">VARCHAR</span>(<span class="number">10</span>)) + <span class="string">'阻塞,其當前執行的SQL語法如下'</span></span><br><span class="line">DBCC INPUTBUFFER (@bl)</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"><span class="keyword">SET</span> @intCounter = @intCounter + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="comment">#tmp_lock_who</span></span><br><span class="line"><span class="keyword">RETURN</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>
<p>建立完成後，就可以使用以下方式查詢了</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">---- 查詢建立的死結查詢預存</span></span><br><span class="line"><span class="keyword">EXECUTE</span>  [<span class="keyword">master</span>].[dbo].[sp_who_lock]</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>清除資料庫的快取</title>
    <url>/2017/05/09/clear-all-cache-in-sql-server/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>以前不知道哪學來的作法，現在補充一下實際說明。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>一般來說，幾乎不會用到，只有在測試效能的時候，需要執行前後比較，才會使用到這些。<br>附上一些名詞說明。</p>
<ul>
<li>Clean Buffer<blockquote>
<p>data page cache 沒有修改過的</p>
</blockquote>
</li>
<li>Dirty Buffer<blockquote>
<p>data page cache 已修改過但未被寫入至磁碟中的部份</p>
</blockquote>
</li>
<li>Cold Buffer Cache<blockquote>
<p>data page 還沒載入 memory 中，需要從磁碟讀取</p>
</blockquote>
</li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms178529.aspx" target="_blank" rel="noopener">FREESYSTEMCACHE</a><blockquote>
<p>會清空Procedure的最佳化的計劃，重新執行重新產生新的執行計劃(不要亂用)</p>
</blockquote>
</li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms187781.aspx" target="_blank" rel="noopener">FREESESSIONCACHE</a><blockquote>
<p>排清散發查詢對 Microsoft SQL Server 執行個體所用的散發查詢連接快取。</p>
</blockquote>
</li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms174283.aspx" target="_blank" rel="noopener">FREEPROCCACHE</a><blockquote>
<p>從計畫快取移除所有元素；</p>
</blockquote>
</li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms187762.aspx" target="_blank" rel="noopener">DROPCLEANBUFFERS</a><blockquote>
<p>僅清除 <strong>data page cache</strong> 沒有修改過的，**data </p>
</blockquote>
</li>
</ul>
<p>page cache** 已修改過但未被寫入至磁碟中的部份，無法被清除；</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">CHECKPOINT; </span><br><span class="line">DBCC FREESYSTEMCACHE ('ALL');</span><br><span class="line">DBCC FREESESSIONCACHE;</span><br><span class="line">DBCC FREEPROCCACHE;</span><br><span class="line">DBCC DROPCLEANBUFFERS</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://ithelp.ithome.com.tw/articles/10187558" target="_blank" rel="noopener">關於清除 SQL Server 查詢快取的那些事</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms178529.aspx" target="_blank" rel="noopener">Microsot FREESYSTEMCACHE</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms187781.aspx" target="_blank" rel="noopener">Microsot FREESESSIONCACHE</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms174283.aspx" target="_blank" rel="noopener">Microsot FREEPROCCACHE</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms187762.aspx" target="_blank" rel="noopener">Microsot DROPCLEANBUFFERS</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>Cmder命令列工具alias的注意設定</title>
    <url>/2017/05/24/cmder-alias-not-working/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>前陣子因為 <strong>WannaCry</strong> 勒索病毒肆虐，一堆系統安全性漏洞開始更新，我的 win10 也使用還原更新到 1703，想說順便將一些免安裝軟體，重新調整一下，才發現 <strong><a href="http://cmder.net/" target="_blank" rel="noopener">Cmder</a></strong> 的小設定。<br><img src="https://lh3.googleusercontent.com/dU_FY1i6mbF7LRBMvA-9S8uUf2HQQe6UJmJOyJFNp9_Pa1s5NOC6lsSoHUdaTprs65kbSI4hqA69wg65hdTU-ThC-pJ_0xKrvUiszySCH1CQ4O6Xx9V-5DePIDQJTXeNhL3aEsnFjoQOrdIQZBxTCqvR8ss4hvR2NmDB5bpbf_G1tJpXM_P-BJ81c3BJr7WTVhhOEJcxbcb2IVbjdWvVm8_TeAYMGDqQw1RBcd-D_KxD1JKJcpdrxWfPo-QpSkjs-IE3z_fcOmIw0lQnrrY-jDMXvMPdZPEC9wKhg2w8eO2C5MNlGXUGm2LIBnOy5sNhWAbb1YWjQwYVf0079zRnMeWAd6oVWAGWkN2PP32mjD7P1JPZcTvaTk42dU6FXebWovYWx81S7z6fLj4YAZwTM_VkPqBOCf_90j_tqYitupgkNP4l6AyA15Z-ifLNF0-vB69rPEAsOSzsxIlpt9L6FBuZlk6KKFjTZVb3VSsY-1vRvvVMqO4DVIQe_CFFOOSgj5fwjRtrqtNhoVwkbF7H8Byw4Vvu-3uuTw0C8jIfpRkRcy07wm3_6TyEs9fEp5ggqVCQextByVtR-flfYCJ7r8R11Ms3JRgKeFuDdSSAe342gtG3XLiPSf0K2CleMQ_8j3t_VJY3_XwmlQPZ45veVnM-OweJIQTFx3DyG6TMGQ=w565-h265-no" alt="win10 version"><br>順便提供一下大家查詢 win10 版本的方式，請使用 <code>win+R</code> 呼叫出執行視窗，然後執行 <code>winver</code> 即可。<br><img src="https://lh3.googleusercontent.com/HrUJt7Lw5a5ZvvwCdv2n-o5SVWsDIHfdlrp-nEig-BjhE-EZ13hJjiRsak2q06ZcGRmzJGQk-GpDyp33zOyoH1NujFCSp6dOHYglBVRYOaY4lgCY4TaVO7bMBh42yyYpJ_2AOCXFFviXMZuNf-GrPPJdlv1Hcd-iY_S6NqnzHYyYwGlEMdBN0hyZzs7EK2h2Adkvk6kah4R4WvmbG9BGn_34qLb6LG9LCH3_g5PEqSkf7pQjDafxrHbosobcHmlat-ylofTUBfsXS33Zrcq3vEACcYHGrOVzYRsdgQJkBP0H1_g_7OvAMZNDFsqcovYAgdkMEdIylCScYXOewpC3j1qRcoEXXE3t0x5sOSvObBp3IHKBswhgmaLDXYNjAm-_Di1k8H3lO4s2NbeYOxLOyR3WDJXQKXHtEgYs06vzv2QLNiZS1CqIv1GtOIt9oVA-v2gAjM2qJJbiPYu9hs8a8Rw82jTDTy6mu_RLeDhSDqnTQPFKHjZE1Tbu4wR2deoN1a7i6BBOgvpDuC6ItK6ZMEbTQJ0HSzHBOwGRVVIpbos0Q8TowOPYNoOFPkwlG9qmLGvK93aa3NXDSGqKA-tD7ba2bmU7ah38iyBLgYD1hHxADpMcWXvjhBOq_TBfTRgxWRfGf0QWQLzn-w2nIduQLOlvBXtKOEgKOevXddSHIQ=w513-h260-no" alt="winver"></p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>在 <a href="http://cmder.net/" target="_blank" rel="noopener">Cmder</a> 中，我的預設執行命令列工具都是設定 <strong>CMD</strong> ，所以自訂 alias 在 powershell 中，應該是沒有喔。<br>解決方式也很簡單，直接啟用命令列工具。</p>
<p>滑鼠右鍵，選擇內容，然後開啟<strong>使用舊版主控台</strong>即可。<br><img src="https://lh3.googleusercontent.com/KJGZwUBd7qSXdrmBevZCfRQVipExyPkiuYYnX1ANRGdzF_6h5Oz9JMDmRNXXzHn2AQ8tAwqMuZ6idCiMYdZvFBNbzctYn3yPcQjqRGgSJWOaiRMEJVuEp6dlzS7q08twDu7gqGhN0uBBKQLbZjuVL1dkvj7Rj4BWFu-BiPs2R5aJ5iogzRDmRjI6LvqQYY7NoSH4HSCR9aoaS5-6m7P-ny6F2HzWYRlY3Kg41pvMHMcI6JUF4HNsMr22n2fVwicFc6fSOOtobhbsa6pBBcnyaC_CLuZH1zlkj91q5aB6KH7uWyJYni81iqTaE7YEmAeLr-Tb4DGl-3payhrw6lXoqOvpMyvUlVBd2xxO60kLmn6BoOHFoq463KNHU2NScve54suT_eM2lVHj2eI5iehvL3NRMH7NbOhPdec0laiuU87TWMbWPbbBFPbVGd1hCTfVIeb8yJcEKd0trbGcch9igPNUlEckszTwq_mO8U5YJmCSRWQTKVxTb0SnSjOFC_00QL6AekgDzJGVHD1hR-iI8rgf62SZ4X54jK3HgKbBjVYaio-UmNofMaBZQXc3uCxxXBe5_N7lanYTLneCXDA6TG-pZ4yNGZaWqjxytQ0yL8LUADHRRWB92lS_qeK4uBxaIAQXLJ7JdaBtxUooQdF7unDv9XA4EbeZZ5ZgFg4jFw=w315-h280-no" alt="CMD Property"><br><img src="https://lh3.googleusercontent.com/lDWYRyWWVenaGT8aXlzHSEaT9gCzc2ZBCTaUU6y7WJvUWL6Vb3cSn2yXwjv4lxEv4Gw2ZhubeE1a7WxzuEd-AJDnIQQnQq2ziJw_WBGJ5yeHoNdffPK6jJjlaYO-Rz8Rdi_oqF1NpHR6Gagfa5UAEzWuFpu_J1u50Srq8LCZNf2ejA_YU27Y1VJ2KIsXeM7oC0PwWWvLnkFEwh156djn4ZAXPxBQh8VeE8g1NpS7WbCRsKAfuIp18pSYIi9gFB0quyc_i2UQj7PMT5DoGtrdiP5J9f7xCO2nTtg1FiWC6BeAZg22U2-0bju6YpEsP6iSNySzWJFVRgMTuc1yHuhLyZQK5TDWXfrBTUIN6HypXcrdXhny6-b-00gF5BkWIY28CpF7vGqsat01MggUnN_lkGjhHXuKW5wei9_9265Id2a6xMc38aDgp6fxZu1-MNYnmRY-OCR6qING5T1UBtX3MIVqwtfym5zgKOYeRa32sHSUpSkYdSszc10ll4m-dBiraNJDgTpoYz9mLezx0plJ4gWgFZX6-BnvsAQJjBwf6_OOEjlcHKSkmtEnhyGsgevH0dVywYQdlx0yIoYR-vZdsFyZdCPjwyI0waQTPpL0H_s6NkA02CE6Gar_iGbB4CHYbRlabqfZkR_ajikZyNzRN7dPG8hC1G7toK85QjTK0Q=w525-h609-no" alt="Check the use legacy option"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://cmder.net/" target="_blank" rel="noopener">Cmder</a></li>
<li><a href="https://github.com/cmderdev/cmder/issues/1257" target="_blank" rel="noopener">Cmder Github alias issue</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Cmder</tag>
      </tags>
  </entry>
  <entry>
    <title>移除所有資料中符合指定名稱的欄位</title>
    <url>/2017/05/09/remove-some-columns-for-all-tables/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>在移除某些通用資料欄位得時候挺好用的。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>使用 <strong>cursor</strong> 來處理，請將以下程式碼中的 <strong>your_column_name</strong> 換成想要移除的欄位名稱即可。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ================== 移除所有自訂資料表中某欄位 ========================</span></span><br><span class="line"> <span class="keyword">DECLARE</span> @table_schema <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">       ,@table_name <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">       ,@constraint_schema <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">       ,@constraint_name <span class="built_in">varchar</span>(<span class="number">100</span>)</span><br><span class="line">       ,@cmd <span class="keyword">nvarchar</span>(<span class="number">200</span>)</span><br><span class="line">      </span><br><span class="line"><span class="keyword">DECLARE</span> table_cursor <span class="keyword">CURSOR</span> <span class="keyword">FOR</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    TABLE_SCHEMA</span><br><span class="line">   ,TABLE_NAME</span><br><span class="line"><span class="keyword">FROM</span> INFORMATION_SCHEMA.TABLES</span><br><span class="line"><span class="keyword">WHERE</span> TABLE_NAME != <span class="string">'sysdiagrams'</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">OPEN</span> table_cursor</span><br><span class="line"><span class="keyword">FETCH</span> <span class="keyword">NEXT</span> <span class="keyword">FROM</span> table_cursor <span class="keyword">INTO</span> @table_schema, @table_name</span><br><span class="line">  </span><br><span class="line"><span class="keyword">WHILE</span> @@FETCH_STATUS = <span class="number">0</span> </span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">IF</span>   <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span></span><br><span class="line">        *</span><br><span class="line">    <span class="keyword">FROM</span> INFORMATION_SCHEMA.COLUMNS</span><br><span class="line">    <span class="keyword">WHERE</span> TABLE_NAME = @table_name</span><br><span class="line">    <span class="keyword">AND</span> COLUMN_NAME = <span class="string">'your_column_name'</span>)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    @cmd = <span class="string">'ALTER TABLE ['</span> + @table_schema + <span class="string">'].['</span> + @table_name + <span class="string">'] DROP COLUMN your_column_name'</span></span><br><span class="line">EXEC sp_executesql @cmd</span><br><span class="line">PRINT <span class="string">'delete your_column_name= '</span> + @table_name</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line"><span class="comment">--BEGIN</span></span><br><span class="line"><span class="comment">--   PRINT ' no delete your_column_name= '+ @table_name </span></span><br><span class="line"><span class="comment">--END</span></span><br><span class="line"><span class="keyword">FETCH</span> <span class="keyword">NEXT</span> <span class="keyword">FROM</span> table_cursor <span class="keyword">INTO</span> @table_schema, @table_name</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"><span class="keyword">DEALLOCATE</span> table_cursor</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>取得資料庫伺服器中所有資料庫名稱</title>
    <url>/2017/05/26/sql-server-get-server-all-db-name/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>在SQL SERVER中，取得資料庫伺服器中所有資料庫名稱</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>語法</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">NAME</span> </span><br><span class="line"><span class="keyword">FROM</span>   master.dbo.sysdatabases</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>RAM Disk 的個人設定</title>
    <url>/2017/05/25/My-ram-disk-some-setting/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>有多餘的記憶體可以使用的話，就拿來做 RAM Disk 來加速。<br>此篇紀錄一下 RAM Disk 的瀏覽器快取設定，以及編輯器的快取設定路徑。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>我所使用的 RAM Disk 軟體是 <a href="https://www.softperfect.com/" target="_blank" rel="noopener">SoftPerfect RAM Disk</a>，OS則是 Windows 10 1703；RAM Disk 重新開機裡面的資料就會清除，除非設定為映像檔案，但是設定映像檔案變成開機後還要去讀取該檔案，所以我僅把快取路徑設定在 <strong>RAM Disk</strong>，這樣每次重新開機就等於清除快取了，以下附上一張設定截圖。<br><img src="https://lh3.googleusercontent.com/JVSrqUywxxai46zpDRYy5aYxfI5cKj9bumcAt50uMsG1sZAF1AzIkmtzMG5Lo9VCn2-GAF6uv23PmyNK9zRWniVAqqVcuAFcCeq6-fnGhmnv4W_bOJ-_fLElRgfJm_XA66tzQmMdbh6JnoOUBzy8Yfefk9qhPttMcvvyz9BTUGhIulx_Vci4QK50UAwczrPIKCjB57GOENbiYZH9y7ZoaEG_Q6qaFTTxheuzZ09UkVrsfRJHdOY_1ddfedAd1fj7takRzTCmu__IS4YiFuHbYkpo_MUVVlFiF0WVpdXZra2FC5jRiVr-sKiu9GA5lrqgPsS9Vl2pbZ4pyev6YnBcpQXg0F_5d3cuC7b-NjRf3cKglYJmL8cbsc3wbTqePMRdYecgvFrwdtwgvOmaCkYLMsdjISJW_L6wrVHU-TTMTjrg5ZdD9vk_sVMllST3z_iLF2AQRKBs7OjsNyC-YWHwnuJR7XhNGNjOr3Ze0rqVEWIWEPIF30iOzdVpul3ey17OOGNrhTeepd7iyz1eThwGVNBhcGg6ssRpmP7GB40tgq1uaQo6br4IfkmGici03NHmjuldrs7hybutMk74Oyoo55hWeBry60d1s0wqk8soxfb9tDU0yNeyhem2-MIJRWVxEfLZQzn17QaSsUDcBdeYV8T3qkQ1w5hGnPMZvPKGyg=w646-h580-no" alt="RAMDisk Set"><br>以下分別在 Chrome、FireFox、IE 以及 Visual Studio 的快取設定說明。</p>
<h3 id="Chrome"><a href="#Chrome" class="headerlink" title="Chrome"></a>Chrome</h3><p>設定前記得先把瀏覽器關閉，然後要先知道目前使用者的 Chrome 快取路徑，路徑如下：<br><code>C:\Users\請自行變更個人電腦的帳戶名稱\AppData\Local\Google\Chrome\User Data\Default\Cache</code><br>紀錄路徑後，因為命令列工具的需求，需要把 <strong>…Chrome\User Data\Default\Cache</strong> 這資料夾刪除，這樣才可以進行對應。<br>然後把 RAM Disk 的對應路徑使用下列指令進行連結。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mklink /d <span class="string">"C:\Users\XXX\AppData\Local\Google\Chrome\User Data\Default\Cache"</span> <span class="string">"R:\ChromeCache"</span></span><br></pre></td></tr></table></figure>
<p>概念就是虛擬路徑的對應，對應成功的話，Chrome 資料夾內的 Cache 資料夾圖示會變成捷徑圖示；假如設定錯誤想要取消對應，只要把 <em>Cache</em> 資料夾刪除即可<br><img src="https://lh3.googleusercontent.com/x3rYEi4wIlyA4jiw7Gu2nsVZDaBE4-nPfNtQ3J_vhJQkJx-jVuAvl_UfLiiSo4bBy_9SbMR6Iev0_smVy4VgdDVyNVqEapODD5elPaaAU3dvAbIz92OJxBs67vRFw8mHq1_8s5HqnAuxXj0fEMAN5WDYx37_8BZBaRyHLlYswrx-WZey_bsCsybrV7EGIwOdMrQtKcoN-6TMdSdHHajPNUJjy1PJbAi40brO8kE0OfMx38TvewcrPBcMypssVly5yYqtGxe2ODEb9dN3gudeN3T3QvXvdiAgg-uu13MNDCxh78k0jdyYsBIyO90pu6sxx4V_SUfwzm8J7Oi0UPZG-trAAJwzEX4TC2_0QwyAX4wep9YoDgJNrmPhKMfvJZES1BLREtJc3MSFcYVLzg-5W3gm6gKdyBS8jh_L8GCAjGrso3L6B5t15oe85kkkj9cpQagCG_LuBttAxT-eCrYZ-TPd4lFpGjdUWbfug1ILv7Fa8cC7_keZ-x7nz4nkNLy_PfL45r_muLgqMfpiE5ghmCnRLk4ms8XMYvFnLe75yiGBk2tLhQpLBOJohfogkf6y9opw0evi4crRqBgdnM0VZH3dX7JK5-0c1GqyT-DIu02SUAegbk9_poAs-ydb5qS9yno2PYqhyn_j9-JOFKrFCplTcrhiR5hV4ofcvZ2hgQ=w624-h181-no" alt="Cache Path"></p>
<h3 id="FireFox"><a href="#FireFox" class="headerlink" title="FireFox"></a>FireFox</h3><p>FireFox 設定的方式需要開啟瀏覽器，在網址列上輸入<br><code>about:config</code><br>然後會出現警告，就不要理他，繼續設定。<br>然後在任意空白處按滑鼠右鍵，點選〔<strong>新增</strong>〕→〔<strong>字串</strong>〕→輸入 <strong>browser.cache.disk.parent_directory</strong><br>在〔<strong>值</strong>〕的設定，就設定 RAM Disk 上的路徑<br><img src="https://lh3.googleusercontent.com/ZUiuUcI_KKMZzUL54S01fARJOkLqtqBbfflYqQ1aj8hgkpdhKy-tyZJbqY83PCjOPZmrFxAgzVVWX2ve7Y4QGljFaYyfiOz5aWqYKE5o5JTIyuQF1XSeg9rRPwQ1UvbvqhLRAhZtDyww1xRmItxuoqS_fP7J9KmtoAUE154Bu1ONzX0H1qYip0L3b1yGTMI-_KifKPHDapMaZV0Oxlk2ozBIYtq0BgzhAgVyMGLVD4v7TC6n_OP2FgiHELnCUA0KUilN8Wf2UguNlseJplmrIK6qPtyhsaELfpnfbqtLnKAqQQtRMr9URAy43qVA-4RUURIrfwSjiGhlj91KgojpJKriHCiEKzi_WOQetQP4JaFFfXPFsiPnuiYciHqZxOQdyyMXruwgJuZoAJINqF67u7n529XyIa42BT1h5pivRE_CKIjn39yMvCOGHb_3Yq57e9_PXsX-g-2k88a5ixTzDh48fSUwRuA-m1tbcuBgC-1x_smBvL6g6TUHgmxN3q_bRxuWM11u42vNp6kxScc2wV3WNbL2-bivj6YWF-i4GkeVejezmCCzR0xbJDMBlEGuey19XReVRgGRMKY-Wtqq3rb5b0S976vvElGCV9LnPsZ-sBBxvDRzjfWrpyI1Y7oHUfUI1sV9DpmaOb4vfgMFQ3l60kkIIJIYgl871kdubw=w921-h296-no" alt="FF config"></p>
<h3 id="Internet-Explore"><a href="#Internet-Explore" class="headerlink" title="Internet Explore"></a><strong>I</strong>nternet <strong>E</strong>xplore</h3><p>IE 的話，一樣需要先開啟瀏覽器，然後開啟〔<strong>網際網路選項</strong>〕<br><img src="https://lh3.googleusercontent.com/cPOHmvGjXVOukh0c1uDhaDmKXTWTU6dXvdDJDARGQVCd9rL37H_dSzx6Ymc_fKdJXOQwIt9d5d_5cY-fe06vvwD5BvvtetnQ9qNz5CR9siZOhnfesKOC9qPlzygGNK3yHzgpB5x3h1eL5kMAWr_QkdiZGAE5T-5p6WXiVGOr7SZwkYhONcMMSWcXXttQrJY9Z9G2GhtQt5vUUu7yy56cxJ9y3eOSpjfPTj-cvxERwS1WMO6QATfEGTfrHFERD8uGy2GlomrxaBpJz1E1jFaYldNANAUeC9fYb8m-8sPFKwcOVQuZ__4H3hNceu3nXo_I1ClyKxMbFpr74yBLCfjh_w2MtUT_HkN7dcBMEwVO9bovQwBKMJMfv2NZlMleGGjWcczqORzaXphDFxcBn8R5xin6MG6ES-4eCpqxDIlaLrn_5NFKhU62Dwe8bBM_mzDTnksbuOEfGCQsuCSdyof7OjAgE8M8cpDkKNHR-zUN01o5xcA_gLYnXCDM6qzmPu-gDCpVmW8J-7PWkRHrMfC-dzdhLjZWO0zDtyy2uXZ979d8xkSmqfEoP59iTLqBavrXsJoreXbZqv34CsLHWf5j_mzPYnkEGxWgKAYCqXHsjpcS3LcPdrgMf8Ql_cpA-kZ-mEfXx3g0VFfysIxyQeHVHq3zVIFoOaFOpfk4GC6_cA=w915-h283-no" alt="IE setting"></p>
<h3 id="Visual-Studio"><a href="#Visual-Studio" class="headerlink" title="Visual Studio"></a>Visual Studio</h3><p>修改 Visual Studio 編譯暫存區至 RAM Disk<br>在下列目錄(32位元系統不會有 Framework64 目錄)找到 <strong>machine.config</strong>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">C:\Windows\Microsoft.NET\Framework\v2.0.50727\CONFIG\machine.config</span><br><span class="line">C:\Windows\Microsoft.NET\Framework\v4.0.30319\Config\machine.config</span><br><span class="line">C:\Windows\Microsoft.NET\Framework64\v2.0.50727\CONFIG\machine.config</span><br><span class="line">C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Config\machine.config</span><br></pre></td></tr></table></figure>
<p>修改很簡單，找到 <code>&lt;system.web&gt;</code> 並加上 </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">compilation</span> <span class="attr">tempDirectory</span>=<span class="string">"R:\Temporary ASP.NET Files\"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>R: 是你 RAM Disk 的代號。</p>
<h3 id="System-Environment-Path"><a href="#System-Environment-Path" class="headerlink" title="System Environment Path"></a>System Environment Path</h3><p>將使用者變數及系統變數中的 TEMP, TMP改至 RAM Disk 的資料夾路徑。<br>(若電腦有多人使用，更改系統變數可能會使其他人無法使用，這點我沒試過，不過有些人發生，假如不是個人使用，還是不要設定)<br>預設的使用者變數路徑：%USERPROFILE%\AppData\Local\Temp<br>預設的系統變數路徑：%SystemRoot%\TEMP 更改後的路徑：R:\EnVarUsrTemp<br><img src="https://lh3.googleusercontent.com/wYp9YyfwybNiwT_ZugbAuwi20GBsGAX8f1MLeGVkNH6zUSWRWbD-p7pOG_0hcKkIlkYNz0cjX31oSHsw2a9nRs1ZGO5vQZl30XNNgrnGF46Kn4-5flZWNpgJ9In2GrtDgT-9P48ZWpSzsWXeWb9cJthM1_5H8ZiU8X0zUSZt2aanQ4qzpCSNeXFj4Dli2iBko67NXZUwjH9qUSIZjkfwLgwFL5LcWPFIpeoxnF7XiVj6DLUWqcdhqow-PlS2yIUa8TMxAGRza5UHH1WiTkVE4ScqXP8cky5LmyFP6GndE8UxbSko3KAzdxOy8JS-78X6gexjLTUzn9s0NMcUS5S9QEghlHubx4ogZRcsIqDyKkdwaEDM8n72mufNQavZU_1Ew8P3EWWaUKtyJY4KFnhp21fMFqNMnZ93EEn54lA30CiAmbh3eqsHXlKBhnGGZafCHnpzioOk75N_-OpjkivrNGrdnt5WWRwZahCyY6M8IQvzAAIVgcWiUOG4XwtFt6BfQQPdQn0DTerBC5RRA0w4UZZvruuxLRmAssiiKyRFStJDa_YjGOBE-fJ5st9hcR5XfP_5WVEeqBvDdt01rSG37xOq99Gn7vPF9EdmVHjFRmKAG2Xhw8HwRdPJ7be_LP0_Vnvk0h0RGESscvHBd5qtqwm9gNo_ZpDpCVojvdWUIA=w546-h294-no" alt="Temp Path"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://shunnien.github.io">KKBruce的2016年軟體(開發)工具大補帖</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>other</tag>
        <tag>RAMDisk</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 SQLCMD 執行 .Sql 檔案</title>
    <url>/2017/05/26/sql-server-excute-sql-by-sqlcmd/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>某些 .sql 檔案過大時，想使用 GUI 介面開啟就需要不少時間，而且可能使 GUI 介面軟體記憶體不足而無法執行，所以透過 SQLCMD 來執行方便又快速。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>使用 sqlcmd 之前，先確認自己電腦有安裝 sqlcmd 工具，並且在環境變數設定。<br>參數說明</p>
<blockquote>
<p>伺服器選項 (-S)，識別 sqlcmd 所連接的 Microsoft SQL Server 執行個體。<br>驗證選項 (-E、-U 和 -P)，指定供 sqlcmd 用來連接到 SQL Server 執行個體的認證。<br>注意：****-E 選項是預設值，不需要予以指定。<br>輸入選項 (-Q、-q 和 -i)，識別 sqlcmd 的輸入位置。<br>輸出選項 (-o)，指定 sqlcmd 存放其輸出的檔案。</p>
</blockquote>
<p>以下是示範範例，此範例直接在資料庫伺服器本機執行，所以沒有設定驗證選項</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlcmd -S myServer\instanceName -i C:\myScript.sql</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms180944.aspx" target="_blank" rel="noopener">MSDN sqlcmd</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Specificity 權重說明</title>
    <url>/2017/05/31/css-specificity/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>這陣子剛好都在弄 CSS ，CSS Specificity 以前沒念熟，這次記錄下來順便複習一下。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>CSS 選擇器中，基本上大家都知道後載入的樣式，會優先執行，以及愈針對性的選擇器查詢會更優先，也就是說使用 element Id 搜尋的會比 class 搜尋的優先度高；表現在 Html 中，則是權重愈高的樣式才會執行，權重低的樣式被權重高的樣式覆蓋。</p>
<p>以下這是 <strong><a href="https://www.w3.org/TR/selectors/#specificity" target="_blank" rel="noopener">W3C CSS Specificity</a></strong> 的範例說明，以及 <strong>a-b-c</strong> 權重說明</p>
<blockquote>
<p>count the number of ID selectors in the selector (= a)<br>count the number of class selectors, attributes selectors, and pseudo-classes in the selector (= b)<br>count the number of type selectors and pseudo-elements in the selector (= c)<br>ignore the universal selector</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">*               <span class="comment">/* a=0 b=0 c=0 -&gt; specificity =   0 */</span></span><br><span class="line"><span class="selector-tag">LI</span>              <span class="comment">/* a=0 b=0 c=1 -&gt; specificity =   1 */</span></span><br><span class="line"><span class="selector-tag">UL</span> <span class="selector-tag">LI</span>           <span class="comment">/* a=0 b=0 c=2 -&gt; specificity =   2 */</span></span><br><span class="line"><span class="selector-tag">UL</span> <span class="selector-tag">OL</span>+<span class="selector-tag">LI</span>        <span class="comment">/* a=0 b=0 c=3 -&gt; specificity =   3 */</span></span><br><span class="line"><span class="selector-tag">H1</span> + *<span class="selector-attr">[REL=up]</span>  <span class="comment">/* a=0 b=1 c=1 -&gt; specificity =  11 */</span></span><br><span class="line"><span class="selector-tag">UL</span> <span class="selector-tag">OL</span> <span class="selector-tag">LI</span><span class="selector-class">.red</span>    <span class="comment">/* a=0 b=1 c=3 -&gt; specificity =  13 */</span></span><br><span class="line"><span class="selector-tag">LI</span><span class="selector-class">.red</span><span class="selector-class">.level</span>    <span class="comment">/* a=0 b=2 c=1 -&gt; specificity =  21 */</span></span><br><span class="line"><span class="selector-id">#x34y</span>           <span class="comment">/* a=1 b=0 c=0 -&gt; specificity = 100 */</span></span><br><span class="line"><span class="selector-id">#s12</span><span class="selector-pseudo">:not(FOO)</span>   <span class="comment">/* a=1 b=0 c=1 -&gt; specificity = 101 */</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>這範例只有列出 a-b-c 的權重值，想看更詳細的說明，需要看 Note 裡面的 <strong><a href="https://www.w3.org/TR/CSS2/cascade.html#specificity" target="_blank" rel="noopener">CSS 2.1</a></strong> 文件，裡面就有說明 <strong>a-b-c-d</strong> 套用規則，以下截取至官方文件</p>
<blockquote>
<p>6.4.3 Calculating a selector’s specificity</p>
<p>A selector’s specificity is calculated as follows:</p>
</blockquote>
<p>count 1 if the declaration is from is a ‘style’ attribute rather than a rule with a selector, 0 otherwise (= a) (In HTML, values of an element’s “style” attribute are style sheet rules. These &gt;r ules have no selectors, so a=1, b=0, c=0, and d=0.)</p>
<blockquote>
<p>count the number of ID attributes in the selector (= b)<br>count the number of other attributes and pseudo-classes in the selector (= c)<br>count the number of element names and pseudo-elements in the selector (= d)</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">*             &#123;&#125;  <span class="comment">/* a=0 b=0 c=0 d=0 -&gt; specificity = 0,0,0,0 */</span></span><br><span class="line"><span class="selector-tag">li</span>            &#123;&#125;  <span class="comment">/* a=0 b=0 c=0 d=1 -&gt; specificity = 0,0,0,1 */</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:first-line</span> &#123;&#125;  <span class="comment">/* a=0 b=0 c=0 d=2 -&gt; specificity = 0,0,0,2 */</span></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span>         &#123;&#125;  <span class="comment">/* a=0 b=0 c=0 d=2 -&gt; specificity = 0,0,0,2 */</span></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">ol</span>+<span class="selector-tag">li</span>      &#123;&#125;  <span class="comment">/* a=0 b=0 c=0 d=3 -&gt; specificity = 0,0,0,3 */</span></span><br><span class="line"><span class="selector-tag">h1</span> + *<span class="selector-attr">[rel=up]</span>&#123;&#125;  <span class="comment">/* a=0 b=0 c=1 d=1 -&gt; specificity = 0,0,1,1 */</span></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-class">.red</span>  &#123;&#125;  <span class="comment">/* a=0 b=0 c=1 d=3 -&gt; specificity = 0,0,1,3 */</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-class">.red</span><span class="selector-class">.level</span>  &#123;&#125;  <span class="comment">/* a=0 b=0 c=2 d=1 -&gt; specificity = 0,0,2,1 */</span></span><br><span class="line"><span class="selector-id">#x34y</span>         &#123;&#125;  <span class="comment">/* a=0 b=1 c=0 d=0 -&gt; specificity = 0,1,0,0 */</span></span><br><span class="line">style=""          /* a=1 b=0 c=0 d=0 -&gt; specificity = 1,0,0,0 */</span><br></pre></td></tr></table></figure>
</blockquote>
<p>由官方文件可以看得出，選擇器元素愈多權重愈高，使用 Id 的權重最高</p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/49sLxy87/embedded/result,css,html/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.w3.org/TR/selectors/#specificity" target="_blank" rel="noopener">W3C CSS specificity</a></li>
<li><a href="https://www.w3schools.com/cssref/css_selectors.asp" target="_blank" rel="noopener">W3C CSS Selector Specificity</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity" target="_blank" rel="noopener">MDN CSS Specificity</a></li>
<li><a href="http://muki.tw/tech/css-specificity-document/" target="_blank" rel="noopener">MUKI space</a></li>
<li><a href="https://specificity.keegan.st/" target="_blank" rel="noopener">CSS 權重計算機</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL Server 資料庫清除 Log</title>
    <url>/2017/05/27/mssql-clear-log/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>先說說使用清除 Log 比較常見的情境，大部分是公司內部測試資料庫的維護等等，使用一段時間後，需要搬移或清理的時候，我都會把 log 清除，畢竟測試資料沒有太大必要留存。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>清除的方式是 Sql Server 2008 以上版本使用。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--- 清除SQL Server Log檔</span></span><br><span class="line"><span class="keyword">USE</span> [資料庫名稱]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> [資料庫名稱] <span class="keyword">SET</span> <span class="keyword">RECOVERY</span> SIMPLE <span class="keyword">WITH</span> NO_WAIT</span><br><span class="line">DBCC SHRINKFILE(記錄檔邏輯名稱, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> [資料庫名稱] <span class="keyword">SET</span> <span class="keyword">RECOVERY</span> <span class="keyword">FULL</span> <span class="keyword">WITH</span> NO_WAIT</span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>取得資料庫伺服器中指定資料庫中的所有資料表名稱</title>
    <url>/2017/05/26/sql-server-get-the-db-all-table-name/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>SQL SERVER 中取得資料庫伺服器中指定資料庫中的所有資料表名稱</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>作法</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--List Table name 取得該DB中所有資料表名稱</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line"> <span class="string">'['</span>+SCHEMA_NAME(schema_id)+<span class="string">'].['</span>+<span class="keyword">name</span>+<span class="string">']'</span> <span class="keyword">AS</span> SchemaTable</span><br><span class="line"><span class="keyword">FROM</span> sys.tables</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL Server 中自動增長的索引重設為0</title>
    <url>/2017/05/26/sql-server-reset-index/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>SQL Server 中有 <strong>Foreign Key</strong> 的資料表，無法使用 <strong>Truncate</strong> 清除資料，需要使用 <strong>DELETE</strong> 語句刪除資料之後，再將編號重置為0。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>語法。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">USE</span> [DbName]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">DELETE</span> [<span class="keyword">Table</span>];</span><br><span class="line"><span class="comment">-- TableName 輸入要重新設定的資料表名稱</span></span><br><span class="line"><span class="comment">-- 0 這是要當做識別欄位之目前值使用的新值。</span></span><br><span class="line">DBCC CHECKIDENT('TableName', RESEED, 0);</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms176057.aspx" target="_blank" rel="noopener">MSDN DBCC CHECKIDENT</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>HttpErros 與 CustomErrors 的自訂導向</title>
    <url>/2017/06/01/webconfig-httpErros-and-customErrors/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>自訂 .Net WebSite 的錯誤頁面導向。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>以下分別說明 <strong>HttpErrors</strong> 與 <strong>CustomErros</strong> ，這兩個差別在於</p>
<ul>
<li><p>HttpErrors</p>
<blockquote>
<p>存取靜態檔案（如.js、.html、.css、.jpg…）發生錯誤，會依照此設定執行</p>
</blockquote>
</li>
<li><p>CustomErros</p>
<blockquote>
<p>由 <strong>.Net</strong> 程式發生的錯誤（例如：.aspx、.ashx、MVC 路由），才會在 CustomError 的設定執行</p>
</blockquote>
</li>
</ul>
<h3 id="HttpErrors"><a href="#HttpErrors" class="headerlink" title="HttpErrors"></a>HttpErrors</h3><p><strong>errorMode</strong> 非必要屬性，預設為 DetailedLocalOnly</p>
<ul>
<li>DetailedLocalOnly<blockquote>
<p>本機端顯示詳細錯誤訊息，非本機端顯示自訂錯誤頁面<br>不想輸入 <strong>DetailedLocalOnly</strong> 文字的話，可以輸入代碼，其代碼為 0</p>
</blockquote>
</li>
<li>Custom<blockquote>
<p>不管本機端或是遠端客戶，皆顯示自訂錯誤頁面。<br>其代碼為 1</p>
</blockquote>
</li>
<li>Detailed<blockquote>
<p>全部都顯示詳細錯誤訊息<br>其代碼為 2</p>
</blockquote>
</li>
</ul>
<p>以下是我的設定</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">httpErrors</span> <span class="attr">errorMode</span>=<span class="string">"DetailedLocalOnly"</span> <span class="attr">existingResponse</span>=<span class="string">"Replace"</span> <span class="attr">defaultResponseMode</span>=<span class="string">"ExecuteURL"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">remove</span> <span class="attr">statusCode</span>=<span class="string">"404"</span> <span class="attr">subStatusCode</span>=<span class="string">"-1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">remove</span> <span class="attr">statusCode</span>=<span class="string">"500"</span> <span class="attr">subStatusCode</span>=<span class="string">"-1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">error</span> <span class="attr">statusCode</span>=<span class="string">"404"</span> <span class="attr">path</span>=<span class="string">"404.html"</span> <span class="attr">responseMode</span>=<span class="string">"File"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">error</span> <span class="attr">statusCode</span>=<span class="string">"500"</span> <span class="attr">path</span>=<span class="string">"500.html"</span> <span class="attr">responseMode</span>=<span class="string">"File"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">httpErrors</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>顯示畫面<br><img src="https://lh3.googleusercontent.com/3UAhlh_IHa2JYbE3h7YFxbtHUW5y-yoSYcMhMASaLYRxjCmi6jtO0JcF4lnfUCTk5oDR0-E3-9ChqrTTwrHy1E7NePuQ0hb59ndmrXf5vVZR8C3mTqiSk6qqAIYz83L5Kc5S1PD5O44SmhhZoy7WuncsnejbdCjdmT4-GeseU7EdA5rchkTRq91s1FPFlu9o-OhNhjf23CJoaq8VL6HDvJmqF86IvMJlY6DfvUk3sDnjTSAYkE0SBgWc1DePxOYdYEvFxBO4Vad6UK-jFP232xbmvn9xbxBe9BQWmykr9hd-EsZrpB1MfoHbX9bEHMRN8-H7c7hFic-XSdqpuEt8km1qasGZfLQIf78XfkOrzAn1-oGIi71g_mKI6M1BbySH8wEnIMBkNdu0IVJJPafFVzVBGHjw8UAVQ_JoBUgvQA8YZ9ftXx_CF7ScvUxBvpavIpdAZcDbf5oM1nqmZ0MLP1QcscCvXmo5bgatTzxr0X8pyiXbz-e4Jy2btFQQ-gdKMjbxJrh9eLtZj3AiUCKqarY4Cerq11k0UgQYkg8sor9tghqp4-iwU7OnkkoemD5jsRV3KmTBVNWRlej10Z0C0HaUJ_9XxrZD1pZLj0Aq8hOIXsEcECKFgiGR1t611KYnO9x2XGhhjfxdZi6scz6-Ooi7kwiO3g2Emj5MzCn4Ig=w603-h582-no" alt="HttpError"></p>
<h3 id="CustomErrors"><a href="#CustomErrors" class="headerlink" title="CustomErrors"></a>CustomErrors</h3><p>可以參考 <a href="https://msdn.microsoft.com/zh-tw/library/h0hfz6fc(v=vs.110).aspx" target="_blank" rel="noopener">MSDN</a> 上的說明。<br><strong>mode</strong> 必要屬性，有三種設定，預設為 RemoteOnly</p>
<ul>
<li>Off<blockquote>
<p>等於不使用，錯誤訊息都會直接顯示。</p>
</blockquote>
</li>
<li>On<blockquote>
<p>包含本機與 Client 端，都會收到自訂的顯示頁面</p>
</blockquote>
</li>
<li>RemoteOnly<blockquote>
<p>非本機端才會收到自訂的顯示頁面</p>
</blockquote>
</li>
</ul>
<p><strong>redirectMode</strong> 決定當自訂錯誤頁面顯示時要如何處理原始要求的 URL</p>
<ul>
<li>ResponseRedirect<blockquote>
<p>指定導向瀏覽器的 URL 必須不同於原始的 Web 要求 URL。<br>簡單說就是設定重新導向的位置。</p>
</blockquote>
</li>
<li>ResponseRewrite<blockquote>
<p>指定導向瀏覽器的 URL 必須是原始的 Web 要求 URL。<br>這動作是把發生錯的輸出，按照設定的自訂內容複寫。</p>
</blockquote>
</li>
</ul>
<p>我的範例寫法</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.web</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">customErrors</span> <span class="attr">mode</span>=<span class="string">"RemoteOnly"</span> <span class="attr">defaultRedirect</span>=<span class="string">"~/error.aspx"</span> <span class="attr">redirectMode</span>=<span class="string">"ResponseRedirect"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">error</span> <span class="attr">statusCode</span>=<span class="string">"404"</span> <span class="attr">redirect</span>=<span class="string">"404Test.html"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">error</span> <span class="attr">statusCode</span>=<span class="string">"500"</span> <span class="attr">redirect</span>=<span class="string">"500.html"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">customErrors</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.web</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>示範畫面，故意輸入以下位置，讓路徑錯誤，接著按照我的設定，畫面將會跳轉到設定好的畫面與路徑。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">localhost:1900&#x2F;abcd</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/0ZF03b2iMvn7yD-BU0FtY6a6mVNkus54rRpncZj9m6FLiKvW2dGqAWMyPZheeMGCGqJ0US_VLCZQWsDkU2tpRZXOEHdU1FvVf6DY4mCVl2v7iv7DasiHZcd6oGZOqSHfi77_jkbPUrBzSdplg4UTZQj1C1qMI5P673u79qPy3Idb0_PnuQx5jr5WKNnfQOHoX4xnnyqr7236VfJNYyo4aid_yOxcFTvniL2FbVTUdTxy_BpVqlP6qpC3Qmqc0RZJFlfN7cSyIisukw7SdEVerPD8XbKn12G1df8rKbvKMzU77pq-slyft3cFhNfJBKdgBr7KKlH7l-fDs3sWek3OC7Qg9PrZwh6XrtJ1dASpCRd2TlicGzIt8Mz5AY7rKM-X0QJWC8V82trhS26SjHrna4wu-BeRH9xBt2T5iMjvw-lGQqcnUTQ5OWcqmgNFV2i7lnsFUPzCiC9OVhCBasu4yCj5hgg_PauPPIVD1nuiz5bvmz7xfvKuSMEYx8b70bQIENlmNqVfiveRBz0Nz7oYMZWFO393tFETw7c5dDDqbcPV2nM8xfOVpWNJ_2iSFzG_T_4VUT9qSN8Gv9-8GIaHi3fxTZtmrDlL5wxcf-3S0QvAIx0Q7LtGxh3YNSkliqHYpgbzigQ24-TsAAjuwUJ6HhFFRrFn3LLMFl5cFKRdvw=w634-h637-no" alt="customError"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.iis.net/configreference/system.webserver/httperrors" target="_blank" rel="noopener">HttpErrors</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/h0hfz6fc(v=vs.110).aspx" target="_blank" rel="noopener">MSDN CustomErrors</a></li>
<li><a href="http://blog.darkthread.net/post-2015-11-10-customerrors-and-httperrors.aspx" target="_blank" rel="noopener">DarkThread customErrors and httpErrors</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.net</tag>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Npm 在 Windows 升級到 v5.0.0</title>
    <url>/2017/05/31/npm-windows-upgrade-to-v5-0-0/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>看到許多人分享升級方式，順便紀錄一下。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>本來還以為需要透過一些工具進行指令列安裝的，後來看到我的 nodejs 也還沒更新，nodejs官方的 <strong>v8.0.0</strong> 更新後，直接就升級了。</p>
<p>懶人升級法，直接下載官方安裝檔案，裝好後，就更新完成了。</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://nodejs.org/" target="_blank" rel="noopener">nodejs</a></li>
<li><a href="https://github.com/felixrieseberg/npm-windows-upgrade" target="_blank" rel="noopener">npm windows upgrade</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>檔案上傳透過 JS 驗證檔案大小</title>
    <url>/2017/06/02/file-upload-size-validation-in-js/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>整理一下資料，順便紀錄一下。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>作法很簡易，透過 <a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank" rel="noopener">file API</a> 來取得檔案大小</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'file'</span> <span class="attr">id</span>=<span class="string">'fileinput'</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'button'</span> <span class="attr">id</span>=<span class="string">'btnLoad'</span> <span class="attr">value</span>=<span class="string">'取得檔案大小'</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"btnLoad"</span>).addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/// &lt;summary&gt;</span></span><br><span class="line">  <span class="comment">/// 取得檔案大小按鈕觸發事件</span></span><br><span class="line">  <span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">  <span class="keyword">var</span> fileinput, getfile;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">window</span>.FileReader) &#123;</span><br><span class="line">    alert(<span class="string">"file API 尚未支援此瀏覽器"</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  fileinput = <span class="built_in">document</span>.getElementById(<span class="string">'fileinput'</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (!fileinput) &#123;</span><br><span class="line">    txtAppend(<span class="string">"p"</span>, <span class="string">"找不到 fileinput 元素"</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!fileinput.files) &#123;</span><br><span class="line">    txtAppend(<span class="string">"p"</span>, <span class="string">"此瀏覽器不支援 input 中的 files 屬性"</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!fileinput.files[<span class="number">0</span>]) &#123;</span><br><span class="line">    txtAppend(<span class="string">"p"</span>, <span class="string">"請先選擇檔案在點擊取得檔案大小"</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    getfile = fileinput.files[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(getfile);</span><br><span class="line">    txtAppend(<span class="string">"p"</span>, <span class="string">"檔案大小 "</span> + getfile.size + <span class="string">" bytes"</span>);</span><br><span class="line">    txtAppend(<span class="string">"p"</span>, <span class="string">"檔案大小 "</span> + getfile.size / <span class="number">1024</span> + <span class="string">" KB"</span>);</span><br><span class="line">    txtAppend(<span class="string">"p"</span>, <span class="string">"檔案大小 "</span> + getfile.size / <span class="number">1024</span> / <span class="number">1024</span> + <span class="string">" MB"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">txtAppend</span>(<span class="params">tagName, innerHTML</span>) </span>&#123;</span><br><span class="line">    <span class="comment">/// &lt;summary&gt;</span></span><br><span class="line">  <span class="comment">/// 附加 html 內容</span></span><br><span class="line">  <span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">  <span class="comment">/// &lt;param name="tagName"&gt;HTML tag 名稱&lt;/param&gt;</span></span><br><span class="line">  <span class="comment">/// &lt;param name="innerHTML"&gt;HTML 內容&lt;/param&gt;</span></span><br><span class="line">  <span class="keyword">var</span> elm;</span><br><span class="line">  elm = <span class="built_in">document</span>.createElement(tagName);</span><br><span class="line">  elm.innerHTML = innerHTML;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(elm);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Jsfiddle 上的範例</p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/t70n45be/embedded/result,html,js/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank" rel="noopener">MDN File</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS 字型大小 Pt、px、em 說明</title>
    <url>/2017/06/03/css-pt-px-em-percent-difference/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>紀錄 <a href="https://www.w3schools.com/cssref/css_units.asp" target="_blank" rel="noopener">CSS Unit</a> 的說明。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>以下列出 <strong>pt</strong>、<strong>px</strong>、<strong>em</strong> 在 CSS 樣式中的單位說明</p>
<ul>
<li><p><a href="https://zh.wikipedia.org/wiki/%E9%BB%9E_(%E5%8D%B0%E5%88%B7)" target="_blank" rel="noopener"><strong>pt</strong>(point)</a></p>
<blockquote>
<p>一般印列用字體尺寸，網頁一般不推薦使用<br>絕對長度單位。點（Point）。<br>1in = 2.54cm = 25.4 mm = 72pt = 6pc (<a href="http://mirror.sars.tw/CSS_2/css20/u_pt.html" target="_blank" rel="noopener" title="css2_pt">引自CSS2.0手冊</a>)</p>
</blockquote>
</li>
<li><p><strong>px</strong>(pixel)</p>
<blockquote>
<p>像素，相對長度單位。像素 px 是相對於顯示器屏幕分辨率而言的。 (<a href="http://mirror.sars.tw/CSS_2/css20/u_px.html" target="_blank" rel="noopener" title="css2_px">引自CSS2.0手冊</a>)</p>
</blockquote>
</li>
<li><p><a href="https://zh.wikipedia.org/wiki/Em_(%E5%AD%97%E4%BD%93%E6%8E%92%E5%8D%B0%E5%AD%A6)" target="_blank" rel="noopener"><strong>em</strong></a></p>
<blockquote>
<p>相對長度單位，類似百分比，相對於當前對象內文本的字體尺寸。如當前對行內文本的字體尺寸未被人為設置，則相對於瀏覽器的默認字體尺寸 (<a href="http://mirror.sars.tw/CSS_2/css20/u_em.html" target="_blank" rel="noopener" title="css2_em">引自CSS2.0手冊</a>)。<br>1em = 100% = 12pt = 16px = 瀏覽器預設尺寸</p>
</blockquote>
</li>
</ul>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/fs5q8nfd/embedded/result/light" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.w3schools.com/cssref/css_units.asp" target="_blank" rel="noopener">W3schools CSS Units</a></li>
<li><a href="https://www.w3.org/Style/Examples/007/units.en.html" target="_blank" rel="noopener">W3C units</a></li>
<li><a href="http://pxtoem.com/" target="_blank" rel="noopener" title="px to em converter">px to em 換算表</a></li>
<li><a href="http://mirror.sars.tw/CSS_2/" target="_blank" rel="noopener">CSS 2.0 中文手冊</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML字元符號 &amp;Nbsp; &amp;Ensp; &amp;Emsp; 的差異</title>
    <url>/2017/06/03/html-nbsp-emsp-emsp-difference/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>在進行一些 HTML 頁面中文對齊時，很常使用一些空格符號來調整，這邊來把幾個詳細的符號介紹與紀錄。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>以下條列說明這幾個空白符的定義。</p>
<ul>
<li><strong><a href="https://en.wikipedia.org/wiki/Non-breaking_space" target="_blank" rel="noopener" title="non-breaking space">&amp;nbsp;</a></strong><blockquote>
<p>半形的不換行空格，就是一般鍵盤上的<a href="https://zh.wikipedia.org/wiki/%E7%A9%BA%E6%A0%BC%E9%94%AE" target="_blank" rel="noopener" title="space key">空白鍵(space key)</a>產生的空格</p>
</blockquote>
</li>
<li><strong>&amp;ensp;</strong> <blockquote>
<p>半形的空格，特性為<strong>寬度是 1/2 個中文字寬度</strong></p>
</blockquote>
</li>
<li><strong>&amp;emsp;</strong><blockquote>
<p>全形的空格，特性係<strong>寬度是 1 個中文字寬度</strong></p>
</blockquote>
</li>
</ul>
<p>以下列出幾個比較常用的字符對應表</p>
<table>
<thead>
<tr>
<th align="left">Result</th>
<th align="left">Description</th>
<th align="left">Entity Name</th>
<th align="left">Entity Number</th>
</tr>
</thead>
<tbody><tr>
<td align="left">non-breaking</td>
<td align="left">space</td>
<td align="left">&amp;nbsp;</td>
<td align="left">&amp;#160;</td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left">less than</td>
<td align="left">&amp;lt;</td>
<td align="left">&amp;#60;</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">greater than</td>
<td align="left">&amp;gt;</td>
<td align="left">&amp;#62;</td>
</tr>
<tr>
<td align="left">&amp;</td>
<td align="left">ampersand</td>
<td align="left">&amp;amp;</td>
<td align="left">&amp;#38;</td>
</tr>
<tr>
<td align="left">“</td>
<td align="left">double quotation mark</td>
<td align="left">&amp;quot;</td>
<td align="left">&amp;#34;</td>
</tr>
<tr>
<td align="left">‘</td>
<td align="left">single quotation mark (apostrophe)</td>
<td align="left">&amp;apos;</td>
<td align="left">&amp;#39;</td>
</tr>
<tr>
<td align="left">¢</td>
<td align="left">cent</td>
<td align="left">&amp;cent;</td>
<td align="left">&amp;#162;</td>
</tr>
<tr>
<td align="left">£</td>
<td align="left">pound</td>
<td align="left">&amp;pound;</td>
<td align="left">&amp;#163;</td>
</tr>
<tr>
<td align="left">¥</td>
<td align="left">yen</td>
<td align="left">&amp;yen;</td>
<td align="left">&amp;#165;</td>
</tr>
<tr>
<td align="left">€</td>
<td align="left">euro</td>
<td align="left">&amp;euro;</td>
<td align="left">&amp;#8364;</td>
</tr>
<tr>
<td align="left">©</td>
<td align="left">copyright</td>
<td align="left">&amp;copy;</td>
<td align="left">&amp;#169;</td>
</tr>
<tr>
<td align="left">®</td>
<td align="left">registered trademark</td>
<td align="left">&amp;reg;</td>
<td align="left">&amp;#174;</td>
</tr>
</tbody></table>
<p>在 HTML 中，可以使用 <strong>Entity Name</strong> 或是 <strong>Entity Number</strong> 來顯示特定的字元符號，但是直接使用這些表達方式，在某些設備讀取時，可能會影響正常閱讀，這時可以考慮使用 <strong>CSS</strong> 的 <strong><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/content" target="_blank" rel="noopener">content</a></strong> 來調整，注意 <strong><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/content" target="_blank" rel="noopener">content</a></strong> 內容設定字元符<strong>必須為 16 進制數字</strong></p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/vsxb3hu2/embedded/html,css,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.w3schools.com/html/html_entities.asp" target="_blank" rel="noopener">W3C Html Entities</a></li>
<li><a href="https://www.w3schools.com/html/html_symbols.asp" target="_blank" rel="noopener">W3C Symbols</a></li>
<li><a href="https://en.wikipedia.org/wiki/Non-breaking_space" target="_blank" rel="noopener" title="non-breaking space">Wiki non-breaking space</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/content" target="_blank" rel="noopener">MDN CSS content</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>Html</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 中 Reduce 方法筆記</title>
    <url>/2017/06/05/javascript-reduce-note/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Js 中的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">reduce</a> 出來一段時間了，但是還是很少使用到，一方面是手上的需求都只是 <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank" rel="noopener">CRUD</a>的處理而已，一方面處理陣列我也比較常使用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="noopener">map</a> ，這邊就做個紀錄吧。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>首先說明一下 <strong>reduce</strong> 的定義，以下引用自 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">MDN</a> 。</p>
<blockquote>
<p>reduce() 方法對累加器和數組中的每個元素(從左到右)應用一個函數，將其減少為單個值。</p>
<h3 id="語法"><a href="#語法" class="headerlink" title="語法"></a>語法</h3><p><code>arr.reduce(callback,[initialValue])</code></p>
<h4 id="參數"><a href="#參數" class="headerlink" title="參數"></a>參數</h4><ul>
<li>callback<br>执行数组中每个值的函数，包含四个参数</li>
<li>accumulator<br>上一次調用回調返回的值，或者是提供的初始值（ initialValue ）</li>
<li>currentValue<br>數組中正在處理的元素</li>
<li>currentIndex<br>數據中正在處理的元素索引，如果提供了  initialValue  ，從0開始；否則從1開始</li>
<li>array<br>調用reduce的數組</li>
<li>initialValue<br>可選項，其值用於第一次調用callback 的第一個參數。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">acc, val</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> acc + val;</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum);</span><br><span class="line"><span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> list1 = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> list2 = [<span class="number">0</span>, [<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>, [<span class="number">5</span>, [<span class="number">6</span>]]]]]]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> flatten = <span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> arr.reduce(</span><br><span class="line">       (acc, val) =&gt; &#123;</span><br><span class="line">           <span class="keyword">return</span> acc.concat(<span class="built_in">Array</span>.isArray(val) ? flatten(val) : val)</span><br><span class="line">       &#125;, []</span><br><span class="line">   );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">flatten(list1); </span><br><span class="line"><span class="comment">// [0, 1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line">flatten(list2); </span><br><span class="line"><span class="comment">// [ 0, 1, 2, 3, 4, 5, 6 ] </span></span><br></pre></td></tr></table></figure>
<p>引用自 MDN 的說明</p>
</blockquote>
<p>由 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">MDN</a> 上的說明可以得知 <strong>reduce</strong> 是專門來處理陣列的運算，不過我這邊比較常處理物件的處理，所以以下就使用 reduce 來針對物件處理。</p>
<ul>
<li>情境<blockquote>
<p>依據 Object 中的 key 調整 value，將 name 轉換成大寫。</p>
</blockquote>
</li>
</ul>
<p>以下為作法，另外這是故意使用 <strong>reduce</strong> 來處理，這例子使用 <strong>for…in</strong> 迴圈處理亦可</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> testobj = &#123;<span class="string">"id"</span>: <span class="number">2</span>, <span class="string">"name"</span>: <span class="string">"allen"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下的 &#123;&#125; 為設定 previouse 的初始值</span></span><br><span class="line"><span class="keyword">const</span> reduceobj = <span class="built_in">Object</span>.keys(testobj).reduce(<span class="function"><span class="keyword">function</span>(<span class="params">previous, current</span>) </span>&#123;</span><br><span class="line">    previous[current] = (current!==<span class="string">"name"</span>)? testobj[current] : testobj[current].toUpperCase();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"previous: "</span> + previous +<span class="string">"     current: "</span> + current );</span><br><span class="line">    <span class="keyword">return</span> previous;</span><br><span class="line">&#125;,&#123;&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"reduceobj: "</span> + reduceobj);</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">MDN reduce</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="noopener">MDN map</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Working_with_Objects" target="_blank" rel="noopener">MDN Object</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript Format 日期轉換處理</title>
    <url>/2017/06/06/javascript-format/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>主要使用在日期轉換處理，擴展原本的 Format 。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>因為使用在日期轉換，所以首先先介紹一下 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener">Date</a>，以下引用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener">MDN</a> 上的介紹</p>
<blockquote>
<p>建立一個  JavaScript Date 物件來指向某一個時間點。Date 物件是基於世界標準時間（UTC） 1970 年 1 月 1 日開始的毫秒數值來儲存時間。</p>
<h4 id="語法"><a href="#語法" class="headerlink" title="語法"></a>語法</h4></blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(value);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(dateString);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]]);</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>value<br>自世界標準時間（UTC） 1970 年 1 月 1 日 00:00:00 開始的毫秒整數（Integer）值（Unix 紀元；但要注意到大多 Unix &gt; 時間戳記是以秒而非毫秒為單位）。</li>
<li>dateString<br>表示時間日期的字串。這個字串應該要能被 Date.parse() 方法解析（符合 IETF-compliant RFC 2822 timestamps 及 version of &gt; ISO8601 格式要求).<br>附註： 由於各家瀏覽器有所不同且具有差異性，因此非常不鼓勵使用 Date 建構子（或 Date.parse &gt; 方法，它們是同等的）來解析時間日期字串。</li>
<li>year<br>表示年份的整數。當數值落在 0 到 99 之間，表示 1900 到 1999 之間的年份。參考下面的範例.</li>
<li>month<br>表示月份的整數。由 0 開始（一月）到 11 （十二月）。</li>
<li>day<br>選用。表示月份中第幾天的整數值。</li>
<li>hour<br>選用。表示小時數的整數值。</li>
<li>minute<br>選用。表示分鐘數的整數值。</li>
<li>second<br>選用。表示秒數的整數值。</li>
<li>millisecond<br>選用。表示毫秒數的整數值。</li>
</ul>
</blockquote>
<p>日期格式中，個人蠻習慣 <code>formate(&quot;yy-MM-dd&quot;)</code> 這種表示方式，所以這邊進行 Format 的擴充，透過 prototype 來進行。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Date</span>.prototype.Format = <span class="function"><span class="keyword">function</span> (<span class="params">fmt</span>) </span>&#123; </span><br><span class="line">    <span class="comment">/// &lt;summary&gt;</span></span><br><span class="line">    <span class="comment">/// 日期格式轉換</span></span><br><span class="line">    <span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">    <span class="comment">/// &lt;param name="fmt"&gt;The fmt.&lt;/param&gt;</span></span><br><span class="line">    <span class="keyword">const</span> o = &#123;</span><br><span class="line">        <span class="string">"M+"</span>: <span class="keyword">this</span>.getMonth() + <span class="number">1</span>, <span class="comment">//月份</span></span><br><span class="line">        <span class="string">"d+"</span>: <span class="keyword">this</span>.getDate(), <span class="comment">//日</span></span><br><span class="line">        <span class="string">"h+"</span>: <span class="keyword">this</span>.getHours(), <span class="comment">//小时</span></span><br><span class="line">        <span class="string">"m+"</span>: <span class="keyword">this</span>.getMinutes(), <span class="comment">//分</span></span><br><span class="line">        <span class="string">"s+"</span>: <span class="keyword">this</span>.getSeconds(), <span class="comment">//秒</span></span><br><span class="line">        <span class="string">"q+"</span>: <span class="built_in">Math</span>.floor((<span class="keyword">this</span>.getMonth() + <span class="number">3</span>) / <span class="number">3</span>), <span class="comment">//季度</span></span><br><span class="line">        <span class="string">"S"</span>: <span class="keyword">this</span>.getMilliseconds() <span class="comment">//毫秒</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.test(fmt)) fmt = fmt.replace(<span class="built_in">RegExp</span>.$<span class="number">1</span>, (<span class="keyword">this</span>.getFullYear().toString()).substr(<span class="number">4</span> - <span class="built_in">RegExp</span>.$<span class="number">1.</span>length));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">in</span> o)</span><br><span class="line">        <span class="keyword">if</span> (o.hasOwnProperty(k))</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`(<span class="subst">$&#123;k&#125;</span>)`</span>).test(fmt))</span><br><span class="line">                fmt = fmt.replace(<span class="built_in">RegExp</span>.$<span class="number">1</span>,</span><br><span class="line">                    (<span class="built_in">RegExp</span>.$<span class="number">1.</span>length === <span class="number">1</span>) ? (o[k]) : ((<span class="string">`00<span class="subst">$&#123;o[k]&#125;</span>`</span>).substr(o[k].toString().length)));</span><br><span class="line">    <span class="keyword">return</span> fmt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>轉換的程式中，這邊列出使用的部分語法說明</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener">MDN Date</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Template_literals" target="_blank" rel="noopener">MDN Template_literals</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener">MDN RegExp</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JSON.parse 介紹</title>
    <url>/2017/06/08/javascript-JSON-parse/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>在網站的開發中，<a href="https://zh.wikipedia.org/wiki/JSON" target="_blank" rel="noopener">JSON</a> 資料是很常見，所以 <a href="https://zh.wikipedia.org/wiki/JSON" target="_blank" rel="noopener">JSON</a> 物件的轉換就會有所需要；</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>此篇主要介紹把 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener">JSON</a> 字串轉換成 JavaScript 物件的方法 <code>JSON.parse</code>，以下引用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener">MDN JSON.parse</a></p>
<blockquote>
<p>JSON.parse() 方法把會把一個JSON字串轉換成 JavaScript的數值或是物件。另外也可選擇使用reviver函數讓這些數值或是物件在被回傳之前做轉換。</p>
<h4 id="語法"><a href="#語法" class="headerlink" title="語法"></a>語法</h4></blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.parse(text[, reviver])</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="參數"><a href="#參數" class="headerlink" title="參數"></a>參數</h4><ul>
<li>text<br>要解析成 JSON 的字串。針對 JSON 語法的描述，請參見 JSON 物件。</li>
<li>reviver 選擇性<br>為選擇性的參數，用來描述JSON字串中的值該如何被解析並回傳的函式(function)</li>
</ul>
<h4 id="回傳值"><a href="#回傳值" class="headerlink" title="回傳值"></a>回傳值</h4><p>從給定的 JSON text 回傳對應的 Object。</p>
<h4 id="Throws"><a href="#Throws" class="headerlink" title="Throws"></a>Throws</h4><p>如果解析的字串不是合法的JSON格式會丟出一個 SyntaxError 例外<br>引用自 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener">MDN JSON.parse</a></p>
</blockquote>
<p>此處針對使用 <strong>reviver</strong> 選擇性參數來作範例，例如以下的 JSON 字串，birthday 的資料可以直接在 parse 轉換好在輸出</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> jstr = <span class="string">'&#123;"name":"allen","gender":"male","birthday":"1496905033982"&#125;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接轉換</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(jstr);</span><br><span class="line"><span class="comment">// 會輸出</span></span><br><span class="line"><span class="comment">// Object &#123;name: "allen", gender: "male", birthday: "1496905033982"&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 reviver 參數</span></span><br><span class="line"><span class="comment">// key: JSON 字串中的 key (例如:name、gender...)</span></span><br><span class="line"><span class="comment">// value: JSON 字串中的 value (例如：allen、male...)</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(jstr,<span class="function"><span class="keyword">function</span>(<span class="params">key,value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(key === <span class="string">"birthday"</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> options = &#123;</span><br><span class="line">            year: <span class="string">'numeric'</span>,</span><br><span class="line">            month: <span class="string">'2-digit'</span>,</span><br><span class="line">            day: <span class="string">'2-digit'</span>,</span><br><span class="line">            hour: <span class="string">'2-digit'</span>,</span><br><span class="line">            minute: <span class="string">'2-digit'</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(+value).toLocaleString(<span class="literal">undefined</span>,options);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 將會輸出</span></span><br><span class="line"><span class="comment">// Object &#123;name: "allen", gender: "male", birthday: "2017-06-08 14:57"&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener">MDN JSON parse</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener">MDN JSON</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString" target="_blank" rel="noopener">MDN toLocaleString</a></li>
<li><a href="https://zh.wikipedia.org/wiki/JSON" target="_blank" rel="noopener">Wiki JSON</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>Server 端給予日期資料是數字的轉換</title>
    <url>/2017/06/07/JavaScript-date-numeric-to-date-object/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>有時候， Server Side 給予的日期資料會類似這種<code>\Date(1496592000000)\</code>，所以介紹一下這種 Date 格式。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>這種資料格式是其實就是 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime" target="_blank" rel="noopener">getTime</a> 方法取得的資料，其數字資料就是</p>
<blockquote>
<p>指定的日期和時間距 1970 年1 月1 日 00:00:00 UTC 之間的毫秒數。</p>
</blockquote>
<ul>
<li>情境<blockquote>
<p>將 <strong>/Date(1488297600000)/</strong> 轉換為 Date</p>
</blockquote>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dateTimeReviver</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">        <span class="comment">/// &lt;summary&gt;</span></span><br><span class="line">        <span class="comment">/// Date the time reviver.</span></span><br><span class="line">        <span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">        <span class="comment">/// &lt;param name="value"&gt;The value.&lt;/param&gt;</span></span><br><span class="line">        <span class="keyword">var</span> a;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> value === <span class="string">"string"</span> &amp;&amp; (a = <span class="regexp">/\/Date\((\d*)\)\//</span>.exec(value),a)</span><br><span class="line">            ? <span class="keyword">new</span> <span class="built_in">Date</span>(+a[<span class="number">1</span>])</span><br><span class="line">            : value;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime" target="_blank" rel="noopener">MDN Date getTime</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators" target="_blank" rel="noopener">MDN Operators</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>命名規則</title>
    <url>/2017/06/07/naming-conventions/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>簡介幾種常見的的命名法</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><h3 id="駝峰式-Camel-Case"><a href="#駝峰式-Camel-Case" class="headerlink" title="駝峰式(Camel Case)"></a>駝峰式(Camel Case)</h3><blockquote>
<p>命名方式為單字的首字母大寫，又可以分為<strong>大駝峰(upper camel case)</strong>與<strong>小駝峰(lower camel case)</strong></p>
</blockquote>
<ul>
<li><p>小駝峰(lower camel case)</p>
<blockquote>
<blockquote>
<p>第一個單字的首字母小寫，其餘單字首字母大寫<br>例如：firstName、userPhone</p>
</blockquote>
</blockquote>
</li>
<li><p>大駝峰(upper camel case,<a href="https://zh.wikipedia.org/wiki/%E5%B8%95%E6%96%AF%E5%8D%A1%E5%91%BD%E5%90%8D%E6%B3%95" target="_blank" rel="noopener">Pascal Case</a>)</p>
<blockquote>
<blockquote>
<p>第一個單字的首字母大寫，其餘單字首字母大寫<br>例如：FirstName、UserPhone</p>
</blockquote>
</blockquote>
</li>
</ul>
<h3 id="Snake-Case"><a href="#Snake-Case" class="headerlink" title="Snake Case"></a><a href="https://en.wikipedia.org/wiki/Snake_case" target="_blank" rel="noopener">Snake Case</a></h3><blockquote>
<p>單字與單字間使用下劃線分隔<br>例如：first_name、user_phone</p>
</blockquote>
<h3 id="kebab-Case-spinal-case-Train-Case-Lisp-case"><a href="#kebab-Case-spinal-case-Train-Case-Lisp-case" class="headerlink" title="kebab Case(spinal-case,Train-Case,Lisp-case)"></a><a href="http://wiki.c2.com/?KebabCase" target="_blank" rel="noopener">kebab Case</a>(spinal-case,Train-Case,Lisp-case)</h3><blockquote>
<p>單字與單字間使用連接符號，有多種稱呼<br>例如：first-name、user-phone</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>有興趣的可以觀看 <a href="https://en.wikipedia.org/wiki/Naming_convention_(programming)" target="_blank" rel="noopener">Wiki Naming Convention</a> 裡面有介紹一些各種語言的習慣使用方式等等。</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Letter_case#Special_case_styles" target="_blank" rel="noopener">Wiki Letter Case</a></li>
<li><a href="https://en.wikipedia.org/wiki/Snake_case" target="_blank" rel="noopener">Wiki Snake Case</a></li>
<li><a href="https://en.wikipedia.org/wiki/Camel_case" target="_blank" rel="noopener">Wiki Camel Case</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E5%B8%95%E6%96%AF%E5%8D%A1%E5%91%BD%E5%90%8D%E6%B3%95" target="_blank" rel="noopener">Wiki Pascal Case</a></li>
<li><a href="https://en.wikipedia.org/wiki/Naming_convention_(programming)#Lisp" target="_blank" rel="noopener">Wiki Lisp</a></li>
<li><a href="https://en.wikipedia.org/wiki/Naming_convention_(programming)" target="_blank" rel="noopener">Wiki Naming Convention</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Naming Conventions</tag>
      </tags>
  </entry>
  <entry>
    <title>SQLServer Partition By</title>
    <url>/2017/06/09/sql-PARTITION-BY/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>持續整理。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>說明</p>
<blockquote>
<p><strong>Partition By</strong> 引數</p>
<p>將查詢結果集分成幾個資料分割。<br>視窗函數會分別套用至每個資料分割，並且針對每個資料分割重新開始計算。<br>引用自<a href="http://sharedderrick.blogspot.tw/2012/10/sql-serverwindow-ranking-functions2.html" target="_blank" rel="noopener">德瑞克部落格</a></p>
</blockquote>
<p>撰寫統計分析資料時，時常需要大量的運用子查詢及<a href="https://msdn.microsoft.com/zh-tw/library/ms173454.aspx" target="_blank" rel="noopener" title="彙總函式">彙總函式(SUM、AYG、COUNT)</a>，結合<a href="https://msdn.microsoft.com/zh-tw/library/ms189798" target="_blank" rel="noopener" title="次序函數">次序函數</a>應用的話，程式碼少了許多，也較好維護。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    Project.PrjStartDay</span><br><span class="line">   ,Project.PrjEndDay</span><br><span class="line">   ,<span class="keyword">SUM</span>(Updateuid) <span class="keyword">OVER</span> (<span class="keyword">PARTITION</span> <span class="keyword">BY</span> PrjStatus) <span class="keyword">AS</span> <span class="string">'Total'</span></span><br><span class="line">   ,<span class="keyword">AVG</span>(Updateuid) <span class="keyword">OVER</span> (<span class="keyword">PARTITION</span> <span class="keyword">BY</span> PrjStatus) <span class="keyword">AS</span> <span class="string">'Avg'</span></span><br><span class="line">   ,<span class="keyword">COUNT</span>(Updateuid) <span class="keyword">OVER</span> (<span class="keyword">PARTITION</span> <span class="keyword">BY</span> PrjStatus) <span class="keyword">AS</span> <span class="string">'Count'</span></span><br><span class="line">   ,<span class="keyword">MIN</span>(Updateuid) <span class="keyword">OVER</span> (<span class="keyword">PARTITION</span> <span class="keyword">BY</span> PrjStatus) <span class="keyword">AS</span> <span class="string">'Min'</span></span><br><span class="line"><span class="keyword">FROM</span> dbo.Project</span><br><span class="line"><span class="keyword">WHERE</span> Project.PrjStatus = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://sharedderrick.blogspot.tw/2012/10/sql-serverwindow-ranking-functions2.html" target="_blank" rel="noopener">德瑞克部落格</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms189461.aspx" target="_blank" rel="noopener" title="MSDN SELECT-OVER">MSDN SELECT-OVER 子句</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms173454.aspx" target="_blank" rel="noopener" title="彙總函式">MSDN 次序函數</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms189798" target="_blank" rel="noopener" title="次序函數">MSDN 彙總函式</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>SQLServer 的觸發程序</title>
    <url>/2017/06/10/sqlserver-trigger/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>簡單介紹 <a href="https://msdn.microsoft.com/zh-tw/library/ms189799.aspx" target="_blank" rel="noopener">Trigger</a> 的撰寫</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>觸發程序可以設定在 table 異動或是欄位資料異動，而當 table 資料異動的時候，可能有新增、刪除、修改等情況，在 SQLServer 中，異動的時候會產生暫存的 <strong>inserted</strong> 和 <strong>deleted</strong> 兩個 table ，兩個 table 格式資訊皆與原 table 相同；</p>
<ul>
<li><strong>inserted</strong> table 紀錄新增資料、修改後資料</li>
<li><strong>deleted</strong> table 紀錄刪除資料、修改前資料</li>
</ul>
<p>以下範例展示該資料表異動的時候新增、修改或刪除的判斷。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="comment">-- Author:                      Allen.YU</span></span><br><span class="line"><span class="comment">-- Script Version:              1.0</span></span><br><span class="line"><span class="comment">-- MSSQL Version:               20012+</span></span><br><span class="line"><span class="comment">-- Create Date:                 yyyy-MM-dd</span></span><br><span class="line"><span class="comment">-- Update Date:                 yyyy-MM-dd</span></span><br><span class="line"><span class="comment">-- Description:                 description</span></span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> [dbo].[trigger_name] <span class="keyword">ON</span> [dbo].[yourTable] </span><br><span class="line"><span class="comment">-- 指定要觸發的狀態</span></span><br><span class="line">    <span class="keyword">FOR</span> <span class="keyword">INSERT</span>,<span class="keyword">UPDATE</span>,<span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">AS</span> </span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 當 SET NOCOUNT 爲 ON 時，不返回計數（表示受 Transact-SQL 語句影響的行數）</span></span><br><span class="line"><span class="keyword">SET</span> NOCOUNT <span class="keyword">ON</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 以下 為 inserted 和 deleted 皆有資料表示為 UPDATE 狀態</span></span><br><span class="line"><span class="comment">-- 或是使用 UPDATE(columnName) 針對欄位名稱判斷</span></span><br><span class="line"><span class="comment">-- 指定某一欄位名稱是否修改狀態</span></span><br><span class="line">IF (<span class="keyword">UPDATE</span>([DataType]) <span class="keyword">and</span> </span><br><span class="line"><span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span></span><br><span class="line">        <span class="number">1</span></span><br><span class="line">    <span class="keyword">FROM</span> inserted)</span><br><span class="line"><span class="keyword">AND</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span></span><br><span class="line">        <span class="number">1</span></span><br><span class="line">    <span class="keyword">FROM</span> deleted)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">PRINT <span class="string">'--- update 修改狀態 ---'</span>;</span><br><span class="line"><span class="comment">-- 撰寫要變動的 code</span></span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 以下 為 inserted 有資料 deleted 無資料表示為 INSERT 狀態</span></span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line"><span class="keyword">IF</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span></span><br><span class="line">            <span class="number">1</span></span><br><span class="line">        <span class="keyword">FROM</span> inserted)</span><br><span class="line">    <span class="keyword">AND</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span></span><br><span class="line">            <span class="number">1</span></span><br><span class="line">        <span class="keyword">FROM</span> deleted)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"></span><br><span class="line">PRINT <span class="string">'--- create 新增狀態 ---'</span>;</span><br><span class="line"><span class="comment">-- 撰寫要變動的 code</span></span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 以下 為 inserted 無資料 deleted 有資料表示為 DELETE 狀態</span></span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line"><span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span></span><br><span class="line">            <span class="number">1</span></span><br><span class="line">        <span class="keyword">FROM</span> inserted)</span><br><span class="line">    <span class="keyword">AND</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span></span><br><span class="line">            <span class="number">1</span></span><br><span class="line">        <span class="keyword">FROM</span> deleted)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">PRINT <span class="string">'--- delete 刪除狀態---'</span>;</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms189799.aspx" target="_blank" rel="noopener">MSDN Trigger</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>.Net MVC MetaData</title>
    <url>/2017/06/13/mvc-metadata/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>最近剛好有人詢問，就乾脆記錄下來好了。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>主要是使用在 Model 欄位上；</p>
<p>例如一個 MVC 5.x 專案，使用 DataBase first 的 Model ，所以該 Model 是經由 T4 範本產生，如果將修改項目寫在產生的 model 類別上，當需要重新更新資料庫對應的時候，所修改的項目就會被覆蓋掉了。</p>
<p>所以這時候使用 MetaData 的方式處理，既可以不變動自動產生的對應類別，又可以自訂需要的驗證在 MetaData 上或是添加顯示名稱等等。</p>
<h3 id="作法"><a href="#作法" class="headerlink" title="作法"></a>作法</h3><p>因為 EntityFramework 產生的資料表對應類別，都會是 partial 類別，所以可以很好去擴充。<br>首先可以建立一個資料夾專門放置 MetaData，然後打開想要建立 MetaData 的資料表對應類別</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// &lt;auto-generated&gt;</span></span><br><span class="line"><span class="comment">//     This code was generated from a template.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//     Manual changes to this file may cause unexpected behavior in your application.</span></span><br><span class="line"><span class="comment">//     Manual changes to this file will be overwritten if the code is regenerated.</span></span><br><span class="line"><span class="comment">// &lt;/auto-generated&gt;</span></span><br><span class="line"><span class="comment">//------------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MetaData.Models</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">using</span> System;</span><br><span class="line">    <span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Orders</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">System.Diagnostics.CodeAnalysis.SuppressMessage(<span class="meta-string">"Microsoft.Usage"</span>, <span class="meta-string">"CA2214:DoNotCallOverridableMethodsInConstructors"</span>)</span>]</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Orders</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Order_Details = <span class="keyword">new</span> HashSet&lt;Order_Details&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> OrderID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">string</span> CustomerID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> Nullable&lt;<span class="keyword">int</span>&gt; EmployeeID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> Nullable&lt;System.DateTime&gt; OrderDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> Nullable&lt;System.DateTime&gt; RequiredDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> Nullable&lt;System.DateTime&gt; ShippedDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> Nullable&lt;<span class="keyword">int</span>&gt; ShipVia &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> Nullable&lt;<span class="keyword">decimal</span>&gt; Freight &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">string</span> ShipName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">string</span> ShipAddress &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">string</span> ShipCity &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">string</span> ShipRegion &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">string</span> ShipPostalCode &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">string</span> ShipCountry &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">virtual</span> Customers Customers &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">virtual</span> Employees Employees &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">System.Diagnostics.CodeAnalysis.SuppressMessage(<span class="meta-string">"Microsoft.Usage"</span>, <span class="meta-string">"CA2227:CollectionPropertiesShouldBeReadOnly"</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">virtual</span> ICollection&lt;Order_Details&gt; Order_Details &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">virtual</span> Shippers Shippers &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意一下，類別檔案與 MetaData 的檔案需要在同一 namespace 下，然後使用 MeteData 需要引用 <code>System.ComponentModel.DataAnnotations</code>。</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">MetaData.Models</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">MetadataType(typeof(OrdersMetadata))</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Orders</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OrdersMetadata</span></span><br><span class="line">        &#123;</span><br><span class="line">            [<span class="meta">DisplayName(<span class="meta-string">"測試測試"</span>)</span>]</span><br><span class="line">            <span class="keyword">public</span> Nullable&lt;<span class="keyword">decimal</span>&gt; Freight &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://github.com/shunnien/MVC5XPrac" target="_blank" rel="noopener">示範程式碼</a>採用北風資料庫進行。</p>
<ul>
<li><a href="https://github.com/aspnet/Mvc" target="_blank" rel="noopener">Github .net core</a></li>
<li><a href="https://github.com/aspnet/Mvc" target="_blank" rel="noopener">Github ASP.NET MVC 5.x …</a></li>
<li><a href="https://northwinddatabase.codeplex.com/" target="_blank" rel="noopener">Northwind 資料庫</a></li>
<li><a href="https://github.com/shunnien/MVC5XPrac" target="_blank" rel="noopener">Sample Code</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
        <tag>C#</tag>
        <tag>EntityFramework</tag>
      </tags>
  </entry>
  <entry>
    <title>Visual Studio 專案透過指令列建置</title>
    <url>/2017/06/14/batch-for-build-visual-studio-project/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>建立批次檔案的建置指令，提供後續 hook up 的機制。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>引用 <a href="https://msdn.microsoft.com/zh-tw/library/ms171486.aspx" target="_blank" rel="noopener">MSDN</a> 上的說明</p>
<blockquote>
<p>若要建置方案中的特定專案的特定目標<br>在命令列中，輸入 <code>MSBuild.exe &lt;SolutionName&gt;.sln,</code> ，其中 <strong><SolutionName></strong> 對應至包含您想要執行的目標的方案的檔案名稱。<br>指定的目標之後 /t 切換格式 <strong>ProjectName:TargetName</strong>。<br>範例<br>下列範例會執行 <strong>Rebuild</strong> 的目標 <strong>NotInSlnFolder</strong> 專案，然後再執行 <strong>Clean</strong> 的目標 <strong>InSolutionFolder</strong> 專案中，位於 <strong>NewFolder</strong> 方案資料夾。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">msbuild SlnFolders.sln /t:NotInSlnfolder:Rebuild;NewFolder\InSolutionFolder:Clean</span><br></pre></td></tr></table></figure>
<p>知道命令列的指令後，可以參考 <a href="https://msdn.microsoft.com/zh-tw/library/ms164311.aspx" target="_blank" rel="noopener">MSDN 指令列說明</a> 寫成批次檔案(.bat)</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">pause</span></span><br><span class="line"></span><br><span class="line"><span class="comment">REM ==指定要使用的.NET版本.==</span></span><br><span class="line"><span class="built_in">set</span> NetVer=v4.<span class="number">0</span>.<span class="number">30319</span></span><br><span class="line"></span><br><span class="line"><span class="comment">REM ==指定建置資訊結果資訊輸出的目錄==</span></span><br><span class="line"><span class="built_in">set</span> BuildInfoDir=自動建置結果</span><br><span class="line"></span><br><span class="line"><span class="comment">REM ==指定要編譯的方案檔==</span></span><br><span class="line"><span class="built_in">set</span> SlnFile=projectName.sln</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> Builders=<span class="variable">%windir%</span>\Microsoft.<span class="built_in">NET</span>\Framework\<span class="variable">%NetVer%</span>\MSBuild.exe</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> <span class="variable">%BuildInfoDir%</span>\ <span class="built_in">mkdir</span> <span class="variable">%BuildInfoDir%</span>\</span><br><span class="line"></span><br><span class="line"><span class="comment">REM 步驟 ==.更新最新的程式.==</span></span><br><span class="line">svn update</span><br><span class="line"></span><br><span class="line"><span class="comment">REM 步驟 ==.開始執行建置動作.==</span></span><br><span class="line"><span class="comment">REM 建立 摘要、警告、錯誤 log 文件</span></span><br><span class="line"><span class="variable">%Builders%</span> <span class="variable">%SlnFile%</span> /t:Rebuild /p:Configuration=Release /flp:Summary;Verbosity=minimal;LogFile=<span class="variable">%BuildInfoDir%</span>\摘要.txt /flp1:warningsonly;logfile=<span class="variable">%BuildInfoDir%</span>\警告.txt  /flp2:errorsonly;logfile=<span class="variable">%BuildInfoDir%</span>\錯誤.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms171486.aspx" target="_blank" rel="noopener">MSDN Sln Build</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/ms164311.aspx" target="_blank" rel="noopener">MSDN  Command-Line Reference</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/78f4aasd(v=vs.110).aspx" target="_blank" rel="noopener">MSDN C# Compiler</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Visual Studio</tag>
        <tag>batch</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript Docxtemplater 匯出 Word 檔案套件</title>
    <url>/2017/06/12/javascript-docxtemplater/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>以前匯出 word 檔案，都是從後端進行；這次試試看從前端進行。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p><a href="https://github.com/open-xml-templating/docxtemplater" target="_blank" rel="noopener">docxtemplater</a> 這套件的流程簡單描述是採用一個 word 檔案當作 template 樣板，透過 ajax 傳送至前端，然後按照對應的 object key value 去填入資料。聽起來很簡易，但是裡面應用的東西不少；安裝方式可以透過 npm 或 bower 或是手動引入檔案。</p>
<ul>
<li><p>使用 npm 安裝<br>使用 npm 的話，我在重新 compile 的時候，發生錯誤；所以我是直接抓取 <a href="https://github.com/open-xml-templating/docxtemplater-build/tree/master/build" target="_blank" rel="noopener">Github</a> 上的檔案，然後 <a href="https://github.com/Stuk/jszip/blob/v2.x/dist/jszip.js" target="_blank" rel="noopener">jszip</a> 只能使用 2.x 版本。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install docxtemplater --save-dev</span><br><span class="line">npm install jszip@2 --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 bower 安裝<br>bower 安裝執行，倒是沒有發生其他錯誤，只是 bower 安裝的只有 <a href="https://github.com/open-xml-templating/docxtemplater-build/tree/master/build" target="_blank" rel="noopener">docxtemplater build</a> 與 <a href="https://github.com/Stuk/jszip/blob/v2.x/dist/jszip.js" target="_blank" rel="noopener">jszip</a>，所以還需要去 <a href="https://github.com/open-xml-templating/docxtemplater" target="_blank" rel="noopener">docxtemplater</a> 抓取 <strong>jszip-utils.js</strong> 與 <strong>jszip-utils-ie.js</strong> (不同瀏覽器的使用)檔案</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bower install --save docxtemplater</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>示範程式碼如下，可以在 <a href="https://github.com/shunnien/docxtemplateDemo" target="_blank" rel="noopener">Github</a> 上取得，其 <strong>docxtemplater-latest</strong> 引用的版本是 3.0.10 版本。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Demo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"export"</span> <span class="attr">value</span>=<span class="string">"export word"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="/Jss/docxtemplater/docxtemplater.v3.1.3.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="/node_modules/jszip/dist/jszip.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/Jss/docxtemplater/docxtemplater-latest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/Jss/docxtemplater/jszip.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/Jss/docxtemplater/vendor/file-saver.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--[if IE]&gt;&lt;script src="~/Jss/docxtemplater/vendor/jszip-utils-ie.js"&gt;&lt;/script&gt;&lt;![endif]--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--[if !IE]&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/Jss/docxtemplater/vendor/jszip-utils.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;![endif]--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> btnExport = <span class="built_in">document</span>.getElementById(<span class="string">"export"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> loadFile = <span class="function"><span class="keyword">function</span>(<span class="params">url, callback</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">/// &lt;summary&gt;</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">/// loadFile for export word.</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">/// &lt;/summary&gt;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            /// <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"url"</span>&gt;</span>The url path.<span class="tag">&lt;/<span class="name">param</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            /// <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"callback"</span>&gt;</span>The callback.<span class="tag">&lt;/<span class="name">param</span>&gt;</span></span></span></span><br><span class="line"><span class="actionscript">            JSZipUtils.getBinaryContent(url, <span class="function"><span class="keyword">function</span><span class="params">(err, data)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                callback(<span class="literal">null</span>, data);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        btnExport.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            loadFile(<span class="string">"template.docx"</span>, <span class="function"><span class="keyword">function</span><span class="params">(err, content)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> objData = &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="string">"title"</span>: <span class="string">"大標題"</span>,</span></span><br><span class="line"><span class="actionscript">                    <span class="string">"subtitle"</span>: <span class="string">"子標題"</span>,</span></span><br><span class="line"><span class="actionscript">                    <span class="string">"desc"</span>: <span class="string">"隨便的內容描述"</span>,</span></span><br><span class="line"><span class="actionscript">                    <span class="string">"header1"</span>:<span class="string">"表格標題"</span>,</span></span><br><span class="line"><span class="actionscript">                    <span class="string">"header2"</span>:<span class="string">"第二列"</span>,</span></span><br><span class="line"><span class="actionscript">                    <span class="string">"cell1"</span>:<span class="string">"你好"</span>,</span></span><br><span class="line"><span class="actionscript">                    <span class="string">"cell2"</span>:<span class="string">"word 文件"</span></span></span><br><span class="line">                &#125;;</span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> zip = <span class="keyword">new</span> JSZip(content);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> doc = <span class="keyword">new</span> Docxtemplater().loadZip(zip)</span></span><br><span class="line"><span class="actionscript">                doc.setData(objData) <span class="comment">//set the templateVariables</span></span></span><br><span class="line"><span class="actionscript">                doc.render() <span class="comment">//apply them (replace all occurences of &#123;title&#125; by Hipp, ...)</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> out = doc.getZip().generate(&#123;</span></span><br><span class="line"><span class="actionscript">                        type: <span class="string">"blob"</span></span></span><br><span class="line"><span class="actionscript">                    &#125;) <span class="comment">//Output the document using Data-URI</span></span></span><br><span class="line"><span class="actionscript">                saveAs(out, <span class="string">"output.docx"</span>)</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>最後說明一下 word 檔案的寫法，其格式為直接在 word 檔案寫上 <code>{ObjectProperty}</code> 大括弧裡面寫上 JS 物件的屬性名稱，在前端 <code>setData</code> function 執行時，會去自動對應。</p>
<p><img src="https://lh3.googleusercontent.com/wQOOQuQy-_iZ7fRsh82gCGtjcCVWhuRV49e52MepOx3e0VJ_gAHvTHaerxVriL_V4SWLsrT3kZCUM9ZyrerqGpFPl5-MihYc8k1Wwwo4-ykv0Yyw3pv8622NrirEFN_T9YpjOpEw_sQY5G5iRlwvGhNjN5C4PvdRxKVR-D8a-FWqgNrNwVCInd5fcC-blF7umq3yS6o4F_Y0aUpn4KBG2EH57LbdebOsP1NDzUIDDFPqLIUx2el45mWCWu3KISqZL-ZAaimFL8-QSEZPuS_LAEPye-FAaDxn9mWz3-dhs64EpQPJuMFRO7LuGERyNzFZDyR97vbtTMwRHxYuljIrjJhiL3CHfGbO7k4jhbeQaI4vLAMAVH5N0vFItmT9GvRlJ92Utv5inYQvqqhUcSag8IMlhZgsgCbqaCwHZnkW71LI-n7v1jNBdrik-mw9XuYg-bHyXY__SQ6ZME3sblAYpyDacfXXfeVHpv2rJArFi7QwYzSGF3BG_MYcvhT3HJ55AslIl48Osd3NA1YdmKKn8xYqjPb87OZdhtC64tl82j1siLRB8ezuF2tWvVC_B8COzP8xqYRW_JPdlvHzcOxxd-VhKlF7-nr6J-xNM9xjKxkEMXZNw1tY31XAurtP7uZ0HkIGdirFJlVq1gU8PtdU-fV5Qz2iiXIh1oBiTXOVuw=w767-h393-no" alt="docx template"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://docxtemplater.readthedocs.io/en/latest/" target="_blank" rel="noopener">docxtemplater Documentation</a></li>
<li><a href="http://javascript-ninja.fr/docxtemplater/v3/examples/demo.html" target="_blank" rel="noopener">docxtemplater demo site</a></li>
<li><a href="https://github.com/open-xml-templating/docxtemplater" target="_blank" rel="noopener">docxtemplater GitHub</a></li>
<li><a href="https://github.com/open-xml-templating/docxtemplater-build/tree/master/build" target="_blank" rel="noopener">docxtemplater build all version</a></li>
<li><a href="https://github.com/Stuk/jszip/blob/v2.x/dist/jszip.js" target="_blank" rel="noopener">jszip</a></li>
<li><a href="https://github.com/shunnien/docxtemplateDemo" target="_blank" rel="noopener">My Sample Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>ArcGIS API for Js 應用，將圖層設定為底圖</title>
    <url>/2017/06/16/ArcGis-set-gee-map-for-basemap/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>紀錄一下 <a href="https://developers.arcgis.com/javascript/" target="_blank" rel="noopener" title="ArcGis Js">ArcGIS API for Js</a> 的一些應用</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>一般底圖設定方式是使用 basemaps 進行設定，但其實如果對於地圖類型的 API 稍微熟悉的話，就會知道，其上的圖層是一層層堆疊的，底圖也就是最底層的那一層。</p>
<p>利用這個概念，透過 WebTiledLayer 載入圖層，並且保持 basemaps 為空，這樣所設定的第一層圖層就是底層囉。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"initial-scale=1, maximum-scale=1,user-scalable=no"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://js.arcgis.com/3.15/esri/css/esri.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">html</span>, <span class="selector-tag">body</span>, <span class="selector-id">#map</span> &#123; </span></span><br><span class="line">        height: 100%; width: 100%;</span><br><span class="line">        margin: 0; padding: 0;</span><br><span class="line">      &#125; </span><br><span class="line">      body&#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>; <span class="selector-tag">overflow</span><span class="selector-pseudo">:hidden</span>; </span></span><br><span class="line">        font-family: sans-serif;</span><br><span class="line">      &#125; </span><br><span class="line"><span class="css">      <span class="selector-id">#header</span> &#123;</span></span><br><span class="line">        padding: 4px 15px 4px 0;</span><br><span class="line"><span class="css">        <span class="selector-tag">background-color</span>: <span class="selector-id">#F2F2EC</span>; </span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#575757</span>; </span></span><br><span class="line">        font-size: 16pt; </span><br><span class="line">        text-align: right; </span><br><span class="line">        font-weight: bold;</span><br><span class="line"><span class="css">        <span class="selector-tag">height</span><span class="selector-pseudo">:55px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-id">#subheader</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: <span class="selector-id">#575757</span>;</span></span><br><span class="line">        font-size: small;</span><br><span class="line">        padding: 5px 0 0 0;</span><br><span class="line">        text-align: right;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-id">#subheader</span> <span class="selector-tag">a</span> &#123; <span class="attribute">color</span>: <span class="number">#575757</span>; &#125;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"mainWindow"</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">data-dojo-type</span>=<span class="string">"dijit/layout/BorderContainer"</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">data-dojo-props</span>=<span class="string">"design:'headline',gutters:false"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">style</span>=<span class="string">"width: 100%; height: 100%; margin: 0;"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"header"</span> </span></span><br><span class="line"><span class="tag">           <span class="attr">data-dojo-type</span>=<span class="string">"dijit/layout/ContentPane"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">data-dojo-props</span>=<span class="string">"region:'top'"</span>&gt;</span></span><br><span class="line">        Base Map Demo</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"map"</span> <span class="attr">class</span>=<span class="string">"shadow"</span> </span></span><br><span class="line"><span class="tag">           <span class="attr">data-dojo-type</span>=<span class="string">"dijit/layout/ContentPane"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">data-dojo-props</span>=<span class="string">"region:'center'"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://js.arcgis.com/3.15/"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> map;</span><br><span class="line">      <span class="built_in">require</span>([</span><br><span class="line">        <span class="string">"esri/map"</span>, <span class="string">"esri/layers/WebTiledLayer"</span>, <span class="string">"dojo/parser"</span>,</span><br><span class="line">        <span class="string">"dijit/layout/BorderContainer"</span>, <span class="string">"dijit/layout/ContentPane"</span>, <span class="string">"dojo/domReady!"</span></span><br><span class="line">      ], <span class="function"><span class="keyword">function</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">        Map, WebTiledLayer, parser</span></span></span><br><span class="line"><span class="function"><span class="params">      </span>) </span>&#123;</span><br><span class="line">        parser.parse();</span><br><span class="line">        map = <span class="keyword">new</span> <span class="built_in">Map</span>(<span class="string">"map"</span>, &#123;</span><br><span class="line">          center: [<span class="number">121.2028889</span>,<span class="number">24.8221225</span>],</span><br><span class="line">          zoom: <span class="number">8</span></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> twMap = <span class="keyword">new</span> WebTiledLayer(<span class="string">"http://maps.nlsc.gov.tw/S_Maps/wmts?SERVICE=WMTS&amp;REQUEST=GetTile&amp;VERSION=1.0.0&amp;LAYER=EMAP&amp;STYLE=_null&amp;TILEMATRIXSET=EPSG:3857&amp;TILEMATRIX=EPSG:3857:&#123;level&#125;&amp;TILEROW=&#123;row&#125;&amp;TILECOL=&#123;col&#125;&amp;FORMAT=image/png"</span>,&#123;</span><br><span class="line">            <span class="string">"id"</span>: <span class="string">"baseMaptw"</span></span><br><span class="line">        &#125;)</span><br><span class="line">          </span><br><span class="line">        <span class="keyword">var</span> gooMap = <span class="keyword">new</span> WebTiledLayer(<span class="string">"http://mt0.google.com/vt/lyrs=m&amp;hl=cht&amp;x=&#123;col&#125;&amp;y=&#123;row&#125;&amp;z=&#123;level&#125;&amp;s=Ga"</span>, &#123;</span><br><span class="line">          <span class="string">"copyright"</span>: <span class="string">"baseDemoMap"</span>,</span><br><span class="line">          <span class="string">"id"</span>: <span class="string">"baseGoomap"</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">        map.addLayer(twMap);</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/a1f8Ly6g/embedded/js,css,html/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://maps.nlsc.gov.tw/" target="_blank" rel="noopener">國土測繪圖資服務雲</a></li>
<li><a href="http://whgis.nlsc.gov.tw/Default.aspx" target="_blank" rel="noopener">國土測繪圖資</a></li>
<li><a href="https://developers.arcgis.com/javascript/" target="_blank" rel="noopener" title="ArcGis Js">ArcGIS API form JavaScript</a></li>
<li><a href="https://developers.arcgis.com/javascript/3/jsapi/webtiledlayer-amd.html" target="_blank" rel="noopener">WebTiledLayer</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ArcGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>LinQ IQueryable 轉換 DataTable</title>
    <url>/2017/06/20/linq-IQueryable-convert-to-DataTable/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>最近有些案子需要使用到這需求，把以前一些方法紀錄一下。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>目的是轉換 DateTable 使用，所以做法有很多，甚至是一開始就使用 DataSet 去取得資料來源等，但是這邊單純討論轉換 DataTable 。想要轉換到 DataTable 最常見的就是反射(Reflection) ，甚至官方都有文件資料說明如何實作 <a href="https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/implement-copytodatatable-where-type-not-a-datarow" target="_blank" rel="noopener">CopyToDataTable<T></a> 。<br>以下就簡單說明反射的部分</p>
<p>此部分是引用<a href="http://blog.darkthread.net/blogs/darkthreadtw/archive/2015/10/12/6134.aspx" target="_blank" rel="noopener">黑暗執行緒大大</a> 的範例</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> DataTable LinqQueryToDataTable&lt;T&gt;(IEnumerable&lt;T&gt; query)</span><br><span class="line">        &#123;</span><br><span class="line">            DataTable tbl = <span class="keyword">new</span> DataTable();</span><br><span class="line">            PropertyInfo[] props = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">foreach</span> (T item <span class="keyword">in</span> query)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (props == <span class="literal">null</span>) <span class="comment">//尚未初始化</span></span><br><span class="line">                &#123;</span><br><span class="line">                    Type t = item.GetType();</span><br><span class="line">                    props = t.GetProperties();</span><br><span class="line">                    <span class="keyword">foreach</span> (PropertyInfo pi <span class="keyword">in</span> props)</span><br><span class="line">                    &#123;</span><br><span class="line">                        Type colType = pi.PropertyType;</span><br><span class="line">                        <span class="comment">//針對Nullable&lt;&gt;特別處理</span></span><br><span class="line">                        <span class="keyword">if</span> (colType.IsGenericType</span><br><span class="line">                            &amp;&amp; colType.GetGenericTypeDefinition() == <span class="keyword">typeof</span>(Nullable&lt;&gt;))</span><br><span class="line">                            colType = colType.GetGenericArguments()[<span class="number">0</span>];</span><br><span class="line">                        <span class="comment">//建立欄位</span></span><br><span class="line">                        tbl.Columns.Add(pi.Name, colType);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                DataRow row = tbl.NewRow();</span><br><span class="line">                <span class="keyword">foreach</span> (PropertyInfo pi <span class="keyword">in</span> props)</span><br><span class="line">                    row[pi.Name] = pi.GetValue(item, <span class="literal">null</span>) ?? DBNull.Value;</span><br><span class="line">                tbl.Rows.Add(row);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> tbl;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>或是使用 Json 的方式來轉換，不過這方式最好使用在資料量比較小的情境下</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> DataTable LinqToDataTableByJson&lt;T&gt;(IEnumerable&lt;T&gt; query)</span><br><span class="line">        &#123;</span><br><span class="line">            JArray jObjects = <span class="keyword">new</span> JArray();</span><br><span class="line">            PropertyInfo[] props = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> query)</span><br><span class="line">            &#123;</span><br><span class="line">                Type t = item.GetType();</span><br><span class="line">                props = t.GetProperties();</span><br><span class="line">                <span class="keyword">var</span> jo = <span class="keyword">new</span> JObject();</span><br><span class="line">                <span class="keyword">foreach</span> (PropertyInfo pi <span class="keyword">in</span> props)</span><br><span class="line">                    jo.Add(pi.Name, (JToken)pi.GetValue(item, <span class="literal">null</span>).ToString());</span><br><span class="line">                jObjects.Add(jo);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> JsonConvert.DeserializeObject&lt;DataTable&gt;(jObjects.ToString());</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/tlkWcUVMGJcylAZpSSaW_ejn5zihH0xXmaN_gyiSShb4pDu7RSWWDYtTb88r9xIP7GIIzeb4I7a6PqOYRtC5AJTwusypEYBW03eVEcVtPj5jZMQFAWbJvn3RY3ui4pFj_rzWrlQxOAvEKIP2dyOfV5jgqBcZhgD_jA2Vj6PNMkwHNEfNKHUi-UaxCWKuRU878OiupCjcc_4W5Oc9Z5QVn0ho9LKQnwdUl-dZsJRAiOfRdLzXEyvKZBYiE8dwXQXe1Ckbl_cWPcWsY1P572N99PpGPJ9J8TE5jT0LeulzL8hKMi0ZXM4pSIULwd1usHFWqZCvm1AobjhMDf4_iifYkLWmvS_7JyzynR445vvljoc5jc4CABSJCcin7g-WMfv0Y42wxfuz31E9fLi8nGxa1uxj-d9jTVcANOdTjoz2U-z7kE1k0G4sxH2lrNmI_fPE6bm5UGQcVbDZNq7pJlz8cAWDb5boV_i_XkLDk3eQtj0fK_Maqwk0Un_DEt6_At4fyxYAyf4MzT9DCdiVi0oC-3RRQ39Lh64zITl7OZCBzYJlRpWb853qwGJJtzeOsYK-PxR0oiiEP2QcSm_VR88XGWX7dhLstU1jhQsfRoAEv8oDf2S5aHLonsgnwd8nRtmpduzium6A1dyKeD-VBf3zqBrM-ee_c1km1bq2J6N3Dw=w858-h859-no" alt="Sample"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://dotblogs.com.tw/yc421206/2014/07/14/145944" target="_blank" rel="noopener">余小章 @ 大內殿堂</a></li>
<li><a href="http://blog.darkthread.net/blogs/darkthreadtw/archive/2015/10/12/6134.aspx" target="_blank" rel="noopener">darkthread</a></li>
<li><a href="https://stackoverflow.com/questions/10618605/how-to-convert-iqueryable-to-datatable" target="_blank" rel="noopener">stackoverflow </a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/creating-a-datatable-from-a-query-linq-to-dataset" target="_blank" rel="noopener">.Net Docs LINQ to DataSet</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/implement-copytodatatable-where-type-not-a-datarow" target="_blank" rel="noopener">.Net Docs Implement CopyToDataTable</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>Linq</tag>
        <tag>ADO.NET</tag>
      </tags>
  </entry>
  <entry>
    <title>透過 IIS 的 Form Authentication 來進行 SSO</title>
    <url>/2017/06/23/Form-Authentication-SSO-Sample/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>雖然現在 .Net 的登入機制已經較少 Form Authentication，但是剛好看到這範例，分享一下。</p>
<h2 id="Conetent"><a href="#Conetent" class="headerlink" title="Conetent"></a>Conetent</h2><p>透過使用相同的 Form Authentication 來使兩個網站的登入機制使用共同的資料。<br>沒有單一簽入(SSO)的流程</p>
<pre class="mermaid" style="text-align: center;">

graph LR
A(fa:fa-user-md User)
A-->B2[fa:fa-sign-in 登入A網站]
A-->B3[fa:fa-sign-in 登入B網站]
B2-->C1[fa:fa-sign-in 網站A]
B3-->C2[fa:fa-sign-in 網站B]
</pre>

<p>對比<br>使用單一簽入(SSO)的流程</p>
<pre class="mermaid" style="text-align: center;">

graph LR
A(fa:fa-user-md User)
A-->B[fa:fa-sign-in SSO登入]
B-->C1[fa:fa-sign-in 網站A]
B-->C2[fa:fa-sign-in 網站B]
</pre>

<p>這可以明顯看出，登入方式變成一個 SSO 登入了，當然此處是指會員資料的取得，實際看頁面流程的話，就不是這樣的單純。<br>以下簡單列出 <a href="https://github.com/arunendapally/SSO" target="_blank" rel="noopener">arunendapally SSO</a> 範例的樹狀結構，可以看出範例列了三個網站</p>
<ul>
<li>SSO 單一簽入的網站</li>
<li>模擬網站 A</li>
<li>模擬網站 B</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">├─SSO</span><br><span class="line">│  ├─App_Data</span><br><span class="line">│  ├─App_Start</span><br><span class="line">│  ├─Controllers</span><br><span class="line">│  ├─Models</span><br><span class="line">│  └─Views</span><br><span class="line">│      └─Account</span><br><span class="line">├─WebApp1</span><br><span class="line">│  ├─App_Data</span><br><span class="line">│  ├─App_Start</span><br><span class="line">│  ├─Controllers</span><br><span class="line">│  ├─Models</span><br><span class="line">│  └─Views</span><br><span class="line">│      └─Home</span><br><span class="line">└─WebApp2</span><br><span class="line">    ├─App_Data</span><br><span class="line">    ├─App_Start</span><br><span class="line">    ├─Controllers</span><br><span class="line">    ├─Models</span><br><span class="line">    └─Views</span><br><span class="line">        └─Home</span><br></pre></td></tr></table></figure>

<p>登入檢查 FormsAuthentication</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">[<span class="meta">AllowAnonymous</span>]</span><br><span class="line">    [<span class="meta">HttpPost</span>]</span><br><span class="line">    [<span class="meta">ValidateAntiForgeryToken</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ActionResult <span class="title">Login</span>(<span class="params"><span class="keyword">string</span> username, <span class="keyword">string</span> password, <span class="keyword">string</span> returnUrl</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">      <span class="keyword">if</span> (FormsAuthentication.Authenticate(username, password))</span><br><span class="line">      &#123;</span><br><span class="line">        FormsAuthentication.SetAuthCookie(username, <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">string</span>.IsNullOrEmpty(returnUrl))</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="keyword">return</span> Redirect(returnUrl);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">          <span class="keyword">return</span> RedirectToAction(<span class="string">"Index"</span>, <span class="string">"Home"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        ModelState.AddModelError(<span class="keyword">string</span>.Empty, <span class="string">"Invalid login details"</span>);</span><br><span class="line">        ViewBag.ReturnUrl = returnUrl;</span><br><span class="line">        <span class="keyword">return</span> View();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>以上都是程式方面的操作，比較值得注意的是，這範例是透過 IIS 的 <strong>machine key</strong> 來進行設定這三個網站是使用同一份登入資訊</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">machineKey</span> <span class="attr">validationKey</span>=<span class="string">"E4451576F51E0562D91A1748DF7AB3027FEF3C2CCAC46D</span></span></span><br><span class="line"><span class="tag"><span class="string">756C833E1AF20C7BAEFFACF97C7081ADA4648918E0B56BF27D1699A6EB2D9B6967A562CAD14767F163"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">decryptionKey</span>=<span class="string">"6159C46C9E288028ED26F5A65CED7317A83CB3485DE8C592"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">validation</span>=<span class="string">"HMACSHA256"</span> <span class="attr">decryption</span>=<span class="string">"AES"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>詳細的操作內容可以參考 <a href="http://arunendapally.com/post/implementation-of-single-sign-on-(sso)-in-asp.net-mvc" target="_blank" rel="noopener">arunendapally blog 文章</a>，此處補充 IIS 的設定，首先在開啟 IIS ，選取 SSO 網站的電腦金鑰，並記錄下其<strong>驗證金鑰</strong>與<strong>解密金鑰</strong>，接著在網站 A 與網站 B，都點擊電腦金鑰<br><img src="https://lh3.googleusercontent.com/ox_n3XG4-E5lgM-Vj7fSPRKIE7XVz1APNLngPItF_o_4FTtAT_MZXdpD9jzx2wYmf-ROAu4S9AmkERfHSfwPFmbVC_xuUtDDxstAQn6Yy2K7z_X8Zu-rUkaDTrJaeQfemlOMs8EswWUQ290IB6MvjFHqypTi1BbjqwUZvFs67dCOFbwZlXAic_bckct5l9IAIQ7HkA8X_AzXTdGMGlO7xRuzk5GjBexdqukw0R8sENz66xQT1p93b56iC3Z3KNKbw2kFvXY21R9z7NNyzLfemAOensErAmcTu1TQs1iTIYnUogMQXFSPl3B9xBbf6AU_vIAZ8jj78C87wBI3-UP70HJCZz-FvZofW1j6G_kynL8YyExYShoFCHykH6DaPqpexTYPM0voumfgEzRZi3bdAaCjw1vRNKvuEVH7tMt1rWDTZeugkagjFSnHQ8NYXlcz8m-XEL6hCpa5jsxf8IYn0WJ-DleHvNuJR5j0MOE1nqurCmZWpb5GdIfRGYtXC0YRo1cAWwPgd9IA0D-jd2Wqv-qRGhmZZW6ZdQ5nk_kJwFW0IbXIScB7gXIaJJbX3Px-Wbkqm5j8GEydlqGxPQDUxJotGy6Pitoy-tRav1k0dEtr_WAff4E_nLZcLcOBXb-l3iF0fdKAFt0J2kwuAAkxNEUCTkbj8LFD3vKcF0h0nQ=w814-h431-no" alt="電腦金鑰"><br>然後將 SSO 網站的<strong>驗證金鑰</strong>與<strong>解密金鑰</strong>設定到網站 A 與網站 B<br><img src="https://lh3.googleusercontent.com/gBUB2zILxBpRU-D5P27zEVZBog0wZ0m2A3Gg5gNe20xfA3G_frW22q5HvW6AkMq0Rt-6whxq4X7BtK58f2T4ynFLWnqvjWLKmOerCI5L9h45WDEuB8aXrvHO-qQ_0SE-Yc70tbLjAY810OqG7U9AgYpY4DzTRbCf_kRkCBvJW4xC-Nb9RPIjLxG3Ud_NSB-5OeCbfFkMbCmusYU_SCeu-TDCySfN6BVtv0jXGieTiGcGRBvmHLZDrC0fpTU3V4QovwhXhQvvM1QpCsaaDoBGlAhLQY9rknm9paljsg05SGa9WNKxsn20V_91hc93bFai9G8sxoS_NsPhB1DplIcn8-IyWnJv-W3xicKffy9lUHgbgqhtbqUfOOdusFlWgvrL8bm3KVjj9D18zmjvEztR7BsmJHXGsJG9CFSPFyOAY8ZzZt2KOccmWUsgT4BvUbdDG3SXsxzxf4JnkLdfK1NANQufSmVGFLzOnCeVR9MS4BnEa-6RIYyiHYjz4jLc8vxP8-erSi0mhKruJM8pIva_i-kTI1WZhPv8PVk9mxzK8dItF7b1sj0tp5vJExx0WDxoAJWHqaVEYB1yE64X71HZS7IJealTWwGbO5IFkmfi-10bTKEq55Wwr1N1HEh2N_e4AwpZPz1Tqn1mbc6zemS3T0X5rL193IYanJJWI-rrBQ=w849-h553-no" alt="電腦金鑰設定"></p>
<p>這樣這範例就可以操作囉。</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>此文的範例是參考 <a href="http://arunendapally.com/post/implementation-of-single-sign-on-(sso)-in-asp.net-mvc" target="_blank" rel="noopener">arunendapally</a>，範例可以在 <a href="https://github.com/arunendapally/SSO" target="_blank" rel="noopener">Github</a> 取得</p>
<ul>
<li><a href="http://arunendapally.com/post/implementation-of-single-sign-on-(sso)-in-asp.net-mvc" target="_blank" rel="noopener">arunendapally blog</a></li>
<li><a href="https://www.codeproject.com/Articles/1140228/Implementation-of-Single-Sign-On-SSO-in-ASP-NET-MV" target="_blank" rel="noopener">arunendapally codeproject</a></li>
<li><a href="https://github.com/arunendapally/SSO" target="_blank" rel="noopener">arunendapally github</a></li>
<li><a href="https://blogs.msdn.microsoft.com/webdev/2013/07/03/understanding-owin-forms-authentication-in-mvc-5/" target="_blank" rel="noopener">MSDN authentication</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
        <tag>C#</tag>
        <tag>IIS</tag>
        <tag>SSO</tag>
      </tags>
  </entry>
  <entry>
    <title>電腦中的 Byte Bit 等換算</title>
    <url>/2017/06/23/byte-introduction/</url>
    <content><![CDATA[<p>最近弄同事的一個權限資料，是使用 byte 來計算的，當下看到一些 int 與各個單位換算，想說乾脆筆記記錄下來。<a id="more"></a></p>
<p>最小單位是 Bit (位元)，然後按照 Wiki 資料上的列出</p>
<ul>
<li>1 Byte = 8 Bits</li>
</ul>
<table>
<thead>
<tr>
<th align="center">名稱</th>
<th align="center">符號</th>
<th align="left">2進位</th>
<th align="right">16進位</th>
<th align="left">10進位</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Kilobyte</td>
<td align="center">KB</td>
<td align="left">2^10</td>
<td align="right">0x400</td>
<td align="left">= 1,024 Bytes</td>
</tr>
<tr>
<td align="center">Megabyte</td>
<td align="center">MB</td>
<td align="left">2^20</td>
<td align="right">0x10 0000</td>
<td align="left">= 1024 KB</td>
</tr>
<tr>
<td align="center">Gigabyte</td>
<td align="center">GB</td>
<td align="left">2^30</td>
<td align="right">0x4000 0000</td>
<td align="left">= 1024 MB</td>
</tr>
<tr>
<td align="center">Terabyte</td>
<td align="center">TB</td>
<td align="left">2^40</td>
<td align="right">0x100 0000 0000</td>
<td align="left">= 1024 GB</td>
</tr>
<tr>
<td align="center">Petabyte</td>
<td align="center">PB</td>
<td align="left">2^50</td>
<td align="right">0x4 0000 0000 0000</td>
<td align="left">= 1024 TB</td>
</tr>
<tr>
<td align="center">Exabyte</td>
<td align="center">EB</td>
<td align="left">2^60</td>
<td align="right">0x1000 0000 0000 0000</td>
<td align="left">= 1024 PB</td>
</tr>
<tr>
<td align="center">Zettabyte</td>
<td align="center">ZB</td>
<td align="left">2^70</td>
<td align="right">0x40 0000 0000 0000 0000</td>
<td align="left">= 1024 EB</td>
</tr>
<tr>
<td align="center">Yottabyte</td>
<td align="center">YB</td>
<td align="left">2^80</td>
<td align="right">0x1 0000 0000 0000 0000 0000</td>
<td align="left">= 1024 ZB</td>
</tr>
</tbody></table>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Binary_prefix" target="_blank" rel="noopener">Wiki Binary prefix</a></li>
<li><a href="https://en.wikipedia.org/wiki/Binary_prefix" target="_blank" rel="noopener">Wiki Metric prefix</a></li>
<li><a href="https://en.wikipedia.org/wiki/Binary_prefix" target="_blank" rel="noopener">Byte</a></li>
<li><a href="https://en.wikipedia.org/wiki/Binary_prefix" target="_blank" rel="noopener">Binary prefix</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript ~~ 符號</title>
    <url>/2017/06/26/JavaScript-Double-bitwise-not/</url>
    <content><![CDATA[<p>前陣子在一些討論區看到有人在討論 <strong>~</strong> 這符號的使用，想到自己也幾乎沒在 JavaScript 中使用，就查了一下，看到國外有些探討，使用 <strong>~~</strong> 比使用 <code>Math.floor</code> 的效能好<a id="more"></a>，因此紀錄一下。</p>
<p><strong>~ (tilde)</strong> 位元運算符，延伸可以用來取整數，而且在<a href="https://jsperf.com/math-round-vs" target="_blank" rel="noopener">這連結</a>還有運算效能比較，運算速度比 Math.floor 好。以下列出一些基本比較結果</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">~~<span class="literal">null</span>;      <span class="comment">// output ==&gt; 0</span></span><br><span class="line">~~<span class="literal">undefined</span>; <span class="comment">// output ==&gt; 0</span></span><br><span class="line">~~<span class="number">0</span>;         <span class="comment">// output ==&gt; 0</span></span><br><span class="line">~~&#123;&#125;;        <span class="comment">// output ==&gt; 0</span></span><br><span class="line">~~[];        <span class="comment">// output ==&gt; 0</span></span><br><span class="line">~~(<span class="number">9</span>/<span class="number">0</span>);     <span class="comment">// output ==&gt; 0</span></span><br><span class="line">~~<span class="literal">false</span>;     <span class="comment">// output ==&gt; 0</span></span><br><span class="line">~~<span class="literal">true</span>;      <span class="comment">// output ==&gt; 1</span></span><br><span class="line">~~<span class="number">1.0213</span>;    <span class="comment">// output ==&gt; 1</span></span><br><span class="line">~~<span class="number">5.91561</span>;   <span class="comment">// output ==&gt; 5</span></span><br><span class="line">~~<span class="number">-3.6748</span>;   <span class="comment">// output ==&gt; -3</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Expressions_and_Operators" target="_blank" rel="noopener">MDN Expressions and operators</a></li>
<li><a href="http://www.kaiching.org/2010/12/javascript-bitwise.html" target="_blank" rel="noopener">程式語言教學誌 JS</a></li>
<li><a href="https://www.sitepoint.com/javascript-double-negation-trick-trouble/" target="_blank" rel="noopener">sitepoint JavaScript Double Negation</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Chrome 開發工具開啟命令列選單</title>
    <url>/2017/06/27/chrome-DevTools-command-menu/</url>
    <content><![CDATA[<p>在 <a href="https://umaar.com/dev-tips/98-command-menu/?utm_source=Dev+Tips&utm_campaign=dca63a36f9-EMAIL_CAMPAIGN_2017_06_22&utm_medium=email&utm_term=0_26bacd765c-dca63a36f9-310398313" target="_blank" rel="noopener">dev-tip</a> 上的訂閱看到，Chrome 的開發者工具，居然還可以這樣操作。<br><code>Ctrl + Shift + P</code></p>
<a id="more"></a>

<p><img src="https://lh3.googleusercontent.com/un8rX2XnfCc0BkSOcMzQCr1cwMs-ocYDRLvmZJMPtHxWvPi4eN9aqvhsdO97dgW0_wYkjgkRbgKIgDglg8jOduOVuFl3Vb_1p7nO-cJnEEbaCIA8FKLWPBOJ0Zff8dD1kg6pePY-U9j3cmt2gu5ElSepOyONqvs6HuK3XrRlqDnK29ll7fOL_aNx5ZmNOn1IgxYxsCGP4xRKtFvKD1Dqt0sU9D0dOmk01kEU63mVxOlTCAobhud1ZnX5nFyX77s6rCeWWPtn6KpkB079hRZAECUENuQHRJh2g8LKHToTD4SGwRwHnMb4tJnAKinyErMM5xQnsNQk0SzbIVrQHevD_cBSpy8mOs8AZ-UTT1EjCY_DqTk-C9craTiz7Vvgp9Mi60mU0gl7ZMiAnehwJc_SFt1eNzUZxWM96Zjo04piOM2WmHw6BZT9FH317xuBuETUZQG6VgoSKAv0CKNekjMi4Q6NlaXufK4Pe53DBX-z9HPw4u8904_OsB4ayPWfvv_Ahjz1Y4zzT9s8zpWuJx46XuRZmY-TFKIPZ65Gtoc4TMVRn-n8Xu92yDK34bB2VWlz0WSjjD70BMv9rIabPRK2BsUF7QzoIFFCMlOluwRtrOOJ9yVrgVj0=w885-h440-no" alt="Chrome DevTool command menu"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://umaar.com/dev-tips/98-command-menu/?utm_source=Dev+Tips&utm_campaign=dca63a36f9-EMAIL_CAMPAIGN_2017_06_22&utm_medium=email&utm_term=0_26bacd765c-dca63a36f9-310398313" target="_blank" rel="noopener">dev-tips</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title>位元運算與權限控制</title>
    <url>/2017/06/27/byte-operator-auth/</url>
    <content><![CDATA[<p>這一篇其實就是 <a href="https://shunnien.github.io/2017/06/23/byte-introduction/">byte 換算</a>文章中提過的權限資料，這些權限是使用位元來區分目前使用者擁有那些權限，針對這部分，順便把一些資料整理一下，說明一下權限設計的考量方向，然後針對位元運算與權限的方式說明。<a id="more"></a></p>
<p>大部分權限的要求，都是管理介面的部分，或是管理者與一般使用者混用的狀況；而常見的權限有建立(新增)、檢視、變更、刪除四種可能，這是操作功能的權限。另外一種就是帳號的權限，該帳號可以操作的系統功能等…。這兩種權限是息息相關的；舉例來說，以下是一個網站系統架構：購物車、分析圖表及會員資料皆可能有新增、檢視、變更、刪除四種功能權限</p>
<pre class="mermaid" style="text-align: center;">

graph TB
A(fa:fa-sitemap 網站系統)
A-->B1(fa:fa-cart-arrow-down 購物車)
A-->B2(fa:fa-area-chart 分析圖表)
A-->B3(fa:fa-user 會員資料)
</pre>

<p>將系統功能擁有的功能權限列出</p>
<ul>
<li>購物車，擁有新增、檢視、變更、刪除功能權限</li>
<li>分析圖表，擁有檢視功能權限</li>
<li>會員資料，擁有新增、檢視、變更、刪除功能權限</li>
</ul>
<p>但是不是每個使用者皆能擁有這些功能權限，假設一個是管理者，一個是一般使用者(購買者)，就可以看出分析圖表僅有管理者擁有，而且會員資料兩者也不同。所以使用者通常對應著系統功能項目的權限，設計方式還是需要看使用情境決定。</p>
<pre class="mermaid" style="text-align: center;">

graph LR
subgraph 使用者
A1(fa:fa-user 管理者)
A2(fa:fa-users 一般使用者)
end
subgraph 系統功能
A1-->|檢視 新增 修改 刪除|B1(fa:fa-cart-arrow-down 購物車)
A1-->|檢視|B2(fa:fa-area-chart 分析圖表)
A1-->|檢視 新增 修改 刪除|B3(fa:fa-user 會員資料)
A2-->|檢視 新增 修改 刪除|B1(fa:fa-cart-arrow-down 購物車)
A2-->|檢視 修改 刪除|B3(fa:fa-user 會員資料)
end
</pre>

<h2 id="位元運算與權限"><a href="#位元運算與權限" class="headerlink" title="位元運算與權限"></a>位元運算與權限</h2><p>上述的部分好像都沒提到位元運算，其實在設定新增、修改、刪除、檢視這幾項功能的時候，就可以使用。</p>
<table>
<thead>
<tr>
<th align="center">功能</th>
<th align="center">二進制</th>
<th align="left">10進制</th>
</tr>
</thead>
<tbody><tr>
<td align="center">新增</td>
<td align="center">00000001</td>
<td align="left">1</td>
</tr>
<tr>
<td align="center">修改</td>
<td align="center">00000010</td>
<td align="left">2</td>
</tr>
<tr>
<td align="center">刪除</td>
<td align="center">00001000</td>
<td align="left">8</td>
</tr>
<tr>
<td align="center">檢視</td>
<td align="center">00000100</td>
<td align="left">4</td>
</tr>
</tbody></table>
<p>稍微列出使用使用者對應的功能權限，功能權限應該是包含使用，例如：一般使用者同時擁有檢視、修改與刪除功能權限。<br>這部分做法就是使用 <strong>|</strong> 運算符了，其作法如下</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> OperList : <span class="keyword">byte</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">0x08 : 00001000</span></span><br><span class="line"><span class="comment">0x04 : 00000100</span></span><br><span class="line"><span class="comment">0x02 : 00000010</span></span><br><span class="line"><span class="comment">0x01 : 00000001</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 新增</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">add</span> = <span class="number">0x1</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 修改</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    edit = <span class="number">0x2</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 刪除</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    del = <span class="number">0x8</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 檢視</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    view = <span class="number">0x4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> admin = OperList.<span class="keyword">add</span> |OperList.edit|OperList.del|OperList.view;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這比較方式就是每一個 bit 去比較<br><img src="https://lh3.googleusercontent.com/6A6pa-1a7XbyZ0gZFO5F86NU_-BDAGtPY75TimLU53dzsicAeXBaVCfZGUSpf80aqbw2mhTA47P9M9Jd67xZjFAUBRE2uesQ1ONx34OYEaM4c47soR1YRD0WRh638UT62cJo6vYD_qtA4Mr-rnvbOU_AIVqR-bs6mXMAzIlGg88902se12GWgJGSwlSBZPlvAZSF4rQsNcJvRTgaGeE_wmYv7XQNCyu9zMMNVrECaVdtIwWJheuceAan-w47gLd2Sdw6J8lkKrDEm6nC3O_qGh5d9bIwy87Obyq0et03eqMkT9muDw4I55Rir3iYv1qG99x3WT_HqF86uwyKd-N6VSO_MmtuqDmvehqu8efP4L0iILHtFf8O7a--bC_ex0oQTK5ccChzbNE-euovLv0HyWnX6d1a8IZ6L7UaP7C9L37oY5kNV0KndrtqE55KIyL-sE3FSWxdY0pP2oml20-cOfnaaPu1QClQ33x6mWsihSCRSc57eVFeW_qrXNT4ewwNvSue-ZyACrO-YqtMbndQsLSRf_SgIUObtdxthnKPp1tqlw5IJa4znLXuToPqQ6TNRdLCSXbTFjqK_XTzSGW926LRiagYKFGvcmmn76OAAy1uNQrMCFlpWD-p4wk7xyxWwn-MBmQk0P4QB3KDhXvp3oAtX9_3gan6nWxGKbusuA=w486-h194-no" alt="bit operator compare"></p>
<table>
<thead>
<tr>
<th align="center">使用者名稱</th>
<th align="center">系統功能</th>
<th align="right">功能權限二進制</th>
<th align="left">功能權限10進制</th>
</tr>
</thead>
<tbody><tr>
<td align="center">管理者</td>
<td align="center">會員資料</td>
<td align="right">00001111</td>
<td align="left">15</td>
</tr>
<tr>
<td align="center">一般使用者</td>
<td align="center">會員資料</td>
<td align="right">00001110</td>
<td align="left">14</td>
</tr>
</tbody></table>
<p>所以當想要判斷使用者是否擁有其功能權限，就可以改使用 <strong>&amp;</strong> 運算符了。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://shunnien.github.io/2017/06/23/byte-introduction/">位元說明</a></li>
<li><a href="https://kknews.cc/zh-tw/tech/e94mzr.html" target="_blank" rel="noopener">位運算與權限控制</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>命令提示視窗中文字亂碼設定</title>
    <url>/2017/06/29/Unicode-characters-in-windows-command-line/</url>
    <content><![CDATA[<p>在命列提示視窗的中文字亂碼，是因為編碼問題，在 windows 中文系統中，命令提示視窗預設編碼是 Big5，當檔案是 UTF-8 編碼時，檔案讀取中文字會因為編碼不同而變成亂碼。<a id="more"></a></p>
<p>例如下圖：</p>
<p><img src="https://lh3.googleusercontent.com/ExbGk4WddcLTFyJ6y0_3r7oFa0DC5yJ9l4d0767Tquu8_Njb5Nt4WMDefxFJMtHeQpneNXYfmACjuOCCJ-cG0RSpDYELUX52BxQ4LgHNSIEVOhg84gwINCB2zbpTpMWrmTHObBCyIgsqYzV3x2jJB_IUjAJvdQrZKqFIQo4u-v44SZZew5q2942g2N-lxgPzNNI3S41reswh0C4_WJDtVfH6fmqGkjzUG3EL5FT3Gl_dvN6a4_ZUnA64NV3yKIWmM1o3U2fpW4oYCwmz9ULHb8TqOTpUoR2CpMY7ajwoNZloqdSzXnhSS5iCAgPeOsARdurDY3aXjGGi67wrGEm2cCBa6oARXMkAb5Hgo6yJ3kqJi5vjnR1r_94WJwG0Ck4iyHnlBwJTMfM_B9G83BREBpaTNcOURdphTwGQiokNEcs0lMNB29ESK-irG6n1cDgesElMPYTC2VkPFKkMLME1wLRIWI3YuU7q-1rKUA-LxvrBBd3_LrMYOGClD5dQi4oOg4MIKkz-oOfrs-LWgdlRZItM2JPVfGtlJ9CSNNvJN6ME9Jg9MAhKRtT8zmYZUpstiCNU1fmeryBodlxnDd9YPZhlLT3cXBjGaYKGu4t48QAoIaF9EXuULXqhHJmv-CvDR0z876lNqiHt6L7gWuzV79D6L5pyElvHHwcbEv7nmQ=w391-h597-no" alt="utf-8 code read"></p>
<p>這時候可以透過 <code>chcp</code> 指令來變更預設編碼，透過查詢 <a href="https://en.wikipedia.org/wiki/Code_page" target="_blank" rel="noopener">Code Page</a> 上的 UTF-8 編碼是 <strong>65001</strong>，直接進行指令設定</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chcp 65001</span><br></pre></td></tr></table></figure>
<p>不過需要注意的是，命令提示字元切換成 <strong>UTF-8</strong> 後，中文輸入法不能使用，不過我是使用 <a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a> 就沒有這個影響了，而在 <a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a> 中，可以將 chcp 直接設定在 Setting ，這樣就不會影響命令提示字元<br>設定路徑是</p>
<blockquote>
<p>Settings–&gt;Startup–&gt;Environmnet<br>然後將 <code>chcp 65001</code> 輸入</p>
</blockquote>
<p><img src="https://lh3.googleusercontent.com/CNnFzx9qFMlLVxPheqUw-S8XjYDGN5Zc2aPz9gs2KBmnBJe_n-EwBkzZ4y6n123sungSy_XfKHTMOofQOuiJdgCZgXX5OzF7HsJtfV-33kc3hmo7WNiD26gVca1_1kp01MFAhFfRqII70cNxrdLJBjTSX_yUv4PD5sfKmJ25QMbZ6G3gSyXzgxnKcJYUoZrqv1PdrQU3E4R-nEGwZLwn1M5bXly0ZnOxC1ZDreY3DSfnbgSOXdAlJEgrQngM9i8jTKGYZsaE1Kq4BLPNrZpYjvIOGXYVlGdk9lSCZ-MAM3rjAl8SoMPRyuNUFOfS94P0UdQHcCdF20lUNiOpQLEnzT2hP-OLfmizsyUbb2lcA5XloJdEcjIWz6dNIYwWJnIfKahTAjFCJBSCbW7cw7rMgU2_rh8RXf2wBLIgN-0Dr3-91Nl2QBeyj-odpFJ85zl642I5zqzAlDaAksZzeSGp1wFg01kccePzOIm7arjsiUsHheNU4H5J_scHsZcKe87MIRNq2n0-zm8ozf8TPjJJOS9qfQ0JK5bqxicI_DkFzstdPqB3pUucU830tKj8aKa8u_A7l2sLavfKAUBYgi1wQzASZdX2xPfhYsZWrCNyvFq2S7MWfI6Fwj8dym2y_EZpBV8hoxF3AkN-C4qxiOWvzTnJ-T6yaBBT-ET7kNx0hg=w641-h395-no" alt="cmder setting"></p>
<p>不過使用 UTF-8 編碼還是有個缺點，就是行文字過長時，中文字將會重疊，所以要不要使用，看情況決定囉。<br><img src="https://lh3.googleusercontent.com/ff152HTcEE_k5zFUAhHcYyVBT2f2_LCxBmDvz7svI61MPNZPiu-vqu0b2Nt4-DlEjoODjS0W2EuH21NW6Y58EK9IX1BKHjS41AO3cY6zo6hjX_TMqst0RDs-fpaaWs3JoodAG0TBXcwyf0sJ3LIU6z7beoic55livUsdePGS86BLGdhckoxwTbMpTnigrkld60rB7zfj9Lwq0PtA9HvZ2GwZQ1suOO4gxKsLsWYsDW8hdH3XGBKF_Cgyaluo8vlEet_SuzndfSDk0LqqMVmz1XtSQIzRZx5Ah5_ZuvvzxlHFJOx2hI7GO2o4F4UmcPFIe6Q3YoiIeZFRFhmyIEy0O1ncnIlHSuuAEQ8EKdVzg26pzjuzoC6P_lPge9e6WCPjlcu1BLCKmJkTv2gZIP_77AtzIbdpDxdWgOlhO71LCsIpdokehINVshtM9VMvgMftY8dyoS0I0uVvWXP6i4_NcBYmJ2ugZPkS7CoLmH7s8bnCH9g0ONIdzVdkhWpsitLET5CbiJFTEqHkTcNBgWxXprDPaiQa8B1Hc08burIc1ITLwg28qqjXVuZq10_sNGl-xfIEGcOKsi-VgXlupibAnaVlZ08W9XjnOsTVHs_S3FiKRiB-a41dNMPGKR7OItncHv58i1PW1e1FhmRY1Wxab0VrYVYQ_dzwTVdCX0LVJA=w208-h67-no" alt="重疊文字"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Code_page" target="_blank" rel="noopener">Wiki Code Page</a></li>
<li><a href="https://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/chcp.mspx?mfr=true" target="_blank" rel="noopener">Microsoft chcp</a></li>
<li><a href="http://blog.darkthread.net/post-2011-08-11-command-prompt-codepage.aspx" target="_blank" rel="noopener">Darkthread Blog</a></li>
<li><a href="https://stackoverflow.com/questions/388490/unicode-characters-in-windows-command-line-how" target="_blank" rel="noopener">Stackoverflow 上的討論</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>notes</tag>
        <tag>Cmder</tag>
      </tags>
  </entry>
  <entry>
    <title>Sublime Text3 個人設定</title>
    <url>/2017/06/30/Sublime-Text-My-Setting/</url>
    <content><![CDATA[<p>常用的個人設定，紀錄一下。<a id="more"></a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 顏色樣式</span></span><br><span class="line">    <span class="string">"color_scheme"</span>: <span class="string">"Packages/User/SublimeLinter/Monokai (SL).tmTheme"</span>,</span><br><span class="line">    <span class="comment">// 縮排檢測，當一個新檔案讀取的時候，會進行檢測，然後決定是否自動縮排</span></span><br><span class="line">    <span class="string">"detect_indentation"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// DPI 的縮放比例，Sublime Text 3 會根據作業系統目前的 DPI 設定，去同步放大/縮小其介面的各個元件，若作業系統的 DPI 調大，則 Sublime Text 3 的所有欄位也會跟著放大，遮住主要的編輯區塊。</span></span><br><span class="line">    <span class="string">"dpi_scale"</span>: <span class="number">1.0</span>,</span><br><span class="line">    <span class="comment">// 顯示空格字元</span></span><br><span class="line">    <span class="string">"draw_white_space"</span>: <span class="string">"all"</span>,</span><br><span class="line">    <span class="comment">// 字型</span></span><br><span class="line">    <span class="string">"font_face"</span>: <span class="string">"Consolas"</span>,</span><br><span class="line">    <span class="comment">// 字型大小</span></span><br><span class="line">    <span class="string">"font_size"</span>: <span class="number">23</span>,</span><br><span class="line">    <span class="comment">// tab 按鍵的空格字元，表示一個 tab 代表幾個空格</span></span><br><span class="line">    <span class="string">"tab_size"</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="comment">// 將 tab 轉換為空格，搭配 tab_size 的數值去進行轉換</span></span><br><span class="line">    <span class="string">"translate_tabs_to_spaces"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// 游標加粗</span></span><br><span class="line">    <span class="string">"wide_caret"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// 刪除不必要的空白</span></span><br><span class="line">    <span class="string">"trim_trailing_white_space_on_save"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// 有編輯過且還沒儲存的文件檔案顯示為橘色</span></span><br><span class="line">    <span class="string">"highlight_modified_tabs"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// 明顯顯示游標目前在哪一行</span></span><br><span class="line">    <span class="string">"highlight_line"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Sublime Text3</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL 按照資料中的數值去分隔計算</title>
    <url>/2017/06/30/sql-sum-every-5-rows-in-one-row/</url>
    <content><![CDATA[<p>朋友有個需求，其資料類似以下所示，LCount 與 NCount 是某些資料的計算結果，其目的是將 LCount 按照 5 的倍數區分群組，例如: 11～15、16～20、21～25…之類的，再去合計 NCount。<a id="more"></a></p>
<table>
<thead>
<tr>
<th align="center">LCount</th>
<th align="center">NCount</th>
</tr>
</thead>
<tbody><tr>
<td align="center">11</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">13</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">14</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">15</td>
<td align="center">5</td>
</tr>
<tr>
<td align="center">16</td>
<td align="center">6</td>
</tr>
<tr>
<td align="center">17</td>
<td align="center">7</td>
</tr>
<tr>
<td align="center">18</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">19</td>
<td align="center">9</td>
</tr>
<tr>
<td align="center">20</td>
<td align="center">10</td>
</tr>
<tr>
<td align="center">26</td>
<td align="center">11</td>
</tr>
<tr>
<td align="center">36</td>
<td align="center">12</td>
</tr>
<tr>
<td align="center">40</td>
<td align="center">13</td>
</tr>
<tr>
<td align="center">44</td>
<td align="center">14</td>
</tr>
<tr>
<td align="center">45</td>
<td align="center">15</td>
</tr>
<tr>
<td align="center">128</td>
<td align="center">16</td>
</tr>
</tbody></table>
<p>那這個其實就還是 group by 的問題，但是可以使用 <strong>SUM() OVER</strong> 加上 <strong>Partition by</strong> 來快速取得合計結果，作法如下。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    LCount</span><br><span class="line">   ,NCount</span><br><span class="line">   <span class="comment">-- rn 是分組的編號</span></span><br><span class="line">   ,<span class="keyword">RANK</span>() <span class="keyword">OVER</span> (<span class="keyword">ORDER</span> <span class="keyword">BY</span> ((LCount - <span class="number">1</span>) / <span class="number">5</span>)) <span class="keyword">AS</span> rn</span><br><span class="line">   ,<span class="keyword">SUM</span>(NCount) <span class="keyword">OVER</span> (<span class="keyword">PARTITION</span> <span class="keyword">BY</span> ((LCount - <span class="number">1</span>) / <span class="number">5</span>)) <span class="keyword">AS</span> <span class="string">'Total'</span></span><br><span class="line"><span class="keyword">FROM</span> tempdemo</span><br></pre></td></tr></table></figure>

<p>呈現的結果如下，Total 就是合計的結果。</p>
<table>
<thead>
<tr>
<th align="center">LCount</th>
<th align="center">NCount</th>
<th align="center">rn</th>
<th align="center">Total</th>
</tr>
</thead>
<tbody><tr>
<td align="center">11</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">15</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">2</td>
<td align="center">1</td>
<td align="center">15</td>
</tr>
<tr>
<td align="center">13</td>
<td align="center">3</td>
<td align="center">1</td>
<td align="center">15</td>
</tr>
<tr>
<td align="center">14</td>
<td align="center">4</td>
<td align="center">1</td>
<td align="center">15</td>
</tr>
<tr>
<td align="center">15</td>
<td align="center">5</td>
<td align="center">1</td>
<td align="center">15</td>
</tr>
<tr>
<td align="center">16</td>
<td align="center">6</td>
<td align="center">6</td>
<td align="center">40</td>
</tr>
<tr>
<td align="center">17</td>
<td align="center">7</td>
<td align="center">6</td>
<td align="center">40</td>
</tr>
<tr>
<td align="center">18</td>
<td align="center">8</td>
<td align="center">6</td>
<td align="center">40</td>
</tr>
<tr>
<td align="center">19</td>
<td align="center">9</td>
<td align="center">6</td>
<td align="center">40</td>
</tr>
<tr>
<td align="center">20</td>
<td align="center">10</td>
<td align="center">6</td>
<td align="center">40</td>
</tr>
<tr>
<td align="center">26</td>
<td align="center">11</td>
<td align="center">11</td>
<td align="center">11</td>
</tr>
<tr>
<td align="center">36</td>
<td align="center">12</td>
<td align="center">12</td>
<td align="center">25</td>
</tr>
<tr>
<td align="center">40</td>
<td align="center">13</td>
<td align="center">12</td>
<td align="center">25</td>
</tr>
<tr>
<td align="center">44</td>
<td align="center">14</td>
<td align="center">14</td>
<td align="center">29</td>
</tr>
<tr>
<td align="center">45</td>
<td align="center">15</td>
<td align="center">14</td>
<td align="center">29</td>
</tr>
<tr>
<td align="center">128</td>
<td align="center">16</td>
<td align="center">16</td>
<td align="center">16</td>
</tr>
</tbody></table>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><p><a href="http://sqlfiddle.com/#!6/43834/23" target="_blank" rel="noopener">SQL fiddle 範例</a></p>
<ul>
<li><a href="https://social.msdn.microsoft.com/Forums/sqlserver/en-US/71e3149e-7d6c-4de6-be35-c50ac0a7540d/sum-every-20-rows-in-one-row?forum=sqlreportingservices" target="_blank" rel="noopener">msdn 論壇</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 取得 Url 的 Query String</title>
    <url>/2017/07/03/Get-Query-String-Parameters-with-JavaScript/</url>
    <content><![CDATA[<p>因為維護某個系統需要，需要使用 Query String 來進行頁面切換，取得 Query String 的方式有很多，例如：自行撰寫，或是透過 API 等…以下列出這些方式。<a id="more"></a></p>
<h2 id="透過-URLSearchParams-API"><a href="#透過-URLSearchParams-API" class="headerlink" title="透過 URLSearchParams API"></a>透過 <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/URLSearchParams" target="_blank" rel="noopener">URLSearchParams</a> API</h2><p>這 API 使用方式簡單而且操作便利，但是不是所有瀏覽器都支援，所以想要全部支援的話，可能要考慮其他方式</p>
<p><img src="https://lh3.googleusercontent.com/JqECbHODGdFx7JXnmUrkcQuQBu__KASvI14ES-9ZOc3Pon6m-tpwClrKHnEmBVP8BwJE0hLft4tuvDI6kJxM5HB4ZIoLkxTlrh5fjAZKPfM9jn04n3A6wXoqnZkFLK9_M7o2oX8lGueGr-AEMEq4fT7AnsVWR7cxyFvaPxltsnQh55Dwz8itVOXtZ0vPGH_hD5YX9mLUeY6kRzQeXdSMEdnC1PZZ8fGKjR96KBNyGFNZRafQzEK-1CUlpPMgi4xbnle7o7mdLv2esrrPdvHKTcuJxhgdP4LsmGIlMcWeLnCSR9dU2hJLwxgGOVvUW0P-XoPo_Ewffu4v7RfNsnn5rfjRhWldKHYGF7Vn59sLp92qS9yaqTxu4GdvqVSZXMT_7jtvfCDEJIQf3nuoAb30_F2ZVUYVac5h4CBlux1LcTrTwwPIQj8om8o8VKvieOoa02JFAy_-AaNuZ40onMyeF78WMf-Ptr_jflxfLc85gRrWZwOwwkieR-zPIk6-iVQ-k95KhD4sAQIaQYUv1f2lw75-nZ-g9t-1mqUSNbXkbFKXvptImtmCr0WjjJEFKsRHH_n4uOJdFPQ13jEu40OSvfjDearyckhgRGAm0E5CWt7xOU8sQf-I9xOpdeychT-Ty5XPvpcP-aK7VyleBRNKCehwNtBAykX6uE0PXo0xAg=w861-h639-no" alt="URLSearchParams caniuse"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 假設 "?q=1234&amp;txt=abc"</span></span><br><span class="line"><span class="keyword">let</span> urlParams = <span class="keyword">new</span> URLSearchParams(<span class="built_in">window</span>.location.search);</span><br><span class="line"><span class="built_in">console</span>.log(urlParams.has(<span class="string">'q'</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(urlParams.get(<span class="string">'txt'</span>)); <span class="comment">// "abc"</span></span><br><span class="line"><span class="built_in">console</span>.log(urlParams.getAll(<span class="string">'action'</span>)); <span class="comment">// ["abc"]</span></span><br><span class="line"><span class="built_in">console</span>.log(urlParams.toString()); <span class="comment">// "q=1234&amp;txt=abc"</span></span><br><span class="line"><span class="built_in">console</span>.log(urlParams.append(<span class="string">'page'</span>, <span class="string">'1'</span>)); <span class="comment">// "q=1234&amp;txt=abc&amp;page=1"</span></span><br></pre></td></tr></table></figure>

<h2 id="透過-URL-API"><a href="#透過-URL-API" class="headerlink" title="透過 URL API"></a>透過 <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" target="_blank" rel="noopener">URL API</a></h2><p>各瀏覽器對於 <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" target="_blank" rel="noopener">URL API</a> 的支援度比 <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/URLSearchParams" target="_blank" rel="noopener">URLSearchParams</a> 高，但是可以從 <a href="http://caniuse.com/#search=URL" target="_blank" rel="noopener">CanIUse</a> 看出，還是有些不支援。</p>
<p><img src="https://lh3.googleusercontent.com/8uAKVIH573weKn5z1HeacJI3_Ouphx1flP7WBRvQ0O_SkKoxa3P9jejRiHyPVURA7x6kYXgtcASQjnYcYsMTqq6dF8ZpT1Kzx3m5mFM95FhgqswwLt6IurLAR9XRR3JrFD3DQ7JaaGT2tbR9Yvcjsw7TO2LpgrLq7vxeO8yObgqHUlvBVW6njiHvX73BE6lrRmgx_Hpa_IHZ37yeBmA2wJ_Bc36Zb3Pl5hAR79B3d_6Z1oxOR_sUn4bbhBxpBfT9e7QtAGL7AWLzL4w__WFRHFRru6HpvRugD7TJ7gckfkvWeRH8h5yJ_hta7onyYeGvFGH-YssjYRSmUY4Zy394uge1odX-9upK73gnU0or4BwAc2aBLjgrHNVYiFpX7WDbtr6GFDTm2yMK2GeOhsbFg5f_DznlPJQHOnwjD0amls9lJ5alV0OksCeNEsou_0SbIW1YgCRR1b7HXHZfWQ1Fr5a8PbpHE0EGbjtNoId7y3lBRSinpGEaaoC1xq0fHmUitdGTYreyccTVM8EnUEaZVbI3BXIEINERWBSsG4FJT17Akvkm26ezqEbSdYqDGfQO_i8LvhYQQm_Q84B_QlC2P4E34Wv7C9BXRvC6fCRhE1Yz8siGIN3OvWU8EpDk0mNBFcnb81ci8wqxrU25awt2cbg963VImBs7sIkWvIblrw=w850-h640-no" alt="Url caniuse"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> url_string = <span class="string">"http://www.example.com/index.html?a=1&amp;b=m2"</span>;</span><br><span class="line"><span class="keyword">let</span> url = <span class="keyword">new</span> URL(url_string);</span><br><span class="line">url.searchParams.has(<span class="string">"b"</span>);  <span class="comment">// true</span></span><br><span class="line">url.searchParams.get(<span class="string">"b"</span>);  <span class="comment">// m2</span></span><br></pre></td></tr></table></figure>

<h2 id="自行撰寫"><a href="#自行撰寫" class="headerlink" title="自行撰寫"></a>自行撰寫</h2><p>不透過 API 的話，就是使用現有 JavaScript 去撰寫 Url 的分析，擷取出參數，撰寫邏輯可以參考 Github 上許多 <a href="https://github.com/search?l=JavaScript&q=url+search+param&type=Repositories&utf8=%E2%9C%93" target="_blank" rel="noopener">open source</a> 的專案，以下的程式碼引用至<br><a href="https://github.com/WebReflection/url-search-params" target="_blank" rel="noopener">WebReflection url-search-params</a> 專案</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUrlParameter</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    name = name.replace(<span class="regexp">/[\[]/</span>, <span class="string">'\\['</span>).replace(<span class="regexp">/[\]]/</span>, <span class="string">'\\]'</span>);</span><br><span class="line">    <span class="keyword">var</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'[\\?&amp;]'</span> + name + <span class="string">'=([^&amp;#]*)'</span>);</span><br><span class="line">    <span class="keyword">var</span> results = regex.exec(location.search);</span><br><span class="line">    <span class="keyword">return</span> results === <span class="literal">null</span> ? <span class="string">''</span> : <span class="built_in">decodeURIComponent</span>(results[<span class="number">1</span>].replace(<span class="regexp">/\+/g</span>, <span class="string">' '</span>));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>假如不使用 Regex 的話</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 假設 http://sample.com/index.html?a=1&amp;b=2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">queryString</span> (<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// This function is anonymous, is executed immediately and</span></span><br><span class="line">    <span class="comment">// the return value is assigned to QueryString!</span></span><br><span class="line">    <span class="keyword">var</span> query_string = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> query = <span class="built_in">window</span>.location.search.substring(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> vars = query.split(<span class="string">"&amp;"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; vars.length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> pair = vars[i].split(<span class="string">"="</span>);</span><br><span class="line">        <span class="comment">// If first entry with this name</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> query_string[pair[<span class="number">0</span>]] === <span class="string">"undefined"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            query_string[pair[<span class="number">0</span>]] = pair[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// If second entry with this name</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> query_string[pair[<span class="number">0</span>]] === <span class="string">"string"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> arr = [query_string[pair[<span class="number">0</span>]], pair[<span class="number">1</span>]];</span><br><span class="line">            query_string[pair[<span class="number">0</span>]] = arr;</span><br><span class="line">            <span class="comment">// If third or later entry with this name</span></span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            query_string[pair[<span class="number">0</span>]].push(pair[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> query_string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">queryString(); <span class="comment">// &#123;a: "1", b: "2"&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/URLSearchParams" target="_blank" rel="noopener">MDN URLSearchParams</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location" target="_blank" rel="noopener">MDN Location object</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" target="_blank" rel="noopener">MDN URL API</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Favicon 圖示</title>
    <url>/2017/07/05/html-favicon-file-type/</url>
    <content><![CDATA[<p>為了美觀與方便辨識，會在網站設置 icon，這個 icon 檔案可以是 png 檔案或是常見的 icon 檔案，也可以是 svg 檔案，但是各家瀏覽器的支援度不一，所以有些檔案類型幾乎不會使用到，這邊紀錄這些較少使用的檔案類型。<a id="more"></a><br><img src="https://lh3.googleusercontent.com/PUD2riK79JS0HYascOQ9HL9lZBw6rDqhyHn15fsHDvEV89FllksczqnHetxslVxKcyEJPoFxiGAFHyONfYKtPCJ1b76xafNAMCHDrBy5Xq95pulYMXC_SB7Och3fZhRSHryVqdTc2ihDfzERACsSWBYXsUAcmwbVU4WUSn7GS8TR5fsiSQjksMug79kdtbV87NFPCzT2yN66nK5_Xrnehlf07ypnQ7P_nt_t_-soZR-OGULUkDsWuNrNbokJskGNSlSuqwdgsxyueoWRPev_1eimSEH7cd297cDKy_ZN-F3t_ofIdTCQ-c2CS52YnbxxKT1NSN2DjwnsbA6PUO5jiWkWOr_ViAD_qy7e7UjYgDI4OMcbdSrDBRv7UknbjEEidoE9Sa9AzH7hTKT_SsCsHRsPCAh8feayOHjW7Tnjqk15zqUUmMVCbQPIcXMABMI6GdgQ9kShAO8QMtoWUbZkpGBeNOuKDHUzkyAvo2bv_u5uJ1zzPqDIiskNElMmJRO44xdmZHn5YDazrLr-ISBigSzKW0GOVw2_vKNKusHqor_qGsZOV1y3oqoKc6yhkEmJF20W7xaT_3cjSu4c_Xt6Kh962Uy9tIUXvEGV4QXRcerApYIWTzwFe_Xyw2mrJxdONKig2KdRZWZ6ux2W3mCGbQnKfS6I3SbYrx0Qie2RGA=w156-h109-no" alt="browser icon"></p>
<p><strong>icon</strong> 的使用是透過 <code>&lt;link&gt;</code> 標籤，主要類型有：</p>
<ul>
<li>png image/png</li>
<li>ico image/vnd.microsoft.icon</li>
<li>icns</li>
<li>svg image/svg+xml</li>
</ul>
<p>詳細定義可以參考 <a href="http://w3c.github.io/html/links.html#link-type-icon" target="_blank" rel="noopener">W3C HTML 文件</a>，而在 Html 頁面上，使用方式範例引用文件內容如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>lsForums — Inbox<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">icon</span> <span class="attr">href</span>=<span class="string">favicon.png</span> <span class="attr">sizes</span>=<span class="string">"16x16"</span> <span class="attr">type</span>=<span class="string">"image/png"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">icon</span> <span class="attr">href</span>=<span class="string">windows.ico</span> <span class="attr">sizes</span>=<span class="string">"32x32 48x48"</span> <span class="attr">type</span>=<span class="string">"image/vnd.microsoft.icon"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">icon</span> <span class="attr">href</span>=<span class="string">mac.icns</span> <span class="attr">sizes</span>=<span class="string">"128x128 512x512 8192x8192 32768x32768"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">icon</span> <span class="attr">href</span>=<span class="string">iphone.png</span> <span class="attr">sizes</span>=<span class="string">"57x57"</span> <span class="attr">type</span>=<span class="string">"image/png"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">icon</span> <span class="attr">href</span>=<span class="string">gnome.svg</span> <span class="attr">sizes</span>=<span class="string">"any"</span> <span class="attr">type</span>=<span class="string">"image/svg+xml"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">stylesheet</span> <span class="attr">href</span>=<span class="string">lsforums.css</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">lsforums.js</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">application-name</span> <span class="attr">content</span>=<span class="string">"lsForums"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>至於各瀏覽器的適用性，目前除了 svg 外，其他類型的支援度都有 8 成，所以想要通用的支援度，最好還是使用 ico 就好，詳細的比較可以在 <a href="http://caniuse.com/#search=favicons" target="_blank" rel="noopener">CanIUse favicon</a> 觀看。</p>
<p><img src="https://lh3.googleusercontent.com/sqVW44VtQxnV6CBbjF0EhqQeMfiU4BB-bGYMun_CvMIqp3yWrYwuwiS8Jj1lNElxAR_xmIk5N_uUrdYvWbsGV4CUfqeAr5US1EIMPGlXFiuZUwBl1s23WXFuil7vdOxeC6cuwFvcMCr3bAJRoBUZMZpjqxn9EXMCrv9X7o6jVHlaq2zYgFVjZfIRmfGZ80NOkmogi9__-0Yg2u7lol4TotBx-m00c5s-gd2binFV-sOyD_lxn1xNlpRA-9hWz62QgZg7oMj-teMNw9sXjvM8U9hYx0Pgp12LbxzyqMe89JXe6PmQ8FesbQ1jUaTH7V_kE0PYo8hOgI4q1Krd-HiThVUCYvSnIyKGKgN6lbuaKMcEaHmAwBu4u8eIo6NxRjxUnZjP_WWC-Cs3r5KkCIX8tS8OXjOESDCpAH0GicKBp9xItGh-zsgTAe6eNSN9Vv7-aYFr21DSyOOR_uNGV9RvQ8r6Ar8xCxrLLxDZqVB0NKW7V59Jt3LvulnMFc169cE1iUR-lSV_W-t65Y5GMpkhuu2_PnWu3iL5VA4Vn8iGz1_S-sSRQlu5Q-cZnyK5EO-LrNA_3JQt7IVvqYH-O9zuT-OZe9CkAiXWCZCyu9kKN3L2Z_ycAVWQT-zT7--3zXP9V8yVDcI0vtYP9s_2Aryjyjk2YfRp265b4TJXJbK0BA=w851-h561-no" alt="png caniuse"></p>
<p><img src="https://lh3.googleusercontent.com/4oZtCjqCJRCxZcyx1c_EEVUpt9NEkwws_mRDA-YvJLVCvI_sr7LQNhaZqGbowas6KcaIcL5OaRNJ62ZRriFK2ywrt48KfnqmKYTRBFA7jGgdp4WpEzpK1Qm8V1E8G5xIhsZsqMVf8xqz4Sh6DAoiJA7tPTZK89mAaKBH_0HqN-EMASn6SVVPP_qK9AioeLbGx4g06m19pUL7z28p_YBmCo1C9wB95hoGNIoslynP2tflsRn9xmDDvOWgHpct-Sp41uzz3kyQuyi-wXvxw6dwgS-zaCNMBGZ1inwxKjc_IzxcE9PIeh4OHkKRH1Ddm_O962sRulRbIu-1wExD-PuTaGqrXC195_EttePAel5aJoLhdlbK3uvi-MYWDG19nJ4EgUe3KawdzI7OsHCviW2xN8YE6HMf53ya9bXVAIrZU7ZvRyJNKx9cATsyFX6VoK24ISojeaCiLKGqqHUob53ZJ6uPFy_4g6s2gEpJgyidPAGrt8TUHITd7EcillA0n8fulUaqObPH1I29DtioqvshHmQ0g6fKGhgwOtF778IqJ3sqxWlMjDcFFzjxP2aneVuJsEnZp8_ZqSZeWaU7SfAnVswtTi9oKfwQculaZeL3Dw70geg1AtOZZNZcoh4o6O8gF_8lDYoyCDmECX9E_Ed-WKyQKI4cbDp316JOQBnH6A=w843-h652-no" alt="svg caniuse"></p>
<p>提供一個線上的 <a href="https://www.websiteplanet.com/webtools/favicon-generator/" target="_blank" rel="noopener">favicon 產生工具</a>，此工具上傳的圖片限制為 5 MB</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://caniuse.com/#search=favicons" target="_blank" rel="noopener">CanIUse favicon</a></li>
<li><a href="https://www.websiteplanet.com/webtools/favicon-generator/" target="_blank" rel="noopener">Favicon線上製作轉換工具</a></li>
<li><a href="https://stackoverflow.com/questions/23849377/html-5-favicon-support" target="_blank" rel="noopener">stackoverflow HTML 5 Favicon?</a></li>
<li><a href="http://www.flaticon.com/" target="_blank" rel="noopener">免費 icon</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Html</tag>
      </tags>
  </entry>
  <entry>
    <title>利用指令參數開啟 Cmder 分頁</title>
    <url>/2017/07/07/cmder-new-console/</url>
    <content><![CDATA[<p>承續<a href="https://shunnien.github.io/2017/07/07/open-a-new-cmder/#more">上篇</a>，開啟的 <strong><a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a></strong> 是新視窗，但是 <strong><a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a></strong> 的特色有分頁呀，所以希望直接開啟分頁，這樣視窗也比較好管理。<a id="more"></a></p>
<p>想要開啟分頁，先了解一下 <strong><a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a></strong> 是透過 <strong><a href="https://conemu.github.io/" target="_blank" rel="noopener">ConEmu</a></strong> 來組合命令列介面的，所以想要開啟分頁，主要啟動的程式，是 <strong><a href="https://conemu.github.io/" target="_blank" rel="noopener">ConEmu</a></strong> ，再透過參數去指定其設定。</p>
<p>這指令的路徑請自行更換為各自的 <strong><a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a></strong> 路徑</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:\cmder\vendor\conemu-maximus5\ConEmu.exe /cmd cmd /k <span class="string">"D:\cmder\vendor\init.bat"</span> -new_console:%d</span><br></pre></td></tr></table></figure>

<p>如果想要添加 Title 的話，可以照一下這個設定</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:\cmder\vendor\conemu-maximus5\ConEmu.exe /icon <span class="string">"D:\cmder\Cmder.exe"</span> /title Cmder /cmd cmd /k <span class="string">"D:\cmder\vendor\init.bat"</span> -new_console:%d</span><br></pre></td></tr></table></figure>
<p>附上 <strong><a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a></strong> 中的設定，不過 <strong><a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a></strong> 要先安裝擴充套件 <strong><a href="https://marketplace.visualstudio.com/items?itemName=MadsKristensen.OpenCommandLine" target="_blank" rel="noopener">OpenCommandLine</a></strong> 才會有這個設定喔。另外，在 <strong><a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a></strong> 時候，指定命令列啟動後的路徑，對應到現在檔案資料夾路徑的餐數不是 <code>%d</code> 而是 <code>%folder%</code>。</p>
<p><img src="https://lh3.googleusercontent.com/Yssj-Wtp4TAHPWNsOmcBSjRV7UmbYy_7mVHxr2M28ErI4J06ZCGNX8FNpcelbNnRPXS7LTWUIjn5lyBJuNIjX-NitoahxreuZbKZiCZPbQQ1qdzOgBY2pPf3o52EPU_AU2mrzM0Ie33sGtjMKwLqNwRNV-5bhKMtOmkn40e7vu73M6qfLGiAqwokvVFDcdr8nq_XBNhbb1b5l5IP5zrlswDLJ5dsd-f31Z7geLjyZmeLc22v_1lJJVzrBvNIYajsC9ZeQYCWaYgDq1X0pdID9qjV-gPMZizQoKJdVXK7_YLAY8rFAAiRMAym4awQhJOoacp4jMu3EsDNZZBLaaiNCBGkDQKExhUzicu-pwHxIUJ1gkH5q7tesVSIi02sHx4WPgfnQ2IxGElrZXseqBzWxBRgPnggrAEpJUUU-wl0zkBPy-LYsJL-5dPCex3nlyMRx7b9bjIalFcAJUaqI7KxR4mUEEGwiblQ6ob9r3K3IOUEnVuF_VV4G8oBQHckJFF-G4OjCfq3zYrZh-bAlGKtLLYjsP56hEh6aaV7eC_sxqLBCo2tVm94GxpNu6SozLelCftQchfWrP9fGSQKEPzY9dZ0_JKjNawfY8K3SNUaxtlTiX0jBWj5PjLhzxpx4iF00YtNLwXC3383WdC2D9R-ZLWAYkbA6dVMirwYCOULhwG54w=w846-h585-no" alt="OpenCommandLine set"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><p>附上這些工具的連結</p>
<ul>
<li><a href="https://github.com/cmderdev/cmder/issues/457" target="_blank" rel="noopener">Github issue 457</a></li>
<li><a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a></li>
<li><a href="https://www.gitkraken.com/" target="_blank" rel="noopener">GitKraken</a></li>
<li><a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=MadsKristensen.OpenCommandLine" target="_blank" rel="noopener">OpenCommandLine</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Cmder</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript isNaN vs Number.isNaN</title>
    <url>/2017/07/04/JavaScript-isNaN-vs-Number-isNan/</url>
    <content><![CDATA[<p>isNaN 與 Number.isNaN，兩個方法是不同的，NaN 是非數值資料的表示，而這兩個方法都是判斷資料是否<strong>非數值</strong>，isNaN 是比較早期的方法，所以有許多特別的特例 <a id="more"></a></p>
<h2 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h2><blockquote><p>全域屬性 NaN 表示「非數值」（Not-A-Number）的數值。</p>
<p>NaN 的屬性屬於全域物件。</p>
<p>如同 Number.NaN 一般，NaN 的初始數值是「<strong>非數值</strong>」。在當今的瀏覽器中，NaN 屬性<strong>不可設定</strong>（non-configurable）也<strong>不可覆寫</strong>（non-writable）。雖然可能有例外，也請不要覆蓋它。</p>
<p>寫程式很少會直接動用 NaN。通常是在 Math 函式計算失敗（Math.sqrt(-1)）或函式解析數字失敗（parseInt(“blabla”)）後才會回傳。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN" target="_blank" rel="noopener">MDN NaN</a></cite></footer></blockquote>

<h2 id="isNaN"><a href="#isNaN" class="headerlink" title="isNaN"></a>isNaN</h2><blockquote><p><strong>isNaN()</strong> 函式會判斷某個數值是不是 NaN。</p>
<p><strong>注意</strong>：在 isNaN 函式裡面，有個有趣的強制性規則。你可能會想改用在 ECMAScript 6 導入的 Number.isNaN()、或是用 typeof 來判斷某個數值是不是「非數字」（Not-A-Number）。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/isNaN" target="_blank" rel="noopener">MDN isNaN</a></cite></footer></blockquote>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">isNaN</span>(<span class="number">123</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">-1.23</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">5</span><span class="number">-2</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">0</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">'123'</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">'Hello'</span>) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">'2005/12/12'</span>) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">''</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">true</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">undefined</span>) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">'NaN'</span>) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">NaN</span>) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">0</span> / <span class="number">0</span>) <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h2 id="Number-isNaN"><a href="#Number-isNaN" class="headerlink" title="Number.isNaN"></a>Number.isNaN</h2><blockquote><p>Number.isNaN()方法確定傳遞的值是否為NaN和其類型是Number。它是原始的全局isNaN()的更強大的版本。</p>
<p>和全局函數isNaN()相比，該方法不會強制將參數轉換成數字，只有在參數是真正的數字類型，且值為NaN的時候才會返回true。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN" target="_blank" rel="noopener">MDN Number.isNaN</a></cite></footer></blockquote>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">123</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">-1.23</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">5</span><span class="number">-2</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">0</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">'123'</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">'Hello'</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">'2005/12/12'</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">''</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">true</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">undefined</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">'NaN'</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">0</span> / <span class="number">0</span>) <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h2 id="isNaN-vs-Number-isNaN"><a href="#isNaN-vs-Number-isNaN" class="headerlink" title="isNaN vs Number.isNaN"></a>isNaN vs Number.isNaN</h2><p>由上述的定義說明得知，<strong>NaN</strong> 就是用來判斷是否數值，那為什麼要使用 <strong>isNaN</strong>(不管 isNaN 或 Number.isNaN) 來判斷？</p>
<p>因為在JavaScript中，NaN 最特殊的地方，就是與其他 JavaScript 的值不同，我們不能使用等號運算符（== 與 ===）來判斷某個值是不是 NaN，因為連</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="literal">NaN</span> == <span class="literal">NaN</span>  <span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> === <span class="literal">NaN</span>  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>結果都是 <strong>false</strong>。</p>
<p>因此，必須要有一個判斷值是否是 NaN 的方法。以下列出比較特別的特例，以及 Number.isNaN 與 NaN 的對比</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 比較特別的是，0/0 的結果會是 NaN，不過把其他數字除以零則不是 NaN。</span></span><br><span class="line"><span class="number">0</span>/<span class="number">0</span>         <span class="comment">// NaN</span></span><br><span class="line"><span class="number">0</span>/<span class="number">-0</span>        <span class="comment">// NaN</span></span><br><span class="line"><span class="number">0</span>/+<span class="number">0</span>        <span class="comment">// NaN</span></span><br><span class="line"><span class="number">1</span>/<span class="number">0</span>         <span class="comment">// Infinity</span></span><br><span class="line"><span class="number">1</span>/<span class="number">-0</span>        <span class="comment">// -Infinity</span></span><br><span class="line"><span class="string">'A'</span> == <span class="literal">NaN</span>  <span class="comment">// false</span></span><br><span class="line"><span class="string">'A'</span> === <span class="literal">NaN</span> <span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> === <span class="literal">NaN</span> <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">NaN</span>)          <span class="comment">// true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">'A'</span>)          <span class="comment">// true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">"NaN"</span>);       <span class="comment">// true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">undefined</span>);   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">isNaN</span>(&#123;&#125;);          <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下這個範例就是不建議完全使用 isNaN 的理由</span></span><br><span class="line"><span class="comment">// "blabla" 在運算中被轉換為數字，在轉換為數字失敗後，回傳了 NaN，讓判斷結果變成 true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">"blabla"</span>);    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">true</span>);        <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">null</span>);        <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">37</span>);          <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字串</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">"37"</span>);      <span class="comment">// false: "37" 轉換成數字的 37 後就不是 NaN 了</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">"37.37"</span>);   <span class="comment">// false: "37.37" 轉換成數字的 37.37 後就不是 NaN 了</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">"123ABC"</span>);  <span class="comment">// true:  parseInt("123ABC") 是 123 但 Number("123ABC") 是 NaN</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">""</span>);        <span class="comment">// false: 空字串轉換成數字的 0 後就不是 NaN 了</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">" "</span>);       <span class="comment">// false: 有空白的字串轉換成數字的 0 後就不是 NaN 了</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="keyword">new</span> <span class="built_in">Date</span>());                <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="keyword">new</span> <span class="built_in">Date</span>().toString());     <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>)         <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="built_in">Number</span>.NaN); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">0</span>/<span class="number">0</span>)         <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 下面這幾個如果使用 isNaN() 時，會返回 true。</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">'A'</span>)         <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">"NaN"</span>);      <span class="comment">// false，字符串 "NaN" 不會被轉換成數字 NaN。</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">undefined</span>);  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(&#123;&#125;);         <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">"blabla"</span>);   <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面的都返回 false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">null</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">37</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">"37"</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">"37.37"</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">""</span>);</span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="string">" "</span>);</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://www.w3schools.com/jsref/jsref_isnan.asp" target="_blank" rel="noopener">W3 schools isNaN</a></li>
<li><a href="https://www.w3schools.com/jsref/jsref_isnan_number.asp" target="_blank" rel="noopener">W3 schools Number isNaN</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN" target="_blank" rel="noopener">MDN Number isNaN</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/NaN" target="_blank" rel="noopener">MDN NaN</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/isNaN" target="_blank" rel="noopener">MDN isNaN</a></li>
<li><a href="http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf" target="_blank" rel="noopener">ECMA-262</a></li>
<li><a href="https://stackoverflow.com/questions/15534192/algorithm-for-javascript-pre-defined-functions-parseint-parsefloat-isnan-etc" target="_blank" rel="noopener">stackoverflow 討論</a></li>
<li><a href="https://ponyfoo.com/articles/tc39-ecmascript-proposals-future-of-javascript" target="_blank" rel="noopener">Nicolás Bevacqua TC39</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>透過指令列開啟新的 Cmder 視窗</title>
    <url>/2017/07/07/open-a-new-cmder/</url>
    <content><![CDATA[<p>cmder 這指令列工具相當便利，而且採用分頁來開啟；<br>當 <a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a> 已經開啟後，在 <a href="https://www.gitkraken.com/" target="_blank" rel="noopener">GitKraken</a> 或 <a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a> 等工具中呼叫 <a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a> 執行，會沒有任何動作，只有 <a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a> 關閉，直接在 <a href="https://www.gitkraken.com/" target="_blank" rel="noopener">GitKraken</a> 工具中呼叫才會開啟<a id="more"></a>，因為這方式太不便利了，所以在 <a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a> 的 <a href="https://github.com/cmderdev/cmder/issues/457" target="_blank" rel="noopener">Github issue</a> 查詢到解決方式。</p>
<p>這方式是建立一個 <strong>bat</strong> 檔案來執行 <a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a>，這會新啟動一個 <a href="http://cmder.net/" target="_blank" rel="noopener">cmder</a> 視窗，bat file 如下撰寫</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="comment">rem CMDER_ROOT 表示你的 cmder 的路徑</span></span><br><span class="line"><span class="built_in">set</span> CMDER_ROOT=D:\cmder</span><br><span class="line"></span><br><span class="line"><span class="comment">rem 最後的 %CMDER_ROOT%\vendor\init.bat cd %CD% &amp;&amp; %~1</span></span><br><span class="line"><span class="comment">rem 可以改成 %CMDER_ROOT%\vendor\init.bat %~1</span></span><br><span class="line"><span class="built_in">start</span> <span class="variable">%CMDER_ROOT%</span>\vendor\conemu-maximus5\ConEmu.exe /icon "<span class="variable">%CMDER_ROOT%</span>\cmder.exe" /<span class="built_in">title</span> Cmder /loadcfgfile "<span class="variable">%CMDER_ROOT%</span>\config\ConEmu.xml" /<span class="built_in">cmd</span> <span class="built_in">cmd</span> /k "<span class="variable">%CMDER_ROOT%</span>\vendor\init.bat <span class="built_in">cd</span> <span class="variable">%CD%</span> &amp;&amp; %~<span class="number">1</span>"</span><br></pre></td></tr></table></figure>
<p>然後附上 <a href="https://www.gitkraken.com/" target="_blank" rel="noopener">GitKraken</a> 的 Terminal 的設定，<strong>%d</strong> 參數是 <a href="https://www.gitkraken.com/" target="_blank" rel="noopener">GitKraken</a> 中現在 respository 的路徑</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:\cmder\cmder.bat <span class="string">"cd %d"</span></span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/aMaTTU_qYUbjRYnFeAiZmVAVpjrTiKRHdJqJJuR90MNuEO0nneaDQ4Ee--ZUTQ3DrCHEmNxGvkjdQWIHEXKtRfKQ84TOkycpb8gzStXH1MldN9pON9HkRFDDJ7vhRo2IwtopjkXs-OFHJHmSKYHAl1mGKe5YkJTSbspXw5bKP3W_a6oIVWvdQdwKPG2DotEFt9os-Ck94uMJwjQjwan10qp755xdLV3H7Rxjj5a0G8CsxPUUSodLwJ8Q618IROge7B5ro5Dgey5fC9DbQTxmWp-PlQQv4K89-rcM-WoQaipePvaAyF2RyTWdHEjLu195hPkGfodJxWgxpXPcBBne6wYpN7EzIjV5Y2CMkhjaHCfXjVLriNNe7kHfKUD0RzO6Dp5qQARS8sfVgUUNu0RnPlCXNV-35MyTzbKlrirKSB40Y2_0Tti65qalY7jB_wFnmgUheXM3H-ber7Q04q5O1Gl3nI6dXW9UHRYU1-FjzlCm19vZI-4yUat9faqU_r4303MbaQ2vv7CrE8nJjB5QPwVuuFQ-WYiqeL-TcmAzAKn6gRMtyZX-OHTtfYA3GSfDzl6BY2lHr8WhHrY0v6WTku5CwNp1DYaQooZvPKDky6wK9R_dlKrltVkVy3wc7uk3VGjOiNGWKPACWHhyJO7RhMe2EGB8X0G9WQYxrf9jjSaQ6Q=w666-h413-no" alt="GitKraken"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://github.com/cmderdev/cmder/issues/457" target="_blank" rel="noopener">Github issue 457</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Cmder</tag>
        <tag>batch</tag>
      </tags>
  </entry>
  <entry>
    <title>Github Pages 上的網站開啟 HTTPS</title>
    <url>/2017/07/10/github-pages-enable-HTTPS/</url>
    <content><![CDATA[<p>現在的網站愈來愈重視資訊安全，所以網站的連接建議使用 <a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a> 比較好；而架設在 <a href="https://github.com/" target="_blank" rel="noopener">GitHub</a> 上的 Blog 預設沒有開啟 <a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a>，但是 GitHub 是有提供 <a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a> 的。<a id="more"></a>以前 <a href="https://github.com/" target="_blank" rel="noopener">GitHub</a> 沒有提供這選項的時候，我是透過 JavaScript 自己去轉換，因為網站是在 <a href="https://github.com/" target="_blank" rel="noopener">GitHub</a> 上，<a href="https://github.com/" target="_blank" rel="noopener">GitHub</a> 本身就有 <a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a> 的提供。</p>
<p>而現在更方便了，不需要這樣轉和，可以直接在 <strong>Repository</strong> 的 <strong>Settings</strong> 進行設定就好，其設定路徑如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">您的Repository &gt; Settings &gt; GitHub Pages &gt; Enforce HTTPS</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/NpoCMu-K-pa4WJlQ-EWAxR8za2tyBZcdqxYIzzOHmuQG1WR2QtuSO7Pz-IadBA7IMpggjqloKpqFPESgck76JxsCXKw7Xx-cPOckd1fFt3hFgd24sFNjaQqTVBMgpLaTMmb6e7U5T1juGQ4kEKjpKuq89foQOJ438RywhvXgP7f4mDo081vvtWYHG56KDC-x8XpGOwU6f5jztt4DttLGpvnSdxLLPadpEJk1ryW0b7ZijVupEaRyukApKtw_-NBx6ssZ73QlM8lXdRV_hHO-RPiSySw78E0zR1v0iKsWHc3XYgpR8aDOFpPucfd2phYi0lKmN16ns3SPKf3yTE0KGKL0F9VooS7HN4FB4a5hNiZpWqXD0lmmLJWSjP99ZMOyj6Mx4aMeoliAF3mJfKggh_GU42K4A1KDde38TT_gcD4dKQgUm8TKpoBYKXk_tldEM3pZPXFhMCio0rApJ9rYPDbH33IouoD9Wrph56kKbdrDBfLIPPFar7ykWts3sbG4EmRLezWvjIXKwABmkccxE4R710zQXxvxamToqoMOaVVlX29guPAWJ-OU_Zsk4O9LPtEX719QGUgs9BfiV8FlUGWyNOrjIu2o0-1R2H0Ziwd2XAyLbXoHqd8iNbltxsiOFinU6X7YpTqRFv_24ibP0ui-AB9fwX61VpnBdsGv3sL1YA=w884-h380-no" alt="Setting"></p>
<p><img src="https://lh3.googleusercontent.com/TL_P4TVOQSMjgJI9VdW5k7Gc9cu1wH3lAmY9Q5ZcGcjdkD-7nYHemL7gnolpTQ-vVg1chfRXGWgoD00mw3Z1eMPOMsyub7Zic-m0fiQpa4kQ1jjc-cbOjL70jw0zpFum6xko6NfjWCVB1XjBGIBLJjf3oz8v3lkL4ge0zB0fDGSE5LlXbHE5vm8lsXj01KsRIka9TYrYxPtMvcXBd2jwSguaOT3ueg3lEP34zoxkE36U7dw7HR8I4YgN8dVWT65apsUjjeni4MvG7QN5ei9ABqlrWdVlMPU27DpYY_ZdJGEJ2-W76I7Jv-IcQsAYAUcA-tbcgLjITZ5fJx9XXRGBM2gB7NdvJTKC3B1y-AaeTLRm7mhpA2t0OBRUQ_LLTVBLszKLzvg48uCluA81LETRpPFpe1m4QdPs0qew_XZXn7vNfeibsvNkdU5V5MzsnnkqBj4pBlfsLY_vuPCTlo2WzW765r-61LDDXdSsCTJHDJyuKD-x9sIdNoHfwXaKL37s0R8jVcX-QOCDvsFXqXTblfWb98CJ8R38klto5tJEzkCaMSOC0jmeYVwVdWHRhS58y8OVAY5FiXCYUMfMK9gQ-aL_IsF5G_7a7VSSzr6ezhJQe22lldaZXPBDdO_CGJbBKWh6uTDeR2JVLSeXimRNSurqOK0mAdYERqBOtTJnxbQqOg=w515-h802-no" alt="Enforce HTTPS"></p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title>線上活動報名工具</title>
    <url>/2017/07/12/free-online-event-registration/</url>
    <content><![CDATA[<p>以前在 NPO(Nonprofit Organization，非營利機構) 時，常舉辦許多活動，當時是自行開發活動報名系統，但是以需求面而言，假如後續資料不再處理利用，或是為一次性活動，則可以考慮採用一些免費的的工具完成，方便參加者直接線上填寫資料、繳費報名，甚至使用手機 App 的電子票券。對主辦方來說，這些資料可以直接轉存成 Excel 等格式，方便資料的蒐集、存檔與再利用。<a id="more"></a></p>
<p>以下介紹幾種不同的線上服務，分為表單類型的服務以及報名系統的服務，可依據不同的活動需求來選擇。</p>
<ul>
<li><p><a href="https://kktix.com/" target="_blank" rel="noopener">KKTIX</a></p>
<div class="note success"><p>免費活動限制與提供功能如下，詳細資料可以參考<a href="https://kktix.com/pricing" target="_blank" rel="noopener">定價方案</a></p>
<ul>
<li>同時間 5 場活動</li>
<li>單場 500 人數上限</li>
<li>SSL 安全連線</li>
<li>自訂報名表單</li>
<li>電子票券</li>
<li>KKTIX Manager App 驗票</li>
</ul>
</div>
</li>
<li><p><a href="https://www.accupass.com" target="_blank" rel="noopener">活動通 Accupass</a></p>
<div class="note primary"><p>免費活動限制與提供功能如下，詳細資料可以參考<a href="http://www.accupass.com/event/feature" target="_blank" rel="noopener">免費方案</a></p>
<ul>
<li>600人以下(含600人)</li>
<li>自訂報名表單</li>
<li>電子票券</li>
<li>快速驗票系統</li>
</ul>
</div>
</li>
<li><p><a href="http://www.beclass.com/" target="_blank" rel="noopener">BeClass</a></p>
<div class="note danger"><p>免費提供的平台，所以有廣告。</p>
<ul>
<li>沒有人數限制</li>
<li>提供團體報名</li>
<li>每個帳號都提供三組自訂表格格式</li>
<li>提供嵌入語法</li>
</ul>
</div>
</li>
<li><p><a href="http://www.myregie.tw/" target="_blank" rel="noopener">myRegie</a></p>
<div class="note warning"><p>myRegie的收費方式是依照每一場活動來計費，免費活動限制與提供功能如下，詳細資料可以參考<a href="http://www.myregie.tw/content.htm?name=pricing" target="_blank" rel="noopener">免費/加值服務之費用及功能比較</a></p>
<ul>
<li>100人以下</li>
<li>報名安全機制(https)</li>
<li>提供嵌入語法</li>
</ul>
</div>
</li>
<li><p><a href="http://www.signupking.com.tw/" target="_blank" rel="noopener">報名王</a></p>
<div class="note default"><ul>
<li>每個帳號提供3個活動額度</li>
<li>每個活動最多30個場次</li>
<li>不限報名人數</li>
<li>可下載報名資料</li>
<li>報名表最多可有30個欄位</li>
</ul>
</div>
</li>
<li><p><a href="https://eventsmart.com/" target="_blank" rel="noopener">eventsmart</a></p>
<div class="note info"><p>免費活動限制與提供功能眾多，詳細資料可以參考<a href="https://eventsmart.com/pricing/" target="_blank" rel="noopener">免費方案</a></p>
<ul>
<li>不限活動票卷數量</li>
</ul>
</div>
</li>
<li><p><a href="https://www.eventbrite.com/l/registration-online/" target="_blank" rel="noopener">eventbrite</a></p>
<div class="note warning"><p>按照售出票卷承收手續費，所以免費活動免費票卷是免費使用的，詳細功能資料可以參考<a href="https://www.eventbrite.com/features/" target="_blank" rel="noopener">feature</a></p>
</div>
</li>
<li><p><a href="http://www.eventzilla.net/home" target="_blank" rel="noopener">Eventzilla.net</a></p>
<div class="note primary"><p>Free for free events，所以免費活動免費使用的，詳細功能資料可以參考<a href="https://www.eventzilla.net/en/features" target="_blank" rel="noopener">feature</a></p>
</div>
</li>
<li><p><a href="https://ticketbud.com/" target="_blank" rel="noopener">ticketbud</a></p>
<div class="note danger"><p>Free for free events，所以免費活動免費使用的，詳細功能資料可以參考<a href="https://www.eventzilla.net/en/features" target="_blank" rel="noopener">feature</a></p>
</div>
</li>
<li><p><a href="https://www.123contactform.com/" target="_blank" rel="noopener">123contactform</a></p>
<div class="note default"><p>免費活動福利比較少，限制與提供功能如下，詳細功能資料可以參考<a href="https://www.123contactform.com/features-matrix.html" target="_blank" rel="noopener">feature</a></p>
<ul>
<li>5 個表單</li>
<li>每個表單限制 10 個項目欄位</li>
<li>API 呼叫每天 100</li>
</ul>
</div>

</li>
</ul>
<h2 id="表單系統"><a href="#表單系統" class="headerlink" title="表單系統"></a>表單系統</h2><p>類似 google 問卷的，線上問卷與小型活動的好選擇。</p>
<ul>
<li><a href="https://www.google.com.tw/intl/zh-TW/forms/about/" target="_blank" rel="noopener">Google 表單</a></li>
<li><a href="https://www.wufoo.com/" target="_blank" rel="noopener">wufoo</a><br>可以免費使用，另有<a href="https://www.wufoo.com/pricing/1/" target="_blank" rel="noopener">其他方案</a>選擇</li>
<li><a href="https://pandaform.com/" target="_blank" rel="noopener">pandaform</a><br>這只有 14 天的免費使用，之後都是付費功能；<a href="https://pandaform.com/pricing-sign-up/" target="_blank" rel="noopener">各項付費方案</a></li>
</ul>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://techsoup-taiwan.blogspot.com/2015/04/google-kktix.html" target="_blank" rel="noopener">TechSoup Taiwan</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Gulp 套件的更新調整</title>
    <url>/2017/07/13/gulpfiles-v2-upgrade-issue/</url>
    <content><![CDATA[<p>最近直接從 <strong><a href="http://yeoman.io/" target="_blank" rel="noopener">Yeoman</a></strong> 用了一個 <strong>Scaffolding</strong> 的<a href="https://github.com/shunnien/LeafletMap" target="_blank" rel="noopener">專案</a>，來練習一些簡單操作等等…，，發現 package 都是舊版，就順手更新了一下，然後就 gulp file 的設定在執行的時候就發生錯誤。<a id="more"></a></p>
<p>列出幾個需要注意的要點</p>
<ul>
<li>gulp-uglify<br>這套件只有支援 <strong>es5</strong>；沒錯，就算更新後還是只有 <strong>es5</strong>，所以一定要搭配使用 <strong><a href="https://www.npmjs.com/package/gulp-babel" target="_blank" rel="noopener">gulp-babel</a></strong></li>
<li>gulp-useref<br>此套件更新後，原有的一些 function 變成屬性，需要注意一下</li>
<li>gulp-filter<br>在<a href="https://github.com/shunnien/LeafletMap" target="_blank" rel="noopener">我的練習專案</a>中，<strong>filter.restore()</strong> 在更新後，變成了 <code>filter(&#39;&#39;,{&quot;restore&quot;:true})</code> 這樣的做法。</li>
</ul>
<h2 id="錯誤修正"><a href="#錯誤修正" class="headerlink" title="錯誤修正"></a>錯誤修正</h2><p>以下按照上述的那些要點，列出顯示的錯誤訊息，以及詳細的處理方式。</p>
<blockquote>
<p>unable to minify JavaScript Caused by: SyntaxError: Unexpected token: name …(略)<br>這訊息很明顯是沒辦法將 js 檔案壓縮，因為裡面的 js 語法不是 es5，例如:let、const…。以下列出解決方式的範例：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> babel = <span class="built_in">require</span>(<span class="string">'gulp-babel'</span>);</span><br><span class="line"><span class="comment">// Scripts</span></span><br><span class="line">gulp.task(<span class="string">'scripts'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">'app/scripts/**/*.js'</span>])</span><br><span class="line">        .pipe($.jshint(<span class="string">'.jshintrc'</span>))</span><br><span class="line">        .pipe($.jshint.reporter(<span class="string">'default'</span>))</span><br><span class="line">        .pipe(babel(&#123;</span><br><span class="line">            presets: [<span class="string">'es2015'</span>]</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(rename(&#123;</span><br><span class="line">            suffix: <span class="string">'.min'</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe($.uglify())</span><br><span class="line">        .on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123; gutil.log(gutil.colors.red(<span class="string">'[Error]'</span>), err.toString()); &#125;)</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist/scripts'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ReferenceError: assets is not defined …(略)<br>這個錯誤可以參照 <a href="https://github.com/jonkemp/gulp-useref/issues/153" target="_blank" rel="noopener">gulp-useref Github issue</a> ，在更新後，已經沒有 assets 這 function 了，直接使用 <code>useref()</code> 即可。</p>
</blockquote>
<blockquote>
<p>錯誤示範</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cssFilter.restore()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>這樣會發生錯誤，顯示以下錯誤訊息<br>filter.restore is not a function …(略)<br>修正這個 restore 後，另一個可能的錯誤示範</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cssFilter = $.filter(<span class="string">'**/*.css'</span>);</span><br><span class="line">    gulp.src(<span class="string">'app/*.html'</span>)</span><br><span class="line">        .pipe(cssFilter)</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>))</span><br><span class="line">        .pipe($.csso())</span><br><span class="line">        .pipe(cssFilter.restore)</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>因為 restore 沒有設定好，所以會有以下的錯誤訊息<br>Cannot read property ‘on’ of undefined at DestroyableTransform.Readable.pipe …(略)<br>這二個問題也是 package 更新後，已經變動了，所以需要變更設置方式，以下列出設定範例：<br>註：範例中 <strong>gulp-load-plugins</strong> 包含了 <strong>gulp-filter</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">     c sso = <span class="built_in">require</span>(<span class="string">'gulp-csso'</span>),</span><br><span class="line">      useref = <span class="built_in">require</span>(<span class="string">'gulp-useref'</span>),</span><br><span class="line">    <span class="comment">// Load plugins</span></span><br><span class="line">    $ = <span class="built_in">require</span>(<span class="string">'gulp-load-plugins'</span>)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// HTML</span></span><br><span class="line">gulp.task(<span class="string">'html'</span>, [<span class="string">'styles'</span>, <span class="string">'scripts'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cssFilter = $.filter(<span class="string">'**/*.css'</span>, &#123; <span class="string">"restore"</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'app/*.html'</span>)</span><br><span class="line">        .pipe(useref())</span><br><span class="line">        .pipe(cssFilter)</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>))</span><br><span class="line">        .pipe($.csso())</span><br><span class="line">        .pipe(cssFilter.restore)</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>最後附上 <strong>gulpfile</strong> 更新後的內容，這版本比較符合原本的套件。這個練習的 <a href="https://github.com/shunnien/LeafletMap" target="_blank" rel="noopener">Github</a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    open = <span class="built_in">require</span>(<span class="string">'open'</span>),</span><br><span class="line">    babel = <span class="built_in">require</span>(<span class="string">'gulp-babel'</span>),</span><br><span class="line">    gutil = <span class="built_in">require</span>(<span class="string">'gulp-util'</span>),</span><br><span class="line"></span><br><span class="line">    imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>),</span><br><span class="line">    rename = <span class="built_in">require</span>(<span class="string">'gulp-rename'</span>),</span><br><span class="line">    clean = <span class="built_in">require</span>(<span class="string">'gulp-clean'</span>),</span><br><span class="line">    concat = <span class="built_in">require</span>(<span class="string">'gulp-concat'</span>),</span><br><span class="line"></span><br><span class="line">    cache = <span class="built_in">require</span>(<span class="string">'gulp-cache'</span>),</span><br><span class="line">    csso = <span class="built_in">require</span>(<span class="string">'gulp-csso'</span>),</span><br><span class="line">    wiredep = <span class="built_in">require</span>(<span class="string">'wiredep'</span>).stream,</span><br><span class="line">    useref = <span class="built_in">require</span>(<span class="string">'gulp-useref'</span>),</span><br><span class="line">    gulpIf = <span class="built_in">require</span>(<span class="string">'gulp-if'</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Load plugins</span></span><br><span class="line">    $ = <span class="built_in">require</span>(<span class="string">'gulp-load-plugins'</span>)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Styles</span></span><br><span class="line">gulp.task(<span class="string">'styles'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">'app/styles/main.css'</span>])</span><br><span class="line">        .pipe($.autoprefixer(<span class="string">'last 1 version'</span>))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'app/styles'</span>))</span><br><span class="line">        .pipe($.size());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Scripts</span></span><br><span class="line">gulp.task(<span class="string">'scripts'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">'app/scripts/**/*.js'</span>])</span><br><span class="line">        .pipe($.jshint(<span class="string">'.jshintrc'</span>))</span><br><span class="line">        .pipe($.jshint.reporter(<span class="string">'default'</span>))</span><br><span class="line">        .pipe($.size());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Images</span></span><br><span class="line">gulp.task(<span class="string">'images'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([</span><br><span class="line">            <span class="string">'app/images/**/*'</span>,</span><br><span class="line">            <span class="string">'app/lib/images/*'</span></span><br><span class="line">        ])</span><br><span class="line">        .pipe(cache(imagemin(&#123;</span><br><span class="line">            optimizationLevel: <span class="number">3</span>,</span><br><span class="line">            progressive: <span class="literal">true</span>,</span><br><span class="line">            interlaced: <span class="literal">true</span></span><br><span class="line">        &#125;)))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist/images'</span>))</span><br><span class="line">        .pipe($.size());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// HTML</span></span><br><span class="line">gulp.task(<span class="string">'html'</span>, [<span class="string">'styles'</span>, <span class="string">'scripts'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> jsFilter = $.filter(<span class="string">'**/*.js'</span>, &#123; <span class="string">"restore"</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">    <span class="keyword">var</span> cssFilter = $.filter(<span class="string">'**/*.css'</span>, &#123; <span class="string">"restore"</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'app/*.html'</span>)</span><br><span class="line">        .pipe(useref())</span><br><span class="line">        .pipe(jsFilter)</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>))</span><br><span class="line">        .pipe(babel(&#123;</span><br><span class="line">            presets: [<span class="string">'es2015'</span>]</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(rename(&#123;</span><br><span class="line">            suffix: <span class="string">'.min'</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe($.uglify())</span><br><span class="line">        .on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">            gutil.log(gutil.colors.red(<span class="string">'[Error]'</span>), err.toString());</span><br><span class="line">        &#125;)</span><br><span class="line">        .pipe(jsFilter.restore)</span><br><span class="line">        .pipe(cssFilter)</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>))</span><br><span class="line">        .pipe(rename(&#123;</span><br><span class="line">            suffix: <span class="string">'.min'</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe($.csso())</span><br><span class="line">        .pipe(cssFilter.restore)</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>))</span><br><span class="line">        .pipe($.size());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Clean</span></span><br><span class="line">gulp.task(<span class="string">'clean'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">'dist/styles'</span>, <span class="string">'dist/scripts'</span>, <span class="string">'dist/images'</span>], &#123;</span><br><span class="line">        read: <span class="literal">false</span></span><br><span class="line">    &#125;).pipe(clean());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Build</span></span><br><span class="line">gulp.task(<span class="string">'build'</span>, [<span class="string">'html'</span>, <span class="string">'images'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Default task</span></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'clean'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.start(<span class="string">'build'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Connect</span></span><br><span class="line">gulp.task(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $.connect.server(&#123;</span><br><span class="line">        root: <span class="string">'app'</span>,</span><br><span class="line">        port: <span class="number">9000</span>,</span><br><span class="line">        livereload: <span class="literal">true</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Open</span></span><br><span class="line">gulp.task(<span class="string">'serve'</span>, [<span class="string">'connect'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    open(<span class="string">"http://localhost:9000"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inject Bower components</span></span><br><span class="line">gulp.task(<span class="string">'wiredep'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'app/styles/*.css'</span>)</span><br><span class="line">        .pipe(wiredep(&#123;</span><br><span class="line">            directory: <span class="string">'app/bower_components'</span>,</span><br><span class="line">            ignorePath: <span class="string">'app/bower_components/'</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'app/styles'</span>));</span><br><span class="line"></span><br><span class="line">    gulp.src(<span class="string">'app/*.html'</span>)</span><br><span class="line">        .pipe(wiredep(&#123;</span><br><span class="line">            directory: <span class="string">'app/bower_components'</span>,</span><br><span class="line">            ignorePath: <span class="string">'app/'</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'app'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Watch</span></span><br><span class="line">gulp.task(<span class="string">'watch'</span>, [<span class="string">'connect'</span>, <span class="string">'serve'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Watch for changes in `app` folder</span></span><br><span class="line">    gulp.watch([</span><br><span class="line">        <span class="string">'app/*.html'</span>,</span><br><span class="line">        <span class="string">'app/styles/**/*.css'</span>,</span><br><span class="line">        <span class="string">'app/scripts/**/*.js'</span>,</span><br><span class="line">        <span class="string">'app/images/**/*'</span></span><br><span class="line">    ], <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gulp.src(event.path)</span><br><span class="line">            .pipe($.connect.reload());</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Watch .css files</span></span><br><span class="line">    gulp.watch(<span class="string">'app/styles/**/*.css'</span>, [<span class="string">'styles'</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Watch .js files</span></span><br><span class="line">    gulp.watch(<span class="string">'app/scripts/**/*.js'</span>, [<span class="string">'scripts'</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Watch image files</span></span><br><span class="line">    gulp.watch(<span class="string">'app/images/**/*'</span>, [<span class="string">'images'</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Watch bower files</span></span><br><span class="line">    gulp.watch(<span class="string">'bower.json'</span>, [<span class="string">'wiredep'</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>npm</tag>
        <tag>Gulp</tag>
      </tags>
  </entry>
  <entry>
    <title>Github 上 Fork Repository 其來源 Repository 的紀錄同步更新</title>
    <url>/2017/07/14/github-sync-fork-repository/</url>
    <content><![CDATA[<p><strong><a href="https://help.github.com/articles/fork-a-repo/" target="_blank" rel="noopener">Github</a></strong> 上的 Fork 了一些 Repository，但是這些 Repository 還是需要從來源持續更新，<strong><a href="https://help.github.com/articles/fork-a-repo/" target="_blank" rel="noopener">Github</a></strong> 說明了怎麼處理這部分，這邊順便紀錄一下。<a id="more"></a></p>
<p>其處理方式就是建立一個新的 <strong>remote</strong> 位置給原始來源，然後 <strong>fetch</strong> 更新資料，最後再進行 <strong>merge</strong>，以下使用我 Github 上 Fork 的 <strong>Repository</strong></p>
<p><img src="https://lh3.googleusercontent.com/7MrKSEwC7HaGs2iaE2-G4z9HdGHIZCP7XlojzVE-gXe8mxzDhryqShk9lEdBSaLTBsfMdYToxiiCrmCEvhlerDUk8PQLhJ_h-x5EBp-IPhhkkZfwnwxduSEUCeOW-l1K0H3DAPcEb8YE-hKikb7YPZmDvaaklGE-RHUAcKQngu1PxkOPobpsppKbyOVIGPZed6rpHZeUxYyP6EVKG9uaR6LtOXBHL0UKYzyKdJh8w3dwqns8msO3LH1g_AFtn81pnm84Y6FiNY0KjFu-maChmAv2xxsspL8q1zx_OBhSfuGrfn9S1jrGK6m9016qjKRn-ZZ9yUg4ai9ZBDDVmET-a4QOoqXBzW5KbenL1UsLnMwVmneUqeZHhkTIhZ8g7IBUEFOQCMUS1JE94NXu6KCqwJ4yOs-_iDm6795m1S_qttbTJt9LebvdN6dRT0M8KArYpr170-9o_e8Yq2VT7FYzOhnffKzYZ_twr7Wr4WF3lg8-yVsXNWyGeXwD_snQq6SGfKRJAmTq9e7EIXzJiov6iPpmF8m3T9d7-rJjjW5sZJGljJ8-NH_XJ95WM6nnuGcFm0erK4oGwhbdP1Y03jN-LJaSsh780JFk7NUOMTKVQnWJRP5GuJ1y3dwBKn8Sn-xRj2ETnvaU6gx0SOB5nqLGeN4-fJt6accpQjEQ-dc3qIWy1A=w323-h293-no" alt="my repo"><br><img src="https://lh3.googleusercontent.com/OL-bdWG9lm8XdwfNSy1up39LfhOa5-k61bMqDLQLQOnWOyG2VMJRZZkSu8PBrU2J_ZMxqT4_kT1yA_-ScoTd5p4TO5Fca_yUbpYD4_8SGsxG_20MQHJeoMoq4sJjP3cXG-YU6NJm2Jp-_PQlwWqxxF-W4AwjQCTPTHDUfr9Ir9rnR79nKd3K8WQmI8EJPzVHpNzSuu0CTq3SBFC68jLlKA5KT45mSKzOimkEZGUmhYNIJ6FZNUYLAktcrm0J23JFRNty_eTfp4Y9xwf0Ms23zhxBQUGWe7J-xPa70KbyItkcAOkZUb6nY_KUc7QjdNPoZ4kh7ngWrGefWb1OrzoauvCstyxQE6-Tpmx6TTSIr3-Kn9VEewuo35d5gMS7_mq7ruWIZjzLC2lIHVpoAvbqHJVst2_qK9zkD_A3PAHfNiv9pKNn2SLIkfYqPChNgAIi0u8O-H1Zk30232B99qYZHRJUQZZ7gVCDt9l9V3U-dU499KhLA0xsnw2ij5wZ3A3R31bhiVf3zUlKta-W4i-pw5AuLofQrtXTvPV5SI1TC_zGZQfv3kPWY3Qp8wu_RwuTWKAgA_OpUWFzCxSsgvBd6xU1uE2Y49Q1gGvJXdxGEYct_HBBoUk_ceMrs9bGl1XV6sNvN2mRy-VDveHZBOKALFnIClXKns_Ui4oV6orn99Ym4g=w355-h311-no" alt="source repo"></p>
<p>假設 <strong>Repository</strong> 已經 clone 下來了，進入該 Repository 位置</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:\Projects\Reference</span><br><span class="line">$ git <span class="built_in">clone</span> git@github.com:shunnien/lodash.git</span><br><span class="line">Cloning into <span class="string">'lodash'</span>...</span><br><span class="line">remote: Counting objects: 68089, <span class="keyword">done</span>.</span><br><span class="line">remote: Total 68089 (delta 0), reused 0 (delta 0), pack-reused 68089</span><br><span class="line">Receiving objects: 100% (68089/68089), 44.11 MiB | 6.55 MiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (46903/46903), <span class="keyword">done</span>.</span><br><span class="line">Checking out files: 100% (406/406), <span class="keyword">done</span>.</span><br><span class="line"></span><br><span class="line">D:\Projects\Reference</span><br><span class="line">$ <span class="built_in">cd</span> lodash\</span><br></pre></td></tr></table></figure>
<p>這邊可以使用 <code>git remote -v</code> 來檢查遠端 <strong>Repository</strong> 的設定</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:\Projects\Reference\lodash (master)</span><br><span class="line">$ git remote -v</span><br><span class="line">origin  git@github.com:shunnien/lodash.git (fetch)</span><br><span class="line">origin  git@github.com:shunnien/lodash.git (push)</span><br></pre></td></tr></table></figure>
<p>接著加入原始遠端 <strong>Repository</strong> 的設定</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:\Projects\Reference\lodash (master)</span><br><span class="line">$ git remote add upstream git@github.com:lodash/lodash.git</span><br></pre></td></tr></table></figure>

<p>設定完成後，就是 <strong>fetch</strong> 資料回來了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:\Projects\Reference\lodash (master)</span><br><span class="line">$ git fetch upstream</span><br><span class="line">remote: Counting objects: 10, <span class="keyword">done</span>.</span><br><span class="line">remote: Total 10 (delta 7), reused 8 (delta 7), pack-reused 2</span><br><span class="line">Unpacking objects: 100% (10/10), <span class="keyword">done</span>.</span><br><span class="line">From github.com:lodash/lodash</span><br><span class="line"> * [new branch]          3203         -&gt; upstream/3203</span><br><span class="line"> * [new branch]          amd          -&gt; upstream/amd</span><br><span class="line"> * [new branch]          es           -&gt; upstream/es</span><br><span class="line"> * [new branch]          master       -&gt; upstream/master</span><br><span class="line"> * [new branch]          npm          -&gt; upstream/npm</span><br><span class="line"> * [new branch]          npm-packages -&gt; upstream/npm-packages</span><br></pre></td></tr></table></figure>
<p>最後的 <strong>merge</strong> 一般來說都是合併到 master 上的，假如想要其他分支上紀錄，自行切換合併</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:\Projects\Reference\lodash (master)</span><br><span class="line">$ git merge upstream/master</span><br><span class="line">Updating 61acdd0c2..01148a1df</span><br><span class="line">Fast-forward</span><br><span class="line"> .internal/stringToPath.js | 4 ++--</span><br><span class="line"> dropRight.js              | 8 ++------</span><br><span class="line"> invert.js                 | 5 +++++</span><br><span class="line"> 3 files changed, 9 insertions(+), 8 deletions(-)</span><br></pre></td></tr></table></figure>
<p>合併完成後，別忘記 <strong>push</strong> 上去遠端 <strong>Repository</strong></p>
<p><img src="https://lh3.googleusercontent.com/cP1uiAoN88_bhkZQe1Nt1Lf74Ms-ev7KshW7pehjl6B66jIrRuNsbvoGlttlJyShBrbB0PS6XIMNYt-ILRjbXX__M5-0AS6fC3koddNrigWXy7ZMsr7TY3vK9F_lAqXa_D5clPxCvdIUEGpn3-iskroH8RdvhZrqsupb-QMBXWfBmHbVD2Jqi4ZbPugpYQAM-xK_C-XTqBzUO8y4ho2qmDejWHuT4v6tCX7TsuMTmSjbPnp0oKrOunZk1c-vqKrbT8CF697c2rajQjBZndMs59WEprqwfB3yYz7oJZMIm0HNT6n5rRvJUSppJSPK4zt8KVD_v6dwn4FUMhq9z1hcQu4WJWs3VHNAHLfyAlh0jEu0roPYsfCnagINTtOwSDgoUoVouhPp_Yv9OHiSMH7zzc5OdGKJ_W35klaCEc8wyc6EVuVa9Ji7caQNBu8Q4dboUBjXufXskMEmACgr0dTgOM6Bmq5_2Imr3IH5P1NRRsQIy-S1tkDhlux2TbsbWyQaXXAX8ToJEJN1L74yfE9ZLWRqF6FfVclfMck-MBIZe6O7-iFBZvHkCcbQ7HwUdZDMPc3ezkeiXYLOoKwfUczBC1JPXAu4MI_p_9-IiiSuVP8OcBEB5zkjmaoZvesNGDrCF7Li4_b6cuNh4OHPB58RhCv-BoclZhqu2Tqne44588CoRw=w252-h265-no" alt="sync complete repo"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://help.github.com/articles/fork-a-repo/" target="_blank" rel="noopener">Github fork a repo</a></li>
<li><a href="https://help.github.com/articles/syncing-a-fork/" target="_blank" rel="noopener">Github syncing a fork</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 C# 連接 HTTPS URL</title>
    <url>/2017/07/13/Accessing-HTTPS-URL-using-csharp/</url>
    <content><![CDATA[<p>有朋友忽然在問 HTTPS 怎麼直接進行連接，想說乾脆直接整理一下好了；連接不外是透過 <strong><a href="https://msdn.microsoft.com/zh-tw/library/system.net.webrequest(v=vs.110).aspx" target="_blank" rel="noopener">WebRequest</a></strong> 這個類別去操作，一個是直接使用 <a href="https://msdn.microsoft.com/zh-tw/library/system.net.httpwebrequest(v=vs.110).aspx" target="_blank" rel="noopener"><strong>HttpWebRequest</strong></a>，另一個是使用 <a href="https://msdn.microsoft.com/en-us/library/system.net.webclient(v=vs.110).aspx" target="_blank" rel="noopener"><strong>WebClient</strong></a> 這個 Component <a id="more"></a>，以下附上針對這兩者的簡單範例。</p>
<p>兩個方式中，比較需要注意的是強制讓憑證通過，一般瀏覽器憑證不通過還是會顯示出來，但是在程式這邊，不通過的話，後續就不會有結果；</p>
<ul>
<li>HttpWebRequest<br>詳細資料可以參考 <a href="https://msdn.microsoft.com/zh-tw/library/system.net.httpwebrequest(v=vs.110).aspx" target="_blank" rel="noopener">MSDN HttpWebRequest</a> 上的說明</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url = <span class="string">"https://www.moi.gov.tw/"</span>;</span><br><span class="line">    <span class="keyword">string</span> results;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 強制認為憑證都是通過的，特殊情況再使用</span></span><br><span class="line">    <span class="comment">//ServicePointManager.ServerCertificateValidationCallback = delegate &#123; return true; &#125;;</span></span><br><span class="line"></span><br><span class="line">    HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);</span><br><span class="line">    request.AutomaticDecompression = DecompressionMethods.GZip;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 加入憑證驗證</span></span><br><span class="line">    request.ClientCertificates.Add(<span class="keyword">new</span> System.Security.Cryptography.X509Certificates.X509Certificate());</span><br><span class="line"></span><br><span class="line">    HttpWebResponse resp = (HttpWebResponse)request.GetResponse();</span><br><span class="line">    <span class="keyword">using</span> (StreamReader sr = <span class="keyword">new</span> StreamReader(resp.GetResponseStream()))</span><br><span class="line">    &#123;</span><br><span class="line">        results = sr.ReadToEnd();</span><br><span class="line">        sr.Close();</span><br><span class="line">    &#125;</span><br><span class="line">    results.Dump();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/tP_WQvhWmZVlxP4TrUWACetMCwK2lBrkDvju_H51KQq4U--mVFoLfUSUHRf3Xy-nABlkUPOuXO_u7F5LO3YIvOFSe4A1hpKBEinCj_b-hTahdCUgu9ywK7jcy8Jn87hp-p-ktjoxJSqpsz3hS2VBGYdJdjLTpDmtychHhLSrNgn2rAeJ_8Jf-_qJqFnDUKtBcK4onKBp2dTQE5BVSGggpZmWKfAXCO_RGOS3CGFfsAFMHvHTs29XHbah4XjVY2WrP3eaCX-ikAsVaZOIC4sjiE7FlzinDVnhtBcRARhKw1caWe9ahSQRYCUKHaCuT88jc2x0FjUPBPNC50B4UzKKO20dRg8fUbuhFgtL0ecba-G3tdUk_XcAIqeZnDPEUQudINp3hpRvZZM8Vel1UNYseHh9dTOybygr7PxH0yvTrWJrKRTEBrgODx5g1xBAMhb-CC4kyPKDeIbSTjrccY-StpHpNrpYgCektnJiwY6X7hLLGUKXtyaRGhl3ZeTU6Xkh3PAnqZO9cxxpUWlhcP_ypdRzucHGyqvbUe0_vs0vTkV9uzlRCrXjCW4YBvcNUHRZubx0Ht0wmFQXRFEg-yaDAbrsUD31EM5t0nfxJkPWLtBi4_HZ409x7ir-PgPDuU6mxK8UEZjTwdm_KLswIf4zq8MIBGMDRm4Re_XRGq1GNKxS8w=w861-h665-no" alt="httpWebRequest"></p>
<ul>
<li>WebClient<br>詳細資料可以參考 <a href="https://msdn.microsoft.com/en-us/library/system.net.webclient(v=vs.110).aspx" target="_blank" rel="noopener">MSDN WebClient</a></li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">string</span> html = <span class="keyword">string</span>.Empty;</span><br><span class="line">    <span class="keyword">string</span> url = <span class="string">@"https://www.moi.gov.tw/"</span>;</span><br><span class="line"></span><br><span class="line">    WebClient wc = <span class="keyword">new</span> WebClient();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 強制認為憑證都是通過的()</span></span><br><span class="line">    <span class="comment">// ServicePointManager.ServerCertificateValidationCallback = delegate &#123; return true; &#125;;</span></span><br><span class="line">    wc.Encoding = Encoding.UTF8;</span><br><span class="line">    html = wc.DownloadString(url);</span><br><span class="line">    html.Dump();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/KjgMHWy0mbAo8K-oOI-0PQJpJf6IgnqvjnMPYcp5mZwEd9klmYxMQQ24zC1muWKZvTKeep_IelK9mwFUDgj8izE-sYejR7LHwPqNqCyZS3sqOZrs7a1lw6E9zgWcBkiQPahaVED6F3ipXxKdACCnbKUl_BXUfpIPzPuHKqH7_rjpPPEivJBPZF822YweEhV4pc5YEdG15NOPJ83m2Dl7g_h31mRT5fhSvx3A9DAfSt7Zxr9ztv6TR56fBTIm9XWriMxUNWKQiWJpdOLJt5CiLQCsHYf1OMtvTIJGV7Ep2YtRkxn8jdfo21PHSfVK7VDGiFfGZLiFPXl2BiiPALxgF_Y6njQgmOJ4ajfVt0Yuyjf0PqYRRX0qZn6pv-1F_82WISkP-zV_NbirF3KTMzB0oiEAL_gw1S2cEBtBctpBwGAybM3eT-0WRXONhZwQ0JeZkM8Vm9c14bj3QBo2I6h78LT4eK2tR6iQRs3eeTLsjorf2FjGkLVnHzrXsCGB63XOkgN2i4_xAKtWVuhbmcqEEfjZYdNgAEshfuoC0yVM_Vg9jGrGVQ5jQQMJVQayqlF02jnyXTdBPDi-n-7MD4AFl_LFoHtU33C7HVaAw3SrWBPWLBPvlDE1PHNv_MPkc8PPOqgJOaDK69C5vIugJNsZ8AvLI72fsZg8OGV65nggIL2ivA=w852-h664-no" alt="WebClient"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://stackoverflow.com/questions/35308945/accessing-https-url-from-console-application-using-c-sharp" target="_blank" rel="noopener"><strong>stackoverflow</strong> Accessing HTTPS URL from Console Application using C#</a></li>
<li><a href="https://stackoverflow.com/questions/22251689/make-https-call-using-httpclient" target="_blank" rel="noopener"><strong>stackoverflow</strong> Make Https call using HttpClient</a></li>
<li><a href="https://stackoverflow.com/questions/27108264/c-sharp-how-to-properly-make-a-http-web-get-request" target="_blank" rel="noopener"><strong>stackoverflow</strong> C# how to properly make a http web GET request</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/system.net.httpwebrequest(v=vs.110).aspx" target="_blank" rel="noopener">MSDN HttpWebRequest 類別</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/system.net.webclient(v=vs.110).aspx" target="_blank" rel="noopener">MSDN WebClient Class</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>自訂 vs 專案範本</title>
    <url>/2017/07/16/custom-project-template-for-visual-studio/</url>
    <content><![CDATA[<p>一般開發時，有時候會使用預設專案範本，或是空專案自行建立；但是在多人開發時，希望團隊有幾個通用的專案範本；這時候，如果使用的是 <strong><a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a></strong>，可以建立自訂的 <strong><a href="https://msdn.microsoft.com/en-us/library/6db0hwky(v=vs.100).aspx" target="_blank" rel="noopener">MSDN Visual Studio Templates</a></strong>。<a id="more"></a></p>
<p>想要建立專案範本，其實相當簡單；首先找一個想要建立範本的專案，接著在編輯列點選 <strong>project</strong> 再點選 <strong>export template…</strong><br><code>project -&gt; export template...</code><br><img src="https://lh3.googleusercontent.com/fTFEpNXp4TPzCowOe9A86LqrX4Bw374bz0XZaqJSaH3loiO3Of6m99FKzpAkSW6HbY7bd9hjr8OvZdVN8Ux1HRpTnGHY2oWlZBPoXMoxU0WyPNk2El3sruc7IyEVHotDwtoZF5blTXl-SesBPZ5HrcT7ytBwscQJi0bJV5AmDeqVQZlhB6RcBI5753h_oi5-xk9ZYe0WG-RGngZOg97g-JDolJgUZVyNdwZgfYGKSeUn8Ywh_QER2PV5owWBItTe2MzuE8m4QJsmJSX5gT_oTYPUPdOswrgs9qSm1UAQlP7X2lmJe7beEKmE1lAEMP49n4VB1D3JVQFmTiP0n9m-VJPA2cKrBvt3KAEz5RYXApRzKW4GGkrJLKCmqbypmyuj1HT9Q7Ryhwzc3LrtXIJhmSQ9YnoYwScGKbG-RmIw9bohFRGPLNF6YvHjEto-s7IcTcSzzVX2IcdpbvUs-lARBEtu_buToN6cHkFvtX0eAodD7rlAcdjV6OJ-qMCSJ40TDmP4eRuuEUQs1CxkD-4s37GEhbjjBa6YuEeJp9KB2XsR86wOPUjmKAHTZTTsomG6152-Hm2y4Tx6Uo8d5T-RqUPKDK5c0TSbRkyE3_8MWKeSlRRmi7hbP1c53BXoB450nBiQMiXMesaJFsJirh8cvE0hJ9YZA5RpnWPC1F3-wbSkJQ=w375-h855-no" alt="example"><br><img src="https://lh3.googleusercontent.com/8FXqEBRdWeEGjwPCh9Eadf-e0Il9R0GjCva2PdWs_H4YjFS_ycvtWwuUy_VoPVXqTk8ybJGgMDh1yG91TXR5jcSMuW1jBWonsqXLSd_ZF6vtFDKewMHnBOXb2RBDt2n3eMfRU5fDg7MPvAGlJKQo0mrT_bEoj1aRYzVEmimZISgLnMqyloywk0ZOi07Sfd5e07r7otkR4cdH65K-y3r2ASn5jtNcyO155BHYGMdbOI_mXDjNWIWWEzw-uMszzl52JuxEl12uaMQM5bjpgoMwjpGOpvuLFs7PDBwqiNtPUAybVwRaphYvUKgAJPyq_j-1xJNxGYQ-NaCDsD7hzH_aIwQeJdR0jEsKu3cXkaguj7RR_fPuJ-7Q684OK7345BRetieGlvXwcYUX3rJWpBbO3FYCPvb_Y0iK0bT1Aybw-6sggj6aPqar7rEDFHmFqRQtkcOLczroJiZVYmBlESRyoagrJhXerjUC_RnLWb_CQIugwlhtAGjGzBea06zEmPHCHLOs7Boe-RVJWcDTP7qgtPrWy3eFOTKOIOOT3AO-Ugq5NzP-ACJooWdq18qgmDc3SccCvguJlHLXkXVmX-vIOnOK4lDKNo-Wco6zFkZ2Z90YI5nR8eFyR3hx3Zsc7mTzfra7-eq8uUGVayc91TcxatbzGfrdGDjolz41yDN0hr2tKw=w562-h624-no" alt="menu export"></p>
<p>因為要製作的是 <strong><a href="https://msdn.microsoft.com/en-us/library/xkh1wxd8.aspx" target="_blank" rel="noopener">Project Template</a></strong>，所以選取 <strong><a href="https://msdn.microsoft.com/en-us/library/xkh1wxd8.aspx" target="_blank" rel="noopener">Project Template</a></strong>，接著就按照 <strong><a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a></strong> 設定精靈給予的選項設定就好了。<br><img src="https://lh3.googleusercontent.com/eGl8Nbb5Eodz35c8lRORhflVL3IX7VQwKH6a4v_wf1W-nbXqpfMUirLxYu1xgPyunPiZgfBqSAJj4ebYY_LrzuFZyoT9Cjfv2YJXhky_7Duy19U7FvONXsM6hagHLSwWy9fS2w4qPwXREu1fxy0-t9uSaLao4VPlouzUmUeiomNA-UDUNIgFSDsYimMNoFuv3bp2fa3IptJ_6z4J9My8-su-04NhAtzelbkrn9SPucz22kM4fpCacBI4K4z4gFeD3AEqfwwuXQ-gW1derc85mg3G6HszIrb7asXDoMWHMfPR0fzuKuh0EOO-DasK0x3-dCMMH0xKtsu6-HrnycPf_jhJNWq_RQZFIRJjxv5qfmBTmPLTvOTNFutrjJ5XJgjQTsbuogzKQstLpyuuggDKXOUV8J-EdUpcJAnm-2I3YnbudnbjhUpQyUOrPT0HVC_FFtpEabHEcJAxlzA0eJs7rezWvcMw0dumWKBUbQy_sgxm2ZN8Agz8W_G2OPC3ZhV0UKqSzyKEvSwE09MdqCBoAGzUGa3jgxlsIv73th-4fBk5X1NvjlLUCcxlNuM8rWXb1fY7pLFRzkEeSEzcJmy_WBuXc7a9EZnZi1M2iG8jFh3_XJycP2Hm8cSuvVCiaPeNgwreVN20FBpmt7-yjzuJWR8H4TD7DqXtqahkjFb0AkMTBw=w787-h714-no" alt="template set"><br><img src="https://lh3.googleusercontent.com/3de95QE6hAM0IGMJrW1Ys0wPHI3J3xII4kQXA12Pv0aVIWqjOc0c6LTTBG5vSBEN5YpIhtH3LwgElYZ0XT_UgDwvvmMgv8EjeF39RS4B_pMxND7T66xlazcMA3UDl1T8nAS4EmN19_6RNv6OI-sp-fHUFzjFI7FpiYemCrivgrt73Yb6P2OwHOm8eoQ17r_Pb6l8NP89Bed18lEKnTnUDK_hLs6pjoomV5wgKux38NpJxNJtie_EicBBIUAfjyjgUc-5x0ASkHpxa4oOn-2PAXJDcm07LpCK4issEo3oWs77Qfk_6hB1eA00hmow5rX9DfGWA3t1u_2ZqJ0dWwEZrkjYrUjFW0qWxYiNDeWruyZfbbJ4wGM4dLI5vc809B59hzfUt48qKEbM-yoq7gGN97nhvU65TmwmpS40IOR4t9azGZuP-zsHI5p3z96lVSl3cS0ZLhUsdERwDtw79o18l8UxI5Rx2tt3Sd9UTk5FB8OhPy6PsucKckvRNl2F-ZsCVG7N6fKP5aQ06wvKwh9Ym2A-H09KDpsJHHx9InBd8b09JTOtpDrGA3lfCo_nBQ7FdqhTWeYS9_nEUofqkypF3mDH_HMyl_OL80q1TA6Tq-q0FpXK9PND6vXNYKqYX2STTMHl2SvyIbBWalzG65ZNVeaAfY_37-mGea5Z_kxoWTgg_w=w866-h621-no" alt="template icon set"></p>
<p>當使用預設選項，建立好之後 <strong><a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a></strong>  會自動將自訂的 Template 匯入，然後就可以在新增專案的地方看到自訂 template<br><img src="https://lh3.googleusercontent.com/UpNPu4_vNOM86ppNPnhMn-RNRK9w6oUM79d5V14DfpJgPzPa2Y0_0r5mguacVIUKibiqnglzTAwOugKYwtGKj8QWBgOwwmc6CUNd7la8nhFEDcybGqcipDRnvrPjJ5Ppvyg0HW10o152Z_wm29iu1fU5Ju-mvCZ_9O_g6wqJhpCuTNNmVnXYdbIQ83WYcl9N4fgQAPq7lQIBD_PNDJB8L-s8WizPzZgvjbQhRhcp1C7Rmepd_DxQaKXXBo1Va0KQ9e0DZEuK1FgKm4D7AC4NYlp8yQY-XFoMSZFuBn62faJCXfcQNXLnxJA9v8p1tosG_GpNrG5V5Cq_nu-iVUUZaEpL6SIU63lrJ6J5uU2gs_l1g_F24pMQt6BMCYLUUzSHAmj2a8pWNGBDvaw5WZnCnbGWNo0mwjuvr-EiYJxZ7iQR-aW-435Kf3XUkcxVcvnCIb5DFyFmx6stj0bs11VqNUk0RPZ3Rj8BnDEdflxeD3K_OxqRssQTDDsWg4QnRrm9zWofoiyKL90SDZOg-lNDp9-l_GmwbLhOTyVEFMZJ5v2Ax1tbFB-Idy3PQKFZKxwbvheHtwbJ68Wmm-EtR_K5yFc0blkV_QP2fZp8S5rR8Hs9hkwDEebPoul-PCMcKodrhESLR8AZPprqf14xPm3AxbSlqCoRm_z9tZSkDFsve6TJ6A=w870-h605-no" alt="new custom project"></p>
<p>但是假如想要將自訂的 <strong>Templates</strong> 共享到團隊使用呢？首先要知道的是 <strong><a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a></strong> 讀取 <strong><a href="https://msdn.microsoft.com/en-us/library/xkh1wxd8.aspx" target="_blank" rel="noopener">Project Template</a></strong> 的路徑，路徑可以在 <a href="https://msdn.microsoft.com/en-us/library/y3kkate1.aspx" target="_blank" rel="noopener">MSDN Locate and Organize Project and Item Templates</a> 上得知</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">\My Documents\Visual Studio &lt;Version&gt;\Templates\ProjectTemplates\&lt;Language&gt;\</span><br></pre></td></tr></table></figure>
<p>因為要讓團隊使用，先確定有可以共用的空間，然後按照以下路徑變更 template 路徑<br><code>Tools -&gt; Options -&gt; Projects and Solutions -&gt; User project templates locations:</code><br><img src="https://lh3.googleusercontent.com/dqvDXtP80klwjPy3G8WvUJPdEoNQyhdYKN6st7keleOH7poC0_IQg4A_L1hXauQ5v1g8UXk47QW82GDwEcVim_6Amz2RABv6KalUVegIC0gSYCVYF_5UXUrF2Zyok3LspC41pCgeGeXwdB1N1n-HQtJ5cCACT-esSItEXxlMhdjZPTnR57hE1JdwkOrFOtfrd4fxH9np9-5nzPlYynQUvjgipAM3Kd5_VEaVf_SYO0zWh_d3bnCuxXy5LGB7-yX19xEgg7W8JMJWQl-O1F9sSORgaz8nhmagt7lM5XYn4epkiBL_CMKmE8ZSMaG4E5XqbRRofBk1oKiq0-VZOH4QmnTCJ6zgLeGY9NGfRNbBR6_k37iy0w1F_XGiTB16m5A-EOWz7KE3heEV794D_LExP0nV9NdNBuLhHREvhvC0VgUmThk9xiuuKOEtAaDesmpXyq7EG1IdaCxsbD9mbBbBjtMRFs7MgCcyoREFaKHq8Vyiu4MwMazpZLuFJHgCO_xH97TyzuAjTaJWlrWFwd00KWUel_mKiARsNEdqOJqHhK18i-vCRA-h44hB__oN_3otE4OVlerTYbOs4e_eq7ROkqjsyRfXVNkaW4_ZZT81kwq1P7C8OntHzRaHhG5brErVtE5WkTGvyJ2TxBCdOv5HBqaH2WFv58rWJRPEh5eijnptcw=w452-h500-no" alt="setting common template"><br><img src="https://lh3.googleusercontent.com/cHYA0Sn-vYGQDPzhkJTwdndhgnSFnG5ppio3wKCy08DK-yvVCzXmfgJAdwjdREi7NJ7Qk9ydRS7ci4k7aqt0M6c2Cx7QKHeaXuuLixpAsb9Swz0xLrf10-YHNXKL-_KrSqwCB8jyFB9P8K5UUElLLy7sFLdT8uM7RUuLKHZzUYyJ3UN1MEeW660S1aNrb337sw3ukKkLLdDVhoqJeZRowHVmiqpeQOXeLMVr4rWGugAJCi702wlZYri1oEtMon-kHpds3O65f2FX9wDmZ33XA8x2c1vh1PKrNLlL61s42fFG6SE1iDjCKg9tOBxKAmKaFJoML3qX4tVTeM0Z63Q36ofiqrbNot80TlnwjYkYoU8EhwtX3-w4yEFQBU3PNZkVE5oHQu8-g5Yq-n6Hpzox72TNbWCpdk2ahQB8XChrT4MUyll5PugrSigRZgTxtAoea5Xg7WS6mL7Jeyztgez05cKwqiHuGktjwwSrlMnVhHIsJruTwAiHErq7KmVVAmLG36A-vYkC1yCvk-jFUkQwAuQVW6zljhiScb9GAfsP1-OxlYG-BPIYNdVWE3TvGz_uPkIRAYjsqeuQM6Vc61oenj2IIQLD1nc-DYqhgYg-QRfNgW1UHKDp5mUJ7zOlGLTio_wRnvyYof1JkOkCfPCyJTUPAP7VFoXTOpnepgTIF-b2Bg=w874-h647-no" alt="setting custome template path"></p>
<p><img src="https://lh3.googleusercontent.com/RKhMbVIvECuug9d1LsTWM2hKE-4QIinZVecrlo4nzUbQOgfkCLMBsIXhvfHb3fXbGugMi5nRBkKMhMS8P0jOgLTVMYuSa5z_YdObqsyr_5vsu8GpCcIgPnBGK8G5L0QKjmth17L892cLr2YiLOpJY1D49FGEmhxyC9SfS8C3ROP1HN5jHZF7atSCpyVb3hv0c25xigSPWiJI4-CHDGxr7YFK3Ghxf5LmRaWRurFUbFeWdiS-5iwHfn93uqlh5Tu-6bqwO2wzM3lv_n0eNuY_zyRs5B66vDX46FnEsbv54khT4tguQ7jbc16Oz2-Ttwq7IzzOczmbrlI1nlMVEVjUy341_mjtGdZiHMZzZU2LZqSLl2WaVZjOHsuiIwufO1zmL7abI_MAyoFEob41Xc2Yooy51ywJzrwRLajnhO5y-fadhUHqPBhYhCuNOE4KnaTKEXDZVtHTcq-uQC0jvt-ap9utgEn9ccqjUoivbfO0wf92GiT3Wh8lBh1VN8Ktt8y_TSwDJ_SY34-p2yEg9YNO-5esM1-GF0ASLrv8T3fLh0XjM_vJWjKtH61gzpbyGJ2SzcfuOqdubAQLbsmDWzTVjcqf4F5YVNun8CZiYvnn2J0Ra1KDalZPl0BC-XjeQeknLuUx4do93Hi_v_W9OYremPBzEKe7jGmrZ9olBqxzGN4g5g=w1853-h919-no" alt="create custom template"></p>
<p>補充一下，上述都沒提到 <strong>Templates</strong> 在 <strong><a href="https://www.visualstudio.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio</a></strong> 中的檔案類型，當自訂 <strong>Templates</strong> 產生後，會有一個 <strong>.zip</strong> 壓縮檔案，整個壓縮檔案內容包含了所匯出的專案內容，這個壓縮檔案就是 <strong>Templates</strong> ，將此 <strong>zip</strong> 檔案放到上述的路徑下即可。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://msdn.microsoft.com/en-us/library/6db0hwky(v=vs.100).aspx" target="_blank" rel="noopener">MSDN Visual Studio Templates</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/xkh1wxd8.aspx" target="_blank" rel="noopener">MSDN Create Project Templates</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/y3kkate1.aspx" target="_blank" rel="noopener">MSDN Locate and Organize Project and Item Templates</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/ms185306(v=vs.100).aspx" target="_blank" rel="noopener">MSDN Find and Install Templates Located Online</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/e1x5ayd4(v=vs.100).aspx" target="_blank" rel="noopener">MSDN Share Templates Across a Development Team</a></li>
<li><a href="https://stackoverflow.com/questions/18942794/how-to-install-a-visual-studio-project-template-in-a-non-user-specific-location" target="_blank" rel="noopener">stackoverflow install VS project template</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
        <tag>C#</tag>
        <tag>Visual Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 10 中 Docker Access Denied</title>
    <url>/2017/07/19/docker-for-windows-access-denied-in-windows-10/</url>
    <content><![CDATA[<p>我使用的 <strong>windows 10</strong> 中，我自己的帳戶不會是最高權限，會額外設定一個最高權限的使用者來提升安全性；詳細操作設定步驟，可以參考 <a href="http://demo.tc/post/827" target="_blank" rel="noopener">demo 小舖 Windows 10 新增本機帳號步驟</a>。<a href="https://docs.docker.com/" target="_blank" rel="noopener"><strong>Docker</strong></a> 我在今年初裝了 <a href="https://www.docker.com/docker-windows" target="_blank" rel="noopener"><strong>Docker for windows</strong></a> ，本來開機啟動都還正常，後來發生了 <strong>access denied</strong> ，想說怎麼權限不足，上去 <a href="https://github.com/docker/for-win/issues/785" target="_blank" rel="noopener">github docker issue</a> 一看，原來需要設定用戶群組<a id="more"></a>。</p>
<p><img src="https://lh3.googleusercontent.com/89KcL81sOuWBAADdiw5IsGv_TtVEWUCskZ-T5ODcKzx_Oi31v-pUTAZ8kcSl3QTonDwzAScucegA1yj22J5FCLyygbI0yJpuP0w9jOKGfoC66dTNHd9e6N9kTYfBdlZnIsYO5b2vDXiBMqjbB_A2UJicv57uD-fmlvHd5onKku7YUvsFriTHYgmdOdWFNgNrkEf2OFXgP1Ayj-VGQ38rqSIW0WtJQddqFKKhVd0S_qHMFy53c9jgE6q_AqXtnwqi_g8Du1pjSg_BEcCyqm7hK7BiiVPChr_EQArpcFj9EzL6FFNbj93Qabxm_uMVfu2znSUaj47FY3GDFj5de46_P4IAS9dxA4zL9z2kSZ_Sy-bd5z6h-6N0OCpIJQSJ4Zk1QUBPID_qgFPAStJHcOHgg1Ls280cExa1BlGLlBMBflDub9DBiZvENHb8p4cm6GwQ2cjdW7CGJ8lGbzb1hRE63_C4NfU_e26PxRIE0yVS4KyjcRkTB1GbmjJ7D4pbrj53UG4ZMz2g5g4Rdc71qIG6SCDfwUt0WkcrOB0Y5USNrF5JElkriOF7IE-Nli98I_btTaprpZlvqJwPLnDc8i6FxtvhNL30bzerl_9BcfnKhWV1HSJm8b5wdEu6VKmXpycWJNM1mbwWPhvahmdnnAaZbBAoLfuVeOUQW4NcilPWr9LPAA=w446-h148-no" alt="docker access denied"></p>
<p>設定用戶群組可以從以下路徑開啟<strong>電腦管理</strong>，記得使用管理者權限開啟。<br><code>&quot;C:\WINDOWS\system32\compmgmt.msc&quot;</code><br><img src="https://lh3.googleusercontent.com/vQWiYpisFvx5scntHlYvLcb1-yLlxtqG89ykpX7GZd52XRITSSgcjdldjiObw_kfimHc0Hu3rrOk9QqZ2PwNrRqRT-Sj_iNN8ao37EFlKDbiFC2knox-KS-W6agxPcwo0pEV0jcGupphaSuDSsSGfRM61I1qoubDTA4UIJUiT7lnrMLxzpuA_acwlqGmhs6SzR-FaPm3GlzG4FqOSXRHbdNFxKnF6gdbYIEg3T5tZincG0VJFdNeX85jFi6UTPF91fAs8rAcPcWQ1AzcBs0lP_NUUejUgLo3pBfEEGcqYlG7tbhJAhcvchPXxa9g0H3TPTUbyYZNjn8LH697C5kQcaFkbwOK9uGN0rS9ehEJ0YIf3TFVQwH1GmIBZn0iu-Mke8-9LDlh--XiaSNG-0GzJCmGc7RKxSbqZe53_R3xDmeGR3KXmO7ULmg5cy_5U6Rz1AG_srB3WD09hXcS7XCFimbpwaPXPoKP0_ln25_TpzN25KvwYnjFPhNcqGhjfs7gNi0EXXKc0uN4Mzguo0Mj4bJKsxfeovAHxJY3OEZOofk7IK0WNsNA8izbl0eCcqpkm0YIn2Q7oUeylJzw70wAxm1uxK7eX31Q16qfA8cWT5sSwhz0NtFFgcwkimZj207Mr4MOl0kv1GKsNL6v5sZlqzQeVNaIzyPf9auo4UmciWPQ7A=w745-h613-no" alt="Computer Management"></p>
<p>設定完成後記得重新開機</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://www.docker.com/" target="_blank" rel="noopener">Docker</a></li>
<li><a href="https://docs.docker.com/" target="_blank" rel="noopener">Docker Docs</a></li>
<li><a href="https://www.docker.com/docker-windows" target="_blank" rel="noopener">Docker for windows</a></li>
<li><a href="http://demo.tc/post/827" target="_blank" rel="noopener">demo 小舖</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>三層結構與 Asp.Net MVC 的簡介</title>
    <url>/2017/07/29/3-tier-and-mvc-introduction/</url>
    <content><![CDATA[<h2 id="三層式架構-Three-Tier"><a href="#三層式架構-Three-Tier" class="headerlink" title="*三層式架構 ( Three-Tier ) *"></a>*<em>三層式架構 ( Three-Tier ) *</em></h2><p>是很常見的架構，可以應用在<strong>實體機器架構</strong>上，也可以應用在<strong>邏輯架構</strong>上，可以按照<strong>實體</strong>與<strong>邏輯</strong>上去進行區分。實體三層架構與作用如下</p>
<ul>
<li>*<em>客戶端應用程式 ( Client Application 顯示層 ) *</em><br>負責處理客戶端的使用者介面及資料處理﹐比如說資料形態的確認等。</li>
<li>*<em>應用程式伺服器 ( Application Server 商業邏輯層 ) *</em><br>介于資料庫和客戶端應用程式間，負責將客戶端應用程式的需求回應給資料庫伺器﹐再將資料庫的資料傳給客戶端應用程式</li>
<li>*<em>資料庫伺服器 ( RDBMS, Relational Database Management System 資料層 ) *</em><br>就是資料庫﹐比如 MS SQL SERVER 、 PostgreSQL 、 Oracle 等等。<a id="more"></a>

</li>
</ul>
<pre class="mermaid" style="text-align: center;">

graph LR
A(fa:fa-user 客戶端應用程式)-->B(fa:fa-server 應用程式伺服器)
B-->C(fa:fa-database 資料庫伺服器)
</pre>

<p>三層式架構可以簡易看為是在客戶端與資料庫之間加入了一個<strong>中間層</strong>，中間層通常包含：</p>
<ul>
<li><strong>資料存取層</strong> ( <strong>D</strong>atabase <strong>A</strong>ccess <strong>L</strong>ayer，簡稱 DAL )</li>
<li><strong>商業邏輯層</strong> ( <strong>B</strong>usiness <strong>L</strong>ogic <strong>L</strong>ayer，簡稱 BLL )</li>
<li><strong>資料物件模型層</strong> ( <strong>D</strong>atabase <strong>O</strong>bject <strong>M</strong>odel Layer，簡稱 DOM )</li>
</ul>
<pre class="mermaid" style="text-align: center;">

graph LR
A(fa:fa-laptop 使用者介面)-->B(fa:fa-briefcase 商業邏輯)
B-->C(fa:fa-tasks 資料存取)
C-->D(fa:fa-object-group 物件模型)
D-->E(fa:fa-database 資料庫伺服器)
</pre>

<p>邏輯上的三層式架構 ( 或 <strong>N 層</strong>架構 ) ，是一種<strong>軟體抽象</strong>的層次結構，從整個應用程式架構的角度來區分為三層 ( 如果需要，還可以分 N 層 ) ，是為了<strong>解決整個應用程式中，各個操作過程中不同階段的程式碼封裝的問題</strong>，使程式設計師更加專注的處理某階段的商業邏輯。<br>比如將資料庫操作封裝到一層中，提供一些方法根據參數直接返回用戶需要的資料，這樣在處理具體的商業邏輯的時候，就不用關心資料的儲存問題了；簡單來說就是<strong>強化內聚，降低耦合</strong>，其簡易分層如下：</p>
<ul>
<li><p><strong>表現層 USL</strong> ( <strong>U</strong>ser <strong>S</strong>how <strong>L</strong>ayer 或 UI 或 Presentation layer)<br>用於顯示資訊和接收用戶輸入的資料，為用戶提供一種交互式操作的介面。通俗講就是展現給<strong>用戶的介面</strong>，即<strong>用戶在使用一個系統的時候的所見所得</strong>。</p>
</li>
<li><p><strong>商業邏輯層 BLL</strong> ( <strong>B</strong>usiness <strong>L</strong>ogic <strong>L</strong>ayer )</p>
</li>
</ul>
<p><strong>商業邏輯層</strong>在體系架構中的位置很關鍵，它處於<strong>資料存取層</strong>與<strong>表現層</strong>中，起到了數據交換中承上啟下的作用。由於層是一種弱耦合結構，層與層之間的依賴是向下的，底層對於上層而言是「無知」的，改變上層的設計對於其調用的底層而言沒有任何影響。</p>
<ul>
<li><strong>資料存取層 DAL</strong> ( <strong>D</strong>ata <strong>A</strong>ccess <strong>L</strong>ayer )<br>有時候也稱為<strong>持久層</strong>，其功能主要是<strong>負責資料庫的訪問</strong>，可以訪問資料庫系統、二進位文件、文本文檔或是 XML 文檔。簡單說法就是<strong>實現對資料表的查詢、新增、刪除與修改的操作</strong>。如果加入 ORM ，那麼就會包括物件和資料表之間的對應，以及物件實體的持久化。</li>
</ul>
<p>分層設計時，遵循了<strong>面向介面</strong>設計的思想，那麼這種向下的依賴也應該是一種<strong>弱依賴</strong>關係。因而在不改變介面定義的前提下，理想的分層式架構，應該是一個支持可抽取、可替換的「抽屜」式架構。</p>
<div class="note success"><h3 id="優點"><a href="#優點" class="headerlink" title="優點"></a>優點</h3><ul>
<li>利於標準化</li>
<li>降低層與層之間的依賴</li>
<li>利於各層邏輯的復用，資源重用性好</li>
<li>開發人員可以只關注整個結構中的其中某一層</li>
<li>具有良好的開放性和可擴充性，維護和升級方便</li>
<li>提高系統的安全性</li>
</ul>
</div>
<div class="note danger"><h3 id="缺點"><a href="#缺點" class="headerlink" title="缺點"></a>缺點</h3><ul>
<li>有時會導致連動的修改。<br>如果在表現層中需要增加一個功能，為保證其設計符合分層式結構，可能需要在相應的商業邏輯層和資料存取層中都增加相應的程式碼。</li>
<li>相對於不分層，降低了系統的性能。<br>如果不採用分層式結構，很多業務可以直接造訪資料庫，以此獲取相應的數據，如今卻必須通過中間層來完成。</li>
<li>增加了開發成本。</li>
</ul>
</div>
<h2 id="Asp-Net-MVC-架構"><a href="#Asp-Net-MVC-架構" class="headerlink" title="Asp.Net MVC 架構"></a><a href="https://msdn.microsoft.com/en-us/library/dd394709.aspx" target="_blank" rel="noopener"><strong>Asp.Net MVC</strong></a> 架構</h2><p><strong><a href="https://msdn.microsoft.com/en-us/library/dd394709.aspx" target="_blank" rel="noopener">ASP.NET MVC</a></strong> 是微軟在 2009 年 4 月份發布的一種網站開發架構，它是把傳統意義上的 <strong>MVC</strong> 開發思想融合到了 <strong>ASP.NET</strong> 的開發當中，為了解決傳統開發中不能分離 <strong>Model</strong> , <strong>View</strong> 和 <strong>Controller</strong> 而設計的。</p>
<p>MVC 是在<strong>應用程式 ( B/S 結構 )</strong> 的<strong>視圖層</strong>劃分出來的不同功能的幾個模塊。主要是為了解決應用程式用戶介面的樣式替換問題，把展示數據的 HTML 頁面儘可能的和業務代碼分離。 MVC 把純凈的介面展示邏輯 ( 用戶介面 ) 獨立到一些文件中 ( Views ) ，把一些和用戶交互的程序邏輯 ( Controller ) 單獨放在一些文件中，在 Views 和 Controller 中傳遞數據使用一些專門封裝數據的實體對象，這些對象，統稱為 Models。<br>按照 <a href="https://msdn.microsoft.com/zh-tw/library/dd381412(v=vs.108).aspx" target="_blank" rel="noopener">MSDN 上 <strong>ASP.NET MVC 4</strong></a> 上的說明，其架構包含：</p>
<ul>
<li>模型 ( <strong>M</strong>odel )<br>模型物件屬於實作應用程式資料網域邏輯之應用程式的一部分。<br>即 Model (模型層)，主要負責商業邏輯與資料庫之間的處理<br>不是三層中的 Model (實體層)，其實包括三層中的 BLL 、 DAL 、 Model</li>
<li>檢視 ( <strong>V</strong>iew )<br>檢視是顯示應用程式中使用者介面 (UI) 的元件。<br>即 View (視圖層)，主要用於顯示數據和提交數據</li>
<li>控制器 ( <strong>C</strong>ontroller )<br>控制器就是元件，可以處理使用者互動、使用模型並且在最後選擇可以轉譯要顯示 UI 的檢視。<br>主要是用作捕獲請求並控制請求轉發</li>
</ul>
<pre class="mermaid" style="text-align: center;">

graph LR
A((檢　視))==>B((模　型))
C((控制器))==>A
C==>B
</pre>

<h3 id="優點"><a href="#優點" class="headerlink" title="優點"></a>優點</h3><ul>
<li>沒有在頁面中保存頁面狀態狀態(相對 WebForm ViewState)</li>
<li>開發者可以完全掌控頁面的呈現過程</li>
<li>易於單元測試</li>
<li>易於測試驅動開發 (Test-Driven Development)</li>
<li>可擴展、可替換</li>
</ul>
<h2 id="三層架構與-ASP-NET-MVC-比較"><a href="#三層架構與-ASP-NET-MVC-比較" class="headerlink" title="三層架構與 ASP.NET MVC 比較"></a>三層架構與 ASP.NET MVC 比較</h2><p>以下是 MVC 與三層架構的對應關係</p>
<pre class="mermaid" style="text-align: center;">

graph LR
subgraph USL
controller((控制器))==>view((檢　視))
end
subgraph BLL
model((模　型))
end
view==>model
controller==>model
</pre>

<h3 id="相同點"><a href="#相同點" class="headerlink" title="相同點"></a>相同點</h3><ul>
<li>都是把資料與呈現分離，以降低耦合</li>
</ul>
<h3 id="相異點"><a href="#相異點" class="headerlink" title="相異點"></a>相異點</h3><ul>
<li>兩者的差異如下表<table>
<thead>
<tr>
<th align="center">項目</th>
<th align="center">三層式架構</th>
<th align="center">ASP.NET MVC</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Model</td>
<td align="center">實體類別構成</td>
<td align="center">商業邏輯層與資料存取層組成</td>
</tr>
<tr>
<td align="center">Controller</td>
<td align="center">沒有定義 Controller 的概念</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">分類</td>
<td align="center">體系結構模式/部署模式</td>
<td align="center">設計模式/表示模式</td>
</tr>
</tbody></table>
</li>
</ul>
<p>不過在程式開發實務上，則是會依照情境的需要進行細分，所以如何區分，還是得看各自的需求。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://read01.com/0ej6kj.html" target="_blank" rel="noopener">壹讀 mvc與三層結構終極區別</a></li>
<li><a href="https://read01.com/ezOm2Q.html" target="_blank" rel="noopener">壹讀 三層架構優缺點</a></li>
<li><a href="http://fanli7.net/a/bianchengyuyan/ASP/20130728/402562.html" target="_blank" rel="noopener">人人IT 三層架構及其優缺點</a></li>
<li><a href="http://www.twwiki.com/wiki/%E4%B8%89%E5%B1%A4%E7%B5%90%E6%A7%8B" target="_blank" rel="noopener">台灣 WiKi</a></li>
<li><a href="https://en.wikipedia.org/wiki/Multitier_architecture" target="_blank" rel="noopener">WiKi Multitier architecture</a></li>
<li><a href="https://read01.com/zh-tw/kjxay.html#.WXlAzIiGNPY" target="_blank" rel="noopener" title="CS架構和BS架構">CS架構和BS架構</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>.Net MVC 針對 Model 的 Extension Method</title>
    <url>/2017/07/31/aspnet-mvc-model-extension-method/</url>
    <content><![CDATA[<p>在 <strong>Asp.Net MVC</strong> 中 ( MVC 5 ) ，一般都會使用 <strong>ORM</strong> 工具，最常見的是 <strong>Entity Framework</strong> <a id="more"></a>，所以資料表的對應類別是自動產生，不會再這些對應類別中增加方法 ( method ) ，這些類別都會盡量不去變動它，需要使用方法的話，會使用 ** extension method** 。<br>以下使用 Northwind 資料庫來操作範例：</p>
<blockquote>
<h3 id="情境"><a href="#情境" class="headerlink" title="情境"></a>情境</h3><p>針對 OrderDetail 將單價與數量計算，呈現總價格</p>
</blockquote>
<ul>
<li>建立 Model 對應<br>主要使用 OrderDetail 資料表</li>
<li>使用範本產生 Controller 和 View</li>
<li>添加 ViewModel<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OrderDetailViewModel</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> OrderID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> ProductID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">decimal</span> UnitPrice &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">short</span> Quantity &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> Discount &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">decimal</span> TotalPrice &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>針對 OrderDetail model 建立 extension method<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">ModelExtMethod</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">decimal</span> <span class="title">TotalPrice</span>(<span class="params"><span class="keyword">this</span> Order_Details orderDetail</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">decimal</span> result = <span class="number">0</span>;</span><br><span class="line">        result = orderDetail.UnitPrice * orderDetail.Quantity;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>修改 controller<br>此處僅修改 index 來做示範；另外這邊需要注意的是 LINQ 的使用<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">Index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> order_Details = db.Order_Details.ToList().Select(o=&gt; <span class="keyword">new</span> OrderDetailViewModel()</span><br><span class="line">    &#123;</span><br><span class="line">        OrderID = o.OrderID,</span><br><span class="line">        ProductID = o.ProductID,</span><br><span class="line">        UnitPrice = o.UnitPrice,</span><br><span class="line">        Quantity = o.Quantity,</span><br><span class="line">        Discount = o.Discount,</span><br><span class="line">        TotalPrice = o.TotalPrice()</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> View(order_Details);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://github.com/shunnien/ASPNetMVC" target="_blank" rel="noopener">Github 範例程式</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
      </tags>
  </entry>
  <entry>
    <title>Chrome 在版本 55 以上的變動編碼</title>
    <url>/2017/08/03/chrome-v55-change-encoding/</url>
    <content><![CDATA[<p><strong>Google Chrome</strong> 從 <strong>55</strong> 版本之後就移除了改變編碼的選單；原本想說等一段時間應該還是會回復，不過現在都到了版本 60.0.3112.90 也沒回來<a id="more"></a>；所以現在想要變動編碼的話，有幾個選擇：</p>
<ul>
<li><p>更換瀏覽器<br>其他瀏覽器有些還是可以變動編碼，例如： <strong>FireFox</strong></p>
</li>
<li><p>裝 Google 擴充功能<br><a href="https://chrome.google.com/webstore/detail/set-character-encoding/bpojelgakakmcfmjfilgdlmhefphglae" target="_blank" rel="noopener"><strong>Set Character Encoding</strong></a><br>裝好後，直接在頁面點擊滑鼠右鍵即可看到選單</p>
</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/kg9Zhifz5SBHlBxoJS8R8bOMbKsiqIqvae_hxiyBSl2zYZCvjGzoeFLiLoG_gE64B4YGgFyPsmYiQoy53k71HJCNBzo1jPqO1DiqDj1jkwYn2-D5DBCt3LHLT4VjlXFfNwpmke20k6tX0QFlKoWziMCc4wS45vUCu0xYX9HmzfkFIozcR8TETeLwUcDdJXbUmbHaVwc-RuijcFdCmahnIhP6a-WME782ONLPGE_4U9qEg-w-TE6C3pWwbmAoxdVLiW7Pw-Pi0HCs0rZbSt93xK9PUO8h6opeahy5qP8oZsNC9Je7Mz1Tk1nbrIhPaFP0sKIEEav2gGJYlqhwjReTmlDL7c_V-hRrqoGxq43BAIOy7vYGzXZlQ_cvcI7e0wMTDZJrEmQ080h4h-dOWN263p6_eIL1ePdVEyFx206Qk9vlKSEhYkwzBammEhA4DNZpuVsqq2GSqW6hSiUKzzWnt5CiCMRDpGcAgr8IgIO7dwFvZhTLrQPkUMMyS1swNlvxXfXSJPgG2Crq8jF2PSTdZR1_qNELEdSRh8ImTEL5CdODnpfWXR9vXyFSai2Xu134VMFpksrinAOREB14coMKS4y_qNt_AUKM-C58t5bqrPDXef7N88plGZYhcyg1vXq3q6IruocumYjRQt1cCey01xWe1OJKJFDTUBn-Gd0UegUJQQ=w639-h386-no" alt="menu"></p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>notes</tag>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title>在 IIS 中設定網站自動轉換 HTTPS</title>
    <url>/2017/08/02/IIS-http-rewrite-to-https/</url>
    <content><![CDATA[<p>政府今年開始慢慢全面導入 HTTPS 安全連線了，因此這設定很常使用到，將這設定紀錄在此，方便一些朋友查看。<a id="more"></a></p>
<p>以下這方式是透過 IIS 伺服器的 <strong><a href="https://www.iis.net/downloads/microsoft/url-rewrite" target="_blank" rel="noopener">URL Rewrite</a></strong> 來導向的，因此需要再 IIS 上擴充這模組，然後按照以下的 <strong>web.config</strong> 內容去修改，詳細的參數說明可以參照 <a href="https://docs.microsoft.com/en-us/iis/extensions/url-rewrite-module/url-rewrite-module-configuration-reference" target="_blank" rel="noopener"><strong>Microsoft</strong></a> 說明</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rewrite</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rules</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">rule</span> <span class="attr">name</span>=<span class="string">"HTTP to HTTPS redirect"</span> <span class="attr">stopProcessing</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">match</span> <span class="attr">url</span>=<span class="string">"(.*)"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">conditions</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--限制處理網址 避免 http header 攻擊 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">add</span> <span class="attr">input</span>=<span class="string">"&#123;HTTP_HOST&#125;"</span> <span class="attr">pattern</span>=<span class="string">"(\.com\.tw|\.gov\.tw)$"</span> /&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--已經是 https 的不用處理 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">add</span> <span class="attr">input</span>=<span class="string">"&#123;HTTPS&#125;"</span> <span class="attr">pattern</span>=<span class="string">"off"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">conditions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">type</span>=<span class="string">"Redirect"</span> <span class="attr">redirectType</span>=<span class="string">"Found"</span> <span class="attr">url</span>=<span class="string">"https://&#123;HTTP_HOST&#125;/&#123;R:1&#125;"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rewrite</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>這設定方式只要是 IIS 應該都是一樣的，不管是雲端平台還是自己架設的伺服器都是如此喔。</p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>ASP.Net MVC 5 中 Model 的 MetaData</title>
    <url>/2017/07/31/net-mvc-5-metadata/</url>
    <content><![CDATA[<p>前一篇文章提到資料表的對應是自動產生，所以一般不會針對這些自動產生的檔案去做修改，因為當資料表有所異動，需要重新自動產生檔案的時候，這些修改就需要重新撰寫一次，萬一疏漏了就有可能出問題<a id="more"></a>。<br><strong>MetaData</strong> 最常使用的是資料驗證，在資料進入資料庫前都會進行驗證，但是又不能再對應類別檔案上撰寫，這時候就可以使用 <strong>MetaData</strong> ；或是想手動去變動 T4 檔案也可以，這也是一個做法。</p>
<p>一樣使用範例來說明：</p>
<ul>
<li><p>以 Northwind 的 OrderDetail 資料表的對應類別進行範例，先看產生的對應檔案</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Order_Details</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> OrderID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> ProductID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">decimal</span> UnitPrice &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">short</span> Quantity &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> Discount &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">virtual</span> Orders Orders &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>因為這些自動產生的對應檔案都是 <strong><a href="https://docs.microsoft.com/zh-tw/dotnet/csharp/programming-guide/classes-and-structs/partial-classes-and-methods" target="_blank" rel="noopener">partial class</a></strong> ，所以就可以建立一個相同對應類別的 <strong><a href="https://docs.microsoft.com/zh-tw/dotnet/csharp/programming-guide/classes-and-structs/partial-classes-and-methods" target="_blank" rel="noopener">partial class</a></strong> ，範例使用 DisplayName 進行示範。</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 注意 namespace 必須跟 model 的相同</span></span><br><span class="line"><span class="comment">// 相同 namespace 才能 partial</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ModelExt.Models</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">MetadataType(typeof(Order_DetailsMetadata))</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Order_Details</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Order_DetailsMetadata</span></span><br><span class="line">        &#123;</span><br><span class="line">            [<span class="meta">DisplayName(<span class="meta-string">"單價"</span>)</span>]</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">decimal</span> UnitPrice &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">            [<span class="meta">DisplayName(<span class="meta-string">"數量"</span>)</span>]</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">short</span> Quantity &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">            [<span class="meta">DisplayName(<span class="meta-string">"折扣"</span>)</span>]</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">float</span> Discount &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://github.com/shunnien/ASPNetMVC/tree/modelMetadata" target="_blank" rel="noopener">github 範例</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
      </tags>
  </entry>
  <entry>
    <title>SSL for Free 申請步驟</title>
    <url>/2017/08/04/SSL-For-Free-step-by-step/</url>
    <content><![CDATA[<p>之前看 Will 保哥的線上直播【<a href="https://www.facebook.com/will.fans/videos/1760703873958749/?fref=mentions" target="_blank" rel="noopener">申請 Let’s Encrypt 免費 SSL 憑證一次就上手</a>】，最後也是使用 <a href="https://www.sslforfree.com/" target="_blank" rel="noopener">SSL For Free</a> 作申請範例，以前申請這個得時候，不是使用保哥示範的驗證網域來做驗證，最近在測試一些系統的時候，申請使用網域驗證，在此做個紀錄。<a id="more"></a></p>
<p>要申請免費的 Domain Validated SSL (DV SSL)，先到 <strong><a href="https://www.sslforfree.com/" target="_blank" rel="noopener">SSL For Free</a></strong> 首頁，填入欲申請的網域<br><img src="https://lh3.googleusercontent.com/QCJiQ1bS5TNI0egY6Ods9b_9VA-Otrb6-ArG1rbkDyfQjADRoQ5LS-WaHBFNKmWea459l4qfKfQg0LijHbzXedeTQNQZBqgaxfY5ImU9U7Ti2WjiGWXjOYV7SlfS297phSWZVza7zoBWfqqz6VyxKULV5KZjXs2IC7Z-_SDrWJ5kx0tXYTDvFPzAy1j9fJfQbKWM-Rb7SYFvxZEGXKf9hc6xU6PQFuaWhsTQGKR0kHIE9pmzjyWQcA4r_LJthNb1z3u9wSchrADb8bzN6VjDNfP7WcrV_9qCzU-dZjJLyUPOEV0n0591xbHuASZUOcukJujU_oRcD2pV_izq_q1JVdEM5ebdNwnuCCo-MixopI7_LyK5d7Z5jh-RSZOkA5A1Nxz6ft73qzwIl_7bYAZb1WCzgE4aTjX60uu6vUdiXbRr3u99kPSLKO_CoDz8X7jc8VnDBLhzJaRLUfQ_0xMj13sMY2hcnbWhN8UdpG0UhyQXBas3zozysegEzhLLLZLm5f-5CCbvfnarDKuoMGCHLPqFDouveZ4nF5sX_-H2zZ42HpJi8lI_wMbJ-RhcLllkKu2hygNfA3BcoGJMCLZpipogVOtoWHj4xgomVU1miQxn1Cp0Ia7NkgN9moor_EPPePoyTfBpWTMyEl0bicbw6qE1W-eIviPAb-a_KfxW0RCK1g=w1288-h690-no" alt="SSL index page"></p>
<p>接著選取 <strong>Manual Verification</strong> 以使用上傳檔案驗證網域，畫面會出現步驟說明以及 <strong>Manually Verify Domain</strong> 按鈕<br><img src="https://lh3.googleusercontent.com/gTuhdfdYU2xQ-XKWY7ynf7iHSEKbK7CsXwfWcpG_F-FO1nOoUsEVZXsj1796bsmBINQ2NruKvlVoOQpzw3IsVlSHqHZh-UBv2x55BrfDIJF9yoUtBK22NP8nZniU9Bk2ceYIyXqwW3liv6jN77pF7q6bm1OswnNjNH4sPi71_3KiCLiRZARBgQZMXv6roF5S0kAsKWcp3SwvfocJ8Lwt59Wsyg5-mth6zVEYI4hOu2qKUbrNfYBrfVHQzWdKS0McvfkK0CIwR0tme-pO9ElpH6OgCA2TRBFQNU8tRGzyjtgIG6ccU2SLQykCXqKUB57oz9W_Qb0GA7ndkdjAXbI2ir0cvzY8pxIgJ09A_Tx8ndiIEGmg7fpzXPuxk70eIKLB4Rv-pP-pDYoIPHNuVclFIr_EArHKrQvNUgA7CEGdeEyXxrU3m7ZBSx4lxSOzRl5JxwhQ5_A7bOpPZ52QG5frqJ2NxwkOk9a3pBK0HMJymDnwvahctF1eTCYF3lyEgKRVtG60oR92mkNP_7eMjhF1vED7XbSSszQbES3w2rw3bSG9p5_CI18vhI9rjizX1CSPzi8li1hhNUctjy8oDY5p_wVXrZgx3WbXKcHUI3sqAmD5zRTYQwnlYYkHFHiE3302uxywRTcomMRV0miN8oecJPqmRR5htv7F5tUOjsPUTSV6tQ=w1223-h539-no" alt="Manual Verification"><br><img src="https://lh3.googleusercontent.com/wpw6Qr2WHZ5ZpBNVTdq4aB-qhwjXI-KgTFuHPOY9jrX05d7Ew5z93MuI83vIS31lYitmFzp7ntc6NMAPzLtNnlX5N50QJqFx8t4dVqVpET9MzjNm_ImiwCjMahvaqY8l6AxiVlZFi8tINt66Z4_9xpN1LyKsW-6pE2zX1DkyD6bBJYzjXWDobGewU2lNlRryEiElJTt3VDRHY3W6Ek6YWshkz83-VZki_iblnBZOcZOiMCXyWzbuamRpwRe6SgI1ejKabhFObz-vH28ywjSbVMBqA1ArAy7izeg4Rmhde_lSlhPU8UG0j_oULAQfbC23giHH427mXlGTR_k5qRN8Td9_4v21VAGQCjVK9MCiGPdYWRThGKhyD1pJFLGezDP1jyVD5DYJqZ9YzE1ixHxQE1x6Yz5CgDX0s5TOdRYgPIiq0wAaqg2OpodFHtg9OfE3O6n6_Czs5gS4PQLgnVP4n6x52SXpo9cT_zw1W3kobq-KZPA4FoTGcG2OCET1LzAESiNPXy0EjyFw8DxWmcq1HVvKzJCzEMd_N6eVubBPzFzGtlvhxCo8Ss4bLv0DdnF7GXi1BPX1IwjG-23ZApiFDqgafi_yJtbVDpAi8ZZe1cJTQjlgC7MmI3KGOAx9dNhAh4UH601HMaQ4D2IBi60aAx0v-iAjHK-yRYcAR-xz_etQOw=w1257-h385-no" alt="Manually Verify Domain"></p>
<p>按下上述的 <strong>Manually Verify Domain</strong> 按鈕，會出現上傳驗證檔案的教學步驟，要注意在完成檔案上傳到網站後且確認連結正常，才可以下載憑證，不然連續失敗的話，會暫時停止申請資格。<br><img src="https://lh3.googleusercontent.com/dYWrZzVSZU2stlyXyQ7Gu_qHlKWFErLcstfWjmrkAXwXGDyyFUXHVMx2n7x28xSKHuW1BHn_MsvgtOYJg83lu9upZ1YV_irFEdPvRng32tKOlm4xl0kKfaOGfEP_LM6T7ZRaLQwCesmJmtTQ61cLcutfhqI11I-1mLxpGp_mPcHQTokP7ZWLIdiOa9L3xEHU3Ygth3-J8KHsUu7F6aH8LRiDqX8uok-g_ZhyQkFtdGpFc610uxw9yU76jd0-HmD4FqE0bb3vstDXXbe3b-sxhExw3uhLVR0hblAic56YPIqh-JvHlBaUVN4UB_-GEizwoadM-4HHzdWrXDRdUXg0EBF-DmpPVQIWHcGeayuRnwc1979PFBV-7498L_IiJhSlAepJjpBiqR6xARwSix78MjkWVS337rGc_Q3YaEm75ZUovy0-q9an_2nknElcN9mBhdf5b_qV7jwkB9fxPfSiMRqvo8col7A1P7eI18ypjeRMckqRkgwCiv33SoodjF2loyxerSZnCsHgNhzaVO45_Y1CqZ474FdtymXK0iKp0ashXOnp6l7Otov-JmsrK042cB7zrodw0C6ojcAEi9sq-ZPGYDFh7YgofRitAaOtTBGdf7QiL0NZffT4-drb8F4pKUwFQxQa7rPThpB2q-qHLI3Gg4-JS0vSJG9WpnX4T--1ow=w1247-h631-no" alt="Upload Verification Files"></p>
<ul>
<li>先下載驗證檔案</li>
<li>建立資料夾，資料夾名稱叫做 <strong>.well-know</strong> ，這名稱使用滑鼠右鍵會無法建立，會出現下圖警示；<br><img src="https://lh3.googleusercontent.com/EZkWvWOMjBgyotsy1cgsT06vGeWrd-PiS_fLFyDH0kfSa2zJYmS-ENf5JI_8jRtUrLYaBBYaUCoBQqvn5gvbpIl8ZPm1b8QB0QvZ4UHoJW8G894qohVdlG4VWQ_N5FIuNXC-rthSaSb-uXxKi3C5KwstmxV6SxG9pHyMtJ7AnS1a_s0L87DYZ8HEhCExMivFFIcDtdzZXyz3I7bWa78BGe0UztN4Hsb-rBYfuFMNpxftrdfSv-YkLKJGL6trbW4dlV6J07FaQIREunNCjDyS352X2jRznQPtX1rrl-A0T9JelutjaS1aDW9nNA3dLDOGVKx3rWCB1jrVMHD_M-7QhFcJtUfFP7FNFcTcY9JogwzdciJya6G4T-tpRtZ-m-D5EVJYPi9nadHn-QWyXNU7unp__mbcY4s80phgRHXG7fAS6XYmX6Kum127LlottFMtt75iV5lCFY2nYKKDbA-q906ZhbYfEJ3jxpoeMU1vU3ZbInxDLlPYxjL8r38FoUasbpWxwxGG6-Ej9XNpwZBLYGYWt4cTBkUqCFXo7NKnDTYty8gGuGeed1VCAEso-dNG9zf9dTD_XeBeXQNvCtYlbOiPinmJfCNDIyJpI5gM0UcD8I84MlXNx_cSw9ASgYu2Z8TDp2TdgQCmflkUxEyJqpCt2pljrlzp7ysYMi_w21o2Dw=w442-h156-no" alt="rename warning"><br>建立方式有兩個：<ul>
<li>使用指令建立<code>mkdir .well-know</code></li>
<li>滑鼠右鍵新增資料夾時，資料夾名稱命名的時候最後多加一個 <strong>.</strong> ，變成 <strong>.well-know.</strong> 這樣就可以建立了。</li>
</ul>
</li>
<li>在 <strong>.well-know</strong> 資料夾內再度建立資料夾，資料夾名稱叫做 <strong>acme-challenge</strong></li>
<li>將驗證檔案放到 <strong>acme-challenge</strong> 資料夾內</li>
</ul>
<p>接著將資料夾 <strong>.well-know</strong> 放到申請的網站上，這邊會碰到一個問題，那就是 IIS 無法存取<strong>無附檔名</strong>連結，解決方式是如下設定 web.config</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">validation</span> <span class="attr">validateIntegratedModeConfiguration</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">staticContent</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">"."</span> <span class="attr">mimeType</span>=<span class="string">"text/json"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">"*"</span> <span class="attr">mimeType</span>=<span class="string">"text/plain"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">staticContent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">system.web</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">authorization</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">allow</span> <span class="attr">users</span>=<span class="string">"*"</span> /&gt;</span> <span class="tag">&lt;/<span class="name">authorization</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">system.web</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/5RFCAg5eO2pLtW20V21BEuAcFRPQLzipUHy-XauVjAHx2IY_lQZQ_nS2COWcvK7yCgZHyC5NFKwl-BYn6HTxFfG8UVzO7CGaPS8-cDGxXeTR8CTZpsGHjsmtWWRUUmbytQwbRmiYtX0mDhoYnf6Kk9WFtjvaFTMe0sSabyLRKP1a-bzV0RrgVV2PtKeIPA_Wp71e9IAz7PagvCGMUgajmKBGP325hfZobNwNMURyUPQE1-ZgWWojKpXt2Xf4udj935s3Ky2GtLzMqbFvuImLp-JfPZJ-qe6_JaPh8q1MjbpFiQC6eizu1G_5nye7vsM_nIP-fAL6XQi5UJTGNrPTQ428uoqQVJLFWtzJE0FWB5nrIJ5BvZAyAReIXqg4ai-sjyILGEfgquxgqCsAnBNBpOepH0l8ynHjo68uDqAxtpUyBuHpVi9iE3eRlLpJey6m4off-XE-2w1D0HA9hGEA_UTTLW8FHGVs56UVx8jDoXZ6Yaf1jFH6N8TkndMGa-mFq02foIl8vXeM6qBS2g1jZFY2YOfKiGzf5_kq2gf53h1KPSiGkiIkLpEzYUJseypvG9AadrCgMzT1KETRz4N65cpH6dMw6jrU3fWDpf6cpkrY4GzW9qb6GRWU4h_2abGsLNSv58MjwPh8xhpL0tvTj6AgX385_6z3iYiNyi3z4MYFjg=w166-h75-no" alt="verify set"></p>
<p>這時候回到如下的網頁畫面，這時候可以點擊 <strong>Download SSL Certificate</strong><br><img src="https://lh3.googleusercontent.com/dYWrZzVSZU2stlyXyQ7Gu_qHlKWFErLcstfWjmrkAXwXGDyyFUXHVMx2n7x28xSKHuW1BHn_MsvgtOYJg83lu9upZ1YV_irFEdPvRng32tKOlm4xl0kKfaOGfEP_LM6T7ZRaLQwCesmJmtTQ61cLcutfhqI11I-1mLxpGp_mPcHQTokP7ZWLIdiOa9L3xEHU3Ygth3-J8KHsUu7F6aH8LRiDqX8uok-g_ZhyQkFtdGpFc610uxw9yU76jd0-HmD4FqE0bb3vstDXXbe3b-sxhExw3uhLVR0hblAic56YPIqh-JvHlBaUVN4UB_-GEizwoadM-4HHzdWrXDRdUXg0EBF-DmpPVQIWHcGeayuRnwc1979PFBV-7498L_IiJhSlAepJjpBiqR6xARwSix78MjkWVS337rGc_Q3YaEm75ZUovy0-q9an_2nknElcN9mBhdf5b_qV7jwkB9fxPfSiMRqvo8col7A1P7eI18ypjeRMckqRkgwCiv33SoodjF2loyxerSZnCsHgNhzaVO45_Y1CqZ474FdtymXK0iKp0ashXOnp6l7Otov-JmsrK042cB7zrodw0C6ojcAEi9sq-ZPGYDFh7YgofRitAaOtTBGdf7QiL0NZffT4-drb8F4pKUwFQxQa7rPThpB2q-qHLI3Gg4-JS0vSJG9WpnX4T--1ow=w1247-h631-no" alt="Upload Verification Files"></p>
<p>點下 <strong>Download SSL Certificate</strong> 後，網站開始產生憑證；之後說明此憑證只有 90 天的期限，時間到了之後可以重新申請；<br><img src="https://lh3.googleusercontent.com/yYf9eYlykyILy1V5K7NGuGWRhHFzNxjLLs02zsdDXeN0JA4ztOoQGDl1BFMCCnypOwwPjp_b_uwM4wngv8UC2jmQl24rDGgt4xPs-5pFaMlujkSBD-QbdVPVdnSnLC-kWeWcrJUhqZ4NlelG3tBr5Tlil_BnIcdXEF8yfIJ1NT2-U8bRs82HhYpdLYSOlSlmqGMnm3bIwYW3-tptA6i4jCAgVjs1s0m7x4eaVX2PzB7_ZQ5U84iDQJbR9L8JWQmioFzMhVZ4F_x6qn_txIUsfawHIKWry0i7hNHz0EKawfBcheEmxIK87bMLvQv_KTOGiyb9aTwrZMA4a0YK8-QxrMwS5vXf4d5wfd862HW5TF-nVUT-jjR5vuqKxNmd27uadfjh77Wcz8u9HkzJm0eO9DdpWKzkkPSdAI1aQ1FYtazlaBgGf69nbYr7PlZSrPNt3XKtHLkcg0A2iNPTtz693CGYGzWYxPd54lCYCjOJMqlG6YpgUPhnDG4W1trNJk2qdqZw9BZyDdcpwLoluGA_BxwlyeReadMUEWUH4rq-XNP0XkGyQAs7SVA9UmucPi2v62reJtCQKX-A168mhVcwoQo083xkBQhbmvbyHnwjyH4YpS0p8e-nGZ6KgKT6R3MbeCpYjyLEMENr3KcJPbyJoOpq04RwXoyRe2Q84h74-H4S8w=w1316-h257-no" alt="Certificate Successfully"></p>
<p>另外會說明如何轉換憑證檔案格式，例如：IIS 需要 <strong>pfx</strong> 格式，可以透過 <strong>openssl</strong> 工具進行轉換(此工具 git 已經內建，請搜尋各自的 git 安裝路徑下<code>usr&gt;bin</code>即可找到 <strong>openssl</strong> )，然後設定憑證密碼即可。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">openssl pkcs12 -<span class="built_in">export</span> -out <span class="string">"certificate_combined.pfx"</span> -inkey <span class="string">"private.key"</span> -<span class="keyword">in</span> <span class="string">"certificate.crt"</span> -certfile ca_bundle.crt</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/kFK4mQIjDLPau7GnyHxj7D4Wzfe2iVr4kS6b2_3PpRMDlsPSBgnYOq47BOX7ylZEbkJImOsPex1V4Aq8Jhb4f3D24QU3qjdqbWsEGPHUghHNhnLKnKJs5NylgY0d85PajkUv2ki9n0jkpmlOdCujWMOYXxGX6BKeRqD58RYrQag_2LjGCMgua1ekv4R5v03C-PqTZuI6X6r25oq2M100OGRMwUYPBMRFp9jG2iMZGLeJ0XHQaHreXQgNeYUUsUjWFF0hw84GIiBbgmakFf-A71sZTMooFrJ6sFeX12POwh4RHBfdPM4ZDAJAzin7PI-b4KwndCADtWbr5cPkPTmyPM7iizVvXKyj55UPn2wdndE_zp9QaQgNbSQ8GQmR1fHvTrfpiLQe4Abs3gOjvqHePoeNB4XjWhR3zj19Jv0e6OO65RzlUAzGI54Z3DivDY10acE_JKMyczDMVLNNg8QPnMBeVBvv6zyiF7wuavC77L6g_Zg-Niui9FLr-DZbkmYjWgg86JEtinOAhJ-RoDj-xAYa1OSNLT_oPo57Fhe6gPimvf4SQS1xa1vkkmJwc4JrhbhO0539Z-c9ZvYgdEoAJHSIpLyJrs_p83YOErikbI6N1OcOO54qObKocx8tP4WAY6vOV_X0egy2dgPgYAl-BAHkXlXn6ta4nIQtAAqmr6gRwQ=w603-h207-no" alt="pfx trans"></p>
<p>轉換完之後，就可以安裝憑證了；憑證安裝教學在舊部落格寫過了，就不贅述了。<br><img src="https://lh3.googleusercontent.com/lbCLwQ4qrFAq-815we3y_YU9ZGvI7rfZzKwntj9CpET1Ki4DSu5KuQbfL3w4fIhCpwGnsiIwK2QBn8ux-JPNptrSKN1U36yPYbjNT5YeMPbcr-Rqod2TVmQL0OfIwLY1OvQJCCZHgRYoGv-59p3K7L583FBqiHkVlq3O1JKvouoKGEttcnLVKZrkEoVdAPlhu6ixaTf_K-6NYdxPxxlRgMXHui2tLUcB57vCcnLAt9nhq7AcZE68P0Zgz4pmOyS9SctCrCYfgJuRskrpSV2P2BUm7mnAb_c9c1miSmGVhsDeBtWEECpW6_Mm0mMjsOhoanWLIvm-iNn3wP-1UE-aige8lLiGhpofYLmMB-4z8GzL_0tFmW8h8vdOoIBRSiRTjePrpbAtqz_LJ5dJVOVJRvP-FOBsOT4isa3Vcw7suQaWg5jTCHdr9_7bkb2wQf7fjlz4WO5s0gDnrpxiziCP_8R7nr-4Fn7yHD4P2wf7laAwoSPQn5mV5lJXquhzWwuJbd5hKC6JrbT8nw4d3gnYsJ2qfL4QB8ELhw-RBO7B-6Zy4PgAVmxlr5ntz5sSOovOAJRssrJmJ9NrkJYG1QPS1Fit8b37eegOpdYdE3NreNUmi22rYgIaB5JPKa2dTtOeiWPlfts2_J6dQldbCkD6oPY10gmw2oAqMG6ozwSvTIZr1g=w1248-h533-no" alt="Installing your SSL Certificate"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://www.facebook.com/will.fans/videos/1760703873958749/?fref=mentions" target="_blank" rel="noopener">保哥 申請 Let’s Encrypt 免費 SSL 憑證一次就上手</a></li>
<li><a href="https://www.slideshare.net/WillHuangTW/lets-encrypt-ssl-certificate-in-action" target="_blank" rel="noopener">保哥 Let’s Encrypt 簡報</a></li>
</ul>
]]></content>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>SSMS 2016 啟用黑色主題</title>
    <url>/2017/08/08/enable-SSMS-dark-theme/</url>
    <content><![CDATA[<p>許多開發工具介面都提供了黑色主題介面， SSMS (SQL Server Management Studio) 也提供了主題選擇，但是沒有黑色主題的選項。<a id="more"></a>其實微軟已經在實驗提供這功能了，所以可以按照以下的方法開啟這未開放的功能喔。<br><img src="https://lh3.googleusercontent.com/P-tqCdQTbeaSodHPJv1UlbGcBLa_e9GyAfOG9MCd7IOKzje0d5GkPN8BJ88xYvkgPGyfHKbYd5FnDUPw-DoIDJiWAFO9gtxN7hyETtUI50Xp1RosDtUKyPancdr-6z5YKZ94YuXUN2CjAiY1UKCb72B4QAggv26YHg2xuyfiSS8aiRFcHOgzZfAizYpo9aPERf6Ce-j0xknD4zzX0C4j7OWcNJVuhlpjV8TuQhR4xAXSF-8XrpH-EGMHNsH7iscmi15GGWyruJ-W7rrMr09dC--VP33ygqoGG-K7oTAKhK8jUu5S6NSrx4NiP9aiISNYpC__6dPYzXePmkG3rDlCFoTGJOLrE7KjD0PL1Njqf-z8yzc4i7Qw-CplHWV38mxlAFCQDim8ZroyuqLPCr4sFq9EBUC6UEr9jQgZ4rpP2cjiydDUcipyZF2rb3mscxaWtZivIfzUlqj_3EyLitfJXRsegUYN2V76eAF6g9QfNI1jq4uyqe558y0LVY52iRM3Ni1hRnId_jqsXBYlW0KPX24yNI2s4D7y8zZHuV7zCWEZ9rKwUmxZ4NRM1qHF_CaLwIOhdh4kdkLdquz7Rr7xOSluJonP_meVo__8xly9aq_2kpIiBJpyOtMKBfwZ2-GEgQ-L_pdf9PNapS3YdfOhYMfiK-lnQ-yLA3gClliG_13wdw=w575-h235-no" alt="SSMS 2016 option"></p>
<p>先在以下路徑找尋 <strong>ssms.pkgundef</strong> 這檔案，然後使用記事本(或是其他文字編輯器)開啟，記得使用管理者權限。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">C:\Program Files (x86)\Microsoft SQL Server\130\Tools\Binn\ManagementStudio</span><br></pre></td></tr></table></figure>

<p>開啟後，搜尋 <strong>Remove Dark theme</strong> 這個段落，然後使用 <code>//</code> 進行註解，如以下段落：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; Remove Dark theme</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Themes\&#123;1ded0138-47ce-435e-84ef-9ec1f439b749&#125;]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\AD7Metrics\PortSupplier\&#123;4103F338-2255-40C0-ACF5-7380E2BEA13D&#125;]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\External Tools\Error Loo&amp;kup]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\LightSwitch]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Debugger\LaunchHooks110]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\DiagnosticsHub]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\FeatureFlags]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\VB Editor]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Languages\CodeExpansions\C&#x2F;C++]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Languages\CodeExpansions\JavaScript]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\C&#x2F;C++]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\CSharp]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\Disassembly]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\ENC]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\JavaScript]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\Memory]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\Register]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\ResJSON]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\TypeScript]</span><br><span class="line">&#x2F;&#x2F; [$RootKey$\Text Editor\VBScript]</span><br></pre></td></tr></table></figure>

<p>上述檔案修改存檔後，直接開啟 <strong>SSMS</strong> ，按照<strong>工具-&gt;選項-&gt;環境</strong>，設定色彩佈景主題為<strong>深色</strong>，這樣即可<br><img src="https://lh3.googleusercontent.com/yqlkCGa-fBaJumU1ONzGSRMwYYLSYOO_DiR2JXWx_R5pNreZqxnafbXZzRGCUixiJIgUz19_FpFxp69CTcHEXsKXdHZQ48c7WxTC6StTBbEd3PwFA7f97ERAdaD5CZbj2UpKbFSPOgFrIr2anYxxwWayu4ICNf9vpjLG1FM4M0jOhUQhcAcAPEyEY2fbKBsDArdn29OE4PKpXBU1kf7r4dOTcn8Uoe5a02Ry6Prf4wZA1kRYvZ7iWXSGKrAqk4oHw5qrA8KEuiX0ByBiU5n0WeF6bxrfxLyNlLMFiINLyzsjrowi7TCFgtMKs-3CvTP-GuB63ljc6DxSO-GTxuKa2NZ9ja5AeSPCasul3PWRRbepPQKF12Hqzj_HnBIHEs-dLt0nNPbHE_56G2uobxSkKvCRlhqQaBrqaM_qLD4zmwS8Xb72ZTMIqQIJ8_XH9Cc8-KVDsmjmojHuZ3-ZQU-rtST3G6D3MkkggzzQDeAcZuTP20T-kjsuWb1vyI68eVkyE4MWFowr7a-bYBGK4EhfyKswHSpSZdr98TtZ1LCUbmshI8zGwaTV_twif66azqN-65lbHspvF8xhG0s6ajdmecOZ4osK98WMZF7tvaDYR3G29kOI0xDRebe4eec9dKXtn5R_E3XfnKortfOmNCrZJ7_6WkX17Kl59H8d9WmqqU3nxQ=w575-h235-no" alt="SSMS2016 enable dark theme"></p>
<p>由於預設的關鍵字顏色跟黑色背景實在看得吃力，所以我調整了一下顏色，然後字型也選擇我習慣的字形，變成以下這樣<br><img src="https://lh3.googleusercontent.com/fG7PGwJalniJsBuWqkvj7XB-WAVFeagSX4RLWajou4b_bRvshJE5gGwPx3-mgRBNnESsUHUcJiXUpSimf-gm3TK2IQyNSnY8ueuYIl8CbcQKa-VHWcvyki3Je3JjAlLCI-8TOE-tMaK4ynGhfAJZ1ROcdhJS-ZtejVxtaZgusOB47aECC9PUoDyUx07GllsC3grlp1OqB9ZTJfohoz0kIHEZnnkYB6TlEDyDlkKUZ0GGGZQyTEsXTpZprvYnulznakMutZwRNfcdoejLrQPQLRoX_Ht8R0HtC0-4QsqqfMslEUUdw4_zMgu4d-aqbFf9iBBhYg5K2ReMoN99SAfH4KcO5KAv2Y-fse6sLN7ze768LH9IuYS3sm6TejDBkOjCJomHiUUrq4zE0oSWMJV0vDNtjxr8j2S8tNhu2tMFYnwrUGdWF22XBnrE7u7HSUCSC1-JrR8XRBJ4G5kJJmKy5wmKoGT7PDErFm_dlVNPCEWKLIi6vBpmP2PyXWncC8KzwIedXSTQGHqs905mPvDl_W2sIvYR2YcAY_vBQ27xXGknVz7tUrhTj-oz5Rx9XIwGUxLsdZ_EnnNc35MRJ-ygStJsNowPwFn9nGKiwd3V7Etm6kCX8E-QAAL1XI5nl-gxTgvIAvTO9Lg2QzrwETdm1laIRUXqHaxDCwXfmIsGePlA5Q=w1364-h716-no" alt="sample show"></p>
<p><img src="https://lh3.googleusercontent.com/RUKRSRtLgeZb8hDBviCbOQ7JyKLU-PEGG_L-Dycn4qhgMMgc0qK5pbgkwOMQxHitYOq-KNgHmkt6iI62H0ZWS_A3tqvUwaVnAZiYv4Nen73qb6dDXRKElr-91OcjOQkfJDxowfl67mlMb81U3QwplYOcGshe6TvBq_CdxjAC03kg6J4zP8rujAzr4E7rzUisYed3dbJzoLqEROlDZPFD6Mn_HL2Jdxxkfm7DXJIpE9tazHpwuMPFuXvcy6TWY1C2_qY2KFktUBC52qcaz1-90N0ZDIhYoQMZ0ywsAbdMaJgB1Op3bO1weyK2OQdhi639vPzyg0fafpqvIA_UT1RyVXFRH7HrEPNiBReLOcwK-DnL5ZS9JIJXFzwAdPfwW9FQDWV8vmXNfnQ3ciasIxYqRWZoeRYMv86ea1ul-XosdTWIq2gBz9iz9LoyFb-cqf3AKwu7oRc8kNV1DoRU36U0NCupD2TqEUFJT2NeUEkxUw-HR_idVhpAsf9XGn__JiX6hrKWnbTblUQSyFZ9JempuCKchM2W5okmDu969pz2kfCiXcjIJsSHNOWrRxkZ0F5-l7QSxREeLLW_eMoOWz2psc457UQIbYqOIpT1r-Hm68luQVEj39bMa2agUJceBbc5FSxc7oMZ63pPNh9eSMTZ60e0G19qL0QIfjOGMz7_CyPcbA=w930-h551-no" alt="font setting"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://community.spiceworks.com/how_to/136505-enable-dark-theme-in-sql-server-management-studio-2016" target="_blank" rel="noopener">Enable “Dark” Theme in SQL Server Management Studio 2016</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>GCA 政府憑證管理中心憑證串鍊說明</title>
    <url>/2017/08/11/GCA-SSL-Chain-step-by-step/</url>
    <content><![CDATA[<p>前陣子 8/3 幫同事弄憑證設定的時候，發現 <strong>GCA</strong> 發出解決 <strong>Firefox</strong> 與 *<em>Android 7.0 *</em> 以上的問題，其公告訊息如下：</p>
<blockquote><ul>
<li>106年07月31日</li>
</ul>
<p>本憑證管理中心經由GRCA重新簽發2張自發憑證(GRCA1_to_GRCA1_5.cer及GRCA1_5_to_GRCA2.cer)，已可解決Firefox與Android 7.0以上遇到GCA SSL憑證不信任的問題，請參考GCA網站公告之新版憑證安裝手冊。若已經安裝過GCA SSL憑證串鍊的網站伺服器，請參考「SSL憑證重新設定5層串鍊說明」手冊調整憑證串鍊設定。</p>
<footer><strong>資料來源</strong><cite><a href="http://gca.nat.gov.tw/web2/database01-103.html" target="_blank" rel="noopener">GCA</a></cite></footer></blockquote>
<a id="more"></a>

<p>看到 <strong>GCA</strong> 都給出解決方式了，當然直接照著處理。 而且 <strong>GCA</strong> 很貼心，幾乎各種 <strong>Web Server</strong> 都有設定教學說明(是 step by step 說明喔)；雖然 <strong>GCA</strong> 都有說明文件，不過此篇文章以 <strong>Windows IIS 8.0</strong> 為主。</p>
<h2 id="檢查根憑證"><a href="#檢查根憑證" class="headerlink" title="檢查根憑證"></a>檢查根憑證</h2><p>首先，開啟<strong>執行</strong>( Run ) ，然後輸入 <strong>mmc</strong> 。<br><img src="https://lh3.googleusercontent.com/Zvrup1_vnO3faiPcJEcoR-IGWNyLlwS3B2YjSy9FeTArnbri7ztyY0V41F_xHzz6Mshr9lFg5kWa94LWc9IE-pvlpYaB2ybI32xjyNb32nDWrmPBqofrb_4z0utGKTiWafpvBMCEXWdTd925jYlPK2U1Ds5Vtt7UG45KdeVSxivuNCmItvfSm7WPThqke06JrcF9VO20BLO8P4cQG1I0A1FUHXtgC8WMVEMzo6FLuHyEwg8VGib0b2q8APrVZ6HsV6yTZEu1alpPXRtta_445L-2l3i0dQHE_xW1ZIeGixzkLMkOgJxSq49O23og33gtqYLu04QRs2dVZivIxDrXnfzJHf7vQzD0Q6PibTuag5aokiCYA93Zf9krp0EDLP1H3Q_HK3HlmNVvkIQF_eiN_GcirZU-471KapXe7xpKf8legAlfymPd76utCrLur6dhVrbcEerMLIem5Rbk1Z3zAJRV-7F0LI_Z_Y7dji8oEXvGfoYtfwAmJhNWeS28Uo4l1umujMZTzoDDE-HtIQ9KA10ktn3atOAUWxRN_664UU97iHqcNMpld5BrooSi8E6XBsEao315LDFpx7auZJJeNwF-UXOf-Dsp4EbCwrVM5Fm1DVlVWdt_0u2p5fwD7v1ixSS2QI2CEsWDAquOeMMB_GFR12ZpfkwaeNsvNNf3evvS-w=w456-h272-no" alt="run mmc"></p>
<p>接著設定主控台，增加憑證管理單元<br><img src="https://lh3.googleusercontent.com/azP6yYS98dW4wY3vp-_F9hx7BB8blGh1Wme1wQG28mQqRR4F1NqcKKLPdwhKRLzrWH39MM1q2MwDExG0XoU4Ygo9ModpR8FQ66PG3l6C2oWPHaIttrQJ6OCUXQy9EuF2pdMnlP2-u2BMtFQXytRdpFnkG7KASRyif25I7q51XOua30pVIkzRObo1By_E5-8T6eAX6MMLLcFaidEZ3PPZIVIGO1YGd1GATCfYgTuMN6k6Gq6LwyJLGq07STcZXKVKIStlgM-Io2W98lQvA7RGhXh5VWO3ZO5eYDwFuwcCuJDRaNXfCb9OavEDbZfjZ53ioKqinat0yuu756jopatyI6JGgRydFy6PIBtIODumlwKrcXo0S_rbWxDGUbeWquwrkEJrHELAW6JQNyLqN0autF48DEBKfEhIH4dFQu0EnrDobJyCCYnx8bHOHI94rOcdbTK49ky2dCnN5Ix_cBBvkHhqVPKRyIo-7BWBwRNj3dGRGUyqE-c1B5RKz7RuuevhEaaaDAycsCzjIXGXMsqGGkr0KZM2nbLC1Frz93rw-acB2iizqDYXXgbraQ33x-U-pvTCW-1WkQo7SMJFPfdnDpT5u-zB_eT6UkqBDWN6zIAgDx9aSm4-gS_rKjJ40_Ja9n2rh1LrZz2Rr4d4MCB8XhUlxRvyFKKAeS63J2t_fXfBlQ=w1104-h607-no" alt="Add CA Manager"></p>
<p>現在進入憑證管理後，先到<strong>受信任的根憑證授權單位</strong>檢查，看是否有 <strong>GRCA2 的憑證(到期日為 2037/12/31)</strong> ，若是有這張憑證存在，請<strong>刪除</strong>它<br><img src="https://lh3.googleusercontent.com/rxMgWIyMLIlOEzGWIXStULvjAnQRviQfC-E9cVLcc9raaqh8swP1UVzddbmGo5Q_i7s1HLBLFPel3wH6Q342FYxhRgXBI3zkdYPxXXxd3WnUhWJrl98w7Ms0MkF-McrVc7EUfkCNtvO-lPntnPFvRfgshhPXNB-xfNaGyDkYsj6x484QLG0Qt2xQFDwPyb7Q7pMi0mreMIx4VTnwvzmVszboYitzRR--cDqY5xBGAd34pBDP5MRWO0pFTf3LqvbQoGOvvryDCpvK8iapnsIi3B5kkDNaBers5YlC7IYl-5nRrXh4j7DfukDz-X4iOR_vfAvmbdKrP9flY35KErggKAKjbmOnvfTLsqTGStpdI28DSSD9H00ELct1i_1xIi2E0Gu-8-ktg_Rf79BO_B8HPCpGVaUtEq2ZnLQj_j_3kfI1J2S5Ax-a6anrDcGZFcEga0OB4KWZ2KCEUuin0l7DcxsobHrwU7-NQ0W3QhbcQC9srd6t9cNmBh_jyjEOWkIx7KSfJYPsTyqr2QoqabLaP7l5Ot5OI9hqjF1ClBgstcJQtWhE2TAm5Hx50TIS9G0UsG_2CyAlnIJFJOhNV0OjL3Ul6EkgZ0fUbsct0Bj4OfbwLznc2MFbQVHwJP693W9_uOvg_E1v-GjhNcOzKbyl1A7jNkJrTkW4b71m1PjlJMjSgg=w369-h311-no" alt="Trusted Root CA"><br><img src="https://lh3.googleusercontent.com/ZSeNkVFYnGpyIbbDx_XdORWHaN9y8lS2CYKuBMMs-au0Dj6jE50M_XAk02R1-F7XoSZpmOiHirco1wQ2qK-uqcjrFm2d-RtdoC7-D1i2WwABvmRxQVtX6-JcYHsho-SOcUN1aelRviMMUac-VZJNB7kAZBzRCD4g0o9SU1iNLI9QF8xEgkUUaCJTkXG_MlGT_MyWKSyRlgUX7Ci1Arpg9USkd-qM7VWLZKIPc8Dw89n1PK0TtybaZFOoQpGd7ojJyWkIhp9IoWoP4RW3uhn5bKZjirjJHcvucmGtXH99YJpCS0tFnHZ5txp6kWeA7E_-dEuICUdfDlZyVuICgEQ_yaxqmdpCxGvpilAMyh5L1TE0RyMKR_oZCE-yowBpZS4a3ibgVwlmbzcnZ2nWB6q9KkeOGBf4Z0sxkMXCQEpXoQVC-ZBJbNB6mTkquu_XByrkYim_BEucCut9BVGHIoSTWrWS44AciVjxY74BR_jnjXjUfPBlMNKJrSlqdMPcEWFOp5O2xw78nS_6rE2pvbp2HulUTiL758ietZs86QfG4K8TTNBuR75wPDUe6CHLSUMrajdU80YtCJSUpBdn9eFgV_i3vDWVVYDpO90MLB3HHFOF-GenAjpfAlqE0ipJZIfytyk4vsK0ATtFwchn2HTwOIX_wb9cBQ_xPsaWjXFDEQC_qg=w810-h389-no" alt="Trusted Root CA Gov"></p>
<h2 id="安裝中繼憑證"><a href="#安裝中繼憑證" class="headerlink" title="安裝中繼憑證"></a>安裝中繼憑證</h2><h3 id="下載-GCA-自發憑證"><a href="#下載-GCA-自發憑證" class="headerlink" title="下載 GCA 自發憑證"></a>下載 GCA 自發憑證</h3><p><strong>GCA</strong> 的解決方案，需要下載三張自發憑證，然後匯入中繼憑證</p>
<ul>
<li><a href="http://grca.nat.gov.tw/repository/Certs/GRCA1_to_GRCA1_5.cer" target="_blank" rel="noopener">GRCA 自發憑證(GRCA1 簽 GRCA1.5)</a></li>
<li><a href="http://grca.nat.gov.tw/repository/Certs/GRCA1_5_to_GRCA2.cer" target="_blank" rel="noopener">GRCA 自發憑證(GRCA1.5 簽 GRCA2)</a></li>
<li><a href="http://gca.nat.gov.tw/repository/Certs/GCA2.cer" target="_blank" rel="noopener">GCA2 憑證</a></li>
</ul>
<h3 id="匯入自發憑證"><a href="#匯入自發憑證" class="headerlink" title="匯入自發憑證"></a>匯入自發憑證</h3><p>一樣呼叫出主控台，選擇<strong>中繼憑證</strong>進行匯入，將三張自發憑證匯入；自發憑證匯入後，請<strong>重新開機</strong>，不重開機的話，是不會作業的。<br><img src="https://lh3.googleusercontent.com/Cx8DcNdkN00Gkmau_P8H64HiDPlk2wKTKhEz9vds_Sb8jisUZF1yJeHTm0a2K7oCfqJiQKeMUZSoiN8lckWMBHpNJBprH-PQF1IjEnoQaBF-xUm2ftljWhxBWxx_JQ1m6unxbxYrjEPoMnWDYUES87SWWoUfeUOZXfSY5zeLAeLdRfpD-6B_Zj8t849c_5PasJmF1_rCCcwfIMPEFaiCynX22wdJr0noU4zRDn8NZUSUridamyXrQykQjiq_7I4G8ipNAmUVHnypBy2ySExKN6n-LTEdpBw8_SKcFIItMgQPX-UmQWvy0p1CQWuI2lS8A-9gOOmzq8qLAxpZ_IaE4TQ89TPhd7GwYwBRi0mjWX1po7m7Jn1jglWOH0GcdJuG3iCjiu8-XIEQVFxkMhAC-CnFprML7txj0fWZz0i_i0cggi7wIgLvpCCjjzAAxVjOwagO_X5wuUKU2aCYnmB7S45UcRNk0cyCgeDC91iiNTYrVJpSGpgOmj4fua3X_QYaAdED4OLT1_OUQy4Gpp_oFqbIgwERqhyu_tf-zkvtixeGEwDsEjzHPNCCLQGIHD8x66Hi3WbJMyPeJM1-PhF0msQ3mmn3TWpLbVml7C9yuRNBsbbKm7K0JjlPaGUSU10HhoawcVFjtxjzachbJIXkpUh5fODFq06BZSCLhtcNNV24wA=w313-h240-no" alt="Intermediate CA"></p>
<h2 id="檢查憑證鍊"><a href="#檢查憑證鍊" class="headerlink" title="檢查憑證鍊"></a>檢查憑證鍊</h2><p>完成上述的步驟後，憑證鍊檢查可以在 <strong><a href="https://www.sslshopper.com/ssl-checker.html" target="_blank" rel="noopener">SSL Shopper</a></strong> 的 <strong><a href="https://www.sslshopper.com/ssl-checker.html" target="_blank" rel="noopener">checker</a></strong> 功能進行線上檢查<br><img src="https://lh3.googleusercontent.com/81EpzD5R9_mmaNKbq2VgMdi9rjKqPW6UKGf7VftQEsLATcmAt5csSxrZf_A_GudNU2FUBCo4jH97aBf49kuBH4zCG7UXUm5lpSPTluxMzEruZMNjMD3GRbNkFRV3MBeyl3wUFyyBbJBGnoSDQHqI99UePb1ubJH3aFooEJw6K3HWmUwx2b2_ZO46JBTjEtNfKbz0-S_N2JBim5SOEzlVNVKqKIFYoRR9gtepkU1btPjiAHaIdw5d0p49MEEyUrRSfZmPqRH5T4152GjL5mJEVztUredGVYhgxy-Fupdgc93DL_QoWMtTfwoJzx1RRtTpKB1GPMMoCYeCFmE4YtjPD7NhWQ4mHKMb28FIwx62gO8xY0oummuenw2IoyAuSSJ5NpuzkhYqQMinOtCiKASAV0KHMKzgpOJBzOtIFU-vOFEWKtp-6Atv4zpKV2yzv1Vv6ZSM-eyhWgntZUftHhtnamS0quPd_dd0TDdIErqbFL0VB9mTUHhzXngBGJFZmdQWPmPFNFdd093qfYF5qOKt7Encn8gnI4m0mdM9iWSTTMlob6iimP916gDICeHGNYl6RxJZJe82jbeIfnXUAIegbu_S3wZRQfyRIxJlrzEzKgdehKX-NW968izTOUWMft5oNNT0nhzSyAKinfnXJWqidra5O7cx6hQ_Em6rRsCcYAS0-w=w387-h607-no" alt="SSL Checker"></p>
<p>最後注意一下，此篇只有自發憑證串鍊的匯入與檢查，別忘記申請的憑證還是要安裝的，安裝說明可以參考<a href="https://gca.nat.gov.tw/web2/form02.html" target="_blank" rel="noopener">GCA 各項教學</a></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://gca.nat.gov.tw/web2/index.html" target="_blank" rel="noopener">GCA 政府憑證管理中心</a></li>
<li><a href="https://gca.nat.gov.tw/web2/form02.html" target="_blank" rel="noopener">GCA 政府憑證管理中心 相關資料下載</a></li>
<li><a href="https://gca.nat.gov.tw/download/GCA_SSL_Reset_5LayerChain.pdf" target="_blank" rel="noopener">GCA 憑證串鍊教學</a></li>
<li><a href="https://gca.nat.gov.tw/download/GCA_Windows_IIS8_CSR_and_INSTALL.pdf" target="_blank" rel="noopener">GCA IIS8 憑證安裝教學</a></li>
<li><a href="http://grca.nat.gov.tw/repository/Certs/GRCA1_to_GRCA1_5.cer" target="_blank" rel="noopener">GRCA 自發憑證(GRCA1 簽 GRCA1.5)</a></li>
<li><a href="http://grca.nat.gov.tw/repository/Certs/GRCA1_5_to_GRCA2.cer" target="_blank" rel="noopener">GRCA 自發憑證(GRCA1.5 簽 GRCA2)</a></li>
<li><a href="http://gca.nat.gov.tw/repository/Certs/GCA2.cer" target="_blank" rel="noopener">GCA2 憑證</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>notes</tag>
        <tag>WindowsServer2012</tag>
      </tags>
  </entry>
  <entry>
    <title>程式設計的基本認知</title>
    <url>/2017/08/11/basic-knowhow-for-develop/</url>
    <content><![CDATA[<p>在程式開發上，應該都需要<strong>降低耦合</strong>，<strong>增強內聚</strong>這樣的認知，而為了達成這樣的目標，就會有介面、原則等等…<a id="more"></a></p>
<h2 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h2><p>找出關鍵性特徵並加以描述；抽象表示一個群集，所以應該依賴抽象，而不是倚賴具體。倚賴抽象的目的是希望程式碼易於變動。</p>
<h2 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h2><ul>
<li>高內聚<br>內聚性除了程式上之外，還有設計上的內聚；設計上的內聚，就是命名上的設計，例如：Math 這 Class 的方法都是低內聚，裡面的方法，看到 Math 就知道裡面的方法都是數學相關的運算，不會再 Math 裡面看到 sql connection 的方法，因為這完全不相關。</li>
<li>低耦合</li>
</ul>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul>
<li>繼承<br>繼承是為了多型的目的；B 繼承 A，所以 B 就是 A。</li>
<li>封裝</li>
<li>多型<br>有泛型 <T>、多載也是多型、強制同型也是多型(編譯器比較多使用)</li>
</ul>
<h2 id="原則"><a href="#原則" class="headerlink" title="原則"></a>原則</h2><ul>
<li>單一職責原則(SRP)</li>
<li>里氏替換原則(LSP)<br>繼承父類別後，不要遮蔽父類別的方法。<br>簡單說，使用父類別的地方，都可以使用子類別替換。<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Class1 c = <span class="keyword">new</span> Class1();</span><br><span class="line">    <span class="keyword">int</span> val = c.Test();</span><br><span class="line"></span><br><span class="line">    Class2 c2 = <span class="keyword">new</span> Class2();</span><br><span class="line">    <span class="keyword">int</span> val2 = c2.Test();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define other methods and classes here</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Class1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Test</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Class2</span> : <span class="title">Class1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> new <span class="keyword">void</span> <span class="title">Test</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">"Test"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>倚賴倒置原則(DIP)<br>倚賴抽象</li>
<li>介面隔離原則(ISP)</li>
<li><strong>開閉原則(OCP)</strong><br>對擴展開放，對修改封閉。</li>
<li>最少知識原則(迪米特法則LOD)</li>
</ul>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://skilltree.my/" target="_blank" rel="noopener">SKill Tree Bill 講師</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Asp.Net MVC 5 Identity 使用 DataBaseFirst</title>
    <url>/2017/08/10/Asp-Net-MVC-5-Identity-DataBaseFirst/</url>
    <content><![CDATA[<p>直接進入主題，此次要使用 <strong>DataBase First</strong> 來使用 <strong><a href="https://www.asp.net/identity" target="_blank" rel="noopener">Identity</a></strong> ，所以先使用範本建立 MVC 專案，另外不要使用 <strong>Authentication</strong> <a id="more"></a>。<br><img src="https://lh3.googleusercontent.com/EsLYwWTVTW_La1If-yyxC7bsE_9sSFFREIDk1p-a7pnUx0OVSmThbyCPc14QFRgtQ2Fbz1osJrsPDKnVwQ9MhhNBpNWMKHLOL-QESSCjhIZXZdRlZ-7H1hU6xF6LM6f6gYpcbSehITOYcKKgaosf7xsfOPwxc0sJ21yh-xNksPvUh5ymVHtPDjGtNa9RFsoWTNUjRSbhoa_wA-8igN4wsoHfywUeld0mr39iTEQ-ZdzEekMuEV_DCxeSp-f7ynshawecOroNP0G9rA776arcQRmtb2auom_rLiyq1MHf5UzyLppsZmtRQj2tGr1ELzF05f9CZZ5s9VtkvlYChQiLOrQhgauVKXjUoK0s7H0eCKW5A4-asHdgeHY5KnxCbpf1I-0FkpW9TQRY4VzL8RNvKxOsxBUc3rynN-_KZv2bnTojpOakbQ0-r2bKMeDIEGgpV8gV5oQ5g-i1AVp4clGPobx0tDcGgDy7_F4ZwH6RSJyPdF5OqHqf96jxoakxu4DRicssEgrtkwAWw12z4nB0SIKECqWh-Mj47cIwTub91m-ZLGdQZjVrx-EitYqja3YFRYtDAtujslfp4zLd_jBGhMC_ckfnyT_nEllzwE5oqIaiflKAKVFBvjnXeoZWA1Q8smMYenJJYqyzP17IVTL22qjqqOMI8MuNW1ebftSCuxiDRQ=w977-h659-no" alt="create project"></p>
<h2 id="套件安裝"><a href="#套件安裝" class="headerlink" title="套件安裝"></a>套件安裝</h2><p>專案建立好之後，手動安裝 <strong><a href="https://www.asp.net/identity" target="_blank" rel="noopener">Identity</a></strong> 套件，可以透過 <strong><a href="https://www.nuget.org/" target="_blank" rel="noopener">Nuget</a></strong> 安裝以下這三個套件</p>
<ul>
<li>Microsoft.AspNet.Identity.Core<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Install-Package Microsoft.AspNet.Identity.Core</span><br></pre></td></tr></table></figure></li>
<li>Microsoft.AspNet.Identity.EntityFramework<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Install-Package Microsoft.AspNet.Identity.EntityFramework</span><br></pre></td></tr></table></figure></li>
<li>Microsoft.AspNet.Identity.Owin<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Install-Package Microsoft.AspNet.Identity.Owin</span><br></pre></td></tr></table></figure>
<img src="https://lh3.googleusercontent.com/nXm1bwaXZARhopxY3GAAvCjG4G1Jpaeh7TeoiqgOPLxwAd08694cx0p2gsiK8YbY274o5tmFGLOZ_mKxeJOm8aOcmgt8K8v7ut1NDJN2D0rpYfFVVTompnVFWfXrMFm_nHPnei13cGXDK1XymcgOQ-tFjgUkpPrJY3_XwUeISvht-jOI6MKsCWaIh8ciATYxKkh3CgOGnKjIxSpQnfGIp9LHKBxX-zY303ne--JszherW1srGzrZVD3I7lFwn7sEYodaTIfVFvYG0OE0JdGgV7DYti51F9y-eMwA7SBysHfrQrfwdRjkYREouD1C0X_eB_U3XPMoT2m_hbjXXHhuLHQvumrvx9uL9cTpg0tJ0v3lK1-FMfXHRw47a1qLZfCWDrI8ZvH5tZ1ac4oIuf0-98CV1sVt5N-2F3ZWxUFCAUmPXpmMJ8-SVkqf6NCCMiDDHSNJWSevRWgu-vsmW-LESx5mls7qq9K692VT4D14IFAafyZpy0dKZUAuRIklQmu_bLT3a_MdCFIB6R5SX0I2deMk0ZYAM6m0OKqaaPwjD5ty2C8KxyOP5crD9DxcaXRnDudhWnKJdPdC-p4JBW6uwwBLSGTAaeRryGIhylt-zis8Nip7nLJzxIl7-eJyO_t_xmTnQeDyB--CRV5fpFDYdX-nBCRcoQ2bI7RPIB5m1EkvDA=w1194-h132-no" alt="Identity Packages"></li>
</ul>
<p>另外此次範例使用 <strong>Owin</strong>，需要安裝 <strong>Microsoft.Owin</strong> 套件，這套件有許多相依套件，裝完後會有</p>
<ul>
<li>Microsoft.Owin</li>
<li>Microsoft.Owin.Security</li>
<li>Microsoft.Owin.Security.Cookies</li>
<li>Microsoft.Owin.Security.OAuth</li>
</ul>
<p>安裝方式可以透過 <a href="https://docs.microsoft.com/en-us/nuget/tools/package-manager-console" target="_blank" rel="noopener">Nuget Manager Console</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Install-Package Microsoft.Owin</span><br></pre></td></tr></table></figure>

<p>還有 <strong>Microsoft.Owin.Host.SystemWeb</strong> 需要安裝</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Install-Package Microsoft.Owin.Host.SystemWeb</span><br></pre></td></tr></table></figure>

<p>最後，因為部分語法使用 <strong><a href="https://blogs.msdn.microsoft.com/msdntaiwan/2017/04/10/c7-new-features/" target="_blank" rel="noopener">C# 7.0</a></strong> ，此範例使用 <strong>.net framework 4.6</strong> 如果沒有安裝 Package 在編譯的時候反而會出錯，所以安裝以下套件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Install-Package Microsoft.Net.Compilers</span><br></pre></td></tr></table></figure>

<h2 id="建立資料與對應"><a href="#建立資料與對應" class="headerlink" title="建立資料與對應"></a>建立資料與對應</h2><p>可以使用以下的 script 建立<br>套件處理完成，接著需要先建立資料表，以下是預設的 <strong><a href="https://www.asp.net/identity" target="_blank" rel="noopener">Identity</a></strong> 資料表，欄位盡量<strong>不要變動</strong>，可以<strong>增加新的欄位</strong>，或是變動 Id 索引的類型，此範例就變更 Id 類型為 int</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 切換至資料庫</span></span><br><span class="line"><span class="keyword">USE</span> YourDataBaseName</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserRoles] <span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> [FK_IdentityUserRoles_IdentityUsers_UserId]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserRoles] <span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> [FK_IdentityUserRoles_IdentityRoles_RoleId]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserLogins] <span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> [FK_IdentityUserLogins_IdentityUsers_UserId]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserClaims] <span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> [FK_IdentityUserClaims_IdentityUsers_UserId]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Drop Identity Tables ******/</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> [dbo].[IdentityUsers]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserRoles]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserLogins]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserClaims]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> [dbo].[IdentityRoles]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Object:  Table [dbo].[IdentityRoles] ******/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [dbo].[IdentityRoles](</span><br><span class="line">    [<span class="keyword">Id</span>] [<span class="built_in">int</span>] <span class="keyword">IDENTITY</span>(<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [<span class="keyword">Name</span>] [<span class="keyword">nvarchar</span>](<span class="number">256</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> [PK_IdentityRoles] PRIMARY <span class="keyword">KEY</span> CLUSTERED ([<span class="keyword">Id</span>] <span class="keyword">ASC</span>)</span><br><span class="line">);</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Object:  Table [dbo].[IdentityUserClaims] ******/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserClaims](</span><br><span class="line">    [<span class="keyword">Id</span>] [<span class="built_in">int</span>] <span class="keyword">IDENTITY</span>(<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [UserId] [<span class="built_in">int</span>] <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [ClaimType] [<span class="keyword">nvarchar</span>](<span class="keyword">max</span>) <span class="literal">NULL</span>,</span><br><span class="line">    [ClaimValue] [<span class="keyword">nvarchar</span>](<span class="keyword">max</span>) <span class="literal">NULL</span>,</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> [PK_IdentityUserClaims] PRIMARY <span class="keyword">KEY</span> CLUSTERED ([<span class="keyword">Id</span>] <span class="keyword">ASC</span>)</span><br><span class="line">);</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Object:  Table [dbo].[IdentityUserLogins] ******/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserLogins](</span><br><span class="line">    [LoginProvider] [<span class="keyword">nvarchar</span>](<span class="number">128</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [ProviderKey] [<span class="keyword">nvarchar</span>](<span class="number">128</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [UserId] [<span class="built_in">int</span>] <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> [PK_IdentityUserLogins] PRIMARY <span class="keyword">KEY</span> CLUSTERED ([LoginProvider] <span class="keyword">ASC</span>,[ProviderKey] <span class="keyword">ASC</span>,[UserId] <span class="keyword">ASC</span>)</span><br><span class="line">);</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Object:  Table [dbo].[IdentityUsers] ******/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [dbo].[IdentityUsers](</span><br><span class="line">    [<span class="keyword">Id</span>] [<span class="built_in">int</span>] <span class="keyword">IDENTITY</span>(<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [Email] [<span class="keyword">nvarchar</span>](<span class="number">256</span>) <span class="literal">NULL</span>,</span><br><span class="line">    [EmailConfirmed] [<span class="built_in">bit</span>] <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [PasswordHash] [<span class="keyword">nvarchar</span>](<span class="number">100</span>) <span class="literal">NULL</span>,</span><br><span class="line">    [SecurityStamp] [<span class="keyword">nvarchar</span>](<span class="number">100</span>) <span class="literal">NULL</span>,</span><br><span class="line">    [PhoneNumber] [<span class="keyword">nvarchar</span>](<span class="number">25</span>) <span class="literal">NULL</span>,</span><br><span class="line">    [PhoneNumberConfirmed] [<span class="built_in">bit</span>] <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [TwoFactorEnabled] [<span class="built_in">bit</span>] <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [LockoutEndDateUtc] [datetime] <span class="literal">NULL</span>,</span><br><span class="line">    [LockoutEnabled] [<span class="built_in">bit</span>] <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [AccessFailedCount] [<span class="built_in">int</span>] <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [UserName] [<span class="keyword">nvarchar</span>](<span class="number">256</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> [PK_IdentityUsers] PRIMARY <span class="keyword">KEY</span> CLUSTERED ([<span class="keyword">Id</span>] <span class="keyword">ASC</span>)</span><br><span class="line">);</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Object:  Table [dbo].[IdentityUserRoles] ******/</span></span><br><span class="line"><span class="keyword">SET</span> ANSI_NULLS <span class="keyword">ON</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">SET</span> QUOTED_IDENTIFIER <span class="keyword">ON</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserRoles](</span><br><span class="line">    [UserId] [<span class="built_in">int</span>] <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    [RoleId] [<span class="built_in">int</span>] <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> [PK_IdentityUserRoles] PRIMARY <span class="keyword">KEY</span> CLUSTERED ([UserId] <span class="keyword">ASC</span>,[RoleID] <span class="keyword">ASC</span>)</span><br><span class="line">);</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserClaims]  <span class="keyword">WITH</span> <span class="keyword">CHECK</span> <span class="keyword">ADD</span>  <span class="keyword">CONSTRAINT</span> [FK_IdentityUserClaims_IdentityUsers_UserId] <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span>([UserId])</span><br><span class="line"><span class="keyword">REFERENCES</span> [dbo].[IdentityUsers] ([<span class="keyword">Id</span>])</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">CASCADE</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserClaims] <span class="keyword">CHECK</span> <span class="keyword">CONSTRAINT</span> [FK_IdentityUserClaims_IdentityUsers_UserId]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserLogins]  <span class="keyword">WITH</span> <span class="keyword">CHECK</span> <span class="keyword">ADD</span>  <span class="keyword">CONSTRAINT</span> [FK_IdentityUserLogins_IdentityUsers_UserId] <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span>([UserId])</span><br><span class="line"><span class="keyword">REFERENCES</span> [dbo].[IdentityUsers] ([<span class="keyword">Id</span>])</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">CASCADE</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserLogins] <span class="keyword">CHECK</span> <span class="keyword">CONSTRAINT</span> [FK_IdentityUserLogins_IdentityUsers_UserId]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserRoles]  <span class="keyword">WITH</span> <span class="keyword">CHECK</span> <span class="keyword">ADD</span>  <span class="keyword">CONSTRAINT</span> [FK_IdentityUserRoles_IdentityRoles_RoleId] <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span>([RoleId])</span><br><span class="line"><span class="keyword">REFERENCES</span> [dbo].[IdentityRoles] ([<span class="keyword">Id</span>])</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">CASCADE</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserRoles] <span class="keyword">CHECK</span> <span class="keyword">CONSTRAINT</span> [FK_IdentityUserRoles_IdentityRoles_RoleId]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserRoles]  <span class="keyword">WITH</span> <span class="keyword">CHECK</span> <span class="keyword">ADD</span>  <span class="keyword">CONSTRAINT</span> [FK_IdentityUserRoles_IdentityUsers_UserId] <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span>([UserId])</span><br><span class="line"><span class="keyword">REFERENCES</span> [dbo].[IdentityUsers] ([<span class="keyword">Id</span>])</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">CASCADE</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> [dbo].[IdentityUserRoles] <span class="keyword">CHECK</span> <span class="keyword">CONSTRAINT</span> [FK_IdentityUserRoles_IdentityUsers_UserId]</span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure>

<p>資料表建立完成，即可以使用 <strong>Entity Framework</strong> 來建立 <strong>edmx</strong> 。</p>
<h2 id="Identity-與-edmx-對應"><a href="#Identity-與-edmx-對應" class="headerlink" title="Identity 與 edmx 對應"></a><a href="https://www.asp.net/identity" target="_blank" rel="noopener">Identity</a> 與 <strong>edmx</strong> 對應</h2><p>因為 edmx 產生了資料表對應的 Class ，但是 <a href="https://www.asp.net/identity" target="_blank" rel="noopener">Identity</a> 不知道對應哪個，所以透過 <strong>partial class</strong> 繼承 <strong>IUser</strong> 與 <strong>IRole</strong></p>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> edmx IdentityUser 資料表類別對應 Identity 套件的使用者資料</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;seealso cref="int" /&gt;</span></span></span><br><span class="line">public partial class IdentityUser: IUser&lt;int&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 非同步產生使用者驗證</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="manager"&gt;</span>Identity 的 UserManager<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;ClaimsIdentity&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;ClaimsIdentity&gt; <span class="title">GenerateUserIdentityAsync</span>(<span class="params">UserManager&lt;IdentityUser, <span class="keyword">int</span>&gt; manager</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">// Note the authenticationType must match the one defined in CookieAuthenticationOptions.AuthenticationType</span></span><br><span class="line">        <span class="keyword">var</span> userIdentity = <span class="keyword">await</span> manager.CreateIdentityAsync(<span class="keyword">this</span>, DefaultAuthenticationTypes.ApplicationCookie);</span><br><span class="line">        <span class="comment">// Add custom user claims here</span></span><br><span class="line">        <span class="keyword">return</span> userIdentity;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> edmx IdentityRole 資料表類別對應 Identity 套件的角色資料</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;seealso cref="int" /&gt;</span></span></span><br><span class="line">public partial class IdentityRole : IRole&lt;int&gt;</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接著必須對以下這些介面進行實作，主要是需要指定 <strong>DbContext</strong></p>
<ul>
<li>IQueryableUserStore&lt;IdentityUser, int&gt;</li>
<li>IUserPasswordStore&lt;IdentityUser, int&gt;</li>
<li>IUserLoginStore&lt;IdentityUser, int&gt;</li>
<li>IUserClaimStore&lt;IdentityUser, int&gt;</li>
<li>IUserRoleStore&lt;IdentityUser, int&gt;</li>
<li>IUserSecurityStampStore&lt;IdentityUser, int&gt;</li>
<li>IUserEmailStore&lt;IdentityUser, int&gt;</li>
<li>IUserPhoneNumberStore&lt;IdentityUser, int&gt;</li>
<li>IUserTwoFactorStore&lt;IdentityUser, int&gt;</li>
<li>IUserLockoutStore&lt;IdentityUser, int&gt;</li>
<li>IQueryableRoleStore&lt;IdentityRole, int&gt;</li>
</ul>
<p>直接建立 <strong>UserSotre Class</strong> 與 <strong>RoleStore Class</strong> 來實作；以下為 <strong>UserStore Class</strong></p>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserStore</span> :</span><br><span class="line">    IQueryableUserStore&lt;IdentityUser, int&gt;, IUserPasswordStore&lt;IdentityUser, int&gt;, IUserLoginStore&lt;IdentityUser, int&gt;,</span><br><span class="line">    IUserClaimStore&lt;IdentityUser, <span class="keyword">int</span>&gt;, IUserRoleStore&lt;IdentityUser, <span class="keyword">int</span>&gt;, IUserSecurityStampStore&lt;IdentityUser, <span class="keyword">int</span>&gt;,</span><br><span class="line">    IUserEmailStore&lt;IdentityUser, <span class="keyword">int</span>&gt;, IUserPhoneNumberStore&lt;IdentityUser, <span class="keyword">int</span>&gt;, IUserTwoFactorStore&lt;IdentityUser, <span class="keyword">int</span>&gt;,</span><br><span class="line">    IUserLockoutStore&lt;IdentityUser, <span class="keyword">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> The database</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> DataEntities db;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Initializes a new instance of the <span class="doctag">&lt;see cref="UserStore"/&gt;</span> class.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="db"&gt;</span>The database.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>db<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserStore</span>(<span class="params">DataEntities db</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">this</span>.db = db ?? <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(db));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IQueryableUserStore&lt;IdentityUser, int&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc /&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> IQueryable users</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;value&gt;</span>The users.<span class="doctag">&lt;/value&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> IQueryable&lt;IdentityUser&gt; Users =&gt; <span class="keyword">this</span>.db.IdentityUsers;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserStore&lt;IdentityUser, Key&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc /&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Insert a new user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">CreateAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">this</span>.db.IdentityUsers.Add(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.SaveChangesAsync();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc /&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Delete a user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">DeleteAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">this</span>.db.IdentityUsers.Remove(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.SaveChangesAsync();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Finds a user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="userId"&gt;</span>The user identifier.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;IdentityUser&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;IdentityUser&gt; <span class="title">FindByIdAsync</span>(<span class="params"><span class="keyword">int</span> userId</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.IdentityUsers</span><br><span class="line">            .Include(u =&gt; u.IdentityUserLogins).Include(u =&gt; u.IdentityRoles).Include(u =&gt; u.IdentityUserClaims)</span><br><span class="line">            .FirstOrDefaultAsync(u =&gt; u.Id.Equals(userId));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Find a user by name</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="userName"&gt;</span>Name of the user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;IdentityUser&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;IdentityUser&gt; <span class="title">FindByNameAsync</span>(<span class="params"><span class="keyword">string</span> userName</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.IdentityUsers</span><br><span class="line">            .Include(u =&gt; u.IdentityUserLogins).Include(u =&gt; u.IdentityRoles).Include(u =&gt; u.IdentityUserClaims)</span><br><span class="line">            .FirstOrDefaultAsync(u =&gt; u.UserName == userName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Update a user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">UpdateAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">this</span>.db.Entry&lt;IdentityUser&gt;(user).State = EntityState.Modified;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.SaveChangesAsync();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserPasswordStore&lt;IdentityUser, Key&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Get the user password hash</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.String&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">string</span>&gt; <span class="title">GetPasswordHashAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.PasswordHash);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns true if a user has a password set</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.Boolean&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">bool</span>&gt; <span class="title">HasPasswordAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.PasswordHash != <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Set the user password hash</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="passwordHash"&gt;</span>The password hash.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">SetPasswordHashAsync</span>(<span class="params">IdentityUser user, <span class="keyword">string</span> passwordHash</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.PasswordHash = passwordHash;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserLoginStore&lt;IdentityUser, Key&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Adds a user login with the specified provider and key</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="login"&gt;</span>The login.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> or</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> login</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">AddLoginAsync</span>(<span class="params">IdentityUser user, UserLoginInfo login</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (login == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(login));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> userLogin = Activator.CreateInstance&lt;IdentityUserLogin&gt;();</span><br><span class="line">        userLogin.UserId = user.Id;</span><br><span class="line">        userLogin.LoginProvider = login.LoginProvider;</span><br><span class="line">        userLogin.ProviderKey = login.ProviderKey;</span><br><span class="line">        user.IdentityUserLogins.Add(userLogin);</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> find as an asynchronous operation.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="login"&gt;</span>The login.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;IdentityUser&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>login<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;IdentityUser&gt; <span class="title">FindAsync</span>(<span class="params">UserLoginInfo login</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (login == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(login));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> provider = login.LoginProvider;</span><br><span class="line">        <span class="keyword">var</span> key = login.ProviderKey;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> userLogin = <span class="keyword">await</span> <span class="keyword">this</span>.db.IdentityUserLogins.FirstOrDefaultAsync(l =&gt; l.LoginProvider == provider &amp;&amp; l.ProviderKey == key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (userLogin == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">default</span>(IdentityUser);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">await</span> <span class="keyword">this</span>.db.IdentityUsers</span><br><span class="line">            .Include(u =&gt; u.IdentityUserLogins).Include(u =&gt; u.IdentityRoles).Include(u =&gt; u.IdentityUserClaims)</span><br><span class="line">            .FirstOrDefaultAsync(u =&gt; u.Id.Equals(userLogin.UserId));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns the linked accounts for this user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;IList&amp;lt;UserLoginInfo&amp;gt;&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> Task&lt;IList&lt;UserLoginInfo&gt;&gt; GetLoginsAsync(IdentityUser user)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult&lt;IList&lt;UserLoginInfo&gt;&gt;(user.IdentityUserLogins.Select(l =&gt; <span class="keyword">new</span> UserLoginInfo(l.LoginProvider, l.ProviderKey)).ToList());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Removes the user login with the specified combination if it exists</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="login"&gt;</span>The login.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> or</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> login</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">RemoveLoginAsync</span>(<span class="params">IdentityUser user, UserLoginInfo login</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (login == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(login));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> provider = login.LoginProvider;</span><br><span class="line">        <span class="keyword">var</span> key = login.ProviderKey;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> item = user.IdentityUserLogins.SingleOrDefault(l =&gt; l.LoginProvider == provider &amp;&amp; l.ProviderKey == key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (item != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            user.IdentityUserLogins.Remove(item);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserClaimStore&lt;IdentityUser, int&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Add a new user claim</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="claim"&gt;</span>The claim.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="System.ArgumentNullException"&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> or</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> claim</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">AddClaimAsync</span>(<span class="params">IdentityUser user, Claim claim</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (claim == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(claim));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> item = Activator.CreateInstance&lt;IdentityUserClaim&gt;();</span><br><span class="line">        item.UserId = user.Id;</span><br><span class="line">        item.ClaimType = claim.Type;</span><br><span class="line">        item.ClaimValue = claim.Value;</span><br><span class="line">        user.IdentityUserClaims.Add(item);</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns the claims for the user with the issuer set</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;IList&amp;lt;Claim&amp;gt;&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> Task&lt;IList&lt;Claim&gt;&gt; GetClaimsAsync(IdentityUser user)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult&lt;IList&lt;Claim&gt;&gt;(user.IdentityUserClaims.Select(c =&gt; <span class="keyword">new</span> Claim(c.ClaimType, c.ClaimValue)).ToList());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Remove a user claim</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="claim"&gt;</span>The claim.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> or</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> claim</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">RemoveClaimAsync</span>(<span class="params">IdentityUser user, Claim claim</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (claim == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(claim));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> user.IdentityUserClaims.Where(uc =&gt; uc.ClaimValue == claim.Value &amp;&amp; uc.ClaimType == claim.Type).ToList())</span><br><span class="line">        &#123;</span><br><span class="line">            user.IdentityUserClaims.Remove(item);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> <span class="keyword">this</span>.db.IdentityUserClaims.Where(uc =&gt; uc.UserId.Equals(user.Id) &amp;&amp; uc.ClaimValue == claim.Value &amp;&amp; uc.ClaimType == claim.Type).ToList())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.db.IdentityUserClaims.Remove(item);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserRoleStore&lt;IdentityUser, int&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Adds a user to a role</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="roleName"&gt;</span>Name of the role.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentException"&gt;</span>roleName<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="InvalidOperationException"&gt;</span><span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">AddToRoleAsync</span>(<span class="params">IdentityUser user, <span class="keyword">string</span> roleName</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrWhiteSpace(roleName))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(WarningStr.ValueCannotBeNullOrEmpty, <span class="keyword">nameof</span>(roleName));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> userRole = <span class="keyword">this</span>.db.IdentityRoles.SingleOrDefault(r =&gt; r.Name == roleName);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (userRole == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="keyword">string</span>.Format(CultureInfo.CurrentCulture, WarningStr.RoleNotFound, <span class="keyword">new</span> <span class="keyword">object</span>[] &#123; roleName &#125;));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.IdentityRoles.Add(userRole);</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns the roles for this user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;IList&amp;lt;System.String&amp;gt;&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> Task&lt;IList&lt;<span class="keyword">string</span>&gt;&gt; GetRolesAsync(IdentityUser user)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult&lt;IList&lt;<span class="keyword">string</span>&gt;&gt;(user.IdentityRoles.Join(<span class="keyword">this</span>.db.IdentityRoles, ur =&gt; ur.Id, r =&gt; r.Id, (ur, r) =&gt; r.Name).ToList());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns true if a user is in the role</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="roleName"&gt;</span>Name of the role.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.Boolean&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentException"&gt;</span>roleName<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">bool</span>&gt; <span class="title">IsInRoleAsync</span>(<span class="params">IdentityUser user, <span class="keyword">string</span> roleName</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrWhiteSpace(roleName))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(WarningStr.ValueCannotBeNullOrEmpty, <span class="keyword">nameof</span>(roleName));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">            Task.FromResult&lt;<span class="keyword">bool</span>&gt;(</span><br><span class="line">                <span class="keyword">this</span>.db.IdentityRoles.Any(r =&gt; r.Name == roleName &amp;&amp; r.IdentityUsers.Any(u =&gt; u.Id.Equals(user.Id))));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Removes the role for the user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="roleName"&gt;</span>Name of the role.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentException"&gt;</span>roleName<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">RemoveFromRoleAsync</span>(<span class="params">IdentityUser user, <span class="keyword">string</span> roleName</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrWhiteSpace(roleName))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(WarningStr.ValueCannotBeNullOrEmpty, <span class="keyword">nameof</span>(roleName));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> userRole = user.IdentityRoles.SingleOrDefault(r =&gt; r.Name == roleName);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (userRole != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            user.IdentityRoles.Remove(userRole);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserSecurityStampStore&lt;IdentityUser, int&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Get the user security stamp</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.String&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">string</span>&gt; <span class="title">GetSecurityStampAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.SecurityStamp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Set the security stamp for the user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="stamp"&gt;</span>The stamp.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">SetSecurityStampAsync</span>(<span class="params">IdentityUser user, <span class="keyword">string</span> stamp</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.SecurityStamp = stamp;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserEmailStore&lt;IdentityUser, int&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns the user associated with this email</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="email"&gt;</span>The email.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;IdentityUser&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;IdentityUser&gt; <span class="title">FindByEmailAsync</span>(<span class="params"><span class="keyword">string</span> email</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.IdentityUsers</span><br><span class="line">            .Include(u =&gt; u.IdentityUserLogins).Include(u =&gt; u.IdentityRoles).Include(u =&gt; u.IdentityUserClaims)</span><br><span class="line">            .FirstOrDefaultAsync(u =&gt; u.Email == email);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Get the user email</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.String&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">string</span>&gt; <span class="title">GetEmailAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.Email);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns true if the user email is confirmed</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.Boolean&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">bool</span>&gt; <span class="title">GetEmailConfirmedAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.EmailConfirmed);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Set the user email</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="email"&gt;</span>The email.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">SetEmailAsync</span>(<span class="params">IdentityUser user, <span class="keyword">string</span> email</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.Email = email;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Sets whether the user email is confirmed</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="confirmed"&gt;</span>if set to <span class="doctag">&lt;c&gt;</span>true<span class="doctag">&lt;/c&gt;</span> [confirmed].<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">SetEmailConfirmedAsync</span>(<span class="params">IdentityUser user, <span class="keyword">bool</span> confirmed</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.EmailConfirmed = confirmed;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserPhoneNumberStore&lt;IdentityUser, int&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Get the user phone number</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.String&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">string</span>&gt; <span class="title">GetPhoneNumberAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.PhoneNumber);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns true if the user phone number is confirmed</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.Boolean&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">bool</span>&gt; <span class="title">GetPhoneNumberConfirmedAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.PhoneNumberConfirmed);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Set the user's phone number</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="phoneNumber"&gt;</span>The phone number.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">SetPhoneNumberAsync</span>(<span class="params">IdentityUser user, <span class="keyword">string</span> phoneNumber</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.PhoneNumber = phoneNumber;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Sets whether the user phone number is confirmed</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="confirmed"&gt;</span>if set to <span class="doctag">&lt;c&gt;</span>true<span class="doctag">&lt;/c&gt;</span> [confirmed].<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">SetPhoneNumberConfirmedAsync</span>(<span class="params">IdentityUser user, <span class="keyword">bool</span> confirmed</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.PhoneNumberConfirmed = confirmed;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserTwoFactorStore&lt;IdentityUser, int&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns whether two factor authentication is enabled for the user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.Boolean&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">bool</span>&gt; <span class="title">GetTwoFactorEnabledAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.TwoFactorEnabled);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Sets whether two factor authentication is enabled for the user</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="enabled"&gt;</span>if set to <span class="doctag">&lt;c&gt;</span>true<span class="doctag">&lt;/c&gt;</span> [enabled].<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">SetTwoFactorEnabledAsync</span>(<span class="params">IdentityUser user, <span class="keyword">bool</span> enabled</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.TwoFactorEnabled = enabled;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IUserLockoutStore&lt;IdentityUser, int&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns the current number of failed access attempts.  This number usually will be reset whenever the password is</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> verified or the account is locked out.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.Int32&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">int</span>&gt; <span class="title">GetAccessFailedCountAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.AccessFailedCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns whether the user can be locked out.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.Boolean&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">bool</span>&gt; <span class="title">GetLockoutEnabledAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.LockoutEnabled);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Returns the DateTimeOffset that represents the end of a user's lockout, any time in the past should be considered</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> not locked out.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;DateTimeOffset&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;DateTimeOffset&gt; <span class="title">GetLockoutEndDateAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(</span><br><span class="line">            user.LockoutEndDateUtc.HasValue ?</span><br><span class="line">                <span class="keyword">new</span> DateTimeOffset(DateTime.SpecifyKind(user.LockoutEndDateUtc.Value, DateTimeKind.Utc)) :</span><br><span class="line">                <span class="keyword">new</span> DateTimeOffset());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Used to record when an attempt to access the user has failed</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;System.Int32&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="keyword">int</span>&gt; <span class="title">IncrementAccessFailedCountAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.AccessFailedCount++;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(user.AccessFailedCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Used to reset the access failed count, typically after the account is successfully accessed</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">ResetAccessFailedCountAsync</span>(<span class="params">IdentityUser user</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.AccessFailedCount = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Sets whether the user can be locked out.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="enabled"&gt;</span>if set to <span class="doctag">&lt;c&gt;</span>true<span class="doctag">&lt;/c&gt;</span> [enabled].<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">SetLockoutEnabledAsync</span>(<span class="params">IdentityUser user, <span class="keyword">bool</span> enabled</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.LockoutEnabled = enabled;</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Locks a user out until the specified end date (set to a past date, to unlock a user)</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="user"&gt;</span>The user.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="lockoutEnd"&gt;</span>The lockout end.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>user<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">SetLockoutEndDateAsync</span>(<span class="params">IdentityUser user, DateTimeOffset lockoutEnd</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(user));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        user.LockoutEndDateUtc = lockoutEnd == DateTimeOffset.MinValue ? <span class="literal">null</span> : <span class="keyword">new</span> DateTime?(lockoutEnd.UtcDateTime);</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IDisposable --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Performs application-defined tasks associated with freeing, releasing, or resetting unmanaged resources.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Dispose</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">this</span>.Dispose(<span class="literal">true</span>);</span><br><span class="line">        GC.SuppressFinalize(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Releases unmanaged and - optionally - managed resources.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="disposing"&gt;</span><span class="doctag">&lt;c&gt;</span>true<span class="doctag">&lt;/c&gt;</span> to release both managed and unmanaged resources; <span class="doctag">&lt;c&gt;</span>false<span class="doctag">&lt;/c&gt;</span> to release only unmanaged resources.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Dispose</span>(<span class="params"><span class="keyword">bool</span> disposing</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (disposing)</span><br><span class="line">        &#123;</span><br><span class="line">            db?.Dispose();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以下為 <strong>RoleStore Class</strong></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Class RoleStore.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">public class RoleStore : IQueryableRoleStore&lt;IdentityRole, int&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> The database</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> DataEntities db;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Initializes a new instance of the <span class="doctag">&lt;see cref="RoleStore"/&gt;</span> class.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="db"&gt;</span>The database.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RoleStore</span>(<span class="params">DataEntities db</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">this</span>.db = db;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IQueryableRoleStore&lt;UserRole, TKey&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> IQueryable Roles</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;value&gt;</span>The roles.<span class="doctag">&lt;/value&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> IQueryable&lt;IdentityRole&gt; Roles</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> <span class="keyword">this</span>.db.IdentityRoles; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IRoleStore&lt;UserRole, TKey&gt; --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Create a new role</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="role"&gt;</span>The role.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>role<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> Task <span class="title">CreateAsync</span>(<span class="params">IdentityRole role</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (role == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(role));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.db.IdentityRoles.Add(role);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.SaveChangesAsync();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Delete a role</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="role"&gt;</span>The role.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>role<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">DeleteAsync</span>(<span class="params">IdentityRole role</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (role == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(role));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.db.IdentityRoles.Remove(role);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.SaveChangesAsync();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Find a role by id</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="roleId"&gt;</span>The role identifier.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;IdentityRole&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;IdentityRole&gt; <span class="title">FindByIdAsync</span>(<span class="params"><span class="keyword">int</span> roleId</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.IdentityRoles.FindAsync(<span class="keyword">new</span>[] &#123; roleId &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Find a role by name</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="roleName"&gt;</span>Name of the role.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task&amp;lt;IdentityRole&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;IdentityRole&gt; <span class="title">FindByNameAsync</span>(<span class="params"><span class="keyword">string</span> roleName</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.IdentityRoles.FirstOrDefaultAsync(r =&gt; r.Name == roleName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Update a role</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="role"&gt;</span>The role.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>Task.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref="ArgumentNullException"&gt;</span>role<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">UpdateAsync</span>(<span class="params">IdentityRole role</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (role == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(role));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.db.Entry(role).State = EntityState.Modified;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.db.SaveChangesAsync();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> -- IDisposable --</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc /&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Performs application-defined tasks associated with freeing, releasing, or resetting unmanaged resources.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Dispose</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">this</span>.Dispose(<span class="literal">true</span>);</span><br><span class="line">        GC.SuppressFinalize(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Releases unmanaged and - optionally - managed resources.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="disposing"&gt;</span><span class="doctag">&lt;c&gt;</span>true<span class="doctag">&lt;/c&gt;</span> to release both managed and unmanaged resources; <span class="doctag">&lt;c&gt;</span>false<span class="doctag">&lt;/c&gt;</span> to release only unmanaged resources.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Dispose</span>(<span class="params"><span class="keyword">bool</span> disposing</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (disposing)</span><br><span class="line">        &#123;</span><br><span class="line">            db?.Dispose();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Identity-Configuration"><a href="#Identity-Configuration" class="headerlink" title="Identity Configuration"></a><a href="https://www.asp.net/identity" target="_blank" rel="noopener">Identity</a> Configuration</h2><p>對應完成後，在 <strong>Startup.Auth</strong> 檔案進行註冊即可</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Startup</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Configures the authentication.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="app"&gt;</span>The application.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ConfigureAuth</span>(<span class="params">IAppBuilder app</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">// Configure the db context, user manager and role manager to use a single instance per request</span></span><br><span class="line">        app.CreatePerOwinContext(()=&gt; <span class="keyword">new</span> DataEntities());</span><br><span class="line">        app.CreatePerOwinContext&lt;ApplicationUserManager&gt;(ApplicationUserManager.Create);</span><br><span class="line">        app.CreatePerOwinContext&lt;ApplicationRoleManager&gt;(ApplicationRoleManager.Create);</span><br><span class="line">        app.CreatePerOwinContext&lt;ApplicationSignInManager&gt;(ApplicationSignInManager.Create);</span><br><span class="line">        <span class="comment">// ... 省略以下</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下來的步驟就跟一般 <strong>Code First</strong> 相同，只是手動安裝套件的話，這些 <strong>Controller</strong> 與 <strong>IdentityConfig</strong> 都需要自行實作，可以參考此次<a href="https://github.com/shunnien/ASPNetMVC/tree/develop" target="_blank" rel="noopener">範例檔案</a>。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://github.com/kriasoft/AspNet.Identity" target="_blank" rel="noopener">kriasoft AspNet.Identity</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
      </tags>
  </entry>
  <entry>
    <title>Google Map API 接取 WMTS</title>
    <url>/2017/08/14/google-map-api-add-wmts-layer/</url>
    <content><![CDATA[<p>使用 <strong>Google Map API</strong> 介接 <strong><a href="https://en.wikipedia.org/wiki/Web_Map_Tile_Service" target="_blank" rel="noopener">WMTS</a>(Web Map Tile Service)</strong> ，介街方式不難，主要使用 <strong>Google Map</strong> 的 <strong><a href="https://developers.google.com/maps/documentation/javascript/examples/maptype-image" target="_blank" rel="noopener">ImageMapType</a></strong> 。<a id="more"></a><br>以下進入正題， <strong><a href="https://en.wikipedia.org/wiki/Web_Map_Tile_Service" target="_blank" rel="noopener">WMTS</a></strong> 使用國土測繪中心的資料。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initMap</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> wmsMapType = <span class="keyword">new</span> google.maps.ImageMapType(&#123;</span><br><span class="line">    maxZoom: <span class="number">18</span>,</span><br><span class="line">    minZoom: <span class="number">7</span>,</span><br><span class="line">    name: <span class="string">"EMAP"</span>,</span><br><span class="line">    <span class="comment">// 每個磚格設定為 256 X 256</span></span><br><span class="line">    tileSize: <span class="keyword">new</span> google.maps.Size(<span class="number">256</span>, <span class="number">256</span>),</span><br><span class="line">    isPng: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// 使用國土測繪中心的 wmts 來進行範例</span></span><br><span class="line">    getTileUrl: <span class="function"><span class="keyword">function</span>(<span class="params">coord, zoom</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`http://wmts.nlsc.gov.tw/wmts/EMAP/default/GoogleMapsCompatible/<span class="subst">$&#123;zoom&#125;</span>/<span class="subst">$&#123;coord.y&#125;</span>/<span class="subst">$&#123;coord.x&#125;</span>.png`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> google.maps.Map(<span class="built_in">document</span>.getElementById(<span class="string">'map'</span>), &#123;</span><br><span class="line">    zoom: <span class="number">12</span>,</span><br><span class="line">    center: <span class="keyword">new</span> google.maps.LatLng(<span class="number">25.04</span>, <span class="number">121.505</span>)</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  map.overlayMapTypes.insertAt(<span class="number">0</span>, wmsMapType);</span><br><span class="line">&#125;</span><br><span class="line">google.maps.event.addDomListener(<span class="built_in">window</span>, <span class="string">'load'</span>, initMap);</span><br></pre></td></tr></table></figure>

<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/2gae8em2/embedded/js,html,css,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>


<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://blog.csdn.net/supermapsupport/article/details/50423782" target="_blank" rel="noopener">Wiki WMTS</a></li>
<li><a href="https://developers.google.com/maps/documentation/javascript/examples/maptype-image" target="_blank" rel="noopener">Google Map maptype-image</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Google</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Entity Framework 6 建立資料庫 Function 的對應</title>
    <url>/2017/08/15/Entity-Framework-Db-Function/</url>
    <content><![CDATA[<p>有朋友在問這方面的問題，直接整理一下資料，針對 <strong><a href="https://msdn.microsoft.com/zh-tw/library/bb399567(v=vs.110).aspx" target="_blank" rel="noopener">Entity Framework</a> 6</strong> 的 <strong><a href="https://msdn.microsoft.com/en-us/library/jj206878(v=vs.113).aspx" target="_blank" rel="noopener">DataBase First</a></strong> 的處理對應。<a id="more"></a>使用之前文章的 <a href="https://github.com/shunnien/ASPNetMVC" target="_blank" rel="noopener"><strong>Github</strong> 範例</a>，不過先調整一下範例的資料庫連接方式，將資料庫連接方式變動為使用 <strong>LocalDB</strong> ，這些方式就不再贅述，以下進入正題。<br>因為範例使用的 <strong>Northwind</strong> 資料庫沒有 <strong>Function</strong>，所以建立二個 DB Function ，方便後續的測試，如以下的範例。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="comment">-- Author:                      Allen.YU</span></span><br><span class="line"><span class="comment">-- Script Version:              1.0</span></span><br><span class="line"><span class="comment">-- MSSQL Version:               20016</span></span><br><span class="line"><span class="comment">-- Create Date:                 2017-08-15</span></span><br><span class="line"><span class="comment">-- Update Date:                 2017-08-15</span></span><br><span class="line"><span class="comment">-- Description:                 範例 Db function 計算單價 X 數量 X 折扣</span></span><br><span class="line"><span class="comment">-- Param name="@OrderID":       對應 OrderDetail OrderID</span></span><br><span class="line"><span class="comment">-- Param name="@ProductID":     對應 OrderDetail ProductID</span></span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> fn_TotalPrice (@OrderID <span class="built_in">int</span>,@ProductID <span class="built_in">int</span>)</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="built_in">decimal</span> <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">DECLARE</span> @totalPrice <span class="built_in">decimal</span>;</span><br><span class="line"><span class="keyword">SET</span> @totalPrice = (<span class="keyword">SELECT</span></span><br><span class="line">        [UnitPrice] * [Quantity] * (<span class="number">1</span>- [Discount])</span><br><span class="line">    <span class="keyword">FROM</span> [<span class="keyword">Order</span> Details] <span class="keyword">WITH</span> (NOLOCK)</span><br><span class="line">    <span class="keyword">WHERE</span> [OrderID] = @OrderID</span><br><span class="line">    <span class="keyword">AND</span> [ProductID] = @ProductID)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">RETURN</span> @totalPrice</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="comment">-- Author:                      Allen.YU</span></span><br><span class="line"><span class="comment">-- Script Version:              1.0</span></span><br><span class="line"><span class="comment">-- MSSQL Version:               20016</span></span><br><span class="line"><span class="comment">-- Create Date:                 2017-08-15</span></span><br><span class="line"><span class="comment">-- Update Date:                 2017-08-15</span></span><br><span class="line"><span class="comment">-- Description:                 範例 Db function 計算此訂單有幾樣商品</span></span><br><span class="line"><span class="comment">-- Param name="@OrderID":       對應 OrderDetail OrderID</span></span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> fn_TotalProductQuan (@OrderID <span class="built_in">int</span>)</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="built_in">tinyint</span> <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">DECLARE</span> @<span class="keyword">result</span> <span class="built_in">tinyint</span>;</span><br><span class="line"><span class="keyword">SET</span> @<span class="keyword">result</span> = (<span class="keyword">SELECT</span></span><br><span class="line">        <span class="keyword">Count</span>(*)</span><br><span class="line">    <span class="keyword">FROM</span> [<span class="keyword">Order</span> Details] <span class="keyword">WITH</span> (NOLOCK)</span><br><span class="line">    <span class="keyword">WHERE</span> [OrderID] = @OrderID)</span><br><span class="line">    <span class="keyword">RETURN</span> @<span class="keyword">result</span></span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure>

<p>資料庫有了 function 後(如下圖)，就可以更新 <strong>Edmx</strong> 檔案，更新後如下。<br><img src="https://lh3.googleusercontent.com/qfgGJRAJUTDFCqKn8Jy4-ontuvjbZLCJiQt47LSAXLrUsOo-auWB_fGzAPVHzjrJ8ukRiza9ze9psQGmBVF_QKzdpxX7UmEtV3Cmu1sUC8ret6UTwyQfHKVLBMoNNN-GpzPV9f2GE4VpjKttK47fQrXQh8MZuh7B1Gx92k-bDYzksSNVDFdekrwlfdBF8lYmcX_Y_fp4xZPNEsiMBhE5lHJV0rw3spstLJ94nT7ervyuQDbVAUb6OFDDcOLh6KUKTuUSxCyAaVkvgyKXRbBQJ6txfQDgELtrdjNjlDiQ7QxmvFrlTQb063a1KApYBy6VfHyV2C_dnU_1ij4dQpBg11tnn4CFSyA9-nsOPjhK2UQ8O5Sz5ugqZbDv_cwixz89EHIoiai1jPq7gIyQ12N8trf_8O4ZHKA548SvgtXAMdh3vcVbOMAejjEh4swr-QX5MvUjuHZTGnlyRFltD-G7eICsLIxt3z8TFvopj-hAcblojENFqB4qeVjcs19xZIg0ei4NNWvWUNoQnzBKKzYPUCKlBvFkXZyQXdjI3rfiurT8DQD8JFo5woqy3Wg4VewtaeAcUiuQUAWEtJfywBxtGvrteeqhef-Y3pYo6VWPc_MJkqmkKW0m7AKrMtYgiApNFOt7S94YCY5crvdr7PAoq1CNwC8tYyxFuEK2a-kHydVcWQ=w333-h182-no" alt="DataBase Function"><br><img src="https://lh3.googleusercontent.com/VImdi3AGaIk9BhGznLKmaq_377mmKd6QAm-LcFIuXWaf5BBglrxuJd5zUYf43IKqM3LWwsT0BuWack19JjTKyP7bMw3tPv_jtRIdpCQj_BBexHGzWvjm85L7miNVNTNP1uk0S93zp_5jQgRV-aCGUcz1L-kGF8TQV9zfT7FUxUbZDgkLCqgy-3GAZLuAWZhZJsmWo2CxSmGoXTkxo5FcF59to4Wg4Vz78ZL9D1IQTGVtMneFlUjM56X4JcojtPyxbybuKEOufC2RYCRWsNOjTUu3kFx2LaFi41kXWqdv5bQaZLto67IL2fR_Kj4OeAdJgzOn2jRRNSZaIGe38FIsU3lDsgxcQacOGQsYOCUpnJ3Im7Mas21bAMcb_xwNFZ1RJRV6TAY90MNe5O_Bw-vAZPMAJBD6cOXqifwxPz1V1UpCfw8aklsTCAbL-cACKp11U2rTNcHs-DUwsFhBD8XlYS7VVsH6KQEs2iLSlDE1C3P22i7k6cBUbHvjnraoiEs01VldgXMEdX1RzSWcy1PI09KXn4_9a0qPRWGQ2cAxzT65r61PD_x4XSJry-mZX3e_7zdiiArgLNrCDpx1LdU2YcsTLbbcGnF-0kzapxY6zhNZjuetILmf-0qld3JOaVfzY9ZfkinWIlzTLRX381vhHlErZtUFanZQyUj9TYC6A893Hw=w332-h246-no" alt="Edmx update"></p>
<p>之後就可以撰寫 DbFunction 對應，其寫法可以針對 <strong>DbContxt</strong> 使用 <strong>partial class</strong> 擴充，或是撰寫<strong>靜態擴充方法</strong>。</p>
<h3 id="partial-Class-擴充"><a href="#partial-Class-擴充" class="headerlink" title="partial Class 擴充"></a>partial Class 擴充</h3><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 針對 DbContxt 去撰寫 partial class</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">NorthwindEntities</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Functions the total price.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="orderId"&gt;</span>The order identifier.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="productId"&gt;</span>The product identifier.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>System.Nullable&amp;lt;System.Decimal&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    [<span class="meta">DbFunction(<span class="meta-string">"NorthwindModel.Store"</span>, <span class="meta-string">"fn_TotalPrice"</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">decimal</span>? Fn_TotalPrice(<span class="keyword">int</span> orderId, <span class="keyword">int</span> productId)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> parameters = <span class="keyword">new</span> List&lt;ObjectParameter&gt;(<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">new</span> ObjectParameter(<span class="string">"OrderID"</span>, orderId),</span><br><span class="line">            <span class="keyword">new</span> ObjectParameter(<span class="string">"ProductID"</span>, productId)</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> lObjectContext = ((IObjectContextAdapter)<span class="keyword">this</span>).ObjectContext;</span><br><span class="line">        <span class="keyword">var</span> output = lObjectContext.</span><br><span class="line">            CreateQuery&lt;<span class="keyword">decimal</span>?&gt;(<span class="string">"NorthwindModel.Store.fn_TotalPrice(@OrderID, @ProductID)"</span>, parameters.ToArray())</span><br><span class="line">            .Execute(MergeOption.NoTracking)</span><br><span class="line">            .FirstOrDefault();</span><br><span class="line">        <span class="keyword">return</span> output;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Functions the total product quan.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="orderId"&gt;</span>The order identifier.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>System.Nullable&amp;lt;System.Int32&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    [<span class="meta">DbFunction(<span class="meta-string">"NorthwindModel.Store"</span>, <span class="meta-string">"fn_TotalProductQuan"</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>? Fn_TotalProductQuan(<span class="keyword">int</span> orderId)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> paramter = <span class="keyword">new</span> ObjectParameter(<span class="string">"OrderID"</span>, orderId);</span><br><span class="line">        <span class="keyword">var</span> lObjectContext = ((IObjectContextAdapter)<span class="keyword">this</span>).ObjectContext;</span><br><span class="line">        <span class="keyword">var</span> output = lObjectContext.</span><br><span class="line">            CreateQuery&lt;<span class="keyword">int</span>?&gt;(<span class="string">"NorthwindModel.Store.fn_TotalProductQuan(@OrderID)"</span>, paramter)</span><br><span class="line">            .Execute(MergeOption.NoTracking)</span><br><span class="line">            .FirstOrDefault();</span><br><span class="line">        <span class="keyword">return</span> output;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用 <strong>Order_DetailsController</strong> 來呈現</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> NorthwindEntities db = <span class="keyword">new</span> NorthwindEntities();</span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">Index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> order_Details = db.Order_Details.Select(o =&gt; <span class="keyword">new</span> OrderDetailViewModel()</span><br><span class="line">    &#123;</span><br><span class="line">        OrderID = o.OrderID,</span><br><span class="line">        ProductID = o.ProductID,</span><br><span class="line">        UnitPrice = o.UnitPrice,</span><br><span class="line">        Quantity = o.Quantity,</span><br><span class="line">        Discount = o.Discount,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 partial class</span></span><br><span class="line">        TotalPrice = db.Fn_TotalPrice(o.OrderID, o.ProductID).Value</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> View(order_Details);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="靜態擴充方法"><a href="#靜態擴充方法" class="headerlink" title="靜態擴充方法"></a>靜態擴充方法</h3><p>針對 <strong>DbContext</strong> 去撰寫<strong>靜態擴充方法</strong></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Statics the function total price.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="db"&gt;</span>The database.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="orderId"&gt;</span>The order identifier.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="productId"&gt;</span>The product identifier.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>System.Nullable&amp;lt;System.Decimal&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">[<span class="meta">DbFunction(<span class="meta-string">"NorthwindModel.Store"</span>, <span class="meta-string">"fn_TotalPrice"</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">decimal</span>? StaticFn_TotalPrice(<span class="keyword">this</span> NorthwindEntities db,<span class="keyword">int</span> orderId, <span class="keyword">int</span> productId)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> parameters = <span class="keyword">new</span> List&lt;ObjectParameter&gt;(<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">new</span> ObjectParameter(<span class="string">"OrderID"</span>, orderId),</span><br><span class="line">        <span class="keyword">new</span> ObjectParameter(<span class="string">"ProductID"</span>, productId)</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> lObjectContext = ((IObjectContextAdapter)db).ObjectContext;</span><br><span class="line">    <span class="keyword">var</span> output = lObjectContext.</span><br><span class="line">        CreateQuery&lt;<span class="keyword">decimal</span>?&gt;(<span class="string">"NorthwindModel.Store.fn_TotalPrice(@OrderID, @ProductID)"</span>, parameters.ToArray())</span><br><span class="line">        .Execute(MergeOption.NoTracking)</span><br><span class="line">        .FirstOrDefault();</span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Statics the function total product quan.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="db"&gt;</span>The database.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="orderId"&gt;</span>The order identifier.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>System.Nullable&amp;lt;System.Int32&amp;gt;.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">[<span class="meta">DbFunction(<span class="meta-string">"NorthwindModel.Store"</span>, <span class="meta-string">"fn_TotalProductQuan"</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>? StaticFn_TotalProductQuan(<span class="keyword">this</span> NorthwindEntities db, <span class="keyword">int</span> orderId)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> paramter = <span class="keyword">new</span> ObjectParameter(<span class="string">"OrderID"</span>, orderId);</span><br><span class="line">    <span class="keyword">var</span> lObjectContext = ((IObjectContextAdapter)db).ObjectContext;</span><br><span class="line">    <span class="keyword">var</span> output = lObjectContext.</span><br><span class="line">        CreateQuery&lt;<span class="keyword">int</span>?&gt;(<span class="string">"NorthwindModel.Store.fn_TotalProductQuan(@OrderID)"</span>, paramter)</span><br><span class="line">        .Execute(MergeOption.NoTracking)</span><br><span class="line">        .FirstOrDefault();</span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一樣使用 <strong>Order_DetailsController</strong> 來呈現</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> NorthwindEntities db = <span class="keyword">new</span> NorthwindEntities();</span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">Index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> order_Details = db.Order_Details.ToList().Select(o =&gt; <span class="keyword">new</span> OrderDetailViewModel()</span><br><span class="line">    &#123;</span><br><span class="line">        OrderID = o.OrderID,</span><br><span class="line">        ProductID = o.ProductID,</span><br><span class="line">        UnitPrice = o.UnitPrice,</span><br><span class="line">        Quantity = o.Quantity,</span><br><span class="line">        Discount = o.Discount,</span><br><span class="line">        <span class="comment">// 靜態擴充方法</span></span><br><span class="line">        TotalPrice = db.StaticFn_TotalPrice(o.OrderID, o.ProductID).Value</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> View(order_Details);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="範例檔案"><a href="#範例檔案" class="headerlink" title="範例檔案"></a>範例檔案</h2><ul>
<li><a href="https://github.com/shunnien/ASPNetMVC" target="_blank" rel="noopener">Github 範例</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
        <tag>C#</tag>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
        <tag>EntityFramework</tag>
      </tags>
  </entry>
  <entry>
    <title>C# 中繼承的執行順序</title>
    <url>/2017/08/20/inherit-exec-life-in-csharp/</url>
    <content><![CDATA[<p>在巢狀繼承中，建構式以及設定式的執行順序是不太相同的<a id="more"></a>，以下針對這部分，使用個簡單範例來說明。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void Main()</span><br><span class="line">&#123;</span><br><span class="line">    Second obj &#x3D; new Second();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Ref</span><br><span class="line">&#123;</span><br><span class="line">    public Ref(string str)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Base</span><br><span class="line">&#123;</span><br><span class="line">    public Ref BaseString &#x3D; new Ref(&quot;Base 初始設定&quot;);</span><br><span class="line">    public Base()</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(&quot;Base 建構式&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class First : Base</span><br><span class="line">&#123;</span><br><span class="line">    public Ref firstString &#x3D; new Ref(&quot;First 初始設定&quot;);</span><br><span class="line">    public First()</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(&quot;First 建構式&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Second : First</span><br><span class="line">&#123;</span><br><span class="line">    public Ref SecondString &#x3D; new Ref(&quot;Second 初始設定&quot;);</span><br><span class="line">    public Second()</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(&quot;Second 建構式&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其執行順序是繼承的最末端到基底的方向(<strong>子到父</strong>)，執行<strong>初始設定</strong>，再由基底到繼承末端(<strong>父到子</strong>)執行<strong>建構式</strong>，執行結果如下：<br><img src="https://lh3.googleusercontent.com/I5s0lacU7EI01KtTK0cF_yNBYkZ0yhvlq7NCdLB3uNF8TUiKlHZ_1YfPlaIKwqM_y_ApGTi_s4jA6qoUMAK6nwGziMrSKmAVuQy_30hQlC-bh82J6MDYOgwFkbbRAL0AyxDrwxRX5QFUVmWFnRo-NVT3JbzGjLn6Bl4Rw6WDCoEaPT33po1jngb-cYd02zBIfGqGHjWY3DrDAirEXQ45kmaQrhlRKxhdnSeXkH9Z5MVs4nyNKcdZaGrIvBRKpnb2bImJCCtZuoHzEorZoU_f1YRF0ruEqzq-7TTOGHGDK5CZp75r9PxDwvtzrHjAAsQ03csuRcEjuF7bzQcnJ7-fZYbLLCCgEDC7LxnIaD_TsH1krg4_1XTrhB2nUS1J5Q_iZ57_PV7d0NI5aqnctjDRdN0i9rBLplguMKlTS9Q0R5xLSDeT0kZ0545yu2UoKTfxJ4m-r9aWG8MCMTSk45H5ifhISKQbTfPTZLtI94wstYZVKsFhl0MPwieRY04Tv1oTzHs32kry-5pbLjVooYRrd1NvzgFGPAdTeS8eC33oAozBgeU7s8gUnRaqjcPN8R7kUE2mIgy4KF8walIeEdpKIiHcDdRMX_havEAI6lsCZPHX1Y9cvCmTBs8L346mNUnZi-l0uaYz13udFDHt2v_6Hc53MxWit1IFfjfE8EDVAvczTA=w421-h382-no" alt="result"></p>
<p>可由此張流程圖看出：</p>
<pre class="mermaid" style="text-align: center;">

graph TD
A(Second 初始設定)-->B(First 初始設定)
B-->C(Base 初始設定)
C-->D(Base 建構式)
D-->E(First 建構式)
E-->F(Second 建構式)
</pre>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>IIS 動態壓縮</title>
    <url>/2017/08/17/Enable-dynamic-compression-in-IIS/</url>
    <content><![CDATA[<p>IIS 有一個動態壓縮功能，可以把輸出的網頁壓縮，減少網頁需要的傳輸量。但是預設設定沒有 JSON 資料的動態壓縮。<a id="more"></a></p>
<p>此篇主要說明如何在 IIS 設定啟動 JSON 檔案類型的壓縮，設定方式可以透過介面操作或是指令列操作；以下範例使用預設 Web API 範本，範例資料取自開放停車資料，先行擷取未壓縮之資料如下。<br><img src="https://lh3.googleusercontent.com/9sN8MacFAmvCkZY2XTZyFlwh2xnIg4APYkWF44vcodoCMj9Tt5CMIxP78JaMAZ6iVvBmMPtZYE9WmgZFRIwdNYA1GWhgln9UF_bvKWSQlU1_wWMsdp0ztdsNSjgOTq__0TBdXTW9YMvtu65gquuivSTkHAhrQfKsg3x9lBaEEmz8zqgA-6RBQlRwKnSGrPIow-LzUknUq_1xU_OpP3oZWARWKilSJAuLLbdsSLf6yN9699Ate8FjvU8NHfBGp82kUsZKHGse1sYmVoyBAZ_fJnX0zyNQFMvWeoEXLhKMQU_Nfs1DYKjxeagq1orrc260zfbv5pmcu-GSPOq5LNbWpReN7SeVI5rVY2RPG1uppQX_sZ2TO5T5K2KWVh4zt5oE9U3w-Wk0sX-BCUiHgUVqXVQwUVIrLEQGhTupMlNCh6Fd9CtMVmxrGrLtLLPQooFn09Bom_hv16qMwB_0neamLkooMXAIBM4HmJ1_GIjs2t1kcG3I2CmQhdr3MxOGWGnIzayXSBrNGDlZlvqWudcq-afu2lwn8xMrwgwXKo9nO9iDAwBJ8MIgFGcqmCLW3agRGe15_lb2GY5DHMQYduqiJqIodEDQ00OYH7yzujNKPXnQDO3rKeLaa8iu-G8dH1b8zZabMZ6qItfgDYl38F0D1U0PT9rzDtr5WGDX7addCp-cbA=w992-h349-no" alt="no compression"></p>
<h2 id="GUI-介面操作"><a href="#GUI-介面操作" class="headerlink" title="GUI 介面操作"></a>GUI 介面操作</h2><p>開啟 IIS ，先開啟【<strong>壓縮</strong>】，其後再設定【<strong>編輯器</strong>】；編輯器即是設定動靜態壓縮類型<br><img src="https://lh3.googleusercontent.com/NVjbw0jb-rHlehIL1gQtZiWHjzxzDOliadi9PHy8w_SdjMsY-Lnjyks2sTKTn5v6ko6ChtRuRGc-ezeNOv04Bzs5l0ikvoBDDiW44j8MCmz7T7F5ykGpYPbqMeAsaa2YYliHX9FTWBYjwRAyHRrZOVZdrEQjv-s5SKE3h6tL5ZuJoScYvfLGQ8keUanyrKyxwz3qhkXRB1Blg_szo0qK618Ci2bXMkuShshVpGfHJENVIRjrGtNwCHaVSmgqcig1TAjric01wtNYgh6DkilPLT74jBb2FdhUViSAlKzBUGmaU4PX9dDRqrej74JPyOU2h-bkwGBt9qfrJjRmik9NGfU0j9j1zVJgPVzPukzYg6-zncI7dKFNj2ZJ-NSZFJH7JqlRMye3MUL6wLh9lnv7yAkzSN0JgqgZm4ygfyBum_r6V4nRc_OZ40iA11AgT2n3Dw9UExUkPf0qp3a7zsEo188M66hf4MwDGIOo7DCGmNCVPWpOVZ1T2dj-RvoB7apvM3uBllAbYPkMpvF7XXN8iNt753EO8l_SwFfu-sgk9YA0eRH08zSL12Pb39H74a__up5UDA8DJndGm1hhdJZoGhh8aLml8NiTUUy_hz-sGHHL_cuZ4o-VL4oIb15KHxQCL2gVZzjPOExN44fZJfZzhrUbhF8bLLeq76pkmMuIQwrBvg=w922-h743-no" alt="IIS Setting"></p>
<p>先確認啟用動態內容壓縮<br><img src="https://lh3.googleusercontent.com/Gk9zWbfoaiihFh4fmfgyWys5sYSGg_fE30ARWvWNRDl7mZBaCOlkGcOjxM53kBRgOZfMR42C8U5CRef0mefzf5EwSX7ZXnfc3D-6tVJok53AP7ZnENCfc1zyOUjDzdLLNUA7LUbHK3DDv285ZsP46s1y6KSWHQLLc2gemmeX2oHIn4gbTszDBMC6HegriHrUxMF4UMD3ugjbjQqkP-uktQ_p3_KD9x4jbfF3y_cRUI2bPIpGiJAkjV6azdK-IEZTTFVtWmbmdS_pEocMJB50PhkIHuxWqbXYM5MtAKZqIy9dhKAp-_ANuYx5XNSgq80A-AktiOaFM4p3Ec_Ckj84XNogunBCQPOc-eu3KrqCHkHmCsy7wgZ7Wy1fL-AupwlBhMrkBSmXtypODNkKJ_LemPTYq10bdk3iofLaYlWnNjjgggfSpQs0OeCiU1NiXWtVZr8imD69Xo5L9ZFuhILlTGQqm-jJ-ZJLa_-FTmpp6qn0sBHlIH1iCzgOU1N3mF_fSqvbV70qZGTzHpgUbfWnYten3AL4c1kgAzrNlWmwTsh8kM158J9oEMF5cGgn-eOcvyyv1u-88cUl9rP2vSTtCkbkOphHU94KWS7Ilfpi9fn8n3Pk9u-0_5Swq_oZx6w4CBZMO-sYQjk8OFVJt-wqOe2HIi4MqCC7_L0I004gKcmeUw=w358-h261-no" alt="Enable dynamic compression"></p>
<p>接著設定<strong>編輯器</strong>，進入<strong>編輯器</strong>後，選擇<strong>區段(section)</strong>，選取 <strong>system.webServer</strong> 下的 <strong>httpCompression</strong><br><img src="https://lh3.googleusercontent.com/ye_jAM4XdXilquJRBs7tMQdsokfOkl53R_TCjM_hW2zTKolJ05APNoO7tAC2CYOq0BwYZp8Aaon2snByO4P2hgC7hdbLZ9P9o0OkCoLccCf805wcq2n0mUBUrWoi0PAsIfTTXtPh-fvbCm-NNy7S1xtR07-Mm0R-Iyrr-gmVHa5CH_58dYa-nOoY2h9-otPTEgjf0hn1I0O5uGj1qFvsL2OHXPG5Pbv7U7a3iCEI36csS8YtUs9DEeYrunmlYsib_-qeu_i9Uw8Qoa717dgNNeA2TOX59v9EL77PelKHPl4izB0W2y2SlutzpCJgL3Ou5--Z9XZpkhj2H3nQlmbmeLFCuXTk6nR-t_BJZRBy3iLXPbVplXJYmWDO_YHIQoLXZSRNNeSHEQ4-5cmc6RU-V8ghF3WwkYfl-0lsYyfQje67bOHjBQ1Ohk0AYT2JrbZx8mwHUbVhUtN8WmGJLk10z4uRIrJwvN0TZ-lA5LNL4pqQs6U0uOVVpcYKR91Au25fqie-yBrAWn5qJ59HeBk5JA4jJlo67DXlQ_Z-tQ38dFnWTAQ0pvMA2UROGPaY_mdoM_JeXX9td4r3s3WD5a_2U4PZ_QbdiD52gu1dHuAalJknksuuXolY8DeQgoSvFEeZrT1BHcXY_F-iCcakpoahgCaroHutlk3BfBgQXG43hA0qjg=w643-h639-no" alt="Configuration Editor select"></p>
<p>選取之後，畫面會列出一些設定，主要是 <strong>dynamicTypes</strong> 和 <strong>staticTypes</strong> 兩種類別的設定<br><img src="https://lh3.googleusercontent.com/gNix-xKoHsUC7v_9E_eFxLRlts9xW2g9uhHMNkqbGs7fVJGORBqY0LQaa2me62BhO2DvXwSA7tuwvPElqYiDfDlingHo-DzzIdjT65xRIqs8EVktbSLC-cLbX5c4pRI8p7Sk4apfnNEGwxYBtdaN3BnOuW_Of_VvTRmfF9u33yEq3soTuvmtkv24MSjjAIpJPePPVPZwHsxzf17BMbImBWKRb6oUe1fWoC6WQtnXUFPdMYMnuzodqj_mdMq7vyR-q4IFQSiGUmYCv-KJqi2-GmUz8rfSLARJhpLSvjSN_CYtHoM4Wyq-rBhxJIM7tirdqMe9SM3TEWTIlLfqxBP0_nxyEYY3yB95dwlAng-yYPbkJP3QTyJ8M-9LamLCY4URChZvu0-dAn6KeeEPHLVPHbD7ABNVruTpbZT6z-Lucq5s2uwSpKIBkDQvr6zrera25G0C9iMNIlUg0Tj5vQgpFdvKLvaQpPUTJKMhIQdt6bxMNwM-V71YzNagYLHNzJDRZqbj6NMBXZR3HQBFj_yFxInDyj4YyYaCbfQfd1nst_CHPS77CHdKUYwlLLgyv9fyEkoVyZehByOPAB3YRWlHrsrBtRr6nFsuGsHjLmrmgHXau2_4bAs6dXmgIvr6Gex5EH2qGizs6a_CMXtb5vkCRqeVq-UyzZLJhwa-3gn3j-JGQA=w684-h580-no" alt="two types set"></p>
<p>以此範例來說，設定 json 類型至動態壓縮<br><img src="https://lh3.googleusercontent.com/pjFPK9b9stk7-b4EwsoI9lZlJ2JYOgU1xQVUhNWMlC5LCPuPr0Fy5TgxjplFrV7g5HS90cXJYqm2MHGVQwp2lcQ3gvFu7mTmaGnM9Gc6uN8Uc_TD7ezBmWIdMNA308BqFgWoHDE5nbxflNCttiSQkP2_NzdfiQoSoP7BjJJ7NlPEB6glotcM50xfHxJkxg9VvkkklhJFzmFUrjI8leBLcQpJ57l6hROB6_K1T4RY9CFJk7vM8fsEdIas_WuvOQb3ry4p5VByWskPusC1kLAaLtcsGTrNGCDKMqcI0ULglqeMPfdDaPpXUFiD-mkDC68hkOSbFtBXoXm2Qg-hjNppczezh9-cYNQzdgPNyMXgzTTn3fsEiUHAWFhQ8WisfLp1I6xWkitSpHCN7xK899Zi2Umt2xn6mkLKE22ccC-FWf8PFw4dM4-UJakSfsT2A1Gbppx2wfaizPK_q9lcJ0xiDNc3NTQUt0mSOt3I7j84RJAGQTk97rS5kL1psoqJVFGWvx7LXlzYnV6wC6H9SjuJ_SVYAlXSMeU3WPwTX22aEL9hQ47nPWxid4e0_9nU-qX0bJMo5a5_sUaWnIAVNBMYCXvsDMOIzLl6r8oryr38J_xZ6pMU92BAOlxcVZWWxLNYCwoFoQuCcN708qFMySNwVMZG7XnylIh2dH9UdWmjlmq0bA=w778-h516-no" alt="add json type to dynamicTypes"></p>
<p>之後就可以看到 API 的檔案大小被壓縮過了<br><img src="https://lh3.googleusercontent.com/uw8pVt4lrTI8dLtbtvA4Lw448qP8IBd-m8IkzMpeaQt4SHi4utwCJDm6kxvAcK4WYIu7BmBfJVj4Wt2pdbhUiF6qpi9wqA_RzblPUQTIScUxUQ4ux1EAHXB1ASDPi4v7zrwsJvjvjNNvoth8RcxC8N2-f65UWBfRiedrr4Y1OiRb1KQeGEYuj7am6aezOiWh07aAcTX691TjUEflKuVfRYVqoQaDiWXBEybEM6BVKwjdRFsR51xQfUnIyFf0eD-BdLcBZ5SSdSqruCZffd2jys2rMgKBcp6qq_51YlfI5y9i7h7jAT4Ale16eFPZvb_g8W6S46EBQQzPkjzozxC2_V9HepDSctQ661io4YlY5Zih15wzRjOyylPUp2hh5csiZzkO0Go-Ikcf7AnNK3AqRFMZXUNPUtlle1tIAX4l2aExiIMWZsifcluKH8Ygt6ESNZUIgV4Hq1t8h4lM-kUZnD1A3K6JPSs4qcujB14oVNr5GgBNo4MMWi9EO8Syg5z8rhJ6ZPSxt5loMaK8wVyPo_dmdKDYnQv8dve_EHrJsuC957eFpF551Q6JWUYInyXlsqekYhU_GpGdavGxa8qt91m6mS591gzGbmtz3lTF5yAA1A-HLBPxGw29KyUeVaAmBXW5UstRhB3S1H4adaNxCq6rLDYa9i6ODSCjNjl9BD8eMw=w976-h370-no" alt="Compression file"></p>
<h2 id="指令操作"><a href="#指令操作" class="headerlink" title="指令操作"></a>指令操作</h2><p>除了透過介面操作，還可以透過指令對 <strong>IIS</strong> 進行調整；記得使用管理者身分執行。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /d C:\Windows\System32\inetsrv</span><br><span class="line">appcmd.exe <span class="built_in">set</span> config -section:system.webServer/httpCompression /+<span class="string">"dynamicTypes.[mimeType='application/json;charset=utf-8',enabled='True']"</span> /commit:apphost</span><br><span class="line">appcmd.exe <span class="built_in">set</span> config -section:system.webServer/httpCompression /+<span class="string">"dynamicTypes.[mimeType='application/json',enabled='True']"</span> /commit:apphost</span><br><span class="line">iisreset</span><br></pre></td></tr></table></figure>


<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://www.hanselman.com/blog/EnablingDynamicCompressionGzipDeflateForWCFDataFeedsODataAndOtherCustomServicesInIIS7.aspx" target="_blank" rel="noopener">Scott</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>C# 中 String 直接累加與 StringBuilder</title>
    <url>/2017/08/30/string-vs-stringBuilder-in-csharp/</url>
    <content><![CDATA[<p>這陣子再重新閱讀設計模式，想到了 <strong>String</strong> 與 <strong>StringBulder</strong> 的對比，裡面應用了 <strong>Builder</strong> 這個模式；後來想到這兩者的差異也沒紀錄，這次就順手紀錄一下<a id="more"></a></p>
<p>兩者的主要差異是在動態處理資料時，資源使用程度。</p>
<ul>
<li><strong>String</strong></li>
</ul>
<p><strong>string</strong> 是參考型別，所以每次在動態處理資料時，都會再配置一個新的記憶體給它，但是原本使用的資源雖然最終交由 <strong>GC(Garbage Collection)</strong> 回收，但是在回收之前資源卻已經浪費掉了。</p>
<ul>
<li><strong>StringBuilder</strong><br>使用了 Builder 模式，會維護一個緩衝區，以容納新資料。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Stopwatch sw = <span class="keyword">new</span> Stopwatch();</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    String str = <span class="string">""</span>;</span><br><span class="line">    sw.Start();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        str += i.ToString();</span><br><span class="line">    &#125;</span><br><span class="line">    sw.Stop();</span><br><span class="line">    Console.WriteLine(<span class="string">"String Class :"</span> + sw.ElapsedMilliseconds);</span><br><span class="line"></span><br><span class="line">    sw.Reset();</span><br><span class="line">    sw.Start();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sb.Append(i.ToString());</span><br><span class="line">    &#125;</span><br><span class="line">    sw.Stop();</span><br><span class="line">    Console.WriteLine(<span class="string">"StringBuilder Class:"</span> + sw.ElapsedMilliseconds);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>動態處理 100000 筆資料的花費時間，輸出結果如下圖<br><img src="https://lh3.googleusercontent.com/Z0_uAcxoiG5o74KWsV9m0bHTk0cFunswJZerADEfT4oVtcBEvwrNvS9klwVeLu0DYzb5kqFYFFqtGe7KUoQjoeZWlltai4_NOU045snCIqDD0VR37JCuWk1V72bwcnWNNcvlW35bl3_WZFTfYjKHUTmrEZZFuK3FZafNBkkqY0gjdLRqF7P8fIy-MPpSz94b8zfq1013h1A2q1HOhaIoiaUXuXkqinhif07y-iU6ts8VnCjI0RtAmtA7XiUPSMbgao_p7KK6OZJJe3du0Zet6t_ZrVD6cYaMC5brEVJ7-tXmivLnL43QJPiRQwo5kZ0giFHO43O4_NqDXjNFaUGWfubQpOOQjxEnuCT85o-yNk_Q1ubljS85UW7PsbT6KFCxAcDRCQejuzVu_4jgaGatwQ9zAH7BN9mHA1EW9xtOJsIT1ZxYpgPiH-ADDfAgkDnT8EXFeWT1wabA3FKGWPfdHl6QzVdhFIjl5_DhgpqW631AIW7gZ-8PZYf404e-4rg7b1FAI6OeOdy6MamI9yiVk_jNSBvNHWEVFosrQ6H7eVXOjvMZkY_eCP8lWoH1M8mSVFfZgZ-IxZu9Ubf3GRunnpEMYeSUvrDEzdd1TuIN9WFp_WHGiJhDOmxXQdAy0cuEILAoApTi9l6xpM4oRSj9uW4e3cvX-Vc8f_bl0-z2vcg79g=w311-h105-no" alt="輸出結果"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/system.text.stringbuilder(v=vs.110).aspx" target="_blank" rel="noopener">MSDN StringBuilder</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/system.string(v=vs.110).aspx" target="_blank" rel="noopener">MSDN Strin</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>C# 中 Boxing 與 Unboxing</title>
    <url>/2017/08/31/boxing-and-unboxing-in-csharp/</url>
    <content><![CDATA[<p><strong>Boxing</strong> (裝箱) 與 <strong>Unboxing</strong> (拆箱) 會有這兩者的出現，簡單說係因為<a href="https://docs.microsoft.com/zh-tw/dotnet/csharp/language-reference/keywords/value-types" target="_blank" rel="noopener"><strong>實值型別</strong></a>與<a href="https://docs.microsoft.com/zh-tw/dotnet/csharp/language-reference/keywords/reference-types" target="_blank" rel="noopener"><strong>參考型別</strong></a>兩者間的處理，不過針對這動作所造成的影響，可以進行簡單的小測試。<a id="more"></a></p>
<blockquote><ul>
<li><strong>Boxing</strong><br>是一種<strong>隱含轉換</strong>，是將<strong>實值型別</strong>轉換為 object 類型(參考型別)或是由這個實值型別實作之任何介面類型的程序。<br><img src="https://docs.microsoft.com/zh-tw/dotnet/csharp/programming-guide/types/media/vcboxingconversion.gif" alt="Boxing 轉換"></li>
<li><strong>Unboxing</strong><br>將 object 類型<strong>明確轉換</strong>為<strong>實值型別</strong>，或將介面類型明確轉換為實作介面之實值型別的程序。<br><img src="https://docs.microsoft.com/zh-tw/dotnet/csharp/programming-guide/types/media/vcunboxingconversion.gif" alt="Unboxing 轉換"></li>
</ul>
<footer><strong>資料來源</strong><cite><a href="https://docs.microsoft.com/zh-tw/dotnet/csharp/programming-guide/types/boxing-and-unboxing" target="_blank" rel="noopener">Microsoft Doc</a></cite></footer></blockquote>

<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> max = <span class="number">100000</span>;</span><br><span class="line"><span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">Stopwatch sw = <span class="keyword">new</span> Stopwatch();</span><br><span class="line">sw.Reset();</span><br><span class="line">sw.Start();</span><br><span class="line"><span class="comment">// 經過一次裝箱</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; max; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">string</span> str = <span class="string">" i = "</span> +i;</span><br><span class="line">&#125;</span><br><span class="line">sw.Stop();</span><br><span class="line">Console.WriteLine(<span class="string">"one boxing time:"</span> + sw.Elapsed.TotalMilliseconds.ToString());</span><br><span class="line"></span><br><span class="line">sw.Reset();</span><br><span class="line">sw.Start();</span><br><span class="line"><span class="comment">// 不裝箱</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; max; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">string</span> str = <span class="string">" i = "</span> + i.ToString();</span><br><span class="line">&#125;</span><br><span class="line">sw.Stop();</span><br><span class="line">Console.WriteLine(<span class="string">"no boxing time:"</span> + sw.Elapsed.TotalMilliseconds.ToString());</span><br><span class="line"></span><br><span class="line">DateTime now = DateTime.Now;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (!((DateTime.Now.Second - <span class="number">5</span>) == now.Second))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">string</span> str = <span class="string">" i = "</span> + flag;</span><br><span class="line">    flag++;</span><br><span class="line">&#125;</span><br><span class="line">Console.WriteLine(<span class="string">"one boxing 5 second run :"</span> + flag.ToString() + <span class="string">" times"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">flag =<span class="number">0</span>;</span><br><span class="line">now = DateTime.Now;</span><br><span class="line"><span class="keyword">while</span> (!((DateTime.Now.Second - <span class="number">5</span>) == now.Second))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">string</span> str = <span class="string">" i = "</span> + flag.ToString();</span><br><span class="line">    flag++;</span><br><span class="line">&#125;</span><br><span class="line">Console.WriteLine(<span class="string">"no boxing 5 second run :"</span> + flag.ToString() + <span class="string">" times"</span>);</span><br></pre></td></tr></table></figure>

<p>輸出結果</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">one boxing time:12.413</span><br><span class="line">no boxing time:9.1419</span><br><span class="line">one boxing 5 second run :26794548 times</span><br><span class="line">no boxing 5 second run :32986447 times</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/csharp/programming-guide/types/boxing-and-unboxing" target="_blank" rel="noopener">Microsoft Doc</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>RSS 轉換 Json 輸出</title>
    <url>/2017/09/16/rss2json/</url>
    <content><![CDATA[<p>最近剛好需要串接其他資料的 RSS 來顯示資訊，以前是使用 Google Feed 提供的轉換服務，不過 2015 年的時候 Google 已經停止該服務，所以現在可以使用 <a href="https://rss2json.com" target="_blank" rel="noopener">RSS2Json</a> 這個網站提供的服務。<a id="more"></a></p>
<blockquote><h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;api.rss2json.com&#x2F;v1&#x2F;api.json</span><br></pre></td></tr></table></figure>

<h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><p><strong>GET</strong></p>
<h2 id="URL-params"><a href="#URL-params" class="headerlink" title="URL params"></a>URL params</h2><table>
<thead>
<tr>
<th align="center">Name</th>
<th align="left">Required</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="center">rss_url</td>
<td align="left">Yes</td>
<td align="left">String, Escaped URL</td>
<td align="left">rss feed you want to convert to json, the url need to be escaped</td>
</tr>
<tr>
<td align="center">api_key</td>
<td align="left">No</td>
<td align="left">String</td>
<td align="left">A valid api key.</td>
</tr>
<tr>
<td align="center">order_by</td>
<td align="left">No</td>
<td align="left">String</td>
<td align="left">Order the results by chosen value, Possible values : pubDate, author or title.</td>
</tr>
<tr>
<td align="center">order_dir</td>
<td align="left">No</td>
<td align="left">String</td>
<td align="left">Order direction of feed items to return, Possible values : asc or desc, Default value : desc.</td>
</tr>
<tr>
<td align="center">count</td>
<td align="left">No</td>
<td align="left">Integer</td>
<td align="left">Count of feed items to return, default is 20 .</td>
</tr>
<tr>
<td align="center">callback</td>
<td align="left">No</td>
<td align="left">Alphanumeric</td>
<td align="left">callback name if you want to use JSONP .</td>
</tr>
</tbody></table>
<h2 id="Sample-Call"><a href="#Sample-Call" class="headerlink" title="Sample Call"></a>Sample Call</h2><p>api call using jQuery.ajax()</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">        url: <span class="string">'https://api.rss2json.com/v1/api.json'</span>,</span><br><span class="line">        method: <span class="string">'GET'</span>,</span><br><span class="line">        dataType: <span class="string">'json'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            rss_url: <span class="string">'https://news.ycombinator.com/rss'</span>,</span><br><span class="line">            api_key: <span class="string">'0000000000000000000000000000000000000000'</span>, <span class="comment">// put your api key here</span></span><br><span class="line">            count: <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;).done(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(response.status != <span class="string">'ok'</span>)&#123; <span class="keyword">throw</span> response.message; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'====== '</span> + response.feed.title + <span class="string">' ======'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> response.items)&#123;</span><br><span class="line">        <span class="keyword">var</span> item = response.items[i];</span><br><span class="line">        <span class="built_in">console</span>.log(item.title);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<footer><strong>資料來源</strong><cite><a href="https://rss2json.com/docsboxing-and-unboxing" target="_blank" rel="noopener">Microsoft RSS2json 文件</a></cite></footer></blockquote>

<p>拿 Blog 的 RSS 來轉換，如下<br><img src="https://lh3.googleusercontent.com/dxsqC3XemtGt99rNCzSNrHGKexAX_DgiFL4WZ7xfiAO9TGcTLcOI1WoR9gIe9P8ChT6QXtbnVDyT33wn_9RdLQBBO5X5_tZXuHdrUzsnVk-YpMIPC7RDSGjbZP_L2ArkIzEbQeUUSs6ZvzZ52RTINbcJXvPnW82X6ndweZpPvLprzF9DDQXt1ETU_ZoC7-bMaKPO7n1yAnWdAwaudtLugRfRQUQiG7g080AOSi5Q0M8IAaqb15k4RjfZ1QcNDoZV3YEE7FNF47zevH-oTxuoP2ol9KDWWSWZxuIhZYBkviBvrpavfGpPBEMdw5KlOgkMG5maxkNzw2AKaaqjDPwaxAr6_G5iqUeKpOUMzURNovn3ippqn9dEj1pedwBrW4sV4kkvzJXZQaO_03regUbhN9JWeKPcIYgl4KzdIv_cB2oMFm_Y5FAWQ9qAiLaXK3aJHAM9-8ZY7zsGpFi4w1X5hotP7_4pIuyjadKDGtPjz9VsAzck3Gx_UlO_8ZhYpHT28QdgkGPRvye-5Idhmhr-r1HMBrPvfGxtyoa9a38B6X_iVP0F1uSwdCJLAuwWg4Ni8Z6K1c9V21CaXsd6SnWK5K6YzDahb8eo23BdpIGcG67rK0tnWVjGJnNVot3CJ4isRPschiCgrpg2Hjyb2pUri-3CtxGMU00zXOg=w1110-h579-no" alt="blog rss sample"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://rss2json.com" target="_blank" rel="noopener">RSS to json</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>AspNet 突破網站最大檔案設定</title>
    <url>/2017/09/11/AspNet-Maximum-request-length-exceeded/</url>
    <content><![CDATA[<p>網站上傳檔案是很常見的需求，IIS 預設上傳檔案是 <strong>4 MB</strong> 大小，最大檔案限制是 <strong>2 GB</strong>，要讓上傳檔案超過 <strong>4 MB</strong> 大小，可以透過 <strong>config</strong> 設定，讓 IIS 來處理就可以達成。</p>
<a id="more"></a>

<p>主要設定是在 <strong>httpRuntime</strong> 進行設定，其設定屬性說明如下</p>
<ul>
<li>maxRequestLength<br>計算單位是 <strong>kilobytes</strong> ，所以 1 MB 是 1024 kilobytes</li>
<li>enableVersionHeader<br>ASP.NET 是否應該輸出版本標頭</li>
<li>executionTimeout<br>ASP.NET 可執行的時間長度，以秒數為單位</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">system.web</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 300 秒可執行時間長度，檔案限制 5 MB --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">httpRuntime</span> <span class="attr">enableVersionHeader</span>=<span class="string">"False"</span> <span class="attr">executionTimeout</span>=<span class="string">"300"</span> <span class="attr">maxRequestLength</span>=<span class="string">"5120"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">system.web</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>但是假如是 <strong>IIS 7</strong> 版本以上(包含 IIS 7)，需要再添加如下的設定</p>
<ul>
<li>maxAllowedContentLength<br>計算單位是 <strong>bytes</strong> ，所以 1 MB 是 1048576 bytes</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">security</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">requestFiltering</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 檔案限制 5 MB --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">requestLimits</span> <span class="attr">maxAllowedContentLength</span>=<span class="string">"5242880"</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">requestFiltering</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">security</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/e1f13641(v=vs.71).aspx" target="_blank" rel="noopener">MSDN httpRuntime</a></li>
<li><a href="https://docs.microsoft.com/en-us/iis/configuration/system.webserver/security/requestfiltering/requestlimits/" target="_blank" rel="noopener">MSDN Request Limits</a></li>
</ul>
<h2 id="延伸資料"><a href="#延伸資料" class="headerlink" title="延伸資料"></a>延伸資料</h2><ul>
<li><a href="https://dotblogs.com.tw/hatelove/archive/2010/01/14/fileuploadmaxrequestlengthtocustomerrorpage.aspx" target="_blank" rel="noopener">91 超出檔案大小，導致特定頁面</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>IE 相容性設定</title>
    <url>/2017/09/20/ie-compatibility-set/</url>
    <content><![CDATA[<p>雖然現在很多網站已經漸漸淘汰一些舊版本的 IE 了，但是幾個月前同事的 IE 還是發生這問題，其原因還是該同事的瀏覽器有調整一些個人設定，所以仔細思考還是應該仔細針對 IE 版本設定好相容性。<a id="more"></a></p>
<p>IE 的文件模式依照官方說法有三種</p>
<ul>
<li>Standard Mode<br>支援最新HTLM5/CSS3/SVG等標準，不過不同版本IE支持程度不同，而且 IE 現在也沒有更新</li>
<li>Quirks Mode<br>力求相容較早版本瀏覽器的行為</li>
<li>Almost-Standards Mode（準標準模式）<br>支援最新標準，但保有先前版本的圖形渲染行為</li>
</ul>
<p>三種模式的官方說明如下：</p>
<blockquote><p>All versions of Internet Explorer released after Internet Explorer 6 support up to three document modes:</p>
<ul>
<li>Standards mode provides the greatest support for the latest standards, such as HTML5, CSS3, SVG, and others. This is the preferred mode for new public websites.</li>
<li>Quirks mode emphasizes compatibility over standards compliance by supporting behavior found in earlier versions of Internet Explorer.</li>
<li>Almost-standards mode supports APIs defined by the latest standards while honoring graphic rendering behavior found in earlier browsers.</li>
</ul>
<footer><strong>資料來源</strong><cite><a href="https://msdn.microsoft.com/zh-tw/library/cc288325(v=vs.85).aspx" target="_blank" rel="noopener">Defining Document Compatibility</a></cite></footer></blockquote>

<p>了解文件模式後，就可以透過切換不同文件模式來相容</p>
<h2 id="修改每個-HTML-頁面"><a href="#修改每個-HTML-頁面" class="headerlink" title="修改每個 HTML 頁面"></a>修改每個 HTML 頁面</h2><p>下列 HTML 中繼標籤放到各網頁的 <strong>HEAD</strong> 項目中 ( 在 TITLE 或 META 之外的標籤前面 )，這會告知 Windows Internet Explorer 以 Windows Internet Explorer 7 的方式呈現網頁</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=EmulateIE7"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>強制瀏覽器呈現為特定的版本的標準<br><code>&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=11&quot;/&gt;</code></li>
<li>逗號分隔多個版本，瀏覽器自動挑選其能夠使用的最高版本，如：使用 IE 10 瀏覽就會自動挑選 IE 10<br><code>&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=9,IE=10,IE=11&quot;/&gt;</code></li>
<li>強制瀏覽器呈現舊版本 IE 的相容<br><code>&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=EmulateIE7&quot;/&gt;</code></li>
<li>強制瀏覽器呈現當前瀏覽器的最高版本<br><code>&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;/&gt;</code></li>
<li>用分號分開，它設定為不同版本的兼容級別，IE7、IE9。允許不同層次的向後兼容性：<br><code>&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=7; IE-9&quot;/&gt;</code></li>
</ul>
<h2 id="修改-IIS-設定"><a href="#修改-IIS-設定" class="headerlink" title="修改 IIS 設定"></a>修改 IIS 設定</h2><p>在針對站台的 <strong>HTTP 回應標頭</strong>新增 HTTP 標頭名稱為 <strong>X-UA-Compatible</strong> ，並且設定值即可完成全站設定。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">httpProtocol</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">customHeaders</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">clear</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">value</span>=<span class="string">"IE=EmulateIE7"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">customHeaders</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">httpProtocol</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://msdn.microsoft.com/zh-tw/library/cc817570.aspx" target="_blank" rel="noopener">MSDN X-UA-Compatible</a></li>
<li><a href="https://msdn.microsoft.com/zh-tw/library/cc288325(v=vs.85).aspx" target="_blank" rel="noopener">MSDN Defining document compatibility</a></li>
<li><a href="http://blog.darkthread.net/post-2016-05-26-x-ua-compatible-setting.aspx" target="_blank" rel="noopener">Darkthread 搞懂X-UA-Compatible IE相容設定</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IE</tag>
      </tags>
  </entry>
  <entry>
    <title>資料庫檢視表加入至 Edmx 中</title>
    <url>/2017/09/12/Entity-Framework-Add-Db-View-to-edmx/</url>
    <content><![CDATA[<p>資料庫檢視表無法加入至 edmx 中，主要原因都是檢視表沒有索引，此處說的沒有索引是 <strong>Entity Framework</strong> 無法辨識而造成的，所以必須按照 <strong>Entity Framework</strong> 的需求設計。<a id="more"></a></p>
<p>其實不只是檢視表 ( View Table ) ，資料表沒有索引也會造成無法加入，不過 DBA ( 資料庫管理者 )應該不會這樣搞，所以資料結構正常設計的話，應該不太會出問題，檢視表才會比較常發生。</p>
<p>此篇使用以前使用的 <a href="https://github.com/shunnien/ASPNetMVC" target="_blank" rel="noopener">ASPNetMVC</a> 當範例，直接在 master分支上就可以觀看到詳細過程；首先為了方便觀看對照，針對北風資料庫的 <strong>Order</strong>，先建立兩個檢視表<br><img src="https://lh3.googleusercontent.com/Yc8XDGG6uboI0nvBxJtrQnvgiHgfrrAZLZwTT8sPdNMznuye3uxvJ6rPADnXub8OezK7iVBFeqArQOkAaNrqiPS2ltJ3-FhV1KAJgg1aCtIUym4BT8DMAuiwYH4OJAjbKI8TIRZS7p0cPC14cFRrtrEOtSrmd4bdHczLGWmX2oqm0xm3pPkoG3uDF6IpUHWE4QP0uu2gpCfndjKFNF1wbMwPYfKaDjFnrL6qdnq3ny8WXeoVb6NQWZs4jLiNGT3j1NpXQAzmogpjhkQK-VUdKFkV9jwZ77EttFf7-VNZXqMOltKmCPp-06J06MGcxf6uXnsJU-v-B2RUHjgzRRYhobxNl8aU1zcELlsDxY7wKWW_UF3i3Nh2J9FYj-QVcjB5rc53JxNCYBkNQxvc_Z5kTBuDpEeUbUiOQESIXc2-sxzloUPvSsJIRUgTUm_Y_QWK0233zg2xjfcZB5n8_X9L8SqEXkQ69Q6H2ew3lhQDkcXo63FukFh-zUgK3V0rXR6dbNsJQsWY27aDjftW0mBLxeH6O4g6nJUr5h3zHc0fjpgf9lMY0i5wvpc5w83h4BCB07fvk9PtXDMbh1HW3Fq0qGNOBcZwbixpLzVg9-SzhB_3ojY3_S12B98XtngJFXAx87bXOUvYT5RqVg8Nhb6_II1TShHLHsHRkcwgAKY9maMJxA=w487-h430-no" alt="Northwind Order"></p>
<p>兩個檢視表建立，都不加入索引</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 加入失敗的範例</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> uv_null_order <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    ROW_NUMBER() <span class="keyword">OVER</span> (<span class="keyword">ORDER</span> <span class="keyword">BY</span> OrderID) <span class="keyword">AS</span> <span class="keyword">id</span></span><br><span class="line">   ,[OrderDate]</span><br><span class="line">   ,[RequiredDate]</span><br><span class="line">   ,[ShippedDate]</span><br><span class="line">   ,[ShipName]</span><br><span class="line">   ,[ShipAddress]</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 可以順利加入的範例</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> uv_not_null_order <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="keyword">ISNULL</span>(ROW_NUMBER() <span class="keyword">OVER</span> (<span class="keyword">ORDER</span> <span class="keyword">BY</span> OrderID),<span class="number">1</span>) <span class="keyword">AS</span> <span class="keyword">id</span></span><br><span class="line">   ,[OrderDate]</span><br><span class="line">   ,[RequiredDate]</span><br><span class="line">   ,[ShippedDate]</span><br><span class="line">   ,[ShipName]</span><br><span class="line">   ,[ShipAddress]</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure>
<p>添加失敗的範例<br><img src="https://lh3.googleusercontent.com/Ce-hSIrPwMoVQnYEhcjv-YwpHE0hCcN5wLd89z5onwdg4sLCyXa1UKKeQdrSeurZ48qCPnOPqK5FphAo3UDIyhnXb7tORYQg5DggYJRay-Byu0NqgL1g3fQZAeSIc6ya6kXPw9_f8B1qcwcsXTJy8ncAyn8Z6cXy3FBmfSfaMfIOE4sI8uKVGUpJnVdFXdg9u96gbsmoWXSRTi1IYjOKADub5N58F_9Tk-tJ0DQwY5jvbB6UuH6_FsYb6gEgJFwp7MAQn0XTYoQ6s-xDref7YaOtvA9_s_JDecu7At770JYokKRyqoNcmjW04P3dg1TWSRel8KeH9o9Q4pazpfX94Zr4prOzKXGW9PxF_CZCrzQKZnLvjvSVvRv1w-sJ2wmK7gWZtmy8DCCYZPW2o-Cs4XU7RGV4Sq5erAOrPyv-91JQ_7SVMh_abm7PvLPDdggHez-rEWV9fGd7L8n867uLyZijNiZURQ63HJ-t6lkE7fcKJBgzQHkRyfzgeErOPwrlw_skpxsR5yQHgzGVHpsN5c8nqNiYq_Dg42uOVtC6IoP1niMjYROVv9XlrWso8ivT8ct9S1xfZGL8nZubyyXKPumlFA21wAMxoxGw1Mirj43YP6EZhRWtMqD_L6e1VAhUMVnkKLevb1_iorHWdt5cLMMZAdro8kvt2MaNZJ1FxYREeg=w1204-h127-no" alt="Add failure"></p>
<p>添加成功的範例<br><img src="https://lh3.googleusercontent.com/3EiFHYY5dRhCdr4jeXDzFVnqZmL3SSHoOZfQUNyvOZs-LQxUAJaedeaOJhGawEIUx74i_fWHGBzlV3NmjhCwcCBjmH3uX3Hc5Ph_a_6ggBexX7THQT_UU9qDCgnTs6xxbCgJaRRjk44ERvLUTViB5UnYJkJLj3DSvBz-agPnBtkIysI9wxIGcBq3Qvlf_C3hxkd0hAXzMHd8As4EHrWh77yS9C7N1HsPsVoxJrBBl32SMgT2A4zUk6QhYQ6bIDteZ9u69oRp46RduSmAqZSMvuXCQYzf6wkZ9Htypu_ozB-xS0MqGcX_YAdAD_u5ntlcDZlsirhdF9NKTnGGSVNiqjr-cQ0GrwNNu3Mvu_ZB5BZWMMHgZ2K3oaGLDR66qUl0eBH3KyVDERvm-pLhuLXwj__mntC-Z4Fk2yVh-otoGAw8ndlTwFOgn7vR1Oh1aMna3AXxstj7E1lZnmZiY2ax0WX_1r_DmhM7oQvtPYo_HZ58vuOwMDveOKdXEpYKtnjDfyeTITlw2gZAfMfMfQp8vnBRjkY13y_aSL-0rPSyiWKIG70_kC8gP555YGWatKBMXbfIUCuH0vcr4UEk-0QMfDu1sEiD3QWsINhNmP3zDGDcYQFwZmfnoUk81e6WDqQWkmMJA-M4R-QwSY6KnO0fcarBZeXWEBDixCEHfTekj8633Q=w851-h589-no" alt="Add success"></p>
<p>主要差別就在於自訂的排序編號，一個使用 <strong>NULL</strong> 檢查一個沒有；在 <strong>edmx</strong> 中，判斷是否索引的話，只會依照是否為 <strong>NULL</strong> 去判別，所以就算成功加入，也要仔細去設定欄位。</p>
<h2 id="延伸閱讀"><a href="#延伸閱讀" class="headerlink" title="延伸閱讀"></a>延伸閱讀</h2><ul>
<li><a href="https://blog.miniasp.com/post/2013/11/07/Entity-Framework-and-Primary-Keys-on-Views.aspx" target="_blank" rel="noopener">Will 保哥 解決 SQL Server 檢視表 (Views) 無法匯入 EDMX 的問題</a></li>
<li><a href="https://github.com/shunnien/ASPNetMVC" target="_blank" rel="noopener">Github 的範例</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
        <tag>C#</tag>
        <tag>T-SQL</tag>
        <tag>EntityFramework</tag>
      </tags>
  </entry>
  <entry>
    <title>LINQPad DbContext 參照自訂的 DLL</title>
    <url>/2017/11/23/linqpad-use-dao-dll/</url>
    <content><![CDATA[<p><a href="https://www.linqpad.net/" target="_blank" rel="noopener"><strong>LINQPad</strong></a> 提供很便利的方式使用，但是實務上的開發，會將<strong>資料處理層</strong>抽取出來，當想要針對這部分進行一些查詢的時候， <a href="https://www.linqpad.net/" target="_blank" rel="noopener"><strong>LINQPad</strong></a> 還是可以使用的，以下就是使用 <strong>Entity Framework 6</strong> 或以下版本的設定方式<a id="more"></a></p>
<h2 id="設定步驟"><a href="#設定步驟" class="headerlink" title="設定步驟"></a>設定步驟</h2><ul>
<li>在 <strong>Explore Panel</strong> 上(就是 <a href="https://www.linqpad.net/" target="_blank" rel="noopener"><strong>LINQPad</strong></a> 左邊的區塊)，點下 <strong>Add connection</strong></li>
</ul>
<blockquote>
<p><strong>Choose Data Context</strong></p>
</blockquote>
<ul>
<li>選擇 <strong>Entity Framework (DbConext V4/V5/V6)</strong><br><img src="https://lh3.googleusercontent.com/NeECnIe8Zui89URsfqrIuYgqNHQRg6cRsiFCKDakKQZvKCr-4jyAezZUlONeMcgr46fgLSRggl5Oaw8QKUW_1U41ao733CNjy9nzNyrPIQsXtxLVFLNVBMBk__Q5G8yrTk0hgqPPlrsM0_Zy7n_Y4b7AcLmHCYhp0UQVAMI0Iw9CpiZa_9PK4Bb7dcGk0j7F7Un95onE-iYKwAr3JeNHdsHS5swUKDIFMp_SIozgWj1bQ95cQFIdqqYsn6w4nPkZYYvVeHtQTRDLUD0B9B7KtXb_WBK9J6ahcIXVe_aLvTctbSUx4LB2F_3OhdCucBluJZiWrjQ-7z8giHpHnidNVq1dSYiwRP9bfhY-meCmYK5NCtdSNLZoeRwpVFX6TuNYhx8OhljGcgB3LVY98efwqjdqZlVg4IsQ0I2wMuBqNi6zVxKiSPSYeHleZukJQ5g_LeJPB6sSN7TNCRGa2MIzwCjsaBScQxEldX3Kq1LqbRRQ1GjJVIGiHYgLVq5TtAW4-Y6cgENcVf5S-9y05Uk7afeZi-PO11Sy8RfHhR2MHRCcP4G0wyc4ajObE05H5rfJEY55sRpXxAqV12ZqNuctjsyo71yGFmSxd2VluyRPuJBMm2kUiy-Tk1esp27IvCLcki0atpP9SnO9cObW4CUsB_PmffbtQha9ZCo=w775-h618-no" alt="Choose Data Context"></li>
</ul>
<blockquote>
<p><strong>Entity Framework DbContext Connection</strong></p>
</blockquote>
<ul>
<li><p><strong>Path to Custom Assembly</strong><br>設定 <strong>Assembly</strong> ，就是你的 dll 檔案</p>
</li>
<li><p><strong>Full Type Name of Typed DbContext</strong><br>假如你的 DLL 內有多個 DbContext ， <a href="https://www.linqpad.net/" target="_blank" rel="noopener"><strong>LINQPad</strong></a> 會列出 DLL 內的 DbContext，然後選擇其中一個</p>
</li>
<li><p><strong>Path to Application config file (…)</strong><br>設定連線字串的檔案</p>
</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/Ne4Sh6QY2gXAGz2CHjNbq9LmKNq0lpQQqF7cM_MpxiDFkU6IPbx_LDHy-_VhVoaYvoX-3C7b9kn5GRrIFQ7_5JlOMBmMKEssvGJv6vjNdJTeeWS7RGKEvxya_ahDvYSl_FAIpi4iKrOIr8E9Hb8Oe7JRfJDFZBh8pAkEc9CWblI_LVL7zPqsOlfhFw5Y_4U8ZIyJM8Ml5h5jHx-LtVP692aVmgnXqN8yc3VJ_UMiiU2FV2MJI2pG_F300FzbRsQc977eux5TEMRa9JD1bu5S82ArVjC_MAK-tIg8KVwQLRJqvKW9T3icRHceJNuMnfJx6s0y5vqvqcTv9DYSeHXWXSz-oYaxurJpYo1vvxextTfBB40BbAyw9QOQ_4tsg3PFDTpSUeTVJ4LfCaz6NI87aCKRCU4AK8_R7cnRXSkmbRSquDgK7y4-1ah7owHUqWYW8MK0upoRigQqSRP4MLikohazewMPJHqKf7vLWaGe1VEIqanB3y3zmfhrbFwCAWzxq8d6Fg3N3WwbtG2QiLdh6LKViQ5g8QIBC6pja_hqeRckUtHD8QFsFBVT6x-yoV4sy4zBfEG4moclG5m5OvP2TqxkuSw9t8MmHiy46iVRJ4tQRNxdDldqSJc9sjtFxj-3XaK0Grp3fL4b_aJKFa4-baSVx7n57W1rEz0=w636-h695-no" alt="Entity Framework DbContext Connection"></p>
<p>以上都設定好就完成了。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://www.linqpad.net/" target="_blank" rel="noopener">LINQPad</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>Linq</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML 中 Script 資源載入上的 Async、defer、integrity</title>
    <url>/2017/09/20/script-resource-async-defer-integrity/</url>
    <content><![CDATA[<p>HTML 中，在載入 JavaScript 時候，都知道使用 <code>&lt;script&gt;</code> 來進行載入，但是當資料使用 <a href="https://zh.wikipedia.org/zh-tw/%E5%85%A7%E5%AE%B9%E5%82%B3%E9%81%9E%E7%B6%B2%E8%B7%AF" target="_blank" rel="noopener"><strong>CDN</strong></a> 或是其他外部載入的時候，常會看到一些額外屬性設定，此篇紀錄一下 <strong>async</strong> 、<strong>defer</strong>、<strong>integrity</strong> 這三個屬性。<a id="more"></a></p>
<p>會說到資源載入，必須先了解到網頁頁面的生命週期，以下是瀏覽器取的網頁文件檔後的主流程</p>
<blockquote><p><img src="http://taligarsiel.com/Projects/webkitflow.png" alt="Webkit main flow"><br><img src="http://taligarsiel.com/Projects/image008.jpg" alt="Mozilla&#39;s Gecko rendering engine main flow"></p>
<footer><strong>資料來源</strong><cite><a href="http://taligarsiel.com/Projects/howbrowserswork1.htm#Rendering_engines" target="_blank" rel="noopener">howBrowserWork</a></cite></footer></blockquote>

<p>上述的流程還可以解析更詳細的資料，不過此篇的主題不是這個，想了解更詳細的內容可以參考 <a href="https://javascript.info/onload-ondomcontentloaded" target="_blank" rel="noopener">JavaScript.Info Page lifecycle</a> 或是 <a href="http://taligarsiel.com/Projects/howbrowserswork1.htm#Render_tree_construction" target="_blank" rel="noopener">How browsers work</a></p>
<ul>
<li><p><strong>async</strong><br>使用非同步方式執行，使用布林值設定</p>
</li>
<li><p><strong>defer</strong><br>使用布林值設定，在 HTML　文件解析後，DOMContentLoaded　觸發前執行</p>
</li>
<li><p><strong><a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity" target="_blank" rel="noopener">integrity</a></strong><br>檢驗載入的 script 是否經過第三方竄改</p>
</li>
</ul>
<p>這些屬性在各瀏覽器中的相容性請參考<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#Browser_compatibility" target="_blank" rel="noopener">此處</a></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/HTML/Element/script" target="_blank" rel="noopener">MDN HTML script</a></li>
<li><a href="https://javascript.info/onload-ondomcontentloaded" target="_blank" rel="noopener">JavaScript.Info Page lifecycle</a></li>
<li><a href="http://taligarsiel.com/Projects/howbrowserswork1.htm#Render_tree_construction" target="_blank" rel="noopener">How browsers work Render_tree_construction</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#Browser_compatibility" target="_blank" rel="noopener">Browser compatibility</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Html</tag>
      </tags>
  </entry>
  <entry>
    <title>Entity Framework 與 Dapper Contrib 複合鍵的設定</title>
    <url>/2017/12/04/EF-Dapper-composite-keys-set/</url>
    <content><![CDATA[<p>紀錄 <strong>Entity Framework v6</strong> Code First 與 <strong>Dapper Contrib</strong> 的模型建立時，資料表索引的設定；順便替懶得查文件的同事紀錄。</p>
<a id="more"></a>

<p>以下資料表模型參考 Northwind 建立，使用 <strong>Region</strong> 與 <strong>Order Details</strong><br><img src="https://lh3.googleusercontent.com/9lc1O9inxc1jgB08tfN4caXM_1256Q_WnWBPIi1JGI-93xglC4JbgG3Wrrt4c6y1gxljPt7ozlLSfF8vlip7HDRfkGYkHvQdAfRMZw5r21y49z3tzHBDNg_umz0p3j6tQHbL711ATNWQUdoCIUx210pTw_81JhGip60n8r5fFQlivPj793i7fGXweUlwVNQAYmy0bA7lYob-eL_XKvKt86PV0aN6WrwBq9wmY48d9N5kHnjFBDertsW1LkvQicdMX2leKm2Cfwh1DCuXX9HQVqWwnj1yuo6xdKv6eaq0i-Jzmg8jzKbuisLlPPcb6m7GUutNxxsJm3dAXBK512AwLcvufnBeUcS2aPKIfHhyWgAtzSYFMRoT2XXmxIbOsDXclfzg6sPn3NHtD0m7ghV2qcf7l069IL4IbjxqOd1xxMZpoCzu2kWceQgVmxcvFFfUsGgHGxbW7WFELK5kVHIDaFDW0fwID8Urca3qE49I6CkpKAvkRx-kio0Xhu4MCAn0yssRNdsFG1JoLyzXpPBA9ItApQ2F0Y90Mo3XaUHf9lIsJZatZeKszDW-hmZnXbfs5iuRT_xbFXZnNP2NDp8VHd4sBEX2VxsnyOVAsw-aDfp-KmHlz2HvTniOD3aUbDXwqblqoyriFqLAUlBrlP9D_6wkIC8JB1kus8k=w287-h117-no" alt="Regions"></p>
<p><img src="https://lh3.googleusercontent.com/z6Xpt5KWANfiM--ELbM553yU26bk8b0IlAtKdnfpjgOUInswotD3-gMv5mLZG5yuFoQJQeJK_qFQZfcNMEHjus-iKEtEz7lu9RVmd4D1vB9Q9EYtqq4CItyFWpn9Ei9oEdPUZYReuNfLgOWL1x5YGx3QfcvkdG1CFJ5lfjVlpk4aDEHCNdzDX6XZaUZ5_mrlSqUgi8BiGnLx816Kl7b-kzm2Ii7iioN1y7d47805eGc0RgjNmkMTO9opBZw9P_vZLDPEfRQljUa-LDU2qd1PI7VhoDSTJbnxesQClfgjTkcdRt9q_BBXLMsqXIgQK4KXw8U0vqQeweuOycvC7t89FGL5XrYPCbFVXklbtd0AFWgHT_-0JoURxIhVDgW8thw9PgcloxpNEO6hKq6L-KGWtKLm8GTzdtvj8eb23AmZFUEduK27WCClGcMplIxOf9ClHA_xcwcZC90qGeRuKZCwtuclbRSaq91EQlP960LIx3vPqSsKej6-1GR-Mr0qze1O94syxDuwOTIvms4U4A55gdJLuary-XdkGPuLp9OjTG0uuZmZEOgHFQiBKFAJKs5fWNJsjUADnuf61cng3j5Y9DRYwUmPbwxE3-MRCbn_giO9NWliigZJURp5z8tPQQHVQaqWg64Yr_afFm7ggwuiVdt7pvxy-II3ZcU=w258-h204-no" alt="OrderDetail"></p>
<h2 id="Entity-Framework"><a href="#Entity-Framework" class="headerlink" title="Entity Framework"></a><strong>Entity Framework</strong></h2><p>當資料庫資料表單一 <strong>Primary Key</strong> 時，透過 Attribute 設定 <strong>[Key]</strong> 即可。</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Regions</span></span><br><span class="line">&#123;</span><br><span class="line">  [<span class="meta">Key</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> RegionID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">string</span> RegionDescription &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>當資料表是<strong>複合索引</strong> (Composite keys) 時，針對是索引的欄位還是使用 <strong>[Key]</strong> 來設定，但是<strong>必須</strong>設定排序的順序，否則會出現錯誤；當複合鍵時，除了 <strong>[Key]</strong> 外，尚需要設定 <strong>[Column(Order = n)]</strong></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OrderDetails</span></span><br><span class="line">&#123;</span><br><span class="line">  [<span class="meta">Key</span>]</span><br><span class="line">  [<span class="meta">Column(Order = 1)</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> OrderID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">  [<span class="meta">Key</span>]</span><br><span class="line">  [<span class="meta">Column(Order = 2)</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> ProductID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">decimal</span> UnitPrice &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">short</span> Quantity &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">float</span> Discount &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Dapper-Contrib"><a href="#Dapper-Contrib" class="headerlink" title="Dapper Contrib"></a><strong>Dapper Contrib</strong></h2><p><strong>Dapper Contrib</strong> 與 <strong>Entity Framework</strong> 不同，<strong>索引</strong>的 <strong>Attribute</strong> 隨著是否自動增值有所差異，自動增值的索引直接使用 <strong>[Key]</strong> ， 非自動增值的索引使用 <strong>[ExplicitKey]</strong> 。<br>所以 <strong>Dapper Contrib</strong> 是已針對索引的自動增值與否進行設定，不管是<strong>單一鍵</strong>還是<strong>複合鍵</strong>都是如此。</p>
<p>以下為單一鍵的範例：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 自動增值</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Regions</span></span><br><span class="line">&#123;</span><br><span class="line">  [<span class="meta">Key</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> RegionID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">string</span> RegionDescription &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 非自動增值</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Regions</span></span><br><span class="line">&#123;</span><br><span class="line">  [<span class="meta">ExplicitKey</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> RegionID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">string</span> RegionDescription &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以下為複合鍵的範例，假設當兩個複合鍵皆是自動增值或是皆非自動增值</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 自動增值</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OrderDetails</span></span><br><span class="line">&#123;</span><br><span class="line">  [<span class="meta">Key</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> OrderID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">  [<span class="meta">Key</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> ProductID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">decimal</span> UnitPrice &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">short</span> Quantity &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">float</span> Discount &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 非自動增值</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OrderDetails</span></span><br><span class="line">&#123;</span><br><span class="line">  [<span class="meta">ExplicitKey</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> OrderID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">  [<span class="meta">ExplicitKey</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> ProductID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">decimal</span> UnitPrice &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">short</span> Quantity &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">float</span> Discount &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><p>附上使用 <strong>LinqPad</strong> 的簡單範例， <a href="https://gist.github.com/shunnien/f63486a52e63225660a60dad6f12ba4d" target="_blank" rel="noopener" title="efv6">Entity Framework</a> 、 <a href="https://gist.github.com/shunnien/322025689e25c3d6c873ace22cb692d8" target="_blank" rel="noopener" title="dapper">Dapper Contrib</a> ，使用前記得引用參考。</p>
<ul>
<li><a href="https://msdn.microsoft.com/en-us/library/jj591583(v=vs.113).aspx" target="_blank" rel="noopener">Dapper Toturial</a></li>
<li><a href="http://dapper-tutorial.net/data-annotation-explicitkey" target="_blank" rel="noopener">MSDN </a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>EntityFramework</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 02-JS + CSS Clock</title>
    <url>/2017/12/09/Javascript30days-2/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/wJKM6jsDyoZJwvIaCKGchRh4dEkc5nB7p_KBRwT7iO07PYQJ3hkusIK5uEG9PQdsXlMsI8IRlSpkIDZb3mtm1C1aZIowT95dyJiZc_-j-vXewycFeO6JyGrWmWZ96wuSTP7_CB_VLxikAVSfOHFMisP73Eue2FZptmG5ptEivbtVzCAKnTru-eO-5Zika5OW3p6REBQr1T97UaLUiu1M37SfRMmZvT8xsvgKsma4-2kQk1ZXFujJvySk1BBZONtJTEi_rkxDBehZvF8eWCqPzGYIIs1he2cl-HbbhBkCjSF24LK56P4Ce8R7u2q5szofuNCTnUoUH_MzuotshFtXmoizu9KT4d3B1ezUes9jxhywYhp15OqhUvAGBBEN2x1CPXjJ4OVzN1AKSCniF5Fjo4VEmyaDNV1UN7dANuLif845Cho2wLgri6uqXWRERam7yokrQgiLGOASvsoY3WN9ZbL7dszm12NQkN57VX01d_3XJwP6Ug5ldj0Irif93HmTCMq8X7_PnuvkSNkaj0Bxn-BM7PPFmEoJH8cqlit1zpB7Mf13rAFxc45aiT0NXm1wl__znFFx5a3WTbGIMxVAMqdJvmD4yV6w-4mR_xje6rOJE9qpu_JiqV9ygqyAEkHRB2RjXbQfR9BjdAJGw3o-0K_roHzQ0B3PFvI=w1040-h521-no" alt="target fit"><br>使用 JS 和 CSS 建立時鐘<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_02/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1-建立-HTML"><a href="#步驟-1-建立-HTML" class="headerlink" title="步驟 1. 建立 HTML"></a>步驟 1. 建立 HTML</h2><ul>
<li>class clock 是圓時鐘容器<br><img src="https://lh3.googleusercontent.com/DCf6nT7DVs2Y3koYDEaZ15rAeGp1Z8Umgqs-ahdwKi47snSLQBLazPo96aQi0DRXEEzqlm5LWj0YiFLViJ0MoOgI2SHGP6KFeXcmzNEw9U7wikEUA4rjR6ZP0JDBFg2sYEfGLWGJuO22u-kHG635PIbMhI8jIKYPsGI5a5NGCbiqVtGHRNtTOaasuqqwFsFWNeMDiZW4OeHI3H-T1aFaumtyqfytBsyEYm2ztNHRV9CwgY08jIOtCXECwefW4cllS7rMEXTTO9nmuodok11t1amVlGW2nfXbMrGxJ33pWEmYuK24q9qD3M05WCxARQkcu_XmsgE0k6jJt900kkCpILrcSJwTAAt-eO6MXef0U4yDcpSlPmbBlMvCKwW6TBhtC0_9MTCIKUZTG7hTK0zkcE0DPAAfmC3_vZRWHLXWJ1uddNjvbrCgVJBDOpEry1VkgPAL3AhIQnbJV6Acf5yfcSkfoKSr8_6Ef9Bb-U-mIARrqYfGXPCjnxMYB-uXLx2L13bRARaQIOaPDNJDf6KiTsD5Kt4zjoKrSUtA8lCvOy0OOBdc8hlDon7oJHg2XrPUncV0fDR-75bXnzrbTwQj43Pdx-0PqDTYEDt8vhWhhV47u3U1jG1Dkfh2MQI_9CoLy-6y7gizTaLR8-cOSdeQ7fZ5yPC2tMUq8JI=w785-h707-no" alt="div clock"></li>
<li>class clock-face 是時鐘容納時針、分針、秒針的鐘面<br><img src="https://lh3.googleusercontent.com/3KAtmzw5c5R2bVt2YE5UJmCBmFeolBIir99vaJPuhgvjgzWysDDa7uasvqEbRlp0-laJ6q1MHQ6MT52VS_FLG7lowi5qvaRy2XDK6wm0oRjwWlOxFC9jzCKvcW7n84MY7UZarnu-TkA9zdoUK0kob-QcAmfG1D5s3wRBz_VkZ-dMwzBmWACbes7FZTPCiap7EvskQpAadLOdBHhYSGlqA5v2pCtIiEuYg8yK3UmzgFW63sxnVeA4hmr24ZurO2vW4Yy_1lmS8sDZRPrPDmaZFtY2eZJSi06e9bCIOg8b_y_aKJ0ILZKeAQ9MhfLNxinMUUFFMlDD84ZTZdKHSn8BM3ihBrlNRUfctfESzvucdE_kDarh8bM10U-d0eUbBdkVUBxjbQ2l_txdcWT7hmZ9EzXhZJ7WR6NOjLFTafeYEa8tN6pTtSLZY0qP6PIQNxaIGoxSJ79Lz24uKBc7fly4H6xJt6gDpt8hOU4l-vV9eIsx4RQsOX81HPV9syx6jJVSVqdK7EdNJUVA6CVSGZi4Yrwwm-AXsolrpAbeYR0TKAbZzZvVCWF1uQqQBiWnAG0oroMOG88gL9LdRy7YAL7fTYFn2_DA4pYijaV5pPM-qkK2nWA5oqfEvcgGbzJNU3xe-Qs3HxRckVCsHcXHMVk2x26_vx7z3vSDiBI=w534-h564-no" alt="div clock-face"></li>
<li>建立三個 div 各自代表時針、分針、秒針</li>
</ul>
<h2 id="步驟-2-調整時針、分針、秒針的-css"><a href="#步驟-2-調整時針、分針、秒針的-css" class="headerlink" title="步驟 2. 調整時針、分針、秒針的 css"></a>步驟 2. 調整時針、分針、秒針的 css</h2><ul>
<li>設定三針旋轉的中心 transform-origin</li>
<li>透過 transform 調整三針的位置， <code>rotate(90deg);</code> ，因為一開始是水平線，所以需要調整到 12 點鐘方向要加上 90 度</li>
<li>設定三針走動的晃動特效 transition</li>
</ul>
<h2 id="步驟-3-設定時間"><a href="#步驟-3-設定時間" class="headerlink" title="步驟 3. 設定時間"></a>步驟 3. 設定時間</h2><ul>
<li>建立 <strong>setDate</strong> function</li>
<li>透過 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/setInterval" target="_blank" rel="noopener"><strong>setInterval</strong></a> 每秒鐘執行 setDate</li>
</ul>
<h1 id="學習事項"><a href="#學習事項" class="headerlink" title="學習事項"></a>學習事項</h1><p>時鐘的 JS 並無太多的運用，僅需要簡單的角度計算，所以這次學到的大都是 CSS 部分。</p>
<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h2 id="transform-origin"><a href="#transform-origin" class="headerlink" title="transform-origin"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/transform-origin" target="_blank" rel="noopener">transform-origin</a></h2><blockquote><p>transform 的起始點，一般來說變形的起始點都在物件的中心點，但如果需要像時鐘的分秒針一樣，中心點並不在物件的中心，就需要靠 <strong>transform-origin</strong> 去設定物件變形的起始點。</p>
<p>基準點是從左上開始，從水平開始往右稱為 <strong>x 軸</strong>，垂直往下稱為 <strong>y 軸</strong>， CSS 在編寫習慣上也是先寫 x 軸 再寫 y 軸，如 <code>50px 100px</code></p>
<footer><strong>資料來源</strong><cite><a href="https://wcc723.github.io/css/2013/10/10/css-transform-origin/" target="_blank" rel="noopener">wcc723.github.io/css/2013/10/10/css-transform-origin</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attribute">transform-origin</span>:<span class="number">20%</span> <span class="number">40%</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">-ms-transform-origin</span>:<span class="number">20%</span> <span class="number">40%</span>; 		<span class="comment">/* IE 9 */</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">-webkit-transform-origin</span>:<span class="number">20%</span> <span class="number">40%</span>;	<span class="comment">/* Safari 和 Chrome */</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">-moz-transform-origin</span>:<span class="number">20%</span> <span class="number">40%</span>;		<span class="comment">/* Firefox */</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">-o-transform-origin</span>:<span class="number">20%</span> <span class="number">40%</span>;		<span class="comment">/* Opera */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="transform-rotate"><a href="#transform-rotate" class="headerlink" title="transform: rotate"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate" target="_blank" rel="noopener">transform: rotate</a></h2><p>變形的旋轉屬性。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.rotated</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>); <span class="comment">/* Equal to rotateZ(45deg) */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="transition"><a href="#transition" class="headerlink" title="transition"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/transition" target="_blank" rel="noopener">transition</a></h2><p><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions" target="_blank" rel="noopener"><strong>transition</strong></a> 屬性是一個簡寫屬性，用於設置四個過渡屬性</p>
<ul>
<li><strong>transition-property</strong> 設置過渡效果的 CSS 屬性的名稱</li>
<li><strong>transition-duration</strong> 定義動畫效果所花費的時間</li>
<li><strong>transition-timing-function</strong> 設定動畫效果時所依據的貝茲曲線</li>
<li><strong>transition-delay</strong> 定義多久之後開始發生動畫效果</li>
</ul>
<h2 id="transition-timing-function"><a href="#transition-timing-function" class="headerlink" title="transition-timing-function"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/transition-timing-function" target="_blank" rel="noopener">transition-timing-function</a></h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Keyword values */</span></span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">ease</span>;</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">ease-in</span>;</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">ease-out</span>;</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">ease-in-out</span>;</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">linear</span>;</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">step-start</span>;</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">step-end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Function values */</span></span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">steps</span>(4, <span class="selector-tag">end</span>);</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">cubic-bezier</span>(0<span class="selector-class">.1</span>, 0<span class="selector-class">.7</span>, 1<span class="selector-class">.0</span>, 0<span class="selector-class">.1</span>);</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">frames</span>(10);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Multiple timing functions */</span></span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">ease</span>, <span class="selector-tag">step-start</span>, <span class="selector-tag">cubic-bezier</span>(0<span class="selector-class">.1</span>, 0<span class="selector-class">.7</span>, 1<span class="selector-class">.0</span>, 0<span class="selector-class">.1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure>

<h1 id="延伸部分"><a href="#延伸部分" class="headerlink" title="延伸部分"></a>延伸部分</h1><ul>
<li>時分秒針，長度凸顯；</li>
<li>添加數字</li>
</ul>
<p>利用 CSS 調整，簡單使用 width 完成長度。<br>數字的部分，可以直接在 clock 放上背景圖片來快速處理。</p>
<p><img src="https://lh3.googleusercontent.com/lQ0iqWgul8zpBfmdAREwakrFY6t8HFejXD4yHTjDOLK4SWByNUEZUTaHMG1fSBDuMELgppkRIETM-4xIMhRH5hmo_h4KLm6Tq2EhSK8vWn32zKQhsNdZ1vggqSfE8Z1SRcvr-DcRvYzAILGm-Zl0ipH76Mdan5kR_77mKG2gW875iJU6xkv2UMVjdl__0C2p4qdtu0bzckzYqyGzi_HaxVQz5Q7dlNjAi8zdgA0xbSNUuqzjxHzlg9zZ1hcUTKUWqvRHEhVbUdXkZIx0UUmGmyseQwyqELr64BxIYXUfGYvKOTGnfVONrlBmXUkxPtKH8r-Yz4ZqsnGHucUz1fc6gI5fu19CB8ZjkqGabX60uXJkhqA3IShiORevd1AD1-IVAWPHwL_ZJurb6VZDr-NyOFGNAW5NZAjddnIWiyb-HaFYHqqQreHeth9iKuBnl4kX6xDzEzOTL2HJ9dIMtA_jOU0ImePnrO3UQs3Qro9t5zEvijRNttKXeVTt-zdvdIgQOa3kdfjfuLTVxfRL5kLbY45213uUpFeVIUveokpoGJlIKLK0STHlpQoI_K76lPP-MOU_9XDX48XUC2fvPcSqnoyri9f7QncklTr94RptRwB2lVwCaQrxQ1m3_6cy8AXflPGb6MzZax-cmeSPxuG5jFDciqt95fEe6r0=w629-h510-no" alt="extra part"></p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>web.config 的 httpCookies</title>
    <url>/2017/12/12/webconfig-httpCookies/</url>
    <content><![CDATA[<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">httpCookies</span> <span class="attr">domain</span>=<span class="string">"String"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">httpOnlyCookies</span>=<span class="string">"true|false"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">requireSSL</span>=<span class="string">"true|false"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>httpOnlyCookies 屬性<br>是 Cookie 只供瀏覽器與 WebServer 之間溝通使用，不允許 JavaScript 存取 Cookie (document.cookie)。</li>
<li>requireSSL 屬性<br>需要使用 SSL 才能傳送 cookie 資料。<a id="more"></a>

</li>
</ul>
<p>以上情境在測試時，因為不一定使用 SSL ，所以可能會發生頁面錯誤等情形，可以利用多重組態來切換；另外由於 <strong>Identity</strong> 也是利用 <strong>cookies</strong> 來操作，所以當測試機<strong>不使用 SSL</strong> 時，記得將 <strong>requireSSL</strong> 設定為 <strong>false</strong></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://msdn.microsoft.com/en-us/library/ms228262%28v=vs.100%29.aspx?f=255&MSPPError=-2147217396" target="_blank" rel="noopener">MSDN</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.net</tag>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 01-JavaScript Drum Kit</title>
    <url>/2017/12/08/Javascript30days-1/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/GJZCt6aTi-4RHLVjtM6dL0t9TjtavPQtQEdS3_MBecVDV_lMZEdSYXmVydgOWM8vepSJLLJm47Og3xKSM42chH6hMzEWKOhZdAvUW-fsJ2DLcRZh_Z_mN9apX7VNKhBdxy09krYwNVLk2oI9uCQdG_kdCHj7gCueqi9FQbBi-Vhu1pHCgcHWkpezAhQ_pMLxKTXIRNXP27FasXr1859LRMkXdNivUwgWvKFmwtKE6ExIgYnO8jo0MTd1sJQY1HtxV1kp2nhfiLufUA-GOd1X291Tg3CKqP2QppnuVP2AQnzrlmCiOBX1QtAUgytWMgFqg8QomU5th5qYZTVbfW65ZbibOuM1XXOvquQjaf2RaYVbFEfs9mWxuGIXBDYmYklFTDFBxUUxQR0fgZXx_GXTlGm1KUIe_ZjNYUwuqlOgp9hhJLObfeSbohvL7t3Z1GoIE6aEbSRpaqKFnZ5cp9uTE_5r3g_0HVy5gcJ5SoDqFrFacx9C8p6rl8Ohj5KFzQiPj2BTw7hTQ8p8qbucG18_UHmh7zeqrhnGbAcB_4qEelZSKpTYHWgiz6bewTgBjf4AY2NoDIL5c_UCQfwKa5R2UhB1sBIHsZqGfBWipTmCOuQIajUOSG5d3VOMVqS0HFe-4w_jYLZCVH9FxNEV5NHXqB0qjuABuaFhMoM=w832-h417-no" alt="target gif"><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/Events/transitionend" target="_blank" rel="noopener">JavaScript 30 day</a> 課程第一天，主要目的是按下按鍵時，發出聲音並進行該按鍵文字的特效；透過 Js 來綁定事件，熟練基本 JS 操作。<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_01/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1-認識-playing-CSS-Class"><a href="#步驟-1-認識-playing-CSS-Class" class="headerlink" title="步驟 1. 認識 .playing CSS Class"></a>步驟 1. 認識 .playing CSS Class</h2><ul>
<li>使用 <strong>transform</strong> 進行縮放</li>
</ul>
<h2 id="步驟-2-認識-keycode-還有-HTML-架構"><a href="#步驟-2-認識-keycode-還有-HTML-架構" class="headerlink" title="步驟 2. 認識 keycode 還有 HTML 架構"></a>步驟 2. 認識 keycode 還有 HTML 架構</h2><ul>
<li>聲音檔案 <strong>audio</strong> 與 按鍵文字 div 使用 <strong>data-key</strong> 對應</li>
<li>參考 <a href="http://keycode.info/" target="_blank" rel="noopener">key code</a></li>
</ul>
<h2 id="步驟-3-建立-keydown-listener"><a href="#步驟-3-建立-keydown-listener" class="headerlink" title="步驟 3. 建立 keydown listener"></a>步驟 3. 建立 keydown listener</h2><ul>
<li>建立整份網頁文件檔案的鍵盤監聽事件</li>
</ul>
<h2 id="步驟-4-建立-function-playSound"><a href="#步驟-4-建立-function-playSound" class="headerlink" title="步驟 4. 建立 function playSound"></a>步驟 4. 建立 function playSound</h2><ul>
<li>取得目前觸發的按鍵 keyCode</li>
<li>取得該 keyCode 對應的文字 div DOM</li>
<li>取得該 keyCode 對應的聲音 audio DOM</li>
<li>當按鍵連續按下時，使聲音檔案重新播放 <code>audio.currentTime = 0</code></li>
<li>播放聲音 <code>audio.play()</code></li>
<li>加入 keyCode 對應的文字 div DOM 強調樣式 <strong>playing</strong></li>
</ul>
<h2 id="步驟-5-建立-transitionend-listener"><a href="#步驟-5-建立-transitionend-listener" class="headerlink" title="步驟 5. 建立 transitionend listener"></a>步驟 5. 建立 transitionend listener</h2><ul>
<li>keyCode 文字 div DOM 綁定 <a href="https://developer.mozilla.org/zh-TW/docs/Web/Events/transitionend" target="_blank" rel="noopener">transitionend</a></li>
</ul>
<h2 id="步驟-6-建立-function-removeTransition"><a href="#步驟-6-建立-function-removeTransition" class="headerlink" title="步驟 6. 建立 function removeTransition"></a>步驟 6. 建立 function removeTransition</h2><ul>
<li><p>利用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/Events/transitionend" target="_blank" rel="noopener">transitionend</a> 進行樣式凸顯後移除</p>
</li>
<li><p>在觸發事件內的執行順序</p>
</li>
</ul>
<p>值得一提的是， <strong>border-color</strong> 會變成四個方向的顏色來設定，可以在 <strong>removeTransition</strong> function 中添加 log 來查看執行順序與觸發次數。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeTransition</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.propertyName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>當按下觸發按鍵後， <strong>removeTransition</strong> 的 log 記錄訊息與觸發順序如下流程所示。</p>
<pre class="mermaid" style="text-align: center;">

graph TD
A(transform)-->B(border-right-color)
B-->C(border-bottom-color)
C-->D(border-top-color)
D-->E(border-left-color)
E-->F(box-shadow)
F-->A1(transform)
A1-->B1(border-right-color
B1-->C1(border-bottom-color)
C1-->D1(border-top-color)
D1-->E1(border-left-color)
E1-->F1(box-shadow)
</pre>

<p>另外值得一提的是， css 中的樣式順序變動，對於觸發順序毫無影響，也就是說就算把 <strong>playing</strong> 的 css 變動成如下的順序，觸發順序還是 <strong>transform</strong> 先開始。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.playing</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1rem</span> <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="學習事項"><a href="#學習事項" class="headerlink" title="學習事項"></a>學習事項</h1><p>將比較不熟練，或是較少使用的事項重複記錄一次。</p>
<h2 id="HTML-部分"><a href="#HTML-部分" class="headerlink" title="HTML 部分"></a>HTML 部分</h2><h3 id="HTML-audio-tag"><a href="#HTML-audio-tag" class="headerlink" title="HTML audio tag"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/HTML/Element/audio" target="_blank" rel="noopener">HTML audio tag</a></h3><p>操作音效檔案的 HTML tag，此處透過 js 操作播放與設定音效檔案重頭播放，可以參考 <a href="https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext" target="_blank" rel="noopener">MDN</a> 的 <strong>currentTime</strong></p>
<h3 id="HTML-kbd-tag"><a href="#HTML-kbd-tag" class="headerlink" title="HTML kbd tag"></a><a href="https://www.w3schools.com/tags/tag_kbd.asp" target="_blank" rel="noopener">HTML kbd tag</a></h3><p>就是輸入按鍵的顯示文字，詳細說明可以觀看以下的說明。</p>
<blockquote><h1 id="Definition-and-Usage"><a href="#Definition-and-Usage" class="headerlink" title="Definition and Usage"></a>Definition and Usage</h1><p>The <kbd> tag is a phrase tag. It defines keyboard input.<br>Tip: This tag is not deprecated, but it is possible to achieve richer effect with CSS.</p>
<footer><strong>資料來源</strong><cite><a href="https://www.w3schools.com/tags/tag_kbd.asp" target="_blank" rel="noopener">www.w3schools.com/tags/tag_kbd.asp</a></cite></footer></blockquote>

<h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><p>JS 部分列出一些比較便利的東西來說明。</p>
<h3 id="querySelector"><a href="#querySelector" class="headerlink" title="querySelector"></a><a href="https://developer.mozilla.org/pt-BR/docs/Web/API/Document/querySelector" target="_blank" rel="noopener">querySelector</a></h3><p>這就是 JS 提供的 Selector 選擇器，有用過 JQuery 的就會感覺很熟悉，跟以下的 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Document/querySelectorAll" target="_blank" rel="noopener">querySelectorAll</a> 不太相同的地方是， <a href="https://developer.mozilla.org/pt-BR/docs/Web/API/Document/querySelector" target="_blank" rel="noopener">querySelector</a> 有找尋到結果的時候，會回傳一個 DOM object 。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> el = <span class="built_in">document</span>.querySelector(<span class="string">".myclass"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="querySelectorAll"><a href="#querySelectorAll" class="headerlink" title="querySelectorAll"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Document/querySelectorAll" target="_blank" rel="noopener">querySelectorAll</a></h3><p>Selector 選擇器的變形，搜尋結果會是<strong>類陣列(array-like)</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> matches = <span class="built_in">document</span>.querySelectorAll(<span class="string">"div.note, div.alert"</span>);</span><br></pre></td></tr></table></figure>

<p>需要注意的，是 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Document/querySelectorAll" target="_blank" rel="noopener">querySelectorAll</a> 得到的結果並<strong>不是</strong> <strong>Array</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> matches = <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(matches);</span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="classList"><a href="#classList" class="headerlink" title="classList"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Element/classList" target="_blank" rel="noopener">classList</a></h3><blockquote><p>Element.classList 唯讀屬性代表了該元素所擁有之類別屬性（Class Attribute）的即時更新集－DOMTokenList。</p>
<p>使用 classList 屬性是取得元素 Class 的一種便利方式，也可以透過 element.className 來得到以空格分隔之 Class 清單字串。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Element/classList" target="_blank" rel="noopener">developer.mozilla.org/zh-TW/docs/Web/API/Element/classList</a></cite></footer></blockquote>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// div is an object reference to a &lt;div&gt; element with class="foo bar"</span></span><br><span class="line">div.classList.remove(<span class="string">"foo"</span>);</span><br><span class="line">div.classList.add(<span class="string">"anotherclass"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// if visible is set remove it, otherwise add it</span></span><br><span class="line">div.classList.toggle(<span class="string">"visible"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  add/remove visible, depending on test conditional, i less than 10</span></span><br><span class="line">div.classList.toggle(<span class="string">"visible"</span>, i &lt; <span class="number">10</span> );</span><br><span class="line"></span><br><span class="line">alert(div.classList.contains(<span class="string">"foo"</span>));</span><br><span class="line"></span><br><span class="line">div.classList.add(<span class="string">"foo"</span>,<span class="string">"bar"</span>); <span class="comment">//add multiple classes</span></span><br></pre></td></tr></table></figure>

<h3 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/EventTarget/addEventListener" target="_blank" rel="noopener">addEventListener</a></h3><blockquote><p>EventTarget.addEventListener() 方法能將指定的事件監聽器註冊到 EventTarget 實作物件上。EventTarget 可能是 Document 中的 Element 物件、Document 物件本身、Window 物件，或是其它支援事件的物件（如：XMLHttpRequest）。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/EventTarget/addEventListener" target="_blank" rel="noopener">developer.mozilla.org/zh-TW/docs/Web/API/EventTarget/addEventListener</a></cite></footer></blockquote>

<h3 id="transitionend"><a href="#transitionend" class="headerlink" title="transitionend"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/Events/transitionend" target="_blank" rel="noopener">transitionend</a></h3><p>為 DOM <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions" target="_blank" rel="noopener">CSS transitions</a> 變換完成後觸發，另外還有 <a href="https://developer.mozilla.org/en-US/docs/Web/Events/transitionstart" target="_blank" rel="noopener">transitionstart</a> 、 <a href="https://developer.mozilla.org/en-US/docs/Web/Events/transitioncancel" target="_blank" rel="noopener">transitioncancel</a></p>
<h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noopener">Array.from</a></h3><blockquote><p>Array.from() 會從類陣列(array-like)或是可迭代的物件建立一個新的陣列實例。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noopener">developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/from</a></cite></footer></blockquote>

<p>在教學的完成範例中，使用了 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noopener">Array.from</a> 來轉換 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Document/querySelectorAll" target="_blank" rel="noopener">querySelectorAll</a> 的結果，在此範例中，沒有使用此轉換也不影響； 所以才使用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noopener">Array.from</a> 來轉換</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> bar = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"><span class="built_in">Array</span>.from(bar);</span><br><span class="line"><span class="comment">// ["a", "b", "c"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="string">'foo'</span>);</span><br><span class="line"><span class="comment">// ["f", "o", "o"]</span></span><br></pre></td></tr></table></figure>

<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><p>介紹 CSS3 的新單位 <strong>vh</strong> 、 <strong>vw</strong> ，其<a href="https://www.w3schools.com/cssref/css_units.asp" target="_blank" rel="noopener">瀏覽器的支援程度</a>可以參考</p>
<h3 id="vh"><a href="#vh" class="headerlink" title="vh"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/length" target="_blank" rel="noopener">vh</a></h3><p>代表的是 <strong>view height</strong> ，也就是螢幕可視範圍高度的百分比</p>
<h3 id="vw"><a href="#vw" class="headerlink" title="vw"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/length" target="_blank" rel="noopener">vw</a></h3><p>表示的是 <strong>view width</strong> ，也就是螢幕可是範圍寬度的百分比。</p>
<h1 id="延伸部分"><a href="#延伸部分" class="headerlink" title="延伸部分"></a>延伸部分</h1><p>按著按鈕不放，有時候 <strong>Class</strong> 樣式沒被移除。<br><img src="https://lh3.googleusercontent.com/wgrbTz2rivsv8QuGsc8JgJKvU9z8EtSIrCvz0-NGiBuhEDC5Ar02OLoz6RdGPVZ1W9t6W1SpDsnxyzbrZSeU4Gy3FcdJK7ZNATYHhhstCGbD0pECAl5dxWdCev8trX-7ukQSXg5NQrQP4vDzN_u5-tgSOInmX3riG9ob3Tdl6JVJakBFB-yJvOBeX2vlywxw4vgNDJnyIZYkGnIIVTtXqpQTHH2itXkbmFzUVgU7SGrU7S1cUS7P25xsCQ5vH9X8orNBjKB3Jy-j10n20Ps_7-ZT49Nwjc-dTPjPIlcMOJyn9DbN2wyBshDuJdQOqtYvg-VSC1DVxqvPZWn4KHh4YwzCjnMMO1Gv2ERfTgNIQcvBYwtmV-ljE17lHFPC50CmpPnmBIzRHSpuhdYR7MatKVYva49Kt_HCE5ppdmtdMQohsdXOY8c8A21Q9hoKVkBWHkYNiL6qZbKEd6ejGh-JL-WdrAxtt0WMezwWS2CcVmO2px7Q1C0AYrJk3T4tu6P6jLzGpxbT1ZaG9L3jaKFeuPQxRWYteUxNTjZFCGEwlFjvYeYIzzJxanuER2CVPglhcX8OHA9SF1iG4XjB0LlagA5tqAL2kV1tuf4MAChdmN9RM64HJKSl7AIa25-ic9unxdd2l70jcZUO5XQBJXJi7mkVW1sfb0d734A=w918-h516-no" alt="sampel gif picture"></p>
<p>幾個解決方式，我決定使用 <strong>keyup</strong> 事件進行移除，不使用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/Events/transitionend" target="_blank" rel="noopener">transitionend</a> 改使用在 <strong>keyup</strong> 觸發 <strong>removeClass</strong> function</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeClass</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> key = <span class="built_in">document</span>.querySelector(<span class="string">`.key[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>);</span><br><span class="line">  key.classList.remove(<span class="string">"playing"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"keyup"</span>, removeClass);</span><br></pre></td></tr></table></figure>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 03-Scoped CSS Variables and JS</title>
    <url>/2017/12/13/Javascript30days-3/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/jxHHEaAtxIZb9QBtiY0CGHV-g_3FZMWDRtlwedsTxytSd5iGZ82XlNBqMsEIfAEiU-pjhniXf3FT5UzMteR18H8rRrFMhIsmw7zxrCSUr1nqdfmNFIz_ZM8VhMVvnS9rt2z482-hE86IHnxFkOncuPM9KeJhspfNXPtLCbzPc2ZaBfp0YzT-3ksbDm1KJrk3HiYtwQeDWvEQ_-6fX6JESghXNhlKbtWr5oHBfu_wHmwKk_fT94YLaXsnpLJnobEbr1bya1xWbsZT6FOqLS5LD1REZpIzs83BqsPaLtt_E3e5WdqVDAYK4SwB-2grIVatTM1ZHGQWo68BHp2tyrr_9CU_VuhWIgBYqB_SOSpEJbJcIbqy8DWzILRg4ESQpWQ9vRqEAqOp48muN1ErzXbbreGPa07x_qLAgCW3vuXnvG8mqns-a2lnvcOvi5r5d_fr3cIuIerbo3qD8I_GKC2rbN2_PGX-Jf7o_4hoswLhC-4lpSXBDZkNemsZShGkrPz5JKXdE69JHlvTjQj9pm76TaIyaZYR3lRcBLhKmZJnA42752eotLSyDG62dp1x30EWGlzHpSX6zis7agmcAs0aiQj2UaX1mjpSfMm4j8QzKjyiZrNjAAfmIEcdPedyRhSBkYmgweAgavU0PL76zO5LGMnPTPEmqHwWpXs=w600-h406-no" alt="target"></p>
<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>利用 CSS 變數製作濾鏡。</p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_03/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1-綁定-input-變更事件"><a href="#步驟-1-綁定-input-變更事件" class="headerlink" title="步驟 1. 綁定 input 變更事件"></a>步驟 1. 綁定 input 變更事件</h2><ul>
<li>取得所有 input</li>
<li>建立設定樣式 function handleUpdate</li>
<li>透過 arrow function 綁定 change 事件</li>
</ul>
<h2 id="步驟-2-設定-css"><a href="#步驟-2-設定-css" class="headerlink" title="步驟 2. 設定 css"></a>步驟 2. 設定 css</h2><ul>
<li>設定 css 變數</li>
<li>設定圖片參照 css 變數</li>
</ul>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><p>主要重點在於 css 變數的運用。</p>
<h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="箭頭函數-Arrow-Function"><a href="#箭頭函數-Arrow-Function" class="headerlink" title="箭頭函數 (Arrow Function)"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">箭頭函數 (Arrow Function)</a></h3><blockquote><p>箭頭函數表示式 (Arrow function expression，也是所謂的 fat arrow function) 比起一般的函數表示式擁有更短的語法以及詞彙上綁定 this 變數，所有的箭頭函數都是無名函數 (anonymous function).</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(param1, param2, …, paramN) =&gt; &#123; statements &#125; </span><br><span class="line">(param1, param2, …, paramN) =&gt; expression</span><br><span class="line">     <span class="comment">// 等於 :  =&gt; &#123; return expression; &#125; </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 只有一個參數時,括號才能不加:</span></span><br><span class="line">(singleParam) =&gt; &#123; statements &#125;</span><br><span class="line">singleParam =&gt; &#123; statements &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//若無參數,就一定要加括號:</span></span><br><span class="line">() =&gt; &#123; statements &#125;</span><br></pre></td></tr></table></figure>

<h3 id="HTMLElement-dataset"><a href="#HTMLElement-dataset" class="headerlink" title="HTMLElement.dataset"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/dataset" target="_blank" rel="noopener">HTMLElement.dataset</a></h3><blockquote><p>HTMLElement.dataset屬性允許無論是在讀取模式和寫入模式下訪問在HTML或DOM中的元素上設置的所有自定義數據屬性 ( data-* )集。<br>自定義的data屬性名稱轉化成  DOMStringMap 的鍵值時會遵循下面的規則：</p>
<ul>
<li>前綴   data- 被去除(包括減號)；</li>
<li>對於每個在ASCII小寫字母的減號( )，減號會被去除，並且字母會轉變成對應的大寫字母。 a到 z前面U+002D</li>
<li>其他字符（包含其他減號）都不發生變化</li>
</ul>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/dataset" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="CSSStyleDeclaration-setProperty"><a href="#CSSStyleDeclaration-setProperty" class="headerlink" title="CSSStyleDeclaration.setProperty()"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CSSStyleDeclaration/setProperty" target="_blank" rel="noopener">CSSStyleDeclaration.setProperty()</a></h3><blockquote><footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CSSStyleDeclaration/setProperty" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="Template-literals"><a href="#Template-literals" class="headerlink" title="Template literals"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/template_strings" target="_blank" rel="noopener">Template literals</a></h3><blockquote><p>模板字面量/Template literals 是允許嵌入表達式的字符串字面量。你可以使用多行字符串和字符串插值功能。它們在ES2015規範的先前版本中被稱為“模板字符串/template strings”。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/template_strings" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">`string text`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`string text line 1</span></span><br><span class="line"><span class="string"> string text line 2`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`string text <span class="subst">$&#123;expression&#125;</span> string text`</span></span><br><span class="line"></span><br><span class="line">tag <span class="string">`string text <span class="subst">$&#123;expression&#125;</span> string text`</span></span><br></pre></td></tr></table></figure>

<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h3 id="root"><a href="#root" class="headerlink" title=":root"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/:root" target="_blank" rel="noopener">:root</a></h3><ul>
<li>宣告全域變數時，很好用。</li>
<li>表示 html 的屬性</li>
</ul>
<blockquote><p>:root這個CSS 偽類匹配文檔樹的根元素。對於HTML來說，:root表示<code>&lt;html&gt;</code>元素，除了優先級更高之外，與html選擇器相同</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:root" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--main-color</span>: hotpink;</span><br><span class="line">  <span class="attribute">--pane-padding</span>: <span class="number">5px</span> <span class="number">42px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="CSS-variables"><a href="#CSS-variables" class="headerlink" title="CSS variables"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_variables" target="_blank" rel="noopener">CSS variables</a></h3><blockquote><p>CSS變量是由CSS作者定義的實體，其中包含要在整個文檔中重複使用的特定值。使用自定義屬性來設置變量名，並使用特定的var()來訪問。（比如color:  var(–main-color) ;）。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_variables" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 宣告區域變數 */</span></span><br><span class="line"><span class="selector-tag">element</span> &#123;</span><br><span class="line">  <span class="attribute">--main-bg-color</span>: brown;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 使用區域變數 */</span></span><br><span class="line"><span class="selector-tag">element</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--main-bg-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 宣告全域變數 */</span></span><br><span class="line"><span class="selector-tag">root</span> &#123;</span><br><span class="line">  <span class="attribute">--global-color</span>: <span class="number">#666</span>;</span><br><span class="line">  <span class="attribute">--pane-padding</span>: <span class="number">5px</span> <span class="number">42px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 使用全域變數 */</span></span><br><span class="line"><span class="selector-class">.demo</span>&#123;</span><br><span class="line">   <span class="attribute">color</span>: <span class="built_in">var</span>(--global-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="var"><a href="#var" class="headerlink" title="var()"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/var" target="_blank" rel="noopener">var()</a></h3><blockquote><p>ar() 函數可以代替元素中任何屬性中的值的任何部分。var()方法不能作為屬性名、選擇器或者其他除了屬性值之外的值。（這樣做通常會產生無效的語法或者一個沒有關聯到變量的值。）</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/var" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--main-bg-color</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--main-bg-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Custome-propertities"><a href="#Custome-propertities" class="headerlink" title="Custome propertities (--*)"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/--*" target="_blank" rel="noopener">Custome propertities (--*)</a></h3><blockquote><p>帶有前綴–的屬性名，比如–example–name，表示的是帶有值的自定義屬性，其可以通過var 函數在全文檔範圍內復用的。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/--*" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">--somekeyword</span>: <span class="selector-tag">left</span>;</span><br><span class="line"><span class="selector-tag">--somecolor</span>: <span class="selector-id">#0000ff</span>;</span><br><span class="line"><span class="selector-tag">--somecomplexvalue</span>: 3<span class="selector-tag">px</span> 6<span class="selector-tag">px</span> <span class="selector-tag">rgb</span>(20, 32, 54);</span><br></pre></td></tr></table></figure>

<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/filter" target="_blank" rel="noopener">filter</a></h3><blockquote><p>CSS濾鏡（filter）屬提供的圖形特效，像模糊，銳化或元素變色。過濾器通常被用於調整圖片，背景和邊界的渲染。</p>
<p>CSS標準裡包含了一些已實現預定義效果的函數。你也可以參考一個SVG 濾鏡，通過一個URL鏈接到SVG 濾鏡元素 ( <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter" target="_blank" rel="noopener">SVG filter element</a> )。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/filter" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">url</span>("<span class="selector-tag">filters</span><span class="selector-class">.svg</span><span class="selector-id">#filter-id</span>");</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">blur</span>(5<span class="selector-tag">px</span>);</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">brightness</span>(0<span class="selector-class">.4</span>);</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">contrast</span>(200%);</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">drop-shadow</span>(16<span class="selector-tag">px</span> 16<span class="selector-tag">px</span> 20<span class="selector-tag">px</span> <span class="selector-tag">blue</span>);</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">grayscale</span>(50%);</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">hue-rotate</span>(90<span class="selector-tag">deg</span>);</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">invert</span>(75%);</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">opacity</span>(25%);</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">saturate</span>(30%);</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">sepia</span>(60%);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Apply multiple filters */</span></span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">contrast</span>(175%) <span class="selector-tag">brightness</span>(3%);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 04-Array Cardio</title>
    <url>/2017/12/15/Javascript30days-4/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>練習 JavaScript 的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank" rel="noopener">Array.prototype.filter()</a> 、 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="noopener">Array.prototype.map()</a> 、 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank" rel="noopener">Array.prototype.sort()</a> 、 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">Array.prototype.reduce()</a> ，透過 console 介面比較前後結果。</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_04/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Console-table"><a href="#Console-table" class="headerlink" title="Console.table()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/table" target="_blank" rel="noopener">Console.table()</a></h3><blockquote><p>將數據以表格的形式顯示</p>
<p>這個方法接收一個強制的參數，它必須是一個數組或者是一個對象，還可以接受一個額外的參數描述表格的列數。</p>
<p>它把數據以table的形式打印出來， 在數組中的每一個元素（或對像中可枚舉的屬性）將會以行的形式顯示在table中。</p>
<p>table的第一列是index。如果數據是一個數組，那麼值就是索引。如果數據是一個對象，那麼它的值就是屬性名稱。注意（在FireFox中）console.table 被限制了不能顯示超過1000行（第一行用來標記索引）。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/table" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.table([<span class="string">"apples"</span>, <span class="string">"oranges"</span>, <span class="string">"bananas"</span>]);</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/xxOse0em1T9xiIoFWxIzyoTo-yRkgtPYkLzv8nNjc2BehPkMTb2GF3sFwP6wDG_zsmNF0u0beqXxJ_2QLEKZ04bX6vcbaLEb5_EZe2ghOoAiOmQRINonkZHh0xtBhR3_75nyKtQCrWnXwgsLwCKHKjC5pe6tX3pyD-ruUFBpiknMDE9gmufqnG67HoBQFgseI3pius8YJ7HdIKHIpnF24z2Rxlvmdtzf85kFN0W41y9RaGm3UB-CRiGcJydGn4u3Hf6BNw6oQH9E4zDaTYnTnTW5MBc2ngNMj_DmVd--8U6137UzLw9Ulr8iiwmIBMybU6ZK6WV1XqFFQWALMeJXVSWyb9GcSSZ2o0iRGfzFDOccrMCqq6QMiSxCKWwBedwUvkl-vbuBAMUhCSHbiy55m59Z71C2v54COcKDXGSdphdZIQdPXvO1wGwtCdlmKjG3CJc4Yth_m2xAIxDHWlC6PeKg_CS-U5-4mMsr2FDYojGsyvVw-yi4aw32guLPC9BKW34CD4cAZUBX568mII9Kk0s2flJATqURlItkxHDcft_0tIU49t-_VhUSpH2hqaGBCxuKmf1ZFSy_9krLV5j24hEZAZXmBTpA9qGvqI-Ar7eqeqVNigC0lLL28qg1nx0U8HNu0-NC2O3vLJmpHpofGyCXS1q9NzReluU=w806-h231-no" alt="table"></p>
<h3 id="Array-prototype-filter"><a href="#Array-prototype-filter" class="headerlink" title="Array.prototype.filter()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank" rel="noopener">Array.prototype.filter()</a></h3><blockquote><p>filter() 方法會建立一個經指定之函式運算後，由原陣列中通過該函式檢驗之元素所構成的新陣列。</p>
<h1 id="語法"><a href="#語法" class="headerlink" title="語法"></a>語法</h1><blockquote>
<p>var newArray = arr.filter(callback[, thisArg])</p>
</blockquote>
<h2 id="參數"><a href="#參數" class="headerlink" title="參數"></a>參數</h2><h4 id="callback"><a href="#callback" class="headerlink" title="callback"></a>callback</h4><p>此函式為一個斷言，用於測試陣列中的每個元素。回傳值為 true 時將當前的元素保留至新陣列中，若為 false 則不保留。可傳入三個參數：</p>
<h4 id="element"><a href="#element" class="headerlink" title="element"></a>element</h4><p>原陣列目前所迭代處理中的元素。</p>
<h4 id="index"><a href="#index" class="headerlink" title="index"></a>index</h4><p>原陣列目前所迭代處理中的元素之索引。</p>
<h4 id="array"><a href="#array" class="headerlink" title="array"></a>array</h4><p>呼叫 filter 方法的陣列。</p>
<h4 id="thisArg-選擇性"><a href="#thisArg-選擇性" class="headerlink" title="thisArg 選擇性"></a>thisArg 選擇性</h4><p>執行 callback 回呼函式的 this 值。</p>
<h2 id="回傳值"><a href="#回傳值" class="headerlink" title="回傳值"></a>回傳值</h2><p>一個元素為通過回呼函式檢驗的新陣列。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> words = [<span class="string">"spray"</span>, <span class="string">"limit"</span>, <span class="string">"elite"</span>, <span class="string">"exuberant"</span>, <span class="string">"destruction"</span>, <span class="string">"present"</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> longWords = words.filter(<span class="function"><span class="params">word</span> =&gt;</span> word.length &gt; <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Filtered array longWords is ["exuberant", "destruction", "present"]</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-map"><a href="#Array-prototype-map" class="headerlink" title="Array.prototype.map()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="noopener">Array.prototype.map()</a></h3><blockquote><p>map() 方法會建立一個新的陣列，其內容為原陣列的每一個元素經由回呼函式運算後所回傳的結果之集合。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>];</span><br><span class="line"><span class="keyword">var</span> doubles = numbers.map(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> x * <span class="number">2</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// doubles is now [2, 10, 20, 30]</span></span><br><span class="line"><span class="comment">// numbers is still [1, 5, 10, 15]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>];</span><br><span class="line"><span class="keyword">var</span> roots = numbers.map(<span class="built_in">Math</span>.sqrt);</span><br><span class="line"><span class="comment">// roots is now [1, 2, 3]</span></span><br><span class="line"><span class="comment">// numbers is still [1, 4, 9]</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-sort"><a href="#Array-prototype-sort" class="headerlink" title="Array.prototype.sort()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank" rel="noopener">Array.prototype.sort()</a></h3><blockquote><p>sort() 方法將陣列中的元素排列至其應當的位置上並返回此陣列。排列不必是穩定的。預設的排列順序根據Unicode字串碼位來排序。</p>
<h1 id="語法"><a href="#語法" class="headerlink" title="語法"></a>語法</h1><blockquote>
<p>arr.sort([compareFunction])</p>
</blockquote>
<h2 id="參數"><a href="#參數" class="headerlink" title="參數"></a>參數</h2><p><code>compareFunction</code><br>可選。指定一函數來定義排序順序。若省略，陣列將根據各個字元的Unicode碼位值排列，或根據每個元素轉換為字串。</p>
<hr>
<p>如果 compareFunction 被應用, 陣列元素們將根據比較函數之回傳值來排序。如果 a 和 b 為被比較之兩元素, 則:</p>
<ul>
<li>若 compareFunction(a, b) 小於 0, 將 a 排在比 b index還小處, i.e. a 排在第一個.</li>
<li>若 compareFunction(a, b) 回傳 0, a 與 b 互相不會改變順序, 但會與全部其他元素比較排列。註計: ECMAscript標準不保證能使用此行為, 因此不是所有瀏覽器 (e.g. Mozilla版本至少2003) 遵守此行為.</li>
<li>若 compareFunction(a, b) 大於 0, 將 b 排在比 a index還小處.</li>
<li>compareFunction(a, b) 在給特定元素 a 及 b 為此函數之兩參數時必須每次都回傳相同之值。若回傳值不一致，排序順序則為undefined。</li>
</ul>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> scores = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">21</span>]; </span><br><span class="line">scores.sort(); <span class="comment">// [1, 10, 2, 21]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> things = [<span class="string">'word'</span>, <span class="string">'Word'</span>, <span class="string">'1 Word'</span>, <span class="string">'2 Words'</span>];</span><br><span class="line">things.sort(); <span class="comment">// ['1 Word', '2 Words', 'Word', 'word']</span></span><br><span class="line"><span class="comment">// 在Unicode中, 數字在大寫字母前,</span></span><br><span class="line"><span class="comment">// 大寫字母在小寫字母前</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> items = [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'Edward'</span>, <span class="attr">value</span>: <span class="number">21</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'Sharpe'</span>, <span class="attr">value</span>: <span class="number">37</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'And'</span>, <span class="attr">value</span>: <span class="number">45</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'The'</span>, <span class="attr">value</span>: <span class="number">-12</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'Magnetic'</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'Zeros'</span>, <span class="attr">value</span>: <span class="number">37</span> &#125;</span><br><span class="line">];</span><br><span class="line">items.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (a.name &gt; b.name) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (a.name &lt; b.name) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// a must be equal to b</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-reduce"><a href="#Array-prototype-reduce" class="headerlink" title="Array.prototype.reduce()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">Array.prototype.reduce()</a></h3><blockquote><p>reduce() 方法將一個累加器及陣列中每項元素（由左至右）傳入回呼函式，將陣列簡化為單一值。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">accumulator, currentValue</span>) =&gt;</span> accumulator + currentValue;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 + 2 + 3 + 4</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.reduce(reducer));</span><br><span class="line"><span class="comment">// expected output: 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5 + 1 + 2 + 3 + 4</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.reduce(reducer, <span class="number">5</span>));</span><br><span class="line"><span class="comment">// expected output: 15</span></span><br></pre></td></tr></table></figure>

<h1 id="延伸部分"><a href="#延伸部分" class="headerlink" title="延伸部分"></a>延伸部分</h1><p>這次的 JS 部分，大步以前都練習過，以前還寫過一篇 <a href="https://shunnien.github.io/2017/06/05/javascript-reduce-note/">reduce 的使用</a>，有興趣的可以參考看看。</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 06-Type Ahead</title>
    <url>/2017/12/19/Javascript30days-6/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p><img src="https://lh3.googleusercontent.com/OTxAcGZTlWRisZjyQqZJbqJrC34DFbxDdF-MoMQM_nKzSYHtpgJgihKe7bclbWDLYhngHTuQevPGw2v1KV-UZUQ9YapMPAv3QBrUGdKUnXQ1krOr2wAQYKHwvaycv--ZGTSiJqOPm0ZXIoVfZNkG0J-zcmmJ4rDaJSTpsbxdPY-OMN1FxW0RmVQ2bh4LF2a-8bHJPXV4Cer8X0NXFH3GBNeKz42_YR0sB4YbJ4Q2Il9AUd8IQtSGjcN0zZIsMAiVTg6ly_0gS59pTB38KLQ6dS4iZOfDxtCDxqmg4_IJzWLrT870d80iJiwc9W_VIQpMc1vnxImbE-CRn386rzmPx3Vh9e_PrCd4JCq6CcNm5ojFjCEvyjEd_cIN8nTDxd6dVMC3kr2nj5PM9dXBYAr2hY-mjMHp4j_ZtsZ8_URkBMVyRbd0Gvyxm8sAXKmn7h_NN9MdLI3tWJGJLWwn18V8uUx71OgP31JZuF-m3OdOzBw2c9qorXB7ssVMDvRoDnVOtHIYpXX8zW5A6fSvjUMHePlmpeMpf9iw4k-cjS1ZHu801oyU4FjDMMxbC4jrnWaoryrLw9phLEZ4WFHvth1hOjF_qIylGZUKonmZKYreP2u-Y61jXQGSs9r9gJWmE8CVU1vjuLwsNPdOnlFXMVF6v-OLBUR0qiBT=w600-h407-no" alt="targe"></p>
<p>製作一個關鍵字建議提示訊息的功能<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_06/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1"></a>步驟 1</h2><ul>
<li>使用 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">Fetch</a> 取得 json</li>
<li>將 json 資料存入 <strong>cities</strong> Array</li>
</ul>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><ul>
<li>建立 function <strong>displayMatches</strong></li>
<li>關鍵字輸入框綁定 <code>change</code> 與 <code>keyup</code> 事件</li>
</ul>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><ul>
<li>function <strong>displayMatches</strong> 中，透過 filter 篩選 <strong>cities</strong></li>
<li>然後在其中利用 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener">RegExp</a> 來尋找 city 與 state 的屬性中含有關鍵字的資料</li>
</ul>
<h2 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4."></a>步驟 4.</h2><ul>
<li>將上一步驟篩選結束的陣列進行 <code>map</code> 尋覽，利用文字範本組合 html 內容</li>
<li><code>map</code> 後的結果使用 <code>join</code> 來結合</li>
<li>放入 <code>.suggestions</code> 建議資料列表中</li>
</ul>
<h2 id="步驟-5"><a href="#步驟-5" class="headerlink" title="步驟 5."></a>步驟 5.</h2><p>將關鍵字強調顯示，並將數字使用逗號分隔；修改上一步驟中文字範本的組合 html 內容。</p>
<ul>
<li>利用 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener">RegExp</a> 與 <code>replace</code> 來針對關鍵字強調</li>
<li>同上述的方式，針對 population 數字進行格式化</li>
</ul>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Fetch-API"><a href="#Fetch-API" class="headerlink" title="Fetch API"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API" target="_blank" rel="noopener">Fetch API</a></h3><blockquote><p>Fetch API 提供了一個獲取資源的介面（包括跨域）。任何使用過 XMLHttpRequest 的人都能輕鬆上手，但新的 API 提供了更強大和靈活的功能集。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="Using-Fetch"><a href="#Using-Fetch" class="headerlink" title="Using Fetch"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">Using Fetch</a></h3><blockquote><footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="RegExp"><a href="#RegExp" class="headerlink" title="RegExp"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener">RegExp</a></h3><blockquote><p>RegExp 建構函數創建了一個正則表達式物件，用於將文本與一個模式匹配。<br>有關正則表達式的介紹，請閱讀 JavaScript 指南中的[正則表達式章節][4]</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="Regular-Expressions"><a href="#Regular-Expressions" class="headerlink" title="Regular Expressions"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener">Regular Expressions</a></h3><blockquote><p>正規表達式是被用來匹配字串中字元組合的模式。在 JavaScript 中，正規表達式也是物件，這些模式在 [<strong>RegExp</strong>][3] 的 [<strong>exec</strong>][5] 和 [<strong>test</strong>][6] 方法中，以及 <strong>String</strong> 的 [<strong>match</strong>][7]、[<strong>replace</strong>][8]、[<strong>search</strong>][9]、[<strong>split</strong>][10] 等方法中被運用。這一章節將解說 JavaScript 中的正規表達式。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用 RegExp 常數，包含兩個 / 字元之間的模式如下：</span></span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/ab+c/</span>;</span><br><span class="line"><span class="comment">// 呼叫 RegExp 物件的建構子函數如下：</span></span><br><span class="line"><span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"ab+c"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="String-prototype-match"><a href="#String-prototype-match" class="headerlink" title="String.prototype.match()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match" target="_blank" rel="noopener">String.prototype.match()</a></h3><blockquote><p>當一個字符串與一個正則表達式匹配時，  match()方法檢索匹配項。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="String-prototype-replace"><a href="#String-prototype-replace" class="headerlink" title="String.prototype.replace()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/String/replace" target="_blank" rel="noopener">String.prototype.replace()</a></h3><blockquote><p>replace() 方法會傳回一個新字串，此新字串是透過將原字串與 pattern 比對，以 replacement 取代吻合處而生成。pattern 可以是字串或 RegExp，而 replacement 可以是字串或函式（會在每一次匹配時被呼叫）。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/String/replace" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="Body-json"><a href="#Body-json" class="headerlink" title="Body.json()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Body/json" target="_blank" rel="noopener">Body.json()</a></h3><blockquote><p>The json() method of the Body mixin takes a Response stream and reads it to completion. It returns a promise that resolves with the result of parsing the body text as JSON.</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/API/Body/json" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h3 id="outline"><a href="#outline" class="headerlink" title="outline"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/outline" target="_blank" rel="noopener">outline</a></h3><blockquote><p>CSS的outline屬性是用來設置一個或多個單獨的輪廓屬性的簡寫屬性  ，例如  outline-style, outline-width 和 outline-color。多數情況下，簡寫屬性更加可取和便捷。</p>
<p>輪廓與邊框在以下幾個方面存在不同：</p>
<ul>
<li>輪廓不佔據空間，它們被描繪於內容之上</li>
<li>輪廓可以是非矩形的。在 Gecko / Firefox 中，輪廓是矩形的，但是 Opera 則會圍繞元素結構繪製非矩形的形狀</li>
</ul>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/outline" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/outline" target="_blank" rel="noopener">outline</a> 不佔據空間，它們被描繪於內容之上</li>
</ul>
<h3 id="list-style"><a href="#list-style" class="headerlink" title="list-style"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/list-style" target="_blank" rel="noopener">list-style</a></h3><p>列表的樣式設定。</p>
<blockquote><p>CSS list-style 屬性是設置 list-style-type, list-style-image 和 list-style-position 的簡寫屬性。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/list-style" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>Axios 在 IE11 的調整</title>
    <url>/2017/12/20/axios-in-IE11/</url>
    <content><![CDATA[<p>近來都是使用 <a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios</a> 來操作 XMLHttpRequests ，<a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios</a> 操作 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener">Promise</a> 相當便利，只是最近有個需求說需要相容至 IE11，按照官方上的說明，相容性相當高<br><img src="https://camo.githubusercontent.com/626c46cfd86214001b4143cda5d0ef27a25bd69f/68747470733a2f2f73617563656c6162732e636f6d2f6f70656e5f73617563652f6275696c645f6d61747269782f6178696f732e737667" alt="Browser Support"></p>
<a id="more"></a> 

<p>但是按照官方提供的 cdn 使用後，發現在 IE11 出現了以下錯誤</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">'Promise'</span> is <span class="literal">undefined</span>.</span><br></pre></td></tr></table></figure>

<p>查看 Github Issue 中的資料，找到一則<a href="https://github.com/axios/axios/issues/135" target="_blank" rel="noopener">討論</a>，說明了要使用 promise 可以引用 <a href="https://github.com/stefanpenner/es6-promise" target="_blank" rel="noopener">es6-promise</a></p>
<p>使用方式很簡易，只要在原本引用 <a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios</a> 的 CDN 之前，引用 <a href="https://github.com/stefanpenner/es6-promise" target="_blank" rel="noopener">es6-promise</a> 即可，如以下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/axios/dist/axios.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://github.com/axios/axios/blob/master/UPGRADE_GUIDE.md#es6-promise-polyfill" target="_blank" rel="noopener">Upgrade Guide</a></li>
<li><a href="https://github.com/axios/axios/issues/135" target="_blank" rel="noopener">Github Issue 討論</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>IE</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 05-Flex Panel Gallery</title>
    <url>/2017/12/18/Javascript30days-5/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>運用 flex 製作一個動畫展開圖片的效果</p>
<p><img src="https://lh3.googleusercontent.com/nlk-ImLuqBvRteoXnA5bRG2S05FxMaBCZraEcbygVpU1ClP7nj4LCUNcBlxRFMjCPvlEO2cbsWUtK2KMHZOK8Q5yFgHWrDSsxOAdgTe4HM5rhKMnjvFnuxF3PBCUFqVdCn_EKpMyvL5jbzd6ITMJUmDlMQ1OWOXmAL6evlhF1luDL6bsa4SP24dOrOqE6KgVtUZvXb3Nzw4s8_Evp_gYe-PVm7uvSYlog9H64Nuhjq7VrKfw4dMYXSJwQN8OhHIQZwo-6r1tR63VMHgKpvfDCtMei1QXGdZ0s2ld79_p7bmwHJGAU9rd_zZjajbgJnRK22RxOIh1YvJdxIh4EReUy1Wsfatd1xGDAQNaPgaM5GPD8NzDSLX9IohbmZNJjanovdAKsnoCG0oLVMIYGnT2yTHMuD96LDt9XGL6WNeHx9axbsGWlG_52BCAg24noUo9QHIi89HpcktIns5T8tr72sycooH2iDXyCNzBtIjaXsnkhGBD9BNg5RTTkGIqkM1-G5LwydtCDgHksSrEaDINPgZRpz1PQ-_Ekwv7dbmOsVRTAFA3r_tLpnrmGST3bSoKzfdwOwaLuzMM7OUun_A9EWwGpoULCDQx2qd8GuPRVrvJkAyOJBXxfkYXmqNUUoFriP7SMqTP_SJIrrQhcXbf-GP3yJgkAT6MBLc=w600-h438-no" alt="flex panel gallery"></p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_05/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>一開始的範本頁面如下<br><img src="https://lh3.googleusercontent.com/kVlLSngaKKRXzyo8v6wQRGZAxOIaQjEZsvFQs5ncNIGKP1AloyJuZT_gMlOSijKFcozXJnYfgalB_Po2kUqcZTjHwDaqdC3wAOO2yBchzqp5SXh4ADE7EC5AAkolhe--kPU8OX1xPrnTugJ903FpzDphJfAKMDAyc8co8JUmmTpbLVKJ_crJ5yG95r0t27TpWkivsAbbY1nZFXR8F-t0TmdND3LZJKrFyt8vr6IOrQ33k0t3wmQMVWnfN9HRaCUUZ4v7dzLE6T3Pk3gSxCVx9ySCLvB_cQr5WgaxsIrafYfkNkrW6WgutH6lr1ZMjENwQcEFfhcGcPn9AfDLw0dz3LjO-CdP7IYFdvZk8i4JEB0DdVAfXy8lC5-mijIH48CxkTnvamHzZmxw1OvKssCr7ZdMgldCVD0tNGnuzP52xwWgaanR_AWgRJyKdfLNWXbJoyxwFt8yH6zKff2F0Mgkr14gsndpWOoropT_uqwaVSJL_TvgxjtRtJ3KSfsMeEZhGCM8GkQHrGm96T7DdTyVCdvvSVyLnu3kjl4GgA4cr5BOKejvbYffk1c-RzdLPx60Sf_NCx3pMNHVCx94tPTuSBeCOioLPfjWLCoritsSIiB6gEmWUfUkXovlRAlBjVc4Uz2HcBBYHDY4MiPFSozpOO_M6bX0ibvbzJw=w362-h262-no" alt="origin page"></p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1"></a>步驟 1</h2><ul>
<li>先調整 <code>panels</code> 的 css ，將 display 設定為 flex 配置，此 <code>panels</code> 即為 <strong>Flex container</strong><br><img src="https://lh3.googleusercontent.com/V7JEldG8Y073ew21EBHiFRH5qWjC65a_S3i6vp934BO-pJkjs5mPUfbeGSfS_ETjI81T2aGUpClJybUrwglqgw_mgqh6vB106LO8GtQC_F-M9QohY30lDkZLL9kvz780kc-7RHhEkM_MCjDdnNzo2Y1dVHMmP31__wOixLGc2PphDYW93UQbjSA46thErZ9EBolc9Hlx0edi0gziigELc2p6R8dxiBVaCif2i1u7s9WDBRxw-Ig1NtqpwWYgKx7vQKjSoRXb9TU_2uzk1dnfWrOiquaJM74vCsI4jyagudeeWvjj3nVVKMVB4T8TjeM_APDBC2ESn8QX-begfHc8jY3x_1jGsBAMDnJVQ9PdsQtMYxsE_E5jAaV8u_1DOr72Yi2cuNhUDwOe02yF28YU5_WdlS2ZQm3EpMang3iJlfHaXWFZS0LU3Emmv3-W9nNSK51_j_jXkuLg8l-scE-HicjYviFaufkqMI6QzEvaO1Hq7sRKS5OVWj1CMN88NsHV_LLa5cGPWuQDpkrzp0-bBDm-mpZVkN9MlDQY2ZnOSVKwGdvRZgW3MGPcUNBEL_xM7Zak4G8YZfswB_S6ohPpMRpE2SCIiJIcagA3pvy-X1qnPJqCqpSK5GvrXxCWuTh49wQZ8g6ajWSYyS9p26vW0iYAObFUWpqUmrw=w751-h556-no" alt="panels Flex container"></li>
<li>設定 <code>panel</code> 的 <strong>flex</strong> ，將 <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/flex" target="_blank" rel="noopener">flex</a> 設定為 1 ，設定一個數字為 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-grow" target="_blank" rel="noopener">flex-grow</a> ，此為容器中空間的指定占比<br><img src="https://lh3.googleusercontent.com/AgYSxeo3OXKyxRmFAcAQ95GZ1xah98s-CGkmXUAnbIUnv8CaJxgeo4K_kwe7VznQt_iTXIbMskPazz-9USZTko1kvGAlOGR7-kAjQKFyVZTDv4WQbstR5pA7-59lwwPHGDXI6FLcOnS1B4ifFsiwqmgGfWzoB_T_4EOVC6AxtKg5RDIvuaQhhzDpLb7ebO-7-y6oH9BMKIzB0yQ3OCY7nplKPfVEaOKGLiT2EUVgFidKdKjUlosiEPHsNHYa95D3Cq7Ox9hDWOHDUurSRJ2br2nDrdWPTEpwFdSzKx9t5ykuAyV0kwEphXfi7xKyUSOeXRb4aoD9ntbLVH2WBghdNGK8_B-3uW1V60cH2wSAz41P0dGoMNLZ8EXJe0V2ron0E9VimFgpyfIfYdQYlykB5xovhr2Vz_d6rrFbS2Qkw9ff7jm_JJZ4ZU6AkhlnasiGLCB-HRMaA9oxUKkUymcbG25EsxnAGrUYK1dYatWtaiaQHM3RYM8toDroWP1ijp-NKXsN0WYxRSQvtjWwZpUJ_ln-7-v3sVUrZSgXtXJuHSddFTbwCfVkrzIIz_MePRMDBKOIOz7xQsP3CMszXIWYfqSEX1zruTwp1K4rtfmPfscRZhg3HRDXfGExe02ns3lLNijOS8Bk8dTWwsJCyvkhx1BZ_yp0F2ua378=w751-h556-no" alt="panel flex"></li>
</ul>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2"></a>步驟 2</h2><p>上一步驟將各個 <code>panel</code> 當作 <strong>Flex item</strong> ，這一步驟中，將設定巢狀 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes" target="_blank" rel="noopener">Flexible box</a> ，並讓元素顯示置中</p>
<ul>
<li>將 <code>panel</code> 的 display 設定 flex ，讓 <code>panel</code> 當作新的 <strong>Flex container</strong> ，將 <code>panel</code> 裡面的文字項目元素變成新的 <strong>Flex item</strong></li>
<li>設定 <code>.panel &gt; *</code> 此 <strong>Flex item</strong> 的 flex 為 <code>flex: 1 0 auto;</code><br><img src="https://lh3.googleusercontent.com/TblusiXmo_VL-QQyMh28K1InLFysNbspeej7fo-bHpFkN8N6OjiBdo8yzjamRuzpNnaahIX7t5yQQMzFFeZnfw4ba6DLIELi8X8akJroPZGkiosSAO_0ap-HcmQ9xJPTw3zockqAV4B-_35DBcZKWNt0-DY8FSPM7BmZ-tsYF-7u5ZyV1jj-3hZ3atsRWQvruI6PDnbEYrqPOgRGS8eM3gcv-gbZFDO22c2XPW-zeR8V3w4QpjpRquMSm5rxj52Lg1qx8FNJ5VHgwLcQRuMAlsdrIcgXbRW5Kn99Wm9FMZQjLRn2ZMd00KGfuRgl1xDv62eKly6Sm6X43ZJMye8fHzQqCjQmIjl8yHKrTi6kHM7EGG60t1A62mVH_AD6TAGNsJmyPHd3FUvJ55_ZjK_bCUMSQRFMPPFYaoi1z4PG0bc-U88_db99t8MWDFY7zZuiWjOkgTi0YEgvBgcoSpjWNaEp2lxpuQ3RkazGxhvQQwwR9-rje1ngdZAPPFSjyioL7AVQVQnhdWMnVYlsSNB3eUzdaDet77zlTfbvFULGNR_SyoB7GvAMKvYC4KOehmAyBBwizxfSRZKa0UiaKFziANE3gdT8p22RldAz3aa1KqMQZC8FlVkHrQJoqLdoW18K84HGtMWXrB4DfT41CkUuyaJBGcQ42FFM8Z0=w751-h568-no" alt="chil flex container"></li>
<li>設定 <code>justify-content: center;</code> 將文字重新置中<br><img src="https://lh3.googleusercontent.com/GlteKiAaSaOAxfz9ycfmWgsb9ilTPbGIwL2wRZR_Az5yROR5pOvwZdttPa5203xuo_wgaP1egXY774RcKAuk8bm-SADiIi3ovUcguNTrEnl-TolzIfU3YBxcuxzF0EYdgmMArTcDe_9byinEF0RGqYjLYH3q0G_6UJU8s-_9jsLKPMKufVxhwaxiXRaE9AfNRK46AnsI5s-JMPqvyHAbPryjA8riMpj2v8olcFJHh_wKcADY-vypYERLvCVN50Xz3Cl75n5G7ZzrynshLP-GFg1dKRLVhRclZrFZ9_oYp490905h3t4TF9dWH9k1eSC6f9r4gfntvFmhSxjTm3v4qegzc4sgC-cHFzPUdVRWvk18VqbkTth3NHTzGHo2d_g_zH9trvHxqDaU28P4naOEwF4Ku6qj8MF3PqFTpJTJxcH7l98o5-_MUc7Z5INosLceohgusdow7WmuJ4laEWTajype-cQzGuhFSVzlc7mI4_w33ns3nzmal8NVhtIbyXWl04tVDcU9RJDWTPuH8jvBvWSzR6UWpA3vfrMmaiJYDqezAUixHgCr_sgCKdeiyKFOmw-VxLCmBWlqwCPiKq1eovlGlVswpoY8dEBEERsamAncfJK_nJRxBfty66iUP28mGMrK5VKl31t7w-o5Moc5mOcuTxyni7IAljY=w751-h568-no" alt="justify-content"></li>
<li>設定 <code>flex-direction: column;</code> 讓文字排列按照 column 調整<br><img src="https://lh3.googleusercontent.com/UEE_kFtH_N4G7_OGmxHOeqiYs83EsbtdBZK5tlbaKeWhYbMmrgXe4aWkTNQDm8AzMiuSmCg_Qhu1Hy6o56HletG9nxBbqgISa4g-jOdd9bBWhWLJzGYUUqnCCFjm9d42uxqddqfd9DRa_eJQo4n2fkd2RTI2_XMs7zBMw6F_GMhJrO8qO2auYuMyhshhKYbFrgtqTpg-UKogiJ0YDL0jvRqLg1fbntFvPLoZEvDE6RRj5CqJt6YpbsifQQQzex-acR-SIF9NazOjvd9-IZusvUdFfPljq4B4JYbrd30OCfTJxGGxDUFL2RHhenOm2sLjQG9XBuQSM8Ta7BNOAc0fMA-So3DX3ep4ZvaWgcsOF1etDglGva1bjkQTHZRpAUPed-gt_wO3BHJaCOBJjzOM09Kl7aF1VU-F2BYFWU-bSbswLJJCHLAtgUbp5ScGR9cVRta9IaZofGLiUKq2zTmhK179ZPjMkmS8tRVoTEgJnYq_VhFfHANGKPoc6uANvDtAwse_j-cb63EO_k9j6LhD8_nMje2YZmGRPKWAKwoGvkIM0I3HU1T1N7B5Vf0XyXzIaq92XhPGMhNU3ma5Yi7w_d8muENER8g8M-biD6MtCm5nFYjHfFGDDtFntDgRC9yVU1hkQiCWJkxRCVxuPW_h3mrdEU7D1L2ONQ0=w751-h568-no" alt="flex-direction"></li>
<li>在 <code>.panel &gt; *</code> 設定 display 為 flex ，並加上 <code>justify-content: center;</code> 與 <code>flex-direction: column;</code> ，此設定是為了文字調整置中<br><img src="https://lh3.googleusercontent.com/OajHzNLeN5FQnY1o6t9CGhzUOZyiEIqPMNYCxgzsX71gmF1K-fzEq7dGioqnTpwO_NnA6Fq4tFZLQW9ajA-eOJ-e-M8mqTRQ6IJWwArwdmZUl1F8vRk9HoOzSqEulqR1nbciXcr42yyCVJbkIJuQfRu8yqYgoCkshf-dFBni2-nFlKvp69J_9fX0KY_MVdeT8iIN3A-aZqEkhz-fHFl9jL8XLX6TnwlRsrRPMTv1wXRCliIwjUBOToRy-z2a6VDkF-LVeEzDfufKs0T3vS57wUnJnqqX_Ez8uF-ieXRQbpbVU59J9hHUzfMsXU-CfUIlnTd4wsxsafqVhvy5AS4pe7ultVD0aY0YsQECaXFcqa0akGNJZ5z5JI9YCpTPsEhJC-RDvr77_ClmPmVLKyPEN-8zoRnGNGuA3McVgav_OAAmNng4a0KjlQ3fSs6BVz_nu0FluxDEpxfMiPf8GftJihcIUt-2NNkbUvT_3Ykh4pAqnlBvpCtSHlphg-CUwCh5bA0WSxGCh89NAZ6EAbzUB6xNsfsK2Yhrx7Ike4t79xiX6W61DYJYV7OgYtjalz0JkwaE9oxoyy5HYcUEfLyRqV191PUNvXVGQNh3r1qPFaCwfU0g7DmxIwbUMPX8kHMkoBXZ2rkAB7vH6_oatmriiRPdaTl6-PpJHg0=w751-h568-no" alt="text align"></li>
</ul>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3"></a>步驟 3</h2><ul>
<li>先調整 <code>.panel.open</code> 的樣式，添加 flex 的占比調整</li>
<li>針對文字 tag 的部分，設定 <code>:first-child</code> 與 <code>:last-child</code> 的樣式特效隱藏</li>
<li>加入選取特效 css <code>.panel.open-active</code></li>
</ul>
<h2 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4"></a>步驟 4</h2><p>此部分開始 JS 撰寫</p>
<ul>
<li>取得所有 <code>.panel</code> DOM</li>
<li>建立 <strong>toggleOpen</strong> function ，並將上述的 DOM 綁定 click 事件</li>
<li>建立 <strong>toggleActive</strong> function ，並將上述的 DOM 綁定 transitionend 事件</li>
</ul>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="DOMTokenList"><a href="#DOMTokenList" class="headerlink" title="DOMTokenList"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/DOMTokenList" target="_blank" rel="noopener">DOMTokenList</a></h3><blockquote><p><code>DOMTokenList</code> 介面表示了一個以空格作為分隔的內容集，通常來自 <code>Element.classList</code>、<code>HTMLLinkElement.relList</code>、<code>HTMLAnchorElement.relList</code> 或 <code>HTMLAreaElement.relList</code> 等屬性。本介面與 <code>Array</code> 同樣是由 0 開始索引，且 <code>DOMTokenList</code> 是區分大小寫的。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/DOMTokenList" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="DOMTokenList-toggle"><a href="#DOMTokenList-toggle" class="headerlink" title="DOMTokenList.toggle()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/toggle" target="_blank" rel="noopener">DOMTokenList.toggle()</a></h3><blockquote><p>The toggle() method of the DOMTokenList interface removes a given token from the list and returns false. If token doesn’t exist it’s added and the function returns true.</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/toggle" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/flex" target="_blank" rel="noopener">flex</a></h3><blockquote><p>CSS 屬性 <code>flex</code> 規定了彈性元素如何伸長或縮短以適應 flex 容器中的可用空間。這是一個簡寫屬性，可以同時設置 <code>flex-grow</code> , <code>flex-shrink</code> 與 <code>flex-basis</code></p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/flex" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Basic values */</span></span><br><span class="line"><span class="selector-tag">flex</span>: <span class="selector-tag">auto</span>;</span><br><span class="line"><span class="selector-tag">flex</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">flex</span>: <span class="selector-tag">none</span>;</span><br><span class="line"><span class="selector-tag">flex</span>: 2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* One value, unitless number: flex-grow */</span></span><br><span class="line"><span class="selector-tag">flex</span>: 2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* One value, width/height: flex-basis */</span></span><br><span class="line"><span class="selector-tag">flex</span>: 10<span class="selector-tag">em</span>;</span><br><span class="line"><span class="selector-tag">flex</span>: 30<span class="selector-tag">px</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Two values: flex-grow | flex-basis */</span></span><br><span class="line"><span class="selector-tag">flex</span>: 1 30<span class="selector-tag">px</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Two values: flex-grow | flex-shrink */</span></span><br><span class="line"><span class="selector-tag">flex</span>: 2 2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Three values: flex-grow | flex-shrink | flex-basis */</span></span><br><span class="line"><span class="selector-tag">flex</span>: 2 2 10%;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">flex</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">flex</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">flex</span>: <span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Using-CSS-Flexible-Boxes"><a href="#Using-CSS-Flexible-Boxes" class="headerlink" title="Using CSS Flexible Boxes"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes" target="_blank" rel="noopener">Using CSS Flexible Boxes</a></h3><blockquote><p>CSS3 彈性盒子，又稱 <strong>flexbox</strong> ，是為了適應不同螢幕尺寸和顯示設備而生的佈局模式。針對許多應用而言，不用 floats 的彈性盒子模型會比塊狀模型（block model）易用，彈性容器的邊緣也不會與內容的邊緣重疊。</p>
<p>多數設計師會發現 flexbox 用起來比 box 簡單得多。像是不多注意 <code>div</code> 的話，它就會經常違反設計師意願地，跑到頁頂去──令 footer 附著在頁底，也因此變得很棘手。flexbox 的寬高能改變以適應顯示空間，將較低的元件固定住。Flexbox 邏輯也能讓你確實令 <code>div</code> 壓在頁面的右方或底部。Flexbox 元素的顯示順序，與原始碼的顯示順序相互獨立。</p>
<p>一些時髦的佈局，也能因而透過更簡潔的程式碼完成。這種有意的獨立性只影響視覺渲染，基於 HTML 原始碼的語意順序及瀏覽不會受到影響。</p>
<hr>
<h1 id="彈性盒子的概念Edit"><a href="#彈性盒子的概念Edit" class="headerlink" title="彈性盒子的概念Edit"></a>彈性盒子的概念Edit</h1><p>Flex 排版的大致定義，是能更改該項目的長與（或）高，以便貼合任何顯示設備的空間。Flex container 能針對該元件擴張以便填補可用的空間、或收縮以便阻止空間溢出。</p>
<p>塊狀佈局（Block layout）以垂直方向為準、行內佈局（Inline layout）以水平方向為準、而彈性佈局（Flexbox layout）則同時允許這兩種。塊狀佈局雖適於頁面顯示，但在程式元件（application component）需要在用戶代理（user agent）變更、手機從垂直方向翻轉到水平方向……等變更定位、大小、拉伸、收縮的情形下，這種佈局就很難用了。彈性盒子佈局長於小規模佈局、而剛剛流行的格線佈局（Grid layout）則長於大規模佈局。二者皆為 CSS 工作小組為在不同用戶代理、書寫模式、和其他要求下的 Web 應用程式，提供良好互通性的一部分。</p>
<hr>
<h1 id="彈性盒子的字彙"><a href="#彈性盒子的字彙" class="headerlink" title="彈性盒子的字彙"></a>彈性盒子的字彙</h1><p>在彈性盒子的世界，我們不會稱水平（inline）或垂直（block），而是主軸（main axis）與切軸（cross axis）。如果 flex-direction 是 column，主軸就會充當垂直、而切軸則充當水平。請參考下面的圖，它展示了一個彈性容器，裡面的 row 有 flex-direction，意味著該彈性項目會基於主軸，作水平排列。<br><img src="https://developer.mozilla.org/files/3739/flex_terms.png" alt="flexible_box"></p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction" target="_blank" rel="noopener">flex-direction</a></h3><blockquote><p>CSS <code>flex-direction</code> 屬性指定了內部元素是如何在flex容器中佈局的，定義了主軸的方向(正方向或反方向)。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* The direction text is laid out in a line */</span></span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">row</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Like &lt;row&gt;, but reversed */</span></span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">row-reverse</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* The direction in which lines of text are stacked */</span></span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">column</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Like &lt;column&gt;, but reversed */</span></span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">column-reverse</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure>

<h3 id="before-before"><a href="#before-before" class="headerlink" title="::before (:before)"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::before" target="_blank" rel="noopener">::before (:before)</a></h3><blockquote><p><code>::before</code> 會為當前元素創建一個子元素作為偽元素。常通過 content 屬性來為一個元素添加修飾性的內容。此元素默認為行內元素。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::before" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* CSS3語法*/</span></span><br><span class="line">element::before &#123; 樣式 &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* （單冒號）CSS2過時語法(僅用來支持IE8) */</span></span><br><span class="line">element:before &#123; 樣式 &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*在每一個p元素前插入內容*/</span></span><br><span class="line"><span class="selector-tag">p</span> <span class="selector-pseudo">::before</span> &#123; <span class="attribute">content</span>: <span class="string">"Hello world!"</span>; &#125;</span><br></pre></td></tr></table></figure>

<h3 id="after-after"><a href="#after-after" class="headerlink" title="::after (:after)"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::after" target="_blank" rel="noopener">::after (:after)</a></h3><blockquote><p>CSS 偽元素 <code>::after</code> 用來創建一個偽元素，做為已選中元素的最後一個子元素。通常會配合 content 屬性來為該元素添加裝飾內容。這個虛擬元素默認是行內元素。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::after" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight"><table><tr><td class="code"><pre><span class="line">element:after  &#123; style properties &#125;  /* CSS2 syntax */</span><br><span class="line"></span><br><span class="line">element::after &#123; style properties &#125;  /* CSS3 syntax */</span><br></pre></td></tr></table></figure>

<h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content" target="_blank" rel="noopener">justify-content</a></h3><blockquote><p>CSS <code>justify-content</code> 屬性定義了瀏覽器如何分配順著父容器主軸的彈性元素之間及其周圍的空間</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Positional alignment */</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">center</span>;     <span class="comment">/*居中排列*/</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">start</span>;      <span class="comment">/* Pack items from the start */</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">end</span>;        <span class="comment">/* Pack items from the end */</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">flex-start</span>; <span class="comment">/*從行首起始位置開始排列*/</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">flex-end</span>;   <span class="comment">/*從行尾位置開始排列*/</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">left</span>;       <span class="comment">/* Pack items from the left */</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">right</span>;      <span class="comment">/* Pack items from the right */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Baseline alignment */</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">baseline</span>;</span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">first</span> <span class="selector-tag">baseline</span>;</span><br><span class="line"><span class="selector-tag">justify-content</span> : <span class="selector-tag">last</span> <span class="selector-tag">baseline</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Distributed alignment */</span></span><br><span class="line"><span class="comment">/*均勻排列每個元素首個元素放置於起點，末尾元素放置於終點*/</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">space-between</span>;</span><br><span class="line"><span class="comment">/*均勻排列每個元素每個元素周圍分配相同的空間*/</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">space-around</span>;</span><br><span class="line"><span class="comment">/*均勻排列每個元素每個元素之間的間隔相等*/</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">space-evenly</span>;</span><br><span class="line"><span class="comment">/* Distribute items evenly Stretch 'auto'-sized items to fit容器 */</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">stretch</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Overflow alignment */</span></span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">safe</span> <span class="selector-tag">center</span>;</span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">unsafe</span> <span class="selector-tag">center</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">justify-content</span>：<span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">justify-content</span>：<span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">justify-content</span>：<span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure>

<h3 id="translateY"><a href="#translateY" class="headerlink" title="translateY()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translateY" target="_blank" rel="noopener">translateY()</a></h3><blockquote><p><code>translateY()</code> 函數表示在頁面垂直移動元素.這個 transformation 具有特徵的就是通過 <code>&lt;length&gt;</code> 定義了元素垂直移動了多少<br>translateY(ty) 是 translate(0, ty) 的一種簡寫方式</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translateY" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.transformed</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">10px</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 07-Array Cardio</title>
    <url>/2017/12/21/Javascript30days-7/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>練習陣列操作，主要熟練 some、 every、 find、 findIndex、 slice 這幾個陣列操作語法，需要直接搭配 console 來觀看。</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_07/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>操作 people 陣列，利用 <code>some</code> 與 <code>every</code> 檢查是否符合大於等於 19 歲的元素。</p>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>操作 comment 陣列, <code>find</code> 類似 <code>filter</code> ，只是 <code>find</code> 只會回傳一個找尋到的元素。<br>而 <code>findIndex</code> 會回傳找到元素的索引。</p>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>針對 comment 刪除指定元素，因為此次指定使用 <code>slice</code> ，不然可以採用 <code>splice</code> 更好處理。</p>
<ul>
<li>建立一個新陣列</li>
<li>利用 slice 取出陣列</li>
<li>利用 <code>...</code> 語法糖連結陣列</li>
</ul>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Array-prototype-some"><a href="#Array-prototype-some" class="headerlink" title="Array.prototype.some()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/some" target="_blank" rel="noopener">Array.prototype.some()</a></h3><blockquote><p>The <code>some()</code> method tests whether at least one element in the array passes the test implemented by the provided function.</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/some" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<ul>
<li>用來判斷是否有元素符合所設定的條件</li>
<li>只會回傳 <code>true</code> 或 <code>false</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">4</span>].some(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">10</span>);  <span class="comment">// false</span></span><br><span class="line">[<span class="number">12</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">4</span>].some(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">10</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-every"><a href="#Array-prototype-every" class="headerlink" title="Array.prototype.every()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/every" target="_blank" rel="noopener">Array.prototype.every()</a></h3><blockquote>
<p><code>every()</code> 方法會使用傳入的回呼函示來測試所有在陣列中的元素<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/every" target="_blank" rel="noopener"><em>MDN</em></a></p>
</blockquote>
<ul>
<li>陣列中的所有元素，都必須符合設定的條件</li>
<li>全部符合條件回傳 <code>true</code> ，只要有一元素不符合就回傳 <code>false</code> </li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">12</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">130</span>, <span class="number">44</span>].every(<span class="function"><span class="params">x</span> =&gt;</span> x &gt;= <span class="number">10</span>); <span class="comment">// false</span></span><br><span class="line">[<span class="number">12</span>, <span class="number">54</span>, <span class="number">18</span>, <span class="number">130</span>, <span class="number">44</span>].every(<span class="function"><span class="params">x</span> =&gt;</span> x &gt;= <span class="number">10</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-find"><a href="#Array-prototype-find" class="headerlink" title="Array.prototype.find()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/find" target="_blank" rel="noopener">Array.prototype.find()</a></h3><blockquote><p><code>find()</code> 方法，如果一個在陣列中的元素滿足提供的測試函數，則返回一個在陣列中的值。否則回傳 <strong>undefined</strong></p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/find" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="Array-prototype-findIndex"><a href="#Array-prototype-findIndex" class="headerlink" title="Array.prototype.findIndex()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" target="_blank" rel="noopener">Array.prototype.findIndex()</a></h3><blockquote><p><code>findIndex()</code> 方法將依據提供的測試函式，尋找陣列中符合的元素，並返回其 <strong>index</strong> （鍵值）。如果沒有符合的對象，將返回 -1 。</p>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<h3 id="Array-prototype-slice"><a href="#Array-prototype-slice" class="headerlink" title="Array.prototype.slice()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="noopener">Array.prototype.slice()</a></h3><blockquote><p>The <code>slice()</code> method returns a shallow copy of a portion of an array into a new array object selected from <code>begin</code> to <code>end</code> (<code>end</code> not included). The original array will not be modified.</p>
<h1 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h1><blockquote>
<p>arr.slice([begin[, end]])</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> animals = [<span class="string">'ant'</span>, <span class="string">'bison'</span>, <span class="string">'camel'</span>, <span class="string">'duck'</span>, <span class="string">'elephant'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["camel", "duck", "elephant"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>, <span class="number">4</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["camel", "duck"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">1</span>, <span class="number">5</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["bison", "camel", "duck", "elephant"]</span></span><br></pre></td></tr></table></figure>
<footer><strong>資料來源</strong><cite><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="noopener">MDN</a></cite></footer></blockquote>

<ul>
<li>取得陣列中指定區段的元素，將回傳新的陣列</li>
<li>語法中 begin 與 end 參數表示陣列元素的索引，都是從 0 開始</li>
<li>回傳的陣列，會依照 end 參數的前一位，也就是 end 參數指定的元素是不會回傳的</li>
</ul>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 08-Fun With HTML5 Canvas</title>
    <url>/2017/12/25/Javascript30days-8/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p><img src="https://lh3.googleusercontent.com/32bcpeeyeEw09veI7zDwBK-69zcoIgv6BkvbBsDp0Bs4yJd63ArmxJvkLE_4CABteEO37ix4OhyGwRF34qGrrxZFpz83YSbWS4pAXP57_BrM8DPJVp_S8fUvN-WXhythDZRHnYpmVvNzKZVUPHlsuPQoo13_4a2TwRetcTjMnA-9JYfcAKK7qfJo4W2cWNjMwQ4ODuLV1A_MCFgN11-tozJK1qnPmTRyF84-Knutq4mNVbbO4v1zqcze1C1BiMKd_mDXEj08az4gQq7lxtNEAu1GqT14fjT-oyNV9qtWYW8huUc4_Vw4el3ksRJ45FUmTuHp3PwS_vFn_-Yq9GXwF1Gy_5dNd34uDhvVP35_Xgu8Dl4CKc9PEkAiBy4vfxu1cNo0_wEc25HVT8DfBCDfAv7oRW4Ma68n6uteBbbp5ZczT0rGwy7HzUdq8cZur__8g1wyVwOZE6weahT4csnhYaNGzhWwFvoCFI_-XExy_Zf7ml8ZlLS432DYzSysZ2ZNPYj0IOhhFvi-v78QSxIM_MLS9nbflRAOpx59AMFMCYErsColQxsQMKdUN6o1pOmcz1N1Q2d5gkhyn5DU7NnFoiJZ8k1OsMofOGUfN_3Vj0G7-PB8JOTeSB75BthWXGAMJax47fT1LSx-tQGkq0vYC87ODGahngF6=w500-h364-no" alt="target"><br>利用 Canvas 製作一個滿版的畫布，並讓畫筆隨著移動變動粗細與顏色。</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_08/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>取得 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Canvas_API/Tutorial" target="_blank" rel="noopener">canvas</a> DOM ，並將該 DOM 設定為 window 的大小，與畫筆的初始樣式設定。</p>
<ul>
<li>取得 canvas 的 context</li>
<li>設定 strokeStyle 畫筆顏色</li>
<li>設定線條連結樣式 <code>lineJoin</code></li>
<li>設定線條兩端端點樣式 <code>lineCap</code></li>
<li>設定線條寬度 <code>lineWidth</code></li>
</ul>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><ul>
<li>設定滑鼠 <code>mousedown</code> 時，取得目前滑鼠位置為繪製起始點</li>
<li>設定滑鼠 <code>mousemove</code> 時，設定繪製路徑</li>
<li>設定滑鼠 <code>mouseup</code> 時，才開始繪製</li>
</ul>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>修正上一步驟的繪製過程，讓線條在滑鼠移動時也跟著繪製，因此建立 <strong>isDrawing</strong> flag 標註現在是否繪製，另外建立標註現在起始點的變數。</p>
<ul>
<li>添加 <strong>isDrawing</strong> 變數，標註現在是否繪製</li>
<li>添加 <strong>startPoint</strong> 變數，設定起始</li>
</ul>
<h2 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4."></a>步驟 4.</h2><p>增加畫筆變色與樣式變換</p>
<ul>
<li>修正 <strong>startPoint</strong> 變數為 X,Y 分開變數</li>
<li>增加 <strong>hue</strong> 與 <strong>direction</strong> 變數</li>
<li>利用 <strong>hue</strong> 變換畫筆顏色</li>
<li>利用 <strong>direction</strong> 變化畫筆粗細</li>
<li>增加 <strong>mouseout</strong> 事件，當滑鼠移出畫布時，此次作畫結束</li>
</ul>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Canvas-教學文件"><a href="#Canvas-教學文件" class="headerlink" title="Canvas 教學文件"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Canvas_API/Tutorial" target="_blank" rel="noopener">Canvas 教學文件</a></h3><p><strong>Canvas</strong> 有許多地方可以深入探討，因應此篇課題，就不多談，不過 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Canvas_API/Tutorial" target="_blank" rel="noopener"><em>MDN</em></a> 提供了不錯的教學文件，因此這邊特地列上來。</p>
<div class="note info"><p><code>&lt;canvas&gt;</code> 是一個 HTML 元素，我們可以利用程式腳本在這個元素上繪圖（通常是用 JavaScript）。除了繪圖，我們還可以合成圖片或做一些簡單（或是不那麼簡單）的動畫。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Canvas_API/Tutorial" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="Canvas-API"><a href="#Canvas-API" class="headerlink" title="Canvas API"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Canvas_API" target="_blank" rel="noopener">Canvas API</a></h3><div class="note info"><p><code>&lt;canvas&gt;</code> 是 HTML5 的新元素，可透過 Script（通常是 JavaScript）繪製圖形。例如，可以用來繪圖、合成圖照片、建立動畫、甚至處理即時的影片播放。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Canvas_API" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="CanvasRenderingContext2D-beginPath"><a href="#CanvasRenderingContext2D-beginPath" class="headerlink" title="CanvasRenderingContext2D.beginPath()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/beginPath" target="_blank" rel="noopener">CanvasRenderingContext2D.beginPath()</a></h3><div class="note info"><p>是 <strong>Canvas 2D API</strong> 通過清空子路徑列表開始一個新路徑的方法。當你想創建一個新的路徑時，調用此方法。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/beginPath" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>畫線段時，使用此方法，表示以下開始繪製新的線段。</p>
<h3 id="OffscreenCanvas-getContext"><a href="#OffscreenCanvas-getContext" class="headerlink" title="OffscreenCanvas.getContext()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas/getContext" target="_blank" rel="noopener">OffscreenCanvas.getContext()</a></h3><p>取得 canvas 的畫布內容，必須指定內容類型，有 <strong>2d</strong> 、 <strong>webgl</strong> 、 <strong>webgl2</strong> 、 <strong>bitmaprenderer</strong> 幾種。</p>
<h3 id="CanvasRenderingContext2D-strokeStyle"><a href="#CanvasRenderingContext2D-strokeStyle" class="headerlink" title="CanvasRenderingContext2D.strokeStyle"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/strokeStyle" target="_blank" rel="noopener">CanvasRenderingContext2D.strokeStyle</a></h3><div class="note info"><p><code>CanvasRenderingContext2D.strokeStyle</code> 是 <strong>Canvas 2D API</strong> 描述畫筆（繪製圖形）顏色或者樣式的屬性。默認值是 <code>#000</code>(black)。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/strokeStyle" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>就是畫筆顏色。</p>
<h3 id="CanvasRenderingContext2D-lineJoin"><a href="#CanvasRenderingContext2D-lineJoin" class="headerlink" title="CanvasRenderingContext2D.lineJoin"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineJoin" target="_blank" rel="noopener">CanvasRenderingContext2D.lineJoin</a></h3><div class="note info"><p><code>CanvasRenderingContext2D.lineJoin</code> 是 <strong>Canvas 2D API</strong> 用來設置 2 個長度不為 0 的相連部分（線段，圓弧，曲線）如何連接在一起的屬性（長度為 0 的變形部分，其指定的末端和控制點在同一位置，會被忽略）。<br><img src="https://mdn.mozillademos.org/files/237/Canvas_linejoin.png" alt="lineJoin sample"><br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineJoin" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>線條與線條的連接樣式。</p>
<h3 id="CanvasRenderingContext2D-lineCap"><a href="#CanvasRenderingContext2D-lineCap" class="headerlink" title="CanvasRenderingContext2D.lineCap"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineCap" target="_blank" rel="noopener">CanvasRenderingContext2D.lineCap</a></h3><div class="note info"><p><strong>CanvasRenderingContext2D.lineCap</strong> 是 <strong>Canvas 2D API</strong> 指定如何繪製每一條線段末端的屬性。有 3 個可能的值，分別是：<code>butt</code>, <code>round</code> 與 <code>square</code>。默認值是 <code>butt</code>。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineCap" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>簡而言之，就是設定線條兩端端點的樣式。</p>
<h3 id="CanvasRenderingContext2D-lineWidth"><a href="#CanvasRenderingContext2D-lineWidth" class="headerlink" title="CanvasRenderingContext2D.lineWidth"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineWidth" target="_blank" rel="noopener">CanvasRenderingContext2D.lineWidth</a></h3><div class="note info"><p><code>CanvasRenderingContext2D.lineWidth</code> 為 <strong>Canvas 2D API</strong> 設定線段粗細的屬性。可藉此屬性取得目前的線段粗細值（預設為 1.0）。設定此屬性時，<strong>零</strong>、<strong>負數</strong>、<strong>Infinity</strong> 以及 <strong>NaN</strong> 都會被忽略，而其他正確的值將會被設定成屬性值。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineWidth" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="CanvasRenderingContext2D-moveTo"><a href="#CanvasRenderingContext2D-moveTo" class="headerlink" title="CanvasRenderingContext2D.moveTo()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/moveTo" target="_blank" rel="noopener">CanvasRenderingContext2D.moveTo()</a></h3><p>繪製路徑的設定，由畫筆落點移動到 (x,y) 座標。可以用來設定起始點之類。</p>
<h3 id="CanvasRenderingContext2D-lineTo"><a href="#CanvasRenderingContext2D-lineTo" class="headerlink" title="CanvasRenderingContext2D.lineTo()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineTo" target="_blank" rel="noopener">CanvasRenderingContext2D.lineTo()</a></h3><div class="note info"><p>CanvasRenderingContext2D.lineTo() 是Canvas 2D API 使用直線連接子路徑的終點到x，y坐標的方法（並不會真正地繪製）。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineTo" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="CanvasRenderingContext2D-stroke"><a href="#CanvasRenderingContext2D-stroke" class="headerlink" title="CanvasRenderingContext2D.stroke()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/stroke" target="_blank" rel="noopener">CanvasRenderingContext2D.stroke()</a></h3><div class="note info"><p>CanvasRenderingContext2D.stroke() 是Canvas 2D API 使用非零環繞規則，根據當前的畫線樣式，繪製當前或已經存在的路徑的方法。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/stroke" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>就是開始繪製，將設定的路徑繪製出來。</p>
<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h3 id="hsl"><a href="#hsl" class="headerlink" title="hsl()"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/color_value" target="_blank" rel="noopener">hsl()</a></h3><p>在 <strong>CSS3</strong> 中新增了 <strong>HSL</strong> 及 <strong>HSLA</strong> 等兩種跟顏色有關的屬性。<br>其中 H 為 <strong>hue</strong>(色相)、S 為 <strong>saturation</strong>(飽合度)、L 為 <strong>lightness</strong>(亮度)。HSLA 就跟 RGBA 一樣，都是在原本的屬性中多加入了不透明度的設定而已。</p>
<h4 id="hue"><a href="#hue" class="headerlink" title="hue"></a>hue</h4><ul>
<li>hue 為整數的角度值，基本上是從 0 到 360 之間，因為它是經過一個簡單的計算來處理所輸入的值</li>
<li>0 或 360 表示紅色；60 表示黃色；120 表示綠色；240 表示藍色。</li>
</ul>
<h4 id="saturation"><a href="#saturation" class="headerlink" title="saturation"></a>saturation</h4><p>saturation 的表示方式為百分比(%)；100% 就是最大飽合度，而 0% 則為灰色調。</p>
<h4 id="lightness"><a href="#lightness" class="headerlink" title="lightness"></a>lightness</h4><p>lightness 的表示方式也一樣是百分比(%)；以 50% 為正常亮度為分界，百分比越高則會越接近白色(100%)，而百分比越低則會越接近黑色(0%)</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 09-Dev Tools Domination</title>
    <url>/2017/12/26/Javascript30days-9/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>開發工具 Console 的運用說明。介紹 log 、 warn 、 error 、 info 、 assert 、 clear 、 dir 、groupCollapsed 、 groupEnd 、 count 、 time 、 timeEnd 等指令運用。</p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_09/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log" target="_blank" rel="noopener">console.log</a> 基本運用，利用 <code>log(string)</code> 裡面輸出字串。<br>進階運用是透過字符的替換</p>
<ul>
<li>％s：字串</li>
<li>％f：浮點數</li>
<li>％o：物件</li>
<li>％d：整數</li>
<li>％c：設定輸出的樣式，在之後的文字將按照第二個參數里的設置進行顯示</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"I am a string: %s "</span>, <span class="string">"log"</span>); <span class="comment">//log</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"I am a float number: %f "</span>, <span class="number">1.23</span>); <span class="comment">//1.23</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"I am a object: %o "</span>, &#123;<span class="attr">name</span>:<span class="string">"allen"</span>&#125;); <span class="comment">// &#123;name:"allen"&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"I am a int number: %d "</span>, <span class="number">1</span>); <span class="comment">//1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"%c other style"</span>, <span class="string">"color: #00fdff; font-size: 2em;"</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://lh3.googleusercontent.com/RdbTaZpW-wy0r6_INOomhBQrtJB0SpOVqjSBmniPZUO8mChY4jYTg5z76AXwKQ2lCT6HyKqnrelxsPXc8x0xfomvvxxRLRCvdPydrCrlQ2H8O_u73_eCh5hiOaeksaZ_zVH3bHslkMbcCnWLh35y282Mw9LaIR2eivWA0DvwHhv8BCm_ZTnzkwmNDyTN8zN2HAdFnIOPTZKCPCyE-MbyqGXfRjDg68-0ndduo3cw9qO5HAk0X7_yoc7eztJi2Nbwazu5zJkwrfHDgp_ps8cX5tDBJVw0LHGScrB9B6JBphq6kk2lpNzcXiWbhrZm-zssyW90B6kJtm0lwv3NGBNcYplD37ZP1lITd6vE7PPgckUWD9l4YjgQBU8aQkWuHJwWgTvfzQzYQJTM-f5C8oocccW3ngsWcs1k-Gnj1mDOiunQuJDdocsi9lTa8nJDOnFT3g6fuYmtUgx9TvPBpcFTl5-C4AMr3tAmXI6MkQ_IoyJicvrxGas-IquV0eFvCgnfOjV0oH6y99hSWvW7-knINLvTqmmbDjO_ws11bgExsrRvQ5v5pbpvknjc3t43ehftJxmbief58Z5cs9lD3BCsdnibkq0TYcnsXy32NGNgbiIvCS5wQpDz6IhetTUMGg-vir9S9_tZLKbD9Ox5CSJXu7ikQSqomhtQ=w348-h183-no" alt="string format sample"></p>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>各式不同的訊息類型</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/warn" target="_blank" rel="noopener">warning</a> 訊息前出現此符號 <i class="fa fa-exclamation-triangle" aria-hidden="true"></i></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/error" target="_blank" rel="noopener">Error</a> 訊息前出現此符號 <i class="fa fa-times-circle" aria-hidden="true"></i></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/info" target="_blank" rel="noopener">Info</a> 單純只有訊息</li>
</ul>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>測試使用的 <a href="https://developer.mozilla.org/en-US/docs/Web/API/console/assert" target="_blank" rel="noopener">assert</a> 與清除 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console" target="_blank" rel="noopener">console</a> 的方法 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/clear" target="_blank" rel="noopener">clear</a>。<br>使用 chrome 的時候，看一下有沒有設定 <strong>Preserve log</strong> ，這個選項勾選的話， <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/clear" target="_blank" rel="noopener">clear</a> 會無法清除 console 喔<br><img src="https://lh3.googleusercontent.com/l1WJvLdmnfjG297z3rYc7aErScp3vfUuxp9TbEmwSbC2fQ-tmrvEXzq3r4TqrdZxl3kAxAdJ-ZV_hhUxwFMkovdERhwrmYGJfDSayL0EcdRF6ZCU722---HkXHn8OrYcDSTJ3MHMU1blChpVK_5_KsIY4gu_Sz2jwE0rrY48gWJhrnQ9CaF0IO9AwGYRedLc3JcQMhexbYLPCOH-f-PokZhQMMzM0KhINy2jk-c4znfm4eTHFY8Sw-UnMvnvdWL40g7julFMEZ-IezD8Q6RnWYzuesQSamd_GGAaLd5zKlAR9W5m3A3MoH54vkXlffxs600XO-o9beRFolH4nJLTLPg-i2mdrDlLu6T67QJtG8Oph8S1VNqO8CCpXpDNa7LtAiU88jMkPvukiUWV-Ni-EeTEOj9nTcVx34VPKKGqSapwDUR9NPM8KxmDamaVbTxbPT2w9U4mMcIvswKkY45O-PN2_1hBZr_5e1-8Fi8XIK5XwRBfDy6bLdxQIsJqKMjQy-RwO1aDdUkQVLbod6WhmUXXLrmG1OcSpB6v0oPE1WUEsp-gEchEnHUYy4KN90RCz8zL-l9VBUye_0BoWxOf-WKZZ0SY-S175GpXfYoEbzHo9TwqFcUZWCEXbK7dBBqYS_PiBI0jLcAMLowTZxSdGAVOONe04JcI=w557-h213-no" alt="Preserve log"></p>
<p>查看 DOM 元素，分別使用基本方式 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log" target="_blank" rel="noopener">log()</a> 與 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/dir" target="_blank" rel="noopener">dir()</a></p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log" target="_blank" rel="noopener">log()</a> 假如是物件的話，會直接輸出物件內容；假如是 DOM 則會輸出 HTML 標籤</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/dir" target="_blank" rel="noopener">dir()</a> 以樹狀結構呈現結果<br><img src="https://lh3.googleusercontent.com/txNg02YwGWecETLELIdw6UvBoHzKirQjppBhDszFfxjc3z6A_VVTcsgECXnfDvr97axUBmsNLp9W_KuUM55mWEjTRIJvHX2oa5uEE15yNs2mXSESLABE__LkjTPFORmzSs-XjTXnuqxzm-LX4pe_1Qh7Y9-dfNRN5H9qVTYK58uuj4bg5DOZwK70-wb-nmd-YEkz2tIHCRrDKZv4sNP8G7q0dOrj8c8J4khZ7Eag_ycad_694l2FSelJVj6Ofvh6QD08VZgHozOk051CuCZ2yCEuNx1p8j6f6heOBaIdM_xAFtmLzlsUjQmZuSvt-nXOBtFlrjxZVYrmn_lbm5hzWh1l-ba09L_LczkJ8rqzBrEU6JlxO1E9d0e1o1CWMIMrSK2CoqlDfT-Xva7OhmPWYxosCQOd7FnRAAGdRtFcq5cYxfzJWHXEzBnYo0ukiIZ3JS59JJ5rtmOhrxkm8uiyQUf6Q9POqr0WrNX78g6TLdLghc2mwv4p8c4diPt0vE-Mx0A0KSt3r7ozpdVivdMrVWPwvOjiH2tkoS1x607wph-1U3fZwQcCq3RcJgCbyMdvF05SI8OHNnTPyKezt_1yx1HvsZC-k1_1UXGiuTxaxTGPxi_kjHDDzfZ0tD5ExmodOHr_-zv7t1Z4NasIFALAb44hGJHSCuyr=w440-h79-no" alt="log dir compare"></li>
</ul>
<h2 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4."></a>步驟 4.</h2><p>進行分組、統計計算與時間計算等。分別運用 <code>groupCollapsed</code> 、 <code>count</code> 與 <code>time</code></p>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><p>此篇主題都是 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console" target="_blank" rel="noopener">Console</a> 的運用，可以參考 <strong>MDN</strong> 上的說明來學習。</p>
<h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Console-assert"><a href="#Console-assert" class="headerlink" title="Console.assert()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/console/assert" target="_blank" rel="noopener">Console.assert()</a></h3><p>測試使用，當判斷的條件式成立，不會有任何反應，當條件式不成立，則會提供錯訊息，然後訊息顯示自訂的訊息部分</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.assert(<span class="number">1</span>===<span class="number">1</span>, <span class="string">'this is wrong'</span>);  </span><br><span class="line"><span class="built_in">console</span>.assert(<span class="number">1</span>===<span class="number">2</span>, <span class="string">'this is wrong'</span>);  <span class="comment">// Assertion failed: this is wrong</span></span><br></pre></td></tr></table></figure>

<h3 id="Console-count"><a href="#Console-count" class="headerlink" title="Console.count()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/count" target="_blank" rel="noopener">Console.count()</a></h3><div class="note info"><p>輸出 count() 被調用的次數。此函數接受一個可選參數 <strong>label</strong><br>如果有 <strong>label</strong> ，此函數輸出為那個指定的 <strong>label</strong> 和 count()被調用的次數。<br>如果 <strong>label</strong> 被忽略，此函數輸出 count() 在其所處位置上被調用的次數。</p>
<p><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/count" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greetEmpty</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.count();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greet</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.count(user);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"hi "</span> + user;</span><br><span class="line">&#125;</span><br><span class="line">greetEmpty();       <span class="comment">// 1</span></span><br><span class="line">greetEmpty();       <span class="comment">// 2</span></span><br><span class="line">greetEmpty();       <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.count();    <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">user = <span class="string">"bob"</span>;</span><br><span class="line">greet();                <span class="comment">// "bob: 1"</span></span><br><span class="line">user = <span class="string">"alice"</span>;</span><br><span class="line">greet();                <span class="comment">// "alice: 1"</span></span><br><span class="line">greet();                <span class="comment">// "alice: 2"</span></span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">"alice"</span>); <span class="comment">// "alice: 3"</span></span><br></pre></td></tr></table></figure>

<h3 id="Console-dir"><a href="#Console-dir" class="headerlink" title="Console.dir()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/dir" target="_blank" rel="noopener">Console.dir()</a></h3><div class="note info"><p>在控制台中顯示指定JavaScript對象的屬性，並通過類似文件樹樣式的交互列表顯示。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/dir" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="groupCollapsed-與-groupEnd"><a href="#groupCollapsed-與-groupEnd" class="headerlink" title="groupCollapsed() 與 groupEnd()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/groupCollapsed" target="_blank" rel="noopener">groupCollapsed()</a> 與 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/groupEnd" target="_blank" rel="noopener">groupEnd()</a></h3><div class="note info"><h4 id="console-group-Collapsed"><a href="#console-group-Collapsed" class="headerlink" title="console .group Collapsed"></a>console .group Collapsed</h4><p>在Web控制台上創建一個新的分組.隨後輸出到控制台上的內容都會被添加一個縮進,表示該內容屬於當前分組,直到調用 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/groupEnd" target="_blank" rel="noopener">console.groupEnd()</a> 之後,當前分組結束。和 console.group() 方法的不同點是,新建的分組默認是折疊的。用戶必須點擊一個按鈕才能將折疊的內容打開.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/groupCollapsed" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>說明上這兩個方法都是無參數，但是範例中，是可以輸入參數的，輸入的參數則是顯示的分組標題文字。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> dogs = [&#123; <span class="attr">name</span>: <span class="string">"Snickers"</span>, <span class="attr">age</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">"hugo"</span>, <span class="attr">age</span>: <span class="number">8</span> &#125;];</span><br><span class="line">dogs.forEach(<span class="function"><span class="params">dog</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 此是分組標題</span></span><br><span class="line">  <span class="built_in">console</span>.groupCollapsed(<span class="string">`<span class="subst">$&#123;dog.name&#125;</span>`</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`This is <span class="subst">$&#123;dog.name&#125;</span>`</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;dog.name&#125;</span> is <span class="subst">$&#123;dog.age&#125;</span> years old`</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;dog.name&#125;</span> is <span class="subst">$&#123;dog.age * <span class="number">7</span>&#125;</span> dog years old`</span>);</span><br><span class="line">  <span class="built_in">console</span>.groupEnd();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="time-與-timeEnd"><a href="#time-與-timeEnd" class="headerlink" title="time() 與 timeEnd()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/time" target="_blank" rel="noopener">time()</a> 與 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/timeEnd" target="_blank" rel="noopener">timeEnd()</a></h3><div class="note info"><h4 id="console-time"><a href="#console-time" class="headerlink" title="console.time"></a>console.time</h4><p>你可以啟動一個計時器（timer）來跟踪某一個操作的佔用時長。每一個計時器必須擁有唯一的名字，頁面中最多能同時運行 <strong>10,000</strong> 個計時器。當以此計時器名字為參數調用 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/timeEnd" target="_blank" rel="noopener"><strong>console.timeEnd()</strong></a> 時，瀏覽器將以毫秒為單位，輸出對應計時器所經過的時間.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/time" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>計算出來的時間以毫秒顯示</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>web.config 中的 maxJsonLength 設定</title>
    <url>/2017/12/28/maxJsonLength/</url>
    <content><![CDATA[<p>主要是傳送某個表單資料時，發生以下錯誤</p>
<div class="note danger"><p>Error during serialization or deserialization using the JSON JavaScriptSerializer. The length of the string exceeds the value set on the maxJsonLength property.\r\nParameter name: input”,”StackTrace”:” …</p>
</div>
<a id="more"></a>

<p>加上後端程式已經採用 <a href="https://www.newtonsoft.com/json" target="_blank" rel="noopener">json.net</a> 解析了，所以想起 config 還沒設定，所以需要設定一下 <strong>web.config</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">system.web.extensions</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">scripting</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">webServices</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">jsonSerialization</span> <span class="attr">maxJsonLength</span>=<span class="string">"20000"</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">webServices</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">scripting</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">system.web.extensions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>不設定的話，預設值是 <strong>2097152</strong> 字元，換算就是 <strong>4 MB</strong></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://stackoverflow.com/questions/1151987/can-i-set-an-unlimited-length-for-maxjsonlength-in-web-config" target="_blank" rel="noopener">stackoverflow issue</a></li>
<li><a href="https://forums.asp.net/t/1697754.aspx?what+is+maxJsonLength+in+jsonSerialization+" target="_blank" rel="noopener">forums.asp.net</a></li>
<li>MSDN <a href="https://msdn.microsoft.com/en-us/library/system.web.script.serialization.javascriptserializer.maxjsonlength.aspx" target="_blank" rel="noopener">maxjsonlength</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>Troubleshooting</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 12-Key Sequence Detection</title>
    <url>/2017/12/30/Javascript30days-12/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>此章節也要對照 Console 才能觀看，主要是偵測輸入按鍵，一開始設定一組密碼，例如: <strong>wesbos</strong> ，當輸入的內容符合到 <strong>wesbos</strong> 就顯示提示。</p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_12/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><ul>
<li>宣告記錄按鍵的變數陣列 <strong>pressed</strong></li>
<li>宣告特殊密碼變數 <strong>secretCode</strong></li>
</ul>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><ul>
<li>綁定 <strong>keyup</strong> 事件</li>
<li>利用 <strong>push()</strong> 將輸入的按鍵記錄到變數 <strong>pressed</strong></li>
</ul>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>此步驟為重點處理</p>
<ul>
<li>判斷 <strong>pressed</strong> 陣列長度是否超過 <strong>secretCode</strong></li>
<li>利用 <code>shift()</code> 判斷符合即可移除首位元素</li>
<li>再利用陣列的 <code>join()</code> 與 <code>includes()</code> 判斷是否為密碼</li>
</ul>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><p>教學說明中使用的 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank" rel="noopener">splice()</a> ，不過使用 <strong>splice()</strong> 需要設定最少一個參數，所以練習的部分就使用 <strong>shift()</strong></p>
<h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Array-prototype-splice"><a href="#Array-prototype-splice" class="headerlink" title="Array.prototype.splice()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank" rel="noopener">Array.prototype.splice()</a></h3><div class="note info"><p><code>splice()</code> 這方法可刪除或新增一個 Array 的內容。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myFish = [<span class="string">'angel'</span>, <span class="string">'clown'</span>, <span class="string">'mandarin'</span>, <span class="string">'sturgeon'</span>];</span><br><span class="line"></span><br><span class="line">myFish.splice(<span class="number">2</span>, <span class="number">0</span>, <span class="string">'drum'</span>); <span class="comment">// 新增字串'drum' 在第index=2的位置</span></span><br><span class="line"><span class="comment">// myFish is ["angel", "clown", "drum", "mandarin", "sturgeon"]</span></span><br><span class="line"></span><br><span class="line">myFish.splice(<span class="number">2</span>, <span class="number">1</span>); <span class="comment">// 移除第二個位置的物件 (也就是字串"drum")</span></span><br><span class="line"><span class="comment">// myFish is ["angel", "clown","mandarin", "sturgeon"]</span></span><br></pre></td></tr></table></figure>

<p><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="Array-prototype-shift"><a href="#Array-prototype-shift" class="headerlink" title="Array.prototype.shift()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/shift" target="_blank" rel="noopener">Array.prototype.shift()</a></h3><div class="note info"><p><code>shift()</code> 方法 (method) 會從陣列移除第一個元素 (element)，並回傳該元素。此方法會改變陣列的長度。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.shift();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// [2, 3]</span></span><br></pre></td></tr></table></figure>

<p><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/shift" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 10-Hold Shift and Check Checkboxes</title>
    <url>/2017/12/27/Javascript30days-10/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p><img src="https://lh3.googleusercontent.com/Q879dUZxwkFMMvjTu_NaVhfyMjgdmpaTw9wQcr7rxp6whXCwV1KEiAvhdpgEZrWo0yB2hExVZPSBqvfS7jQhu8aVrGPKck59WpfJM3Gd6qhVSGcC37p3f8u9yv_CWRVdRPlRag8c_kfzn8KeQJZ9_SvxWfv0LxdYDDp7xKBzcCsYT7uyRa1SWS5lss18WlfxZlVvvxgMQyFEBNPdysHt3YubVG0u6u0zfDO7WfQZCeAOVLP6PbgAoinLA59NXUA5hEPT0ywPEf01bDF3tyAew8giphvnlEQaHN22ieGU4oW8HzB_N0BtT9vUbJmiH0awgOiCzoOZrSrCYeVOVjHi5dQz1p1kkCnkl5E0op1OwaZCeAC6D92YlaQpompZobz4dI8cNtyXezavTBOdseIDkPA7ZnIKHHsWUEU6Mel69TNJNegIryusu8IF_LiYtVJQ761Obz9gfU94iiL4hcCu5pPc9pf1T1lXabSWaOAkyHLMH6rCoBl4ou0giqJY24DyUcuNNkFYDDtSBlOC6HJOcjlZjLBw7Tiee3I1nMepe-6S86kIKqG8cDGmZ_4jkeAQ-AE8qlV4rWksxHfkwESigGPAMj2Yncj49f_CKWi0_cqDOpEF3r-h-zh5f7jTpdk7wDcJwF6bcygAPyBn_cA9kgEINk8Sv2cf=w646-h836-no" alt="target"><br>類似 Gmail 信箱的 checkbox 多選功能，當選取一個 checkbox 後，按住 <strong>shift</strong> 不放，在選取另一 checkbox ，此兩個 checkbox 中間的 checkbox 皆會選取。 </p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_10/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>與範本的方法與步驟可能不太相同，依照個人的方式去解決就好。</p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>取得所有的 checkbox DOM 並綁定 click 事件，建立的 <strong>handleCheck</strong> <strong>function</strong> 中可以利用 <strong>console</strong> 查看一下 e 的物件，為 <strong>MouseEvent</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> checkboxes = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleCheck</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// e is MouseEvent</span></span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Array</span>.from(checkboxes).map(<span class="function"><span class="params">ele</span> =&gt;</span> ele.addEventListener(<span class="string">"click"</span>, handleCheck));</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>開始針對 <strong>handleCheck</strong> <strong>function</strong> 撰寫判斷，首先是 <strong>shift</strong> 鍵按下並選取該 <strong>checkbox</strong> 時，進行全部的 checkbox DOM 巡覽。<br>這時候調整一下 checkboxes 變數，因為 querySelectorAll 取得的結果<strong>不是</strong> <strong>Array</strong> ，所以先轉換</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(</span><br><span class="line">  <span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleCheck</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// e is MouseEvent</span></span><br><span class="line">  <span class="comment">//console.log(e);</span></span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">if</span> (e.shiftKey &amp;&amp; e.target.checked) &#123;</span><br><span class="line">    <span class="built_in">console</span>.info(<span class="string">"this is shift &amp; checked"</span>);</span><br><span class="line">    checkboxes.map(<span class="function"><span class="params">ele</span> =&gt;</span> &#123;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">checkboxes.map(<span class="function"><span class="params">ele</span> =&gt;</span> ele.addEventListener(<span class="string">"click"</span>, handleCheck));</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>在巡覽的過程中，加入判斷式，決定要變更 checkbox 選取狀態的變更。</p>
<ul>
<li>加入 checkEle 變數紀錄 click 每次觸發後，上次的選取 DOM</li>
<li>判斷 目前觸發元素是否等於巡覽的元素，或是 checkEle 是否等於巡覽的元素，並且 checkEle 不能等於目前觸發元素</li>
<li>加入 isBetween 變數，用來記錄是否符合上述的條件</li>
<li>最後將巡覽的所有元素 checked 都設定為 true 的值</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> checkEle = <span class="literal">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleCheck</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// e is MouseEvent</span></span><br><span class="line">  <span class="comment">//console.log(e);</span></span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">if</span> (e.shiftKey &amp;&amp; e.target.checked) &#123;</span><br><span class="line">    <span class="comment">//console.info("this is shift &amp; checked");</span></span><br><span class="line">    <span class="keyword">let</span> isBetween = <span class="literal">false</span>;</span><br><span class="line">    checkboxes.map(<span class="function"><span class="params">ele</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 避免選取第一個項目就全選</span></span><br><span class="line">      <span class="keyword">if</span> ((self === ele || checkEle === ele) &amp;&amp; checkEle &amp;&amp; checkEle !== self) &#123;</span><br><span class="line">        <span class="comment">//   console.info("slef equal ele");</span></span><br><span class="line">        <span class="comment">//   console.dir(ele);</span></span><br><span class="line">        isBetween = !isBetween;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (isBetween) ele.checked = <span class="literal">true</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  checkEle = self.checked ? self : <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">checkboxes.map(<span class="function"><span class="params">ele</span> =&gt;</span> ele.addEventListener(<span class="string">"click"</span>, handleCheck));</span><br></pre></td></tr></table></figure>

<h1 id="延伸部分"><a href="#延伸部分" class="headerlink" title="延伸部分"></a>延伸部分</h1><p>此解法，是按照範例的方式去處理；延伸課題是仿照類似 Gmail 的選取方式選取區間，所以需要取得距離目前選取最近的選取框</p>
<ul>
<li>建立 extenCheck function </li>
<li>找尋索引小於目前選取元素的索引，並且有選取的 checkbox ，取得此索引</li>
<li>找尋索引大於目前選取元素的索引，並且有選取的 checkbox ，取得此索引</li>
<li>判斷前 2 操作都是有取得索引後，直接更新選取狀態</li>
<li>抽取選取狀態 function</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 延伸部分</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> <span class="variable">e</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extenCheck</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">if</span> (!e.target.checked) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 目前的選取元素</span></span><br><span class="line">  <span class="keyword">const</span> nowSelIndex = checkboxes.findIndex(<span class="function"><span class="params">ele</span> =&gt;</span> ele === self);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!e.shiftKey) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> nearMinCheckboxIndex = checkboxes.findIndex(</span><br><span class="line">    (ele, index) =&gt;</span><br><span class="line">      index !== nowSelIndex &amp;&amp; index &lt; nowSelIndex &amp;&amp; ele.checked === <span class="literal">true</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">const</span> nearMaxCheckboxIndex = checkboxes.findIndex(</span><br><span class="line">    (ele, index) =&gt;</span><br><span class="line">      index !== nowSelIndex &amp;&amp; index &gt; nowSelIndex &amp;&amp; ele.checked === <span class="literal">true</span></span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (nearMaxCheckboxIndex !== <span class="number">-1</span>) &#123;</span><br><span class="line">    setCheckbox(nowSelIndex, nearMaxCheckboxIndex);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (nearMinCheckboxIndex !== <span class="number">-1</span>) &#123;</span><br><span class="line">    setCheckbox(nearMinCheckboxIndex, nowSelIndex);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 設定 checkboxes 為選取</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> </span>initIndex 索引初始</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> </span>aryLength 迴圈長度</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setCheckbox</span>(<span class="params">initIndex, aryLength</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> index = initIndex; index &lt; aryLength; index++) &#123;</span><br><span class="line">    checkboxes[index].checked = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/nrdLfNRlF_Fu0ZZ57ZYOuxrJjs8sqdecoWGAOZ098n_4A9foOg95ZvRr9vesjUZbvMAKbPOYvBk-KqRUA2_HZR8dfzhxplcgbdsESmw8gaRiAxYg1Z35uMveSkHpACFZIgfk4yCOlOvzH3elS6wGDuylRC8Vnlmd34iIMqsUfzI9YxA9e5LtdFCjuqjEKV3iOTHsl6dqMMi0Ss87KkraAVti-ZvVMXORiB8rM8Y7uK4HZTQUCOdNlqVg0Pl9pXAHWooGjPU8kuUaRjk-v6ihVKKfiSqygXpbk5opbEHzJGOCtVEZO85inVt9OpNKGrXvuiz2WZqV6UFyNqU9WQ1u03zzlb_Tbmi0C9rAw41gN-hLrvfSqZMSOD7KWlOsbAOOBwwsAaZusjyp5Kgul9UhAJe1_K9wMUFMdqiBOmFX-zyKShO3RvT9tqwDLe_nqoIHD_KYTnRaC4s21ZPXkLBnTSGnHybGMlL49YLQlqfcJozeSmCt3bjj9KAC1pnwl6p9ZedqFtsijngqBCbQS6EyL1FBgyOdKGaSwY3IPJ4AByv-HVvD6Bp93y8m6kWGF1ZZz5Ngn2DFClgKbyiAJriAamcwwXkvScQPWkq0Mi4TaIzrzKnxrsnFPmKai5dSc0AF9DH7H5LEPBqRsbGE2po-7ayor5aUbfK4=w646-h836-no" alt="exten sample"></p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 11-Custom Video Player</title>
    <url>/2017/12/29/Javascript30days-11/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>自製一個影片播放器可以操控播放速度與音量大小，並隨著 <strong>progress bar</strong> (進度條) 進行動態調整的播放器<br><img src="https://lh3.googleusercontent.com/tJ8Xf87th94-bjfJxyfQdwGRI7KQDwRyZfvHP1zrpREo1uUHhGzufnOiN7g0VI574AH6loz4BgiUs49AyULblBII4SlzazYucZL67Zbhv_xyirmLVZaJbFxjuI2dwToDyFodVv0bhpfRwSFRb-AuHqO_LMUljal9RJKswDyD8YU4DgrTZGirKCqsdLgL9sQmR__6QMceJPzhwBql1FCHwNNam9_5-xhrH4B-HE62d8xEva9QjowX_1EJxMO9nKyfJ0bGsz22dLd5FxB9w8e-GFWuld2u4eaueJ3oGLiNYthSknX-_XJh8KfDNNWOGWUdj_pL-3iYDzDckO0funGk_LYP6DTW3kX_1iBBl1cqVHxiYCOcmjSElM5kitOlPLQkOpZCnrDh6YhWjPm-IZt6iCiOdpjU7M0TAOJtdZlFM-QAF0cdBSPLhAqofre_p-yiJ-gWRD9BE_WS-7PmbJQnOv4rg3aVgJzpCgtEhdBc2k-QkKFopk66xI2xCQnUluWZ6TMEmHvkDX-JMs81k0XSxS9IXnV7y9mQS7M7dDi46UH52m_jzOnxOguPmCRk0mcBroK8S0T6JQmxoAnXk9m2SqNhrMWSp1PbrMVdB-lCWod-jYOaJO1y5EpFSdZLDxWi5DjtY87kTIfhKwv1Dvf8xh_0RKzKLjub=w812-h458-no" alt="target"></p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_11/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>此次處理步驟沒有很複雜，簡單說就是將播放器的各項 DOM ，都建立監聽事件，好進行播放器的操作，唯一比較需要計算的部分，則是進度條 (progress bar) 的部分。要熟悉的是播放器的屬性與方法。</p>
<h2 id="步驟-1-播放的呈現"><a href="#步驟-1-播放的呈現" class="headerlink" title="步驟 1. 播放的呈現"></a>步驟 1. 播放的呈現</h2><ul>
<li>取得 HTML 上的各個元素</li>
<li>綁定撥放功能</li>
<li>增加變換播放按鈕圖案功能</li>
<li>添加播放後，進度條的動態顯示</li>
</ul>
<h2 id="步驟-2-跳轉按鈕"><a href="#步驟-2-跳轉按鈕" class="headerlink" title="步驟 2. 跳轉按鈕"></a>步驟 2. 跳轉按鈕</h2><ul>
<li>利用 html 上的 name 與值</li>
<li>觸發狀態的綁定</li>
</ul>
<h2 id="步驟-3-進度條的動態切換"><a href="#步驟-3-進度條的動態切換" class="headerlink" title="步驟 3. 進度條的動態切換"></a>步驟 3. 進度條的動態切換</h2><ul>
<li>建立播放進度條跳轉至指定時間 <strong>scrub</strong> function</li>
<li>簡單的拉動綁定事件 <strong>click</strong> 與 <strong>mousemove</strong></li>
<li>避免播放器的點擊功能互相影響，建立 mousedown 變數</li>
<li>並在進度條上點擊時觸發</li>
</ul>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="HTML-部分"><a href="#HTML-部分" class="headerlink" title="HTML 部分"></a>HTML 部分</h2><h3 id="video"><a href="#video" class="headerlink" title="video"></a><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" target="_blank" rel="noopener">video</a></h3><div class="note info"><p>HTML <code>&lt;video&gt;</code> 元素用於在 HTML 或者 XHTML 文檔中嵌入視頻內容。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="Media-events"><a href="#Media-events" class="headerlink" title="Media events"></a><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events" target="_blank" rel="noopener">Media events</a></h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" target="_blank" rel="noopener"><code>video</code></a> 或是 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/audio" target="_blank" rel="noopener"><code>audio</code></a> 使用到的事件與方法</p>
<table>
<thead>
<tr>
<th align="center">Event name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="center">abort</td>
<td align="left">Sent when playback is aborted; for example, if the media is playing and is restarted from the beginning, this event is sent.</td>
</tr>
<tr>
<td align="center">canplay</td>
<td align="left">Sent when enough data is available that the media can be played, at least for a couple of frames.  This corresponds to the HAVE_ENOUGH_DATA readyState.</td>
</tr>
<tr>
<td align="center">canplaythrough</td>
<td align="left">Sent when the ready state changes to CAN_PLAY_THROUGH, indicating that the entire media can be played without interruption, assuming the download rate remains at least at the current level. It will also be fired when playback is toggled between paused and playing. Note: Manually setting the currentTime will eventually fire a canplaythrough event in firefox. Other browsers might not fire this event.</td>
</tr>
<tr>
<td align="center">durationchange</td>
<td align="left">The metadata has loaded or changed, indicating a change in duration of the media.  This is sent, for example, when the media has loaded enough that the duration is known.</td>
</tr>
<tr>
<td align="center">emptied</td>
<td align="left">The media has become empty; for example, this event is sent if the media has already been loaded (or partially loaded), and the load() method is called to reload it.</td>
</tr>
<tr>
<td align="center">encrypted</td>
<td align="left">The user agent has encountered initialization data in the media data.</td>
</tr>
<tr>
<td align="center">ended</td>
<td align="left">Sent when playback completes.</td>
</tr>
<tr>
<td align="center">error</td>
<td align="left">Sent when an error occurs.  The element’s error attribute contains more information. See HTMLMediaElement.error for details.</td>
</tr>
<tr>
<td align="center">interruptbegin</td>
<td align="left">Sent when audio playing on a Firefox OS device is interrupted, either because the app playing the audio is sent to the background, or audio in a higher priority audio channel begins to play. See Using the AudioChannels API for more details.</td>
</tr>
<tr>
<td align="center">interruptend</td>
<td align="left">Sent when previously interrupted audio on a Firefox OS device commences playing again — when the interruption ends. This is when the associated app comes back to the foreground, or when the higher priority audio finished playing. See Using the AudioChannels API for more details.</td>
</tr>
<tr>
<td align="center">loadeddata</td>
<td align="left">The first frame of the media has finished loading.</td>
</tr>
<tr>
<td align="center">loadedmetadata</td>
<td align="left">The media’s metadata has finished loading; all attributes now contain as much useful information as they’re going to.</td>
</tr>
<tr>
<td align="center">loadstart</td>
<td align="left">Sent when loading of the media begins.</td>
</tr>
<tr>
<td align="center">mozaudioavailable</td>
<td align="left">Sent when an audio buffer is provided to the audio layer for processing; the buffer contains raw audio samples that may or may not already have been played by the time you receive the event.</td>
</tr>
<tr>
<td align="center">pause</td>
<td align="left">Sent when playback is paused.</td>
</tr>
<tr>
<td align="center">play</td>
<td align="left">Sent when playback of the media starts after having been paused; that is, when playback is resumed after a prior pause event.</td>
</tr>
<tr>
<td align="center">playing</td>
<td align="left">Sent when the media begins to play (either for the first time, after having been paused, or after ending and then restarting).</td>
</tr>
<tr>
<td align="center">progress</td>
<td align="left">Sent periodically to inform interested parties of progress downloading the media. Information about the current amount of the media that has been downloaded is available in the media element’s buffered attribute.</td>
</tr>
<tr>
<td align="center">ratechange</td>
<td align="left">Sent when the playback speed changes.</td>
</tr>
<tr>
<td align="center">seeked</td>
<td align="left">Sent when a seek operation completes.</td>
</tr>
<tr>
<td align="center">seeking</td>
<td align="left">Sent when a seek operation begins.</td>
</tr>
<tr>
<td align="center">stalled</td>
<td align="left">Sent when the user agent is trying to fetch media data, but data is unexpectedly not forthcoming.</td>
</tr>
<tr>
<td align="center">suspend</td>
<td align="left">Sent when loading of the media is suspended; this may happen either because the download has completed or because it has been paused for any other reason.</td>
</tr>
<tr>
<td align="center">timeupdate</td>
<td align="left">The time indicated by the element’s currentTime attribute has changed.</td>
</tr>
<tr>
<td align="center">volumechange</td>
<td align="left">Sent when the audio volume changes (both when the volume is set and when the muted attribute is changed).</td>
</tr>
<tr>
<td align="center">waiting</td>
<td align="left">Sent when the requested operation (such as playback) is delayed pending the completion of another operation (such as a seek).</td>
</tr>
</tbody></table>
<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h3 id="webkit-slider-runnable-track-與-moz-range-track"><a href="#webkit-slider-runnable-track-與-moz-range-track" class="headerlink" title="::-webkit-slider-runnable-track 與 ::-moz-range-track"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::-webkit-slider-runnable-track" target="_blank" rel="noopener">::-webkit-slider-runnable-track</a> 與 <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/::-moz-range-track" target="_blank" rel="noopener">::-moz-range-track</a></h3><p>非標準的語法，依照 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::-webkit-slider-runnable-track" target="_blank" rel="noopener">MDN</a> 上的說明，可能會變換，主要是針對 <code>&lt;input&gt;</code> 中 <code>type=&quot;range&quot;</code> 的類型設定進度調軌跡的背景與邊框樣式</p>
<h3 id="webkit-slider-thumb-與-moz-range-thumb"><a href="#webkit-slider-thumb-與-moz-range-thumb" class="headerlink" title="::-webkit-slider-thumb 與 ::-moz-range-thumb"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/::-webkit-slider-thumb" target="_blank" rel="noopener">::-webkit-slider-thumb</a> 與 <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/::-moz-range-thumb" target="_blank" rel="noopener">::-moz-range-thumb</a></h3><div class="note info"><p>The <code>::-webkit-slider-thumb</code> CSS pseudo-element represents the “thumb” that the user can move within the “groove” of an <code>&lt;input&gt;</code> of <code>type=&quot;range&quot;</code> to alter its numerical value.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/::-webkit-slider-thumb" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>這兩個的功能相同，簡單說就是移動時候的顯示樣式，主要是在不同瀏覽器的支援。</p>
<h3 id="moz-appearance-webkit-appearance-appearance"><a href="#moz-appearance-webkit-appearance-appearance" class="headerlink" title="-moz-appearance (-webkit-appearance, appearance)"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/-moz-appearance" target="_blank" rel="noopener">-moz-appearance (-webkit-appearance, appearance)</a></h3><p>其實就是變更元素的外觀而已。</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 13-Slide in on Scroll</title>
    <url>/2017/12/31/Javascript30days-13/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>隨著卷軸移動到中央，讓圖片動態顯示。<br><img src="https://lh3.googleusercontent.com/uIMxNJVcpae6njg9VSjTMT68Qx5Tpw6id6Zfzc8CKIqxCePByNKkfL1z5oeBx15Ew-QXnrQSl1CRTNIMVwZ_unhLClh0X29pUMxCF5LEloqdBj8k5mCyOY3WSHqQK24XKMG3evPPMOwVkj400hgkBuRnEBJ8x5CZr9Ev--FEsAmsEr6J_TCIpDPiTQ40lMksiN5Y-DBcVGyWQdkfTsa8NP2640F5Obj90nV4Leu-TsWMUjgNzXfXl2SA-MkbiDoWLpeb9kg1DLgQ1RaPiw_KiYk2qc6EtsEvLymr2kDUnJ41FtNs8MEUUHKviVgeDRhf2U6rkjqV63afO3VlhvlaZdKVczuiekM5cLDNkFgOOzpID_3QQPMloz5uI6OxXE0YouqnzVdhlc37FJCnR_Io9ylnerxvuuVB0SaUCFuYdbjGEhGsWKdLeuyK7nGn77-PY40meECy3wqeeAP0R5kNKBCcWyhXBBiFfX6IyZL92V9rxO1Qy-PnoCNBVARrGpGwqBzsxksFQLN0xfEtq62XZf4-4dwyYSWvRAB65Ect96e7fuSNlICLnvJEfM75tJ3gN-uDtPfO2mL-Qb0gzBRoQ8_yHOr9ff4q1h17-WPHzfvWlNCvr4UJtyKbjHrVFQuK_tDERw38fppRbafRiIEAO7UlIgAAMKOF=w944-h879-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_13/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>首先取得所有圖片 HTML ，並建立空的 <strong>Function</strong> <strong>checkSlide</strong> 與綁定 scroll 捲軸移動事件。</p>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><ul>
<li>因為 scroll 每次觸發頻率過高，所以呼叫 <strong>debounce</strong> 來降低呼叫頻率，避免效能損耗</li>
<li>針對所有圖片 HTML 進行 foreach 迴圈</li>
<li>取得目前畫面所在的高度</li>
<li>取得圖片所在的高度</li>
</ul>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>依照上一步驟取得的高度位置，進行判斷，然後添加 <strong>active</strong> <strong>class</strong> </p>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><p>此練習有幾個要熟悉的要點：</p>
<ul>
<li>熟悉畫面的位置，包含相對位置與絕對座標</li>
<li>另一是 <strong>debounce</strong> 這 <strong>Function</strong> 利用了 <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout" target="_blank" rel="noopener"><strong>setTimeout</strong></a> 與 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener"><strong>apply</strong></a> </li>
</ul>
<h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="window-clearTimeout"><a href="#window-clearTimeout" class="headerlink" title="window.clearTimeout"></a><a href="https://developer.mozilla.org/es/docs/Web/API/WindowTimers/clearTimeout" target="_blank" rel="noopener">window.clearTimeout</a></h3><p>清除 <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout" target="_blank" rel="noopener">setTimeout</a> 設定。</p>
<h3 id="Function-prototype-apply"><a href="#Function-prototype-apply" class="headerlink" title="Function.prototype.apply()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener">Function.prototype.apply()</a></h3><div class="note info"><p>apply() 方法會呼叫一個以 this 的代表值和一個陣列形式的值組(或是一個 <strong>array-like object</strong> )為參數的函式。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 14-JavaScript References vs Copying</title>
    <url>/2018/01/03/Javascript30days-14/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>熟悉了解 References 位址與複製指向的差異，此篇需要對照 Console 才能觀看。</p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_14/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1-比較普通變數"><a href="#步驟-1-比較普通變數" class="headerlink" title="步驟 1. 比較普通變數"></a>步驟 1. 比較普通變數</h2><p>字串、整數或布林變數的參照，只要宣告一變數複製，兩者即為不同；這幾個類型類似實值型別的參照</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> age2 = age;</span><br><span class="line"><span class="built_in">console</span>.log(age, age2); <span class="comment">// 100,100</span></span><br><span class="line">age = <span class="number">200</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age, age2); <span class="comment">// 200,100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">"Wes"</span>;</span><br><span class="line"><span class="keyword">let</span> name2 = name;</span><br><span class="line"><span class="built_in">console</span>.log(name, name2); <span class="comment">// Wes,Wes</span></span><br><span class="line">name = <span class="string">"wesley"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name, name2); <span class="comment">// wesley,Wes</span></span><br></pre></td></tr></table></figure>

<h2 id="步驟-2-比較陣列"><a href="#步驟-2-比較陣列" class="headerlink" title="步驟 2. 比較陣列"></a>步驟 2. 比較陣列</h2><p>陣列物件的複製就類似參照型別了，所以可以透過一些函式回傳新的陣列，有以下幾種方式</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="noopener"><strong>slice()</strong></a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/concat" target="_blank" rel="noopener"><strong>[].concat</strong></a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Spread_operator" target="_blank" rel="noopener"><strong>Spread</strong></a></li>
<li><strong>Array.from</strong></li>
</ul>
<h2 id="步驟-3-比較物件"><a href="#步驟-3-比較物件" class="headerlink" title="步驟 3. 比較物件"></a>步驟 3. 比較物件</h2><p>物件的複製也是類似參照型別，所以跟陣列類似，有以下幾個方式處理：</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener">Object.assign</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Spread_operator" target="_blank" rel="noopener">Spread syntax</a></li>
</ul>
<p>但是物件裡面尚有巢狀物件的情形需要考慮，陣列其實也是有巢狀的情形，所以可以利用 JSON 來處理</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> wes = &#123;</span><br><span class="line">  name: <span class="string">"Wes"</span>,</span><br><span class="line">  age: <span class="number">100</span>,</span><br><span class="line">  social: &#123;</span><br><span class="line">    twitter: <span class="string">"@wesbos"</span>,</span><br><span class="line">    facebook: <span class="string">"wesbos.developer"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> dev2 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(wes));</span><br><span class="line">dev2.social.twitter = <span class="string">"@coolman"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(dev2.social, wes.social);</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Spread-syntax"><a href="#Spread-syntax" class="headerlink" title="Spread syntax"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Spread_operator" target="_blank" rel="noopener">Spread syntax</a></h3><p>ES 6 出現的快速語法，針對 function 、 array 、 object ，皆可以使用，用來結合物件或陣列等。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// For function calls:</span></span><br><span class="line">myFunction(...iterableObj);</span><br><span class="line"></span><br><span class="line"><span class="comment">// For array literals or strings:</span></span><br><span class="line">[...iterableObj, <span class="string">'4'</span>, <span class="string">'five'</span>, <span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// For object literals (new in ECMAScript; stage 3 draft):</span></span><br><span class="line"><span class="keyword">let</span> objClone = &#123; ...obj &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-concat"><a href="#Array-prototype-concat" class="headerlink" title="Array.prototype.concat()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/concat" target="_blank" rel="noopener">Array.prototype.concat()</a></h3><div class="note info"><p><code>concat()</code> 方法回傳一個包含呼叫者陣列本身的值，以及被當作參數提供的陣列或是值的而成的新陣列。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/concat" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener">Object.assign()</a></h3><div class="note info"><p><code>Object.assign()</code> 被用來複製一個或多個物件自身所有可數的屬性到另一個目標物件。回傳的值為該目標物件。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>


<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 17-Sort Without Articles</title>
    <url>/2018/01/07/Javascript30days-17/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>文章的排序，排除量詞等不必要的詞彙，再來排序，例如原本資料為</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> bands = [<span class="string">'The Plot in You'</span>, <span class="string">'The Devil Wears Prada'</span>, <span class="string">'Pierce the Veil'</span>, <span class="string">'Norma Jean'</span>, <span class="string">'The Bled'</span>, <span class="string">'Say Anything'</span>, <span class="string">'The Midway State'</span>, <span class="string">'We Came as Romans'</span>, <span class="string">'Counterparts'</span>, <span class="string">'Oh, Sleeper'</span>, <span class="string">'A Skylit Drive'</span>, <span class="string">'Anywhere But Here'</span>, <span class="string">'An Old Dog'</span>];</span><br></pre></td></tr></table></figure>
<p>要排除 a 、 an 、 the 這些詞彙後，排序列表<br><img src="https://lh3.googleusercontent.com/n5BgxA5Xi0Qwq4vqeQVqBDmp77Kp8uI4MCheJ28A7967CdIoCyYjZ0x-twklRNElvXKuUPVPe0FBc-YmR4x6Z249zXvpxeNTKzPkA8QYozfNFf4MkBAJN0mx-0d4wAk0RQIzcOrNX5I88D-Wm67HQ42l_3cD4vkRZQ5Pvln9FP6OVqOP1IAK5eOQ5vWZkj-f0zxtdLmteYsyc8xdHvlZwqXX_yaHrRWJeANQYHoWBvDXiVbhMyGdvKybPCHbIV_5fUdiCCMoYxH_iYWw4s7d3iv91UCKklz-OPI1BrhF3j3-qK56SYNfAhYeQxq1jqN9Ukrr9uKtqKBDAojMj-KMR9DMUs8TXj-2Si0xiLPH4ZHqo-VJJ26jClx6m4umB6eTaXJZPlOOsVhJ_5O6mHfMF-c4t-fG7_gLnKBwXO4zD5cAduClU7FmhPqd56pPKLsFZgIek0ulfy-u3kUy8kwOz2OFShj4LUuYTZachJPHysIpueAyacTbPozyXMkMvMX5i3NzH9fox9LhpuzxAHQ8zlq9M8zaKImCOcd22bC8-IKQfuS_opISpUAapT-pHQVsrwwYdwzLUhDOr88zqli8EA_bBo-hATBTYMw7gRuZg8Gip1i5tKDCqWp_AQZKeirREEmeRbgUTW9awbjClYloF_Tp5V2de6OT=w748-h864-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_17/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>利用 <strong>sort</strong> 先行排序</p>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>因為是文字排序所以自動採用 unicode 編碼排序，但是要排除  a 、 an 、 the 這些詞彙，所以建立 <strong>strip</strong> 方法來排除</p>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>排序結果使用 <strong>arrow function</strong> ，並將結果呈現到 HTML 上</p>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><p>此篇為應用 sort 的部分，應用的方法都是之前的主題學習過的內容，算是進階應用的部分。</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 16-Mouse Move Shadow</title>
    <url>/2018/01/05/Javascript30days-16/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>讓文字陰影因為滑鼠移動而移動。<br><img src="https://lh3.googleusercontent.com/ufNEtUhbxOVSfV0oHRjCFfeX4vIQ4hiPUAsFE4jK6IuVJUKwSfRBPzvHGySLwacnGwtmawNkhKHXsbnpbrs-cDA0yeGEoAw2TNfhkBNsNa7sVYGF9SDA5tD0zvbjNx0Ama53S9IL577O0DjF1cS1zdp_OZxI-w6MgB0zKZ-RSZYFuo6V6SozYc3DtrqRQYSJEFTsIGSWeBVLrE-KR88tx3QZLwS2ffdtIKWYmD9It4Q3eUM1KTCI6YSnAZQCE5cElabXMWBWQXA5vlE7L4UvN_kAPUteR_-xPAfvFmWjyQTxUEoCIsZJEknEbyrF4w6fe7OiDQektpVdW6zyKPT0p1sgnfgRR8FIJsW6ny7909Xl6z4sK-gkcKQvl6qxYOEj_6x9ZDok3dxIsTvEkD2AuPh9aoKgXClhn3n-Db8vOd7hMMY7oXfPiuZNets6m6ElYYaO0ZjLBR7JoeDxTuE1eN2_C3iT0r4ogeB8SnL9fBMYRUsJaS-elYSKNLKjs9XO7zFqhwAfE4rTHPjs4saMnpjbfEXT0eIZazwqxXt_MOFTmQYNSqVH45ZqsLpaWh8CHJyywOzJC0ZAj3o0XADsAS0Qf3rXCiBd3uBgV9UJRcoBL0NN8BlEMMm8hiDVjR0igqYcV65ZX_nCdkbZaTlF5fVtEPGxV1qh=w1028-h679-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_16/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><ul>
<li>因為 <strong>.hero</strong> 的樣式被設定滿版，所以直接取得 <strong>.hero</strong> 的 <strong>DOM</strong></li>
<li>建立 <strong>mousemove</strong> 事件與綁定 <strong>shadow</strong></li>
</ul>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>此步驟需要注意的是，利用 offset 來計算，另外因為事件綁定是 <strong>mousemove</strong> 所以在移動到文字上時，所取得的 offset 值會變成該文字 DOM 內的資料，所以需要進行判斷式，來針對數值調整</p>
<ul>
<li>設定變數 <strong>walk</strong> 為陰影移動固定值</li>
<li><strong>shadow</strong> 內，取得 <strong>hero</strong> 的長寬，利用 <strong>offsetWidth</strong> 與 <strong>offsetHeight</strong></li>
<li><strong>shadow</strong> 內，利用 e 取得目前滑鼠在畫面中的 <strong>offsetX</strong> 與 <strong>offsetY</strong></li>
<li>當 <strong>e.target</strong> 為文字 DOM 時，讓數值添加 <strong>offsetLeft</strong> 或是 offsetTop</li>
</ul>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><ul>
<li>使用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/round" target="_blank" rel="noopener"><strong>Math.round()</strong></a> 來取整數近似值</li>
<li>為了使陰影移動到文字的上邊與左邊，計算出來的值扣除 <strong>walk</strong> 的一半</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> xWalk = <span class="built_in">Math</span>.round(mouseX / width * walk - walk / <span class="number">2</span>);</span><br><span class="line"><span class="keyword">const</span> yWalk = <span class="built_in">Math</span>.round(mouseY / height * walk - walk / <span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>添加多組陰影</li>
</ul>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="HTML-部分"><a href="#HTML-部分" class="headerlink" title="HTML 部分"></a>HTML 部分</h2><h3 id="contenteditable"><a href="#contenteditable" class="headerlink" title="contenteditable"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/HTML/Global_attributes/contenteditable" target="_blank" rel="noopener">contenteditable</a></h3><p>表示該元素是否可以被使用者編輯</p>
<h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Math-round"><a href="#Math-round" class="headerlink" title="Math.round()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/round" target="_blank" rel="noopener">Math.round()</a></h3><div class="note info"><p>Math.round() 函數回傳四捨五入後的近似值.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/round" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="MouseEvent-offsetX-與-MouseEvent-offsetY"><a href="#MouseEvent-offsetX-與-MouseEvent-offsetY" class="headerlink" title="MouseEvent.offsetX 與 MouseEvent.offsetY"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/offsetX" target="_blank" rel="noopener">MouseEvent.offsetX</a> 與 <a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/offsetY" target="_blank" rel="noopener">MouseEvent.offsetY</a></h3><p>滑鼠移動點與事件對象在 X 軸或是 Y 軸的偏移量值。</p>
<h3 id="HTMLElement-offsetLeft-與-HTMLElement-offsetTop"><a href="#HTMLElement-offsetLeft-與-HTMLElement-offsetTop" class="headerlink" title="HTMLElement.offsetLeft 與 HTMLElement.offsetTop"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetLeft" target="_blank" rel="noopener">HTMLElement.offsetLeft</a> 與 <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop" target="_blank" rel="noopener">HTMLElement.offsetTop</a></h3><div class="note info"><p><strong>offsetLeft</strong> 返回當前元素左上角相對於 <strong>HTMLElement.offsetParent</strong> 節點的左邊界偏移的像素值。</p>
<p><strong>offsetTop</strong> 返回當前元素相對於 <strong>offsetParent</strong> 元素頂部的偏移值。</p>
</div>

<h3 id="HTMLElement-offsetWidth-與-HTMLElement-offsetHeight"><a href="#HTMLElement-offsetWidth-與-HTMLElement-offsetHeight" class="headerlink" title="HTMLElement.offsetWidth 與 HTMLElement.offsetHeight"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/HTMLElement/offsetWidth" target="_blank" rel="noopener">HTMLElement.offsetWidth</a> 與 <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight" target="_blank" rel="noopener">HTMLElement.offsetHeight</a></h3><div class="note info"><p><img src="https://mdn.mozillademos.org/files/347/Dimensions-offset.png" alt="Dimensions-offset"><br><strong>資料來源</strong> - <a href="HTMLElement.offsetWidth"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 15-LocalStorage</title>
    <url>/2018/01/04/Javascript30days-15/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>讓使用者可以自行記錄該小吃的項目，並確認是否選擇，只要使用同電腦同瀏覽器，前一次輸入資料將會保留(不主動清除的話)；此篇主題為使用 <strong>LocalStorage</strong> ，所以除了看畫面之外，可以搭配 <strong>Console</strong> 來觀看。<br><img src="https://lh3.googleusercontent.com/n9qQxCxSxsHiAW2Tepz-CFMmCkCQyWd5EIwXfaJMr41ghhS1F5GGzn-7VfsGOTCJGOvM3JWUOYQqfT6o9448ljwPmVINDwIdu0Q7dxAjdMBQRHq50Zw6cXr_4y2uWado25Ev716aDiFm8xIy_MNgFP_DFfrgZGlMtX5wPJZzerjcuzp_5bjiWoF2p8Wm48ADKSZu5DbMnBLC-sMvl9w4SgJ41XWZEZnaOP159L1AAVyTgCxmfA-e72x2ZEU54pE_a5cT-Yd_KLdtDiEH2UTJCC71d9n9iXSC1-N8UAjVBK6a1AMsSrUVd7jBKmb3wWbrN8ldy12pnwxgGh8cW5zEP737bKoQbtkUkjWn6HBbSfNsXBJKmbmskA-8bOsOe_28EyDUbjFfmX_aUvgPRJ1wDN2-MrOTQb2B9KunFbOHE9TGZXd0Ic8BLC_Wp3QAwEplTCETJ5vg3JlI5fk7PRykFjJxN9JZeNJf9W0aWMVlU4fSmixyjrGBpA1T-_NgTLLk-XVG9bdtmccqtGMgtjHIIiNiWK_BkR3BodoeEO_qKaTWSqk3I-im5Nwvv_l2tsBIlwFWCX1uiI7-7O54zP1cLQJKy7Ko2DHdSGFBY3s9vgc4Vjf01g6qTcKV8n2Wvn4_uAvfuFfZTXWcMhqugueyKoBpeHTLdvRw=w769-h572-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_15/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><ul>
<li>讓變數讀取 localStorage 的資料，沒有的話給予空陣列</li>
<li>設定按鈕事件，並讓事件停止冒泡</li>
<li>添加各種瀏覽器的停止冒泡功能</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 事件停止冒泡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">event</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stopPopup</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!event) event = <span class="built_in">window</span>.event;</span><br><span class="line">  event.cancelBubble = <span class="literal">true</span>;</span><br><span class="line">  event.returnValue = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">if</span> (event.stopPropagation) &#123;</span><br><span class="line">    event.preventDefault();</span><br><span class="line">    event.stopPropagation();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><ul>
<li>取得輸入框的輸入值</li>
<li>將輸入資料增加到陣列變數</li>
<li>將陣列資料回存至 <strong>localStorage</strong></li>
</ul>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><ul>
<li>使用 JS 來動態增加 html tag ，此處範例直接使用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Template_literals" target="_blank" rel="noopener"><strong>Template literals</strong></a></li>
<li>將方法分解至單筆資料新增的 <strong>populateItem</strong> function</li>
<li>利用 forEach 來完成</li>
</ul>
<h2 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4."></a>步驟 4.</h2><ul>
<li>進行選單勾選的事件</li>
<li>勾選後更新 items 變數與更新 localStorage</li>
</ul>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="HTML-部分"><a href="#HTML-部分" class="headerlink" title="HTML 部分"></a>HTML 部分</h2><p>此次範例中的魚標誌，是使用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/SVG" target="_blank" rel="noopener">SVG</a> 繪製</p>
<h3 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Applying_SVG_effects_to_HTML_content" target="_blank" rel="noopener">SVG</a></h3><div class="note info"><p><strong>可縮放向量圖形 (Scalable Vector Graphics，SVG)</strong> 是用於描述二維向量圖形的 XML 標記語言。基本上，SVG 用於圖形，而 XHTML 用於文字。<br>SVG 類似 Adobe 專有的 Flash 技術，SVG 與 Flash 兩者最大的分別在於 SVG 為 W3C 所推薦 (即標準)，並以 XML 為基礎，而非封閉的二進制格式。SVG 設計為與其他 W3C 標準 (如 CSS、DOM 及 SMIL) 一同運作。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/SVG" target="_blank" rel="noopener"><strong>MDN</strong></a></p>
</div>

<h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Window-localStorage"><a href="#Window-localStorage" class="headerlink" title="Window.localStorage"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Window/localStorage" target="_blank" rel="noopener">Window.localStorage</a></h3><p>資料暫存在瀏覽器上，並且不會自動刪除，除非自行清除瀏覽資料；使用無痕瀏覽的話，關閉視窗等於清除掉。</p>
<h3 id="Document-createElement"><a href="#Document-createElement" class="headerlink" title="Document.createElement()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Document/createElement" target="_blank" rel="noopener">Document.createElement()</a></h3><div class="note info"><p>於 HTML 文件中，Document.createElement() 方法可以依指定的標籤名稱（tagName）建立 HTML 元素，或是在未定義標籤名稱下建立一個 HTMLUnknownElement。在 XUL 文件中，Document.createElement() 將會建立指定的 XUL 元素。而在其它文件，則會建立一個 namespace URI 為 null 的元素。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Document/createElement" target="_blank" rel="noopener"><strong>MDN</strong></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 19-Webcam Fun</title>
    <url>/2018/01/09/Javascript30days-19/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>練習操作 Webcam 攝像頭，將攝像頭影像投射到 Video 上，並利用 canvas 來擷取圖片，練習濾鏡的操作。<br><img src="https://lh3.googleusercontent.com/Dn9HwhKBJ_YC5ANkWLNYdWaUWbP3-uWzLB3_K7sT44SimrflLUOmn4Trj6LwzNFExUuLW60-v_IwpoZcpj7BmL_QD7B2dJ22uOoZXWR2CqFNKPlxnAmUKchcEwpsyTfzNVX2_EgrSfAyo1IhEtX5Iyhzq7HtryAmFJ361DSb71xn7xf7GaIS70RmhykGa2IzLODyT3UdHcO3zKqTVMmrmzlRPOtv06H8SumgRiTrYybP-tOBSeD3zr0V9js1dTpuflgBIoWMRMLg-rrCKooWs4EMRud09k5hiAbd2HbCdeRo2Yjc_yEPKoRgZ5agYZWs9pWjOtbgjIzspTtZK26x7AUBbpHXRms4WP_pvcORdKuQols4Ri1thag26yWzdXlZ9KLtmYVRfmQENVODM2BJtKhUHiDclspLNjIp4tf_I7YtUr_Zq5JcGF2TfT3YMQOkeRheeKt0TPfSeiZoC39yWQ_eJcVDYS7J_lfM9Kh7L7WSoTi7j1Zp-ybouwykt_iZUBbYfFlv9IqPd6nGdqSe_AowuM0_WoP8GlnmIveJkeX4GT2oMx-AZGQtP6a-jZiff094P0fExstrPvNVdY4sB8AeoGgROpB25VqX-a3GbwEldENiyuNWLDoR0XR5IIPEYy0hKz9IVZXFjREEH1now2jolH9cRZOq=w764-h605-no" alt="target"></p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_19/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h2><p>必須先安裝 <a href="https://nodejs.org/en/" target="_blank" rel="noopener"><strong>node.js</strong></a>，之後按照以下的設定，設定 <strong>package.json</strong> </p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"gum"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"browser-sync start --server --files \"*.css, *.html, *.js\""</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"browser-sync"</span>: <span class="string">"^2.12.5"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由於此篇主題需要伺服器模擬，所以使用了 <a href="https://www.browsersync.io/" target="_blank" rel="noopener">Browsersync</a> ，其啟動方式透過</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure>

<p>或是</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">browser-sync start --server --files <span class="string">"*.css, *.html, *.js"</span></span><br></pre></td></tr></table></figure>

<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>啟動視訊裝置，並寫入 <strong>video tag</strong> 呈現出來</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> video = <span class="built_in">document</span>.querySelector(<span class="string">".player"</span>);</span><br><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">".photo"</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 啟動 webcam</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getVideo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 取得user的視訊裝置</span></span><br><span class="line">  navigator.mediaDevices</span><br><span class="line">    .getUserMedia(&#123; <span class="attr">video</span>: <span class="literal">true</span>, <span class="attr">audio</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">    <span class="comment">// 把回傳的 MediaStream 寫進 html 的 video tag 中並播放</span></span><br><span class="line">    .then(<span class="function"><span class="params">localMediaStream</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//console.log(localMediaStream);</span></span><br><span class="line">      video.src = <span class="built_in">window</span>.URL.createObjectURL(localMediaStream);</span><br><span class="line">      video.play();</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">`OH NO!!!`</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 將 webcam 拍攝影像繪製到 canvas 上</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paintToCanvas</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> width = video.videoWidth;</span><br><span class="line">  <span class="keyword">const</span> height = video.videoHeight;</span><br><span class="line">  canvas.width = width;</span><br><span class="line">  canvas.height = height;</span><br><span class="line">  <span class="keyword">return</span> setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ctx.drawImage(video, <span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">  &#125;, <span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getVideo();</span><br><span class="line">video.addEventListener(<span class="string">"canplay"</span>, paintToCanvas);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>參考資料<br><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Navigator/mediaDevices" target="_blank" rel="noopener">Navigator.mediaDevices</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia" target="_blank" rel="noopener">MediaDevices.getUserMedia()</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL" target="_blank" rel="noopener">URL.createObjectURL()</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/Events/canplay" target="_blank" rel="noopener">canplay</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage" target="_blank" rel="noopener">CanvasRenderingContext2D.drawImage()</a></p>
</blockquote>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>拍照截圖按鍵觸發功能</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 攝像頭截圖</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">takePhoto</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// played the sound</span></span><br><span class="line">  snap.currentTime = <span class="number">0</span>;</span><br><span class="line">  snap.play();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// take the data out of the canvas</span></span><br><span class="line">  <span class="keyword">const</span> data = canvas.toDataURL(<span class="string">"image/jpeg"</span>);</span><br><span class="line">  <span class="keyword">const</span> link = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span><br><span class="line">  <span class="comment">// 設置連結位置為轉圖檔後的base64位置</span></span><br><span class="line">  link.href = data;</span><br><span class="line">  <span class="comment">// 設置連結為下載並設定預設下載檔名</span></span><br><span class="line">  link.setAttribute(<span class="string">"download"</span>, <span class="string">"handsome"</span>);</span><br><span class="line">  link.innerHTML = <span class="string">`&lt;img src="<span class="subst">$&#123;data&#125;</span>" alt="Handsome Man" /&gt;`</span>;</span><br><span class="line">  <span class="comment">// strip.firsChild 永遠為 null 因為 strip 為 const 所以無法得到最新的資料</span></span><br><span class="line">  strip.insertBefore(link, <span class="literal">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>參考資料<br><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore" target="_blank" rel="noopener">Node.insertBefore()</a></p>
</blockquote>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>添加畫面與色彩分離功能</p>
<p><img src="https://lh3.googleusercontent.com/_XhwBxLYI-kjBx9-Uw8g-XXr7JRIYVkqzxUbVPWD-JeoNlxs38drNUo2eRfRL2KcOIKcYCAaLww68e-Au9o0ccgcxqRZ13LArSU7QClIdQf5VngqveaUa18Mg_nIWVUy6WVKOtnG0rzGqevZzkTx8DV5S8-T_8FhbDJXoZdhOlB0a2T0Ub4WyutQ4SU9wp81r2Afp8bM-V7sysqJhxzE8jDTJqwuI363zdMndYBrjwphQ8VT-C4kn7AO5QQKrTe3ga5-VPM1eYIVqDFUqVTWMTm2MzpG2_I3otOdt6YIJ-0Q0oeXHM1JFDZGKPrgPXrhG3Yi4GhHzOOQ_CmocB_uf1q1FiBvYeMztA38hQtFZ7H1Y_Ff88f9u_9EWvwhPh6JI3LjIvqj9h-HCcPXKb8V5HchooZicvlgy3J_7S2A7a-ejRkUdS9njXwrRzE-JN5H3-2nWff7IkOMSINADB1ED8yelLSkUYdYM-fQzJNGQLy3FI3HcGDyPfkUUGqiEt-18T70qkSvuLmF1UxE-lzn7NoVEu19nwCQJ7jhkZybdPjbQDPK-37Z8jI11_27Y5ZrWhczwoZ5Q6cMxK9aM3VfHWMQvl1ARk2nK3A7fNmbbQgPmeI2yFTyqjr6qywLKjobMsCRVLORn5yeSPSwYyHq9B5ddCgViywo=w872-h766-no" alt="split pixels"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 畫面色彩分割</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">pixels</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rgbSplit</span>(<span class="params">pixels</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pixels.data.length; i += <span class="number">4</span>) &#123;</span><br><span class="line">    pixels.data[i - <span class="number">150</span>] = pixels.data[i + <span class="number">0</span>]; <span class="comment">// RED</span></span><br><span class="line">    pixels.data[i + <span class="number">500</span>] = pixels.data[i + <span class="number">1</span>]; <span class="comment">// GREEN</span></span><br><span class="line">    pixels.data[i - <span class="number">550</span>] = pixels.data[i + <span class="number">2</span>]; <span class="comment">// Blue</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pixels;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paintToCanvas</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> width = video.videoWidth;</span><br><span class="line">  <span class="keyword">const</span> height = video.videoHeight;</span><br><span class="line">  canvas.width = width;</span><br><span class="line">  canvas.height = height;</span><br><span class="line">  <span class="keyword">return</span> setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ctx.drawImage(video, <span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// take the pixels out</span></span><br><span class="line">    <span class="keyword">let</span> pixels = ctx.getImageData(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    <span class="comment">//console.log(pixels);</span></span><br><span class="line"></span><br><span class="line">    pixels = rgbSplit(pixels);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重置分割畫面</span></span><br><span class="line">    ctx.putImageData(pixels, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;, <span class="number">16</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>參考資料<br><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/getImageData" target="_blank" rel="noopener">getImageData()</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData" target="_blank" rel="noopener">putImageData()</a></p>
</blockquote>
<h2 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4."></a>步驟 4.</h2><p>添加紅色濾鏡功能</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 紅色濾鏡效果</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">pixels</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">redEffect</span>(<span class="params">pixels</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pixels.data.length; i += <span class="number">4</span>) &#123;</span><br><span class="line">    pixels.data[i + <span class="number">0</span>] = pixels.data[i + <span class="number">0</span>] + <span class="number">200</span>; <span class="comment">// RED</span></span><br><span class="line">    pixels.data[i + <span class="number">1</span>] = pixels.data[i + <span class="number">1</span>] - <span class="number">50</span>; <span class="comment">// GREEN</span></span><br><span class="line">    pixels.data[i + <span class="number">2</span>] = pixels.data[i + <span class="number">2</span>] * <span class="number">0.5</span>; <span class="comment">// Blue</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pixels;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-5"><a href="#步驟-5" class="headerlink" title="步驟 5."></a>步驟 5.</h2><p>綠幕功能效果</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greenScreen</span>(<span class="params">pixels</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> levels = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.querySelectorAll(<span class="string">".rgb input"</span>).forEach(<span class="function"><span class="params">input</span> =&gt;</span> &#123;</span><br><span class="line">    levels[input.name] = input.value;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; pixels.data.length; i = i + <span class="number">4</span>) &#123;</span><br><span class="line">    red = pixels.data[i + <span class="number">0</span>];</span><br><span class="line">    green = pixels.data[i + <span class="number">1</span>];</span><br><span class="line">    blue = pixels.data[i + <span class="number">2</span>];</span><br><span class="line">    alpha = pixels.data[i + <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      red &gt;= levels.rmin &amp;&amp;</span><br><span class="line">      green &gt;= levels.gmin &amp;&amp;</span><br><span class="line">      blue &gt;= levels.bmin &amp;&amp;</span><br><span class="line">      red &lt;= levels.rmax &amp;&amp;</span><br><span class="line">      green &lt;= levels.gmax &amp;&amp;</span><br><span class="line">      blue &lt;= levels.bmax</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="comment">// take it out!</span></span><br><span class="line">      pixels.data[i + <span class="number">3</span>] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pixels;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="HTML-部分"><a href="#HTML-部分" class="headerlink" title="HTML 部分"></a>HTML 部分</h2><h3 id="a-tag-attribute-download"><a href="#a-tag-attribute-download" class="headerlink" title="a tag attribute download"></a><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a" target="_blank" rel="noopener">a tag attribute download</a></h3><p>此屬性告知瀏覽器下載這個連結，假如屬性有設定資料，則為下載檔案的預設檔名。</p>
<h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Navigator-mediaDevices"><a href="#Navigator-mediaDevices" class="headerlink" title="Navigator.mediaDevices"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Navigator/mediaDevices" target="_blank" rel="noopener">Navigator.mediaDevices</a></h3><p>唯讀屬性，取得 MediaDevices 物件，連接視訊裝置，包含攝影鏡頭與麥克風。</p>
<h3 id="MediaDevices-getUserMedia"><a href="#MediaDevices-getUserMedia" class="headerlink" title="MediaDevices.getUserMedia()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia" target="_blank" rel="noopener">MediaDevices.getUserMedia()</a></h3><div class="note info"><p>MediaDevices.getUserMedia()方法提示用户允许使用一个视频和/或一个音频输入设备，例如相机或屏幕共享和/或麦克风。如果用户给予许可，就返回一个Promise 对象，MediaStream对象作为此Promise对象的Resolved［成功］状态的回调函数参数，相应的，如果用户拒绝了许可，或者没有媒体可用的情况下，PermissionDeniedError 或者NotFoundError作为此Promise的Rejected［失败］状态的回调函数参数。注意，由于用户不会被要求必须作出允许或者拒绝的选择，所以返回的Promise对象可能既不会触发resolve 也不会触发 reject。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MediaDevices/getUserMedia" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="URL-createObjectURL"><a href="#URL-createObjectURL" class="headerlink" title="URL.createObjectURL()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL" target="_blank" rel="noopener">URL.createObjectURL()</a></h3><div class="note info"><p>靜態方法 URL.createObjectURL() 用於建立一個帶有URL的 DOMString 以代表參數中所傳入的物件. 該URL的生命週期與創造它的window中的 document一致. 這個新的物件URL 代表了所指定的 File 物件 或是 Blob 物件.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/URL/createObjectURL" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="canplay"><a href="#canplay" class="headerlink" title="canplay"></a><a href="https://developer.mozilla.org/en-US/docs/Web/Events/canplay" target="_blank" rel="noopener">canplay</a></h3><p>播放媒體檔案時候觸發</p>
<h3 id="CanvasRenderingContext2D-drawImage"><a href="#CanvasRenderingContext2D-drawImage" class="headerlink" title="CanvasRenderingContext2D.drawImage()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage" target="_blank" rel="noopener">CanvasRenderingContext2D.drawImage()</a></h3><p>Canvas 2D API 中的方法，在 Canvas 上繪製圖案</p>
<h3 id="CanvasRenderingContext2D-getImageData"><a href="#CanvasRenderingContext2D-getImageData" class="headerlink" title="CanvasRenderingContext2D.getImageData()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/getImageData" target="_blank" rel="noopener">CanvasRenderingContext2D.getImageData()</a></h3><div class="note info"><p>返回一个ImageData对象，用来描述canvas区域隐含的像素数据，这个区域通过矩形表示，起始点为(sx, sy)、宽为sw、高为sh。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/getImageData" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="CanvasRenderingContext2D-putImageData"><a href="#CanvasRenderingContext2D-putImageData" class="headerlink" title="CanvasRenderingContext2D.putImageData()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData" target="_blank" rel="noopener">CanvasRenderingContext2D.putImageData()</a></h3><div class="note info"><p>CanvasRenderingContext2D.putImageData() 是 Canvas 2D API 将数据从已有的 ImageData 对象绘制到位图的方法。 如果提供了一个绘制过的矩形，则只绘制该矩形的像素。此方法不受画布转换矩阵的影响。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/putImageData" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="Node-insertBefore"><a href="#Node-insertBefore" class="headerlink" title="Node.insertBefore()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore" target="_blank" rel="noopener">Node.insertBefore()</a></h3><p>在目前元素 ( DOM ) 中的子節點中插入一個子元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Get a reference to the element in which we want to insert a new node</span></span><br><span class="line"><span class="keyword">var</span> parentElement = <span class="built_in">document</span>.getElementById(<span class="string">'parentElement'</span>);</span><br><span class="line"><span class="comment">// Get a reference to the first child</span></span><br><span class="line"><span class="keyword">var</span> theFirstChild = parentElement.firstChild;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a new element</span></span><br><span class="line"><span class="keyword">var</span> newElement = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Insert the new element before the first child</span></span><br><span class="line">parentElement.insertBefore(newElement, theFirstChild);</span><br></pre></td></tr></table></figure>

<h3 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval" target="_blank" rel="noopener">setInterval()</a></h3><p>需要每隔一段時間就重複執行的 <strong>function</strong> 就可以呼叫此方法。</p>
<h3 id="globalAlpha"><a href="#globalAlpha" class="headerlink" title=".globalAlpha"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalAlpha" target="_blank" rel="noopener">.globalAlpha</a></h3><p>Canvas 2D API 設定透明度的屬性，設定區間在 <strong>0.0</strong> 和 <strong>1.0</strong> 之間。預設值為 <strong>1.0</strong></p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 18-Adding Up Times With Reduce</title>
    <url>/2018/01/07/Javascript30days-18/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>計算列表中的 <strong>dataset</strong> 時間的總和，在 <strong>console</strong> 輸出<strong>時、分、秒</strong>的數據，此篇需要搭配 <strong>console</strong> 觀看</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Videos<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"videos"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:43"</span>&gt;</span></span><br><span class="line">      Video 1</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"2:33"</span>&gt;</span></span><br><span class="line">      Video 2</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 以下省略... --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_18/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>一開始取得所有 <strong>data-time</strong> 的 DOM，並注意轉換為 <strong>Array</strong></p>
<p><strong>querySelectorAll</strong> 取出來的資料是類似 <strong>Array</strong> 而已，所以加上 <strong>Array.from</strong> 轉換為 <strong>Array</strong> </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> timeNodes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">"[data-time]"</span>));</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><ul>
<li>利用 <strong>map</strong> 來取得 <strong>dataset</strong> 資料</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> seconds = timeNodes</span><br><span class="line">  .map(<span class="function"><span class="params">node</span> =&gt;</span> node.dataset.time)</span><br></pre></td></tr></table></figure>

<ul>
<li>繼續利用 <strong>map</strong> 將分與秒轉換為秒數</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> seconds = timeNodes</span><br><span class="line">  .map(<span class="function"><span class="params">node</span> =&gt;</span> node.dataset.time)</span><br><span class="line">  .map(<span class="function"><span class="params">timeCode</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [mins, secs] = timeCode.split(<span class="string">":"</span>).map(<span class="built_in">parseFloat</span>);</span><br><span class="line">    <span class="keyword">return</span> mins * <span class="number">60</span> + secs;</span><br><span class="line">    <span class="built_in">console</span>.log(mins, secs);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>透過 <strong>reduce</strong> 來加總資料</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> seconds = timeNodes</span><br><span class="line">  .map(<span class="function"><span class="params">node</span> =&gt;</span> node.dataset.time)</span><br><span class="line">  .map(<span class="function"><span class="params">timeCode</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [mins, secs] = timeCode.split(<span class="string">":"</span>).map(<span class="built_in">parseFloat</span>);</span><br><span class="line">    <span class="keyword">return</span> mins * <span class="number">60</span> + secs;</span><br><span class="line">    <span class="built_in">console</span>.log(mins, secs);</span><br><span class="line">  &#125;)</span><br><span class="line">  .reduce(<span class="function">(<span class="params">total, vidSeconds</span>) =&gt;</span> total + vidSeconds);</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>總秒數取出來後，劃分時、分、秒的數值，利用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/floor" target="_blank" rel="noopener"><strong>Math.floor</strong></a> 與 <strong>%</strong> 取得餘數的方式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> secondsLeft = seconds;</span><br><span class="line"><span class="keyword">const</span> hours = <span class="built_in">Math</span>.floor(secondsLeft / <span class="number">3600</span>);</span><br><span class="line"><span class="comment">// 取得餘數</span></span><br><span class="line">secondsLeft = secondsLeft % <span class="number">3600</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mins = <span class="built_in">Math</span>.floor(secondsLeft / <span class="number">60</span>);</span><br><span class="line">secondsLeft = secondsLeft % <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hours,mins,secondsLeft);</span><br></pre></td></tr></table></figure>


<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Math-floor"><a href="#Math-floor" class="headerlink" title="Math.floor()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/floor" target="_blank" rel="noopener">Math.floor()</a></h3><p>類似無條件捨去，直接取整數，需要注意的是負數的運用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Math</span>.floor( <span class="number">45.95</span>); </span><br><span class="line"><span class="comment">// 45 </span></span><br><span class="line"><span class="built_in">Math</span>.floor( <span class="number">45.05</span>); </span><br><span class="line"><span class="comment">// 45 </span></span><br><span class="line"><span class="built_in">Math</span>.floor( <span class="number">4</span> ); </span><br><span class="line"><span class="comment">// 4 </span></span><br><span class="line"><span class="built_in">Math</span>.floor(<span class="number">-45.05</span>); </span><br><span class="line"><span class="comment">// -46 </span></span><br><span class="line"><span class="built_in">Math</span>.floor(<span class="number">-45.95</span>); </span><br><span class="line"><span class="comment">// -46</span></span><br></pre></td></tr></table></figure>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 20-Speech Detection</title>
    <url>/2018/01/12/Javascript30days-20/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>語音識別 API 操作，透過 SpeechRecognition 來進行語音辨識，並呈現文字</p>
<p><img src="https://lh3.googleusercontent.com/rZILs6WY6ZYaWDm7tH0TRtfGJr10DLYBnNBxQykZLILhDB5pakVRo3EDXIkeIKxOJ_teWv0W_KlNbAkT_y16j9dYE9CxRIDUlOATu7awd5rMA8vqiO0C4qJSbPVjrhFSkiX1I4dAjk4CMufkGhdeRUxtZRXdCUhaQXmKLOLNSBxPzZ1ipg94sMT9yWeiR06CVKjyonkOFd1X46y-VbfCh00kX7hPGhLQwwvUvg3fItHZvM_U9vn1fAzk-mL2oz3Ajo1AQLk8gy45uvzmJj_I6rmTW9IThsWDBnwkkU4XjNPz7BB3vI5Z2dwJZhxcV7bYuJ1Cbeykcudm-j5lahFXu5XTTnC2KKqxgLHu0xTE8Cg7MPfnrSuvuCq58q2CC6xDkKfK3OZfhb9bBZkDTS_BNN2QTqzmCElFVClSCgCWff9ooNmAKXUVxO0ynMT5ePFnGFhs5U7O3G3vbd8VDmzg-jxxOTNuQrz7uzdvnBgo_AKKMRW694JViLw3gJJB8KSVhgiaRq4yhcd4zf3IQ2Ip95hMWkq_RuKielM3vOyH5ikwPMs4T-e7HotTOb800cWf5AkIqXhq2zRdLw2dAYhWepMDzVxhi8jnH-4MCAb5ISkcgv5VunMixME965s70yUPL4x8ouPMet-6UGAEiAmvgsAGR4qC6dfz=w799-h612-no" alt="target"></p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_20/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><ul>
<li>啟動語音</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.SpeechRecognition = <span class="built_in">window</span>.SpeechRecognition || <span class="built_in">window</span>.webkitSpeechRecognition;</span><br></pre></td></tr></table></figure>

<ul>
<li>宣告變數為語音辨識</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> recognition = <span class="keyword">new</span> SpeechRecognition();</span><br></pre></td></tr></table></figure>

<ul>
<li>建立 <strong>p tag</strong> ，等下將辨識文字顯示在上</li>
<li>啟用識別 <code>recognition.start();</code></li>
<li>當識別結束，重複識別 </li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">recognition.addEventListener(<span class="string">"end"</span>, recognition.start);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>參考資料<br><a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition/SpeechRecognition" target="_blank" rel="noopener">SpeechRecognition()</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition/interimResults" target="_blank" rel="noopener">interimResults</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition/start" target="_blank" rel="noopener">SpeechRecognition event start</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/Events/end_(SpeechRecognition)" target="_blank" rel="noopener">SpeechRecognition event end</a></p>
</blockquote>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>產生識別結果後，將文字呈現在 <strong>p tag</strong> 內容中，識別結果為 <strong>SpeechRecognitionResultList</strong> 取得 <strong>transcript</strong> 屬性，就是辨識文字</p>
<p><img src="https://lh3.googleusercontent.com/ynEh6schMIl-SBBgQs3KrLTeZObsQR838kmSDYDWzOzpA77_9HzKVjH1vEgDe_mqmiP_wmi7Om9WjE9lhiXmIxiimzLKhWRYmaZGnpJorbtDG99-pALeovsItUhBXfGAQ9sEcMhwadelta4GkF5_jMojPJIvZszw2Kc8DKGFscscGUhwAC6E_2YwvDSanils08uxX2mn8ahx5skwhmmM9kAmCYNQpTh_di6tniq2hHX7Y2l7F9NtnZ4cVIhLwezqtGWkGdIg1VqBsArrmF6ZdCHIbV5swq33wUGfyMYwyHg-p2Hs9_8dXnwf3ZE87eItxRwWUnbITt-5MALMHlNrR_i0vNWjLf_U_kgPPkbu7RfMdE9j-TIqIwpPwzg7TcGD36MLS-b_v7bGuBgLFGbhgi7Joc9lk3NzcqgsRy8IwV5A0QU6jIlaSE2yGogthnuKTnSjPtXEALHngLrnFY3fvSCfvBsCu1EmcHXh2S0UpSapttlMIEKjFFZu7dHn_g4CNwRM1q-XNJi8TXDzc6mAZRKWD6qNmhmehmAHomioeIM-Kzi2GczWRb71IMeI0vnUzaRdlfyCizKMT3-8PIu43Z3xHU_g0v-7j1sZhDr3ENGDHd1IckWaGjws7U0knyeiyTPAb4LR_u9-YHxiTC8JVICHVxNUnnXo=w767-h189-no" alt="SpeechResult"></p>
<p>當確認辨識結束，建立新的 <strong>p tag</strong> 元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">recognition.addEventListener(<span class="string">"result"</span>, e =&gt; &#123;</span><br><span class="line">  <span class="comment">// 識別結果為 SpeechRecognitionResultList 取得 transcript 屬性，就是辨識文字</span></span><br><span class="line">  <span class="keyword">const</span> transcript = <span class="built_in">Array</span>.from(e.results)</span><br><span class="line">    .map(<span class="function"><span class="params">result</span> =&gt;</span> result[<span class="number">0</span>])</span><br><span class="line">    .map(<span class="function"><span class="params">result</span> =&gt;</span> result.transcript)</span><br><span class="line">    .join(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 輸出辨識文字內容</span></span><br><span class="line">    p.textContent = transcript;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 確認辨識結束，就產生新的 p 元素</span></span><br><span class="line">  <span class="keyword">if</span> (e.results[<span class="number">0</span>].isFinal) &#123;</span><br><span class="line">    p = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span><br><span class="line">    words.appendChild(p);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>參考資料<br><a href="https://developer.mozilla.org/en-US/docs/Web/Events/result" target="_blank" rel="noopener">SpeechRecognition event result</a></p>
</blockquote>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>當辨識文字出現特定文字的時候，可以使用 <strong>replace</strong> 取代呈現。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 特殊內容使用符號文字取代</span></span><br><span class="line">    <span class="keyword">const</span> poopScript = transcript.replace(<span class="regexp">/poop|poo|shit|dump/gi</span>, <span class="string">'💩'</span>);</span><br><span class="line">    p.textContent = poopScript;</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="SpeechRecognition"><a href="#SpeechRecognition" class="headerlink" title="SpeechRecognition()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition/SpeechRecognition" target="_blank" rel="noopener">SpeechRecognition()</a></h3><p>實驗性功能，所以是尚未確定所有瀏覽器支援的功能。</p>
<h3 id="SpeechRecognition-interimResults"><a href="#SpeechRecognition-interimResults" class="headerlink" title="SpeechRecognition.interimResults"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition/interimResults" target="_blank" rel="noopener">SpeechRecognition.interimResults</a></h3><p>此屬性為布林值，控制是否取得即時辨識結果，預設為 <strong>false</strong></p>
<h3 id="SpeechRecognition-start"><a href="#SpeechRecognition-start" class="headerlink" title="SpeechRecognition.start()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition/start" target="_blank" rel="noopener">SpeechRecognition.start()</a></h3><p>啟動語音識別服務</p>
<h3 id="SpeechRecognition-Events-觸發事件"><a href="#SpeechRecognition-Events-觸發事件" class="headerlink" title="SpeechRecognition Events 觸發事件"></a>SpeechRecognition Events 觸發事件</h3><p>以下為 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API" target="_blank" rel="noopener">Web Speech API</a> 事件</p>
<h4 id="result"><a href="#result" class="headerlink" title="result"></a><a href="https://developer.mozilla.org/en-US/docs/Web/Events/result" target="_blank" rel="noopener">result</a></h4><p>語音辨識結束返回結果的時候觸發。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">recognition.onresult = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// The SpeechRecognitionEvent results property returns a SpeechRecognitionResultList object</span></span><br><span class="line">  <span class="comment">// The SpeechRecognitionResultList object contains SpeechRecognitionResult objects.</span></span><br><span class="line">  <span class="comment">// It has a getter so it can be accessed like an array</span></span><br><span class="line">  <span class="comment">// The first [0] returns the SpeechRecognitionResult at position 0.</span></span><br><span class="line">  <span class="comment">// Each SpeechRecognitionResult object contains SpeechRecognitionAlternative objects that contain individual results.</span></span><br><span class="line">  <span class="comment">// These also have getters so they can be accessed like arrays.</span></span><br><span class="line">  <span class="comment">// The second [0] returns the SpeechRecognitionAlternative at position 0.</span></span><br><span class="line">  <span class="comment">// We then return the transcript property of the SpeechRecognitionAlternative object</span></span><br><span class="line">  <span class="keyword">var</span> color = event.results[<span class="number">0</span>][<span class="number">0</span>].transcript;</span><br><span class="line">  diagnostic.textContent = <span class="string">'Result received: '</span> + color + <span class="string">'.'</span>;</span><br><span class="line">  bg.style.backgroundColor = color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="end"><a href="#end" class="headerlink" title="end"></a><a href="https://developer.mozilla.org/en-US/docs/Web/Events/end_(SpeechRecognition)" target="_blank" rel="noopener">end</a></h4><p>語音辨識服務結束時觸發。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> recognition = <span class="keyword">new</span> SpeechRecognition();</span><br><span class="line"></span><br><span class="line">recognition.onend = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Speech recognition service disconnected'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 21-Geolocation</title>
    <url>/2018/01/15/Javascript30days-21/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>操作 Geolocation API ，取得目前所在方位，與行進速度。</p>
<p><img src="https://lh3.googleusercontent.com/-Vs-vrp3_yZY5eCJ1ZLkoj9VPJ_1WqolVXaH5kzg0-7M4AxDFaPnlcJSqgX09LpKhIRbnv0ny_wfkzBV-kgp9pq2bfOyaKV4GKnojS_mV1dKkXsgv4Qi-BnyVnOV4L9R9Qg1cbYP1lmIkMU2ezpkILd_6uS22qrA7fEn0RKamurMiDh3pG4mri3UhzblNMqYx0TFUdWASYQ8H_U5dRTuyTWApBuJkkj_PERE2Fvv7gRyzB1AWvu6G1BuL6ObNk0Nst7XwM4M5K5uRoIBxAaUW5ldaom8Zq4sxhgGt80yM2d130rdmLimehRlq7CWNvHwWf7cPfrZ5ILJdihxwXh9d2NGYwfIgiTmJdQREfrpustX86covClcSaqSPwcuvkc1xNtvSEQ2p2GiVWpMSlYsR96nHcOH3Ow9WDuMLzmbqSIWUbs0_qtVjriY-oOagdBoXsyuQ02WhTiKaJjXRCGt81UXSubuWMutOmPvYG6C2iyOKuq3Eow0bZ9BIiqK6BtN9kyyAQQU2dK2dQEtgsVrXRLgymJ4wjYNRSYpXTXnN6EbymAJHtfQ543tvxQ_thk0M1QwNXg7rjvFGdU6IlKkDiMwC8zkAdPoXGM8ogHelrz1jJxbpsYZCgiHhdro8U3IuYh-UJ_OIUh4AkrSLTdRLKvm42xpPA96=w464-h633-no" alt="target"></p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_21/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>由於教學影片使用 Xcode 來針對行動裝置模擬，並模擬行進速度與方向，而我使用 Windows 10 ，要直接在模擬器開啟尚須要一些設定，加上不確定 Android 有無 Geolocation 的模擬範例(模擬步行或是開車)，所以就直接上 <a href="https://shunnien.github.io/JavaScript30day/day_21/">Github</a> 看結果。</p>
<p>另外也可以直接連接手機測試，透過 Chrome 的 <a href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/?hl=zh-tw" target="_blank" rel="noopener">remote-debugging</a></p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>取得 DOM 資料</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 取得方向 DOM</span></span><br><span class="line"><span class="keyword">const</span> arrow = <span class="built_in">document</span>.querySelector(<span class="string">".arrow"</span>);</span><br><span class="line"><span class="comment">// 取得速度 DOM</span></span><br><span class="line"><span class="keyword">const</span> speed = <span class="built_in">document</span>.querySelector(<span class="string">".speed-value"</span>);</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>改變顯示資料，但是因為瀏覽器支援因素，目前手上的測試 <strong>speed</strong> 與 <strong>heading</strong> 皆是 <strong>null</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">navigator.geolocation.watchPosition(</span><br><span class="line">  data =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">    speed.textContent = data.coords.speed;</span><br><span class="line">    arrow.style.transform = <span class="string">`rotate(<span class="subst">$&#123;data.coords.heading&#125;</span>deg)`</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  err =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(err);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="地理位置定位-Geolocation"><a href="#地理位置定位-Geolocation" class="headerlink" title="地理位置定位 (Geolocation)"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Geolocation/Using_geolocation" target="_blank" rel="noopener">地理位置定位 (Geolocation)</a></h3><div class="note info"><p>Web Apps 若需要使用者的位置，可透過 Geolocation API 取得相關資訊。而基於隱私權的考量，這些 Web Apps 均必須取得使用者的許可之後，才能發佈位置資訊。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Geolocation/Using_geolocation" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="Geolocation-watchPosition"><a href="#Geolocation-watchPosition" class="headerlink" title="Geolocation.watchPosition()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Geolocation/watchPosition" target="_blank" rel="noopener">Geolocation.watchPosition()</a></h3><div class="note info"><p>Geolocation.watchPosition() 這個方法是用來註冊一個處理的函式，當使用者的裝置位置更新時，這個函式所傳入的回呼函式(callback function) 就會自動被呼叫。你也可以選擇性的定義錯誤時哪些錯誤回呼函式(error callback function) 需要被呼叫。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Geolocation/watchPosition" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="Coordinates"><a href="#Coordinates" class="headerlink" title="Coordinates"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Coordinates" target="_blank" rel="noopener">Coordinates</a></h3><div class="note info"><p>Coordinates 這個介面用來存取裝置的經緯度，速度以及這些數值的準確度。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Coordinates" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 22-Follow Along Link Highlighter</title>
    <url>/2018/01/17/Javascript30days-22/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>製作一個凸顯高亮度來跟隨文章中的超連結<br><img src="https://lh3.googleusercontent.com/m0wgc8PNlsd3MdLBYN1T_Y5E1oybMs8qWj7nYsq7jWDs2F9LcOUNr1CBwimBgzkIkzgYvq10bZ9zQCj7aWRaVotYz2-iXxxsQsHhWV-Kk2wjTRvrg1nIGDA67rFat5KRcyDop33MSdVOJSmGKfvGfz-tQ8lEbwIC8mnNAeF1uz6q-G3LbzooaU6oyZsWw1vNdnl77XjH_lZ7OGhBj0EPkY3mm-cpeFgPfYlrRN0TNk5k_NJgkO_TGCbOCXiOXhn4G11TML1n7CWbHovmlpfgh1znN8R0SdCMvvhGW-_K9R8O97KdSlBPP9Ty7mo88zhyojOjB8IhDJqkyBjJJqLKM_92MZICVygZqMvfdFErBOHP8QL-vqKZJ6Drcxl-yzsW7pctj4ZQe4JTQyahoDwOoBsboHBKOKC6IkRGBuiQC2h8jI_7EH0H8CqRc2_hr8eh5d4_KeZkUHQTwfLZfdOXBR_aNb_Tfd7CzChRQK2LHmKOy170TVtwQBhvGl3IUMGY4XGwyY_IY9UTpSHV7DIU5nwB2sYfLaMihd9VFJXbe6hkLg568ldljhOaRkte77rH0Y6o-VpOEJVVFdhj31grYbzeVWDHX5P__TUY-hu1XfVdpOUgiT_OcByFnaO5kph644_U-CMxkgW6DUqqzPCt39PXv-qqgvYs=w874-h652-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_22/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>此次實作內容也很簡易，建立一個 <strong>span</strong> 元素，並設定 <strong>highlight</strong> class ，然後移動這個元素到選取的文字上。</p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>取得所有超連結</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 取得所有超連結</span></span><br><span class="line"><span class="keyword">const</span> triggers = <span class="built_in">document</span>.querySelectorAll(<span class="string">"a"</span>);</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>建立 <strong>highlight</strong> 元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//建立 highlight 元素</span></span><br><span class="line"><span class="keyword">const</span> highlight = <span class="built_in">document</span>.createElement(<span class="string">"span"</span>);</span><br><span class="line"><span class="comment">// 設定 CSS</span></span><br><span class="line">highlight.classList.add(<span class="string">"highlight"</span>);</span><br><span class="line"><span class="comment">// 加入到 body</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(highlight);</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>針對所有超連結元素綁定 <strong>mouseenter</strong> 事件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// create function highlight link</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">highlightLink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 對所有超連結綁定事件</span></span><br><span class="line">triggers.forEach(<span class="function"><span class="params">a</span> =&gt;</span> a.addEventListener(<span class="string">"mouseenter"</span>, highlightLink));</span><br></pre></td></tr></table></figure>

<h2 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4."></a>步驟 4.</h2><p>function <strong>highlightLink</strong> 內容撰寫，主要是設定 <strong>highlight</strong> 大小與位置，先利用 <strong>getBoundingClientRect</strong> 取得目前元素大小與位置<br><img src="https://lh3.googleusercontent.com/pDy3UpcS2Z7VIv0d3qOfoMGHvac6-IxZdEp34v3ELPT9ibZsTLMK-usFGjcHd7Uh7qw9hgExR4LyRnQoZ0-iFlUTj5Wp4PfysA2ieKyksKFPiKo6LNeEVYkRTI-AB3xc7Mmb6m32hN8ESk89FjyX9KDHBNwl9K3ZeWdzovk_LyTQCdJc9fx89-cU_DY26fB0kkBSooX0j1UL10KXGEVen7m0-N3P7dZtefNgPpRX_y_ggeTX93ntu_sPceNrLTSyPJpw_nKdLXexIGQyyeKxOdXI62kRo5YS4_-SMhmAY24bcNMuFezeSGqMNNQ3hGm3rKRkJioLIQQNo8slmhBwwxmvYvffiUSGaVcspUIUjCqwqcSjrVBDaXzRVjb9d8JILq2-0yuug8k8nvbxWN9VVlmMxs02HvKK4WDaF-UvVj2EEQqgK1JEXjXfKmSdPmNQc_uhSvHPff5d4yZUFGLYBkV3waUihcaN3CJ5dCgy0uEH3eS9CRQvnImlFO1oQ9M7koowQVglbNotkPOk23wiNrWv-bCAZhGLCsp4ZPK6UcDrxVBhdFz32dcwLO7FRS6YkrCkULLdR9Aj4r0D6ZtB8IXx0xO_9Ddwaq2XaR-NkFBmELGiz0gSp_ATe4yr7Rh1Q9duOeOJm_zPURCRtBKIpawlSd64hwin=w327-h263-no" alt="getBoundingClientRect"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">highlightLink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 取得元素的大小與位置</span></span><br><span class="line">  <span class="keyword">const</span> domRect = <span class="keyword">this</span>.getBoundingClientRect();</span><br><span class="line">  <span class="built_in">console</span>.dir(domRect);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 設定 highlight 寬度等於目前元素寬度</span></span><br><span class="line">  highlight.style.width = <span class="string">`<span class="subst">$&#123;domRect.width&#125;</span>px`</span>;</span><br><span class="line">  <span class="comment">// 設定 highlight 高度等於目前元素高度</span></span><br><span class="line">  highlight.style.height = <span class="string">`<span class="subst">$&#123;domRect.height&#125;</span>px`</span>;</span><br><span class="line">  <span class="comment">// 移動 highlight 元素到目前元素位置，考量因為有 scroll bar</span></span><br><span class="line">  highlight.style.transform = <span class="string">`translate(<span class="subst">$&#123;domRect.left +</span></span></span><br><span class="line"><span class="string"><span class="subst">    <span class="built_in">window</span>.scrollX&#125;</span>px, <span class="subst">$&#123;domRect.top + <span class="built_in">window</span>.scrollY&#125;</span>px)`</span>;</span><br><span class="line">  <span class="comment">//console.log([window.scrollX,window.scrollY]);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="getBoundingClientRect"><a href="#getBoundingClientRect" class="headerlink" title="getBoundingClientRect()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Element/getBoundingClientRect" target="_blank" rel="noopener">getBoundingClientRect()</a></h3><p>取得元素的大小與相對位置</p>
<h3 id="mouseenter"><a href="#mouseenter" class="headerlink" title="mouseenter"></a><a href="https://developer.mozilla.org/en-US/docs/Web/Events/mouseenter" target="_blank" rel="noopener">mouseenter</a></h3><p>當滑鼠移動到元素上時觸發。</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 23-Speech Synthesis</title>
    <url>/2018/01/17/Javascript30days-23/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>使用合成語音來按照畫面文字播放語音<br><img src="https://lh3.googleusercontent.com/keRBsiaVN6oK11BhAImLr5yb7FcCABQQcj7Bxrvae4unr7xR3CaoZp-0UqVEPzCXijncdnBsKsMpazIBZLslRdVv_UFdqqFYU51i0IAe4zVQZn7-TNRWzxND5AyFf1No1t5np6A833YD6x0yKhUzYqjqsSrswIyTtSw375fnsorFCmSzyhEdZIhyYDxpmebi18aMk3YpD3LCmvK10lOKIoxiL8LtM4brE2URD_HPkuYZOZR2qaoSm1oRIAhelflx7giWx4dOIAlWBtm87zlqSdWuJ9cTgKH8tH86gp9ALXtC0TGWPonoxD8-1wCRCjC8nUMui0lvhYSAhq1SWaJD12HRaCv7CYpyxtHqin_teucRmmq4_2LspCs8O8f45ba0snsqdWny9PhDUPLr3UrfJdu0gO9bp8pJRMFntFyFttWf6cILWDkqZEfpWgIT1efVvcoKncZQsxI05FCc2qZcr7L7YfiqncFQm6DyLAeb3B0Of5d6_5Fg90WojZCRzCi48k77YM9nYSGDJGzuynQHEPVHEx_OW8UZmCJXvGpnwFlN5AxETi8fLXCo9gL7FAh929yycEmvF89_4x9jH3rk6fq3P9CxSgyS-2y64XeLb0VRhzmMfBtV-3JdN_agf_Di9SmemoI79HQqs-dPq3-kuPigk2osgh4H=w602-h725-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_23/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>設定合成語音 API 物件，並取得畫面文字為語音內容</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">msg.text = <span class="built_in">document</span>.querySelector(<span class="string">'[name="text"]'</span>).value;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>合成語音的下拉選單填充，並設定選單變更事件</p>
<ul>
<li>先填充選單內容</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 填充下拉選單</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">populateVoices</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 取得目前支援的所有語音</span></span><br><span class="line">  voices = <span class="keyword">this</span>.getVoices();</span><br><span class="line">  voicesDropdown.innerHTML = voices</span><br><span class="line">    .filter(<span class="function"><span class="params">voice</span> =&gt;</span> voice.lang.includes(<span class="string">"en"</span>))</span><br><span class="line">    .map(</span><br><span class="line">      voice =&gt;</span><br><span class="line">        <span class="string">`&lt;option value="<span class="subst">$&#123;voice.name&#125;</span>"&gt;<span class="subst">$&#123;voice.name&#125;</span> (<span class="subst">$&#123;voice.lang&#125;</span>)&lt;/option&gt;`</span></span><br><span class="line">    )</span><br><span class="line">    .join(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>選單變更事件</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 設定語音</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setVoice</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  msg.voice = voices.find(<span class="function"><span class="params">voice</span> =&gt;</span> voice.name === <span class="keyword">this</span>.value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">speechSynthesis.addEventListener(<span class="string">"voiceschanged"</span>, populateVoices);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 語音下拉選單變更</span></span><br><span class="line">voicesDropdown.addEventListener(<span class="string">"change"</span>, setVoice);</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>設定播放速度、文字與聲道</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 設定播放速度、文字、聲道</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setOption</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="keyword">this</span>.value);</span><br><span class="line">  msg[<span class="keyword">this</span>.name] = <span class="keyword">this</span>.value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4."></a>步驟 4.</h2><p>設定播放與停止按鍵功能</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 播放與停止</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggle</span>(<span class="params">startOver = true</span>) </span>&#123;</span><br><span class="line">  speechSynthesis.cancel();</span><br><span class="line">  <span class="keyword">if</span> (startOver) &#123;</span><br><span class="line">    speechSynthesis.speak(msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 播放</span></span><br><span class="line">speakButton.addEventListener(<span class="string">"click"</span>, toggle);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 停止播放</span></span><br><span class="line">stopButton.addEventListener(<span class="string">"click"</span>, () =&gt; toggle(<span class="literal">false</span>));</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="SpeechSynthesisUtterance"><a href="#SpeechSynthesisUtterance" class="headerlink" title="SpeechSynthesisUtterance"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/SpeechSynthesisUtterance" target="_blank" rel="noopener">SpeechSynthesisUtterance</a></h3><div class="note info"><p>The SpeechSynthesisUtterance interface of the Web Speech API represents a speech request. It contains the content the speech service should read and information about how to read it (e.g. language, pitch and volume.)<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisUtterance" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API" target="_blank" rel="noopener">Web Speech API</a> 中的 <strong>SpeechSynthesis</strong> 語音合成服務 </p>
<h3 id="SpeechSynthesis"><a href="#SpeechSynthesis" class="headerlink" title="SpeechSynthesis"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/SpeechSynthesis" target="_blank" rel="noopener">SpeechSynthesis</a></h3><div class="note info"><p>The SpeechSynthesis interface of the Web Speech API is the controller interface for the speech service; this can be used to retrieve information about the synthesis voices available on the device, start and pause speech, and other commands besides.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>語音 API 的服務介面；以下是此次範例使用的屬性說明</p>
<ul>
<li>pitch 聲道</li>
<li>text 播放內容文字</li>
<li>rate 說話速度</li>
</ul>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL Server 移除預設值</title>
    <url>/2018/01/19/SQL-Drop-Default-Constraint/</url>
    <content><![CDATA[<p>已經設定好了的預設值，現在要變更，需要先把 <strong>Constraint</strong> 移除，再行新增</p>
<a id="more"></a>

<p>要移除某個資料表某個欄位的預設值 <strong>constraint</strong> ，所以需要先取得此 <strong>constraint</strong> 的 <strong>OBJECT_NAME</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 取得 Object_Name</span></span><br><span class="line"><span class="comment">-- TableName:請填入要變更的資料表名稱</span></span><br><span class="line"><span class="comment">-- ColumnName:請填入要變更的欄位名稱</span></span><br><span class="line"><span class="keyword">DECLARE</span> @defcon SYSNAME;</span><br><span class="line"><span class="keyword">SELECT</span> @defcon = OBJECT_NAME(sc.default_object_id)</span><br><span class="line"><span class="keyword">FROM</span> SYS.COLUMNS <span class="keyword">AS</span> sc</span><br><span class="line"><span class="keyword">WHERE</span> sc.[object_id] = OBJECT_ID(<span class="string">'TableName'</span>)</span><br><span class="line">    <span class="keyword">AND</span> sc.[<span class="keyword">name</span>] = <span class="string">'ColumnName'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 取得了 Object_Name，就可以來移除它</span></span><br><span class="line">EXEC ('<span class="keyword">ALTER</span> <span class="keyword">TABLE</span> TableName <span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> <span class="string">' + @defcon)</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://docs.microsoft.com/zh-tw/sql/t-sql/functions/object-name-transact-sql" target="_blank" rel="noopener">OBJECT_NAME</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/sql/relational-databases/system-catalog-views/sys-columns-transact-sql" target="_blank" rel="noopener">sys.columns</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/sql/t-sql/functions/object-id-transact-sql" target="_blank" rel="noopener">OBJECT_ID</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 24-Sticky Nav</title>
    <url>/2018/01/25/Javascript30days-24/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>利用 <strong>CSS</strong> 來讓製作網站的置頂選單<br><img src="https://lh3.googleusercontent.com/Pte9EiISlwwpUNbj-iwvX-5Yt54-iInDeQaE5DYPvRrVgmRmdUmejPnc5WvsvYQNPCXzFlrhvGV5eSIZO54oakJj3vSebFu0XkD6dm9zQYaxJUdsLLr4qcsubF6INZq9JS1BSdcap16TkqSRo8DJ3_RoznjxD3adHbQ326t-oQHXYc5wC9Z76jbQrTA2w4DjJnh-5doHcJ52FIHY08ZZ8VlCcBjvqB0JsCdoQ3eu9dYOciPBi-UHy645yuq8tT5M58M1PVLEPhikpZQoymlbVVZgyvY1z38ebbCrjePf0pewTFlzJkO3w_8mpqFyW2TkfhlELc1_l-Mzv_7J3McwatM2fMDeyNWPvX_wv9qTBXaIzq3BHDq984q1pkivjvPJoyq_k8OBUtdPGe7sdlO4MgWV-RNZxFbliRrNy5ytAibhL-Atujw5Y1cH4_usyvjQW4iOL-xeDcvpo1UA7waBI6FN_cTdleQNvtu-DmJ-t9X3d289AW0kk6GYPZmHrjRICuhBR7NGis-wKR9LlYdUZZNh5WKHL3hI1A7RmFtikmLxF-iDMM7wBGFEvmqeIFz605p102cAoD2DWFTWeI_U_MOmOeyxl2c_n1_S27cRbEYM7vdwfGiEbp_U9EQECmqIw5D0zMigE3fsB2Py9QjHIzOv1GNyqPjv=w919-h510-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_24/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>利用 CSS 的 <strong>position</strong> 固定後，再使用 <strong>transform</strong> 來強調凸顯內容，撰寫一部分 JS ，調整內容的位置。</p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>建立卷軸移動觸發事件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nav = <span class="built_in">document</span>.querySelector(<span class="string">"#main"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取得選單 top</span></span><br><span class="line"><span class="keyword">let</span> topOfNav = nav.offsetTop;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 修正選單</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fixNav</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 建立卷軸移動事件</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, fixNav);</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>建立固定標題列的 <strong>CSS</strong> </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">* 固定標題 */</span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.fixed-nav</span> <span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然後在 <strong>fixNav</strong> 中，判斷卷軸移動位置，動態增加樣式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 修正選單</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fixNav</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.scrollY &gt;= topOfNav) &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.add(<span class="string">"fixed-nav"</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.remove(<span class="string">"fixed-nav"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>增加標題列的 <strong>logo</strong> 樣式，並讓標題列置頂時顯示，並調整內文的文字大小</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 顯示標題 logo */</span></span><br><span class="line"><span class="selector-class">.fixed-nav</span> <span class="selector-tag">li</span><span class="selector-class">.logo</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>:<span class="number">500px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 內容比例調整為原本文字大小 */</span></span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.fixed-nav</span> <span class="selector-class">.site-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>增加內文 padding 避免內文因為凍結標題列而被遮蔽</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 修正選單</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fixNav</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.scrollY &gt;= topOfNav) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 增加內文 padding 避免內文因為凍結標題列而被遮蔽</span></span><br><span class="line">    <span class="built_in">document</span>.body.style.paddingTop = nav.offsetHeight + <span class="string">'px'</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.add(<span class="string">"fixed-nav"</span>);</span><br><span class="line">    </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.remove(<span class="string">"fixed-nav"</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.style.paddingTop = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h3 id="position"><a href="#position" class="headerlink" title="position"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/position" target="_blank" rel="noopener">position</a></h3><div class="note info"><p>CSS position属性用于指定一个元素在文档中的定位方式。top，right，bottom 和 left 属性则决定了该元素的最终位置。</p>
<h3 id="定位类型"><a href="#定位类型" class="headerlink" title="定位类型"></a>定位类型</h3><ul>
<li>定位元素（positioned element）是其计算后位置属性为 relative, absolute, fixed 或 sticky 的一个元素。</li>
<li>相对定位元素（relatively positioned element）是计算后位置属性为 relative 的元素。</li>
<li>绝对定位元素（absolutely positioned element）是计算后位置属性为 absolute 或 fixed 的元素。</li>
<li>粘性定位元素（stickily positioned element）是计算后位置属性为 sticky 的元素。</li>
</ul>
<p><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/position" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 26-Stripe Follow Along Nav</title>
    <url>/2018/01/30/Javascript30days-26/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>類似 <a href="https://shunnien.github.io/2018/01/17/Javascript30days-22/">day22 Follow Along Link Highlighter</a> 的概念，製作一個跟隨移動的強調下拉選單。<br><img src="https://lh3.googleusercontent.com/10ExDAZQzARkXXs-TIOCu5WYdBOmGSZoqGnITTxcswxyOvnnti3Hy0h-dPAMulHoKLWLI_PbbrrF_7l8tDoVRFK0iyojJjEpTnCEZNc3XJkM0CutfFHx1qsGNDklQl9cQTbTj_fiQE7AKV63HBSr2-LbdRlyMpghguFsUPxJL9tftq7HZ16FZzJAVXzCq3IJ87KEY0G5Eak9MxDkVPP5oI9q95LUCu8gQlPdMFEMem-HX-_en5m8pPa0_LrbZz-1oMW4MK48Bj50UlePwzGmRbedUvE6nwh_JfxDfG2k51TD-CIIzFLFC1TKJphHwDlD7SOG9MtAerfBDo_273Ml8jq6nTbFC4e_ghtKS5XyksN30a5J-5DX3Zmu68x5cXIXyxopug2wo03J5ZeGSSEMgQ9G9dxTvUH4jH3zBxcKhrnbE5MSwl7Ol5bOV9_FPCGt8SJFzHV-_EAbRMsjJSbA8NA8GcIx77gKAOv0e-qnq4OOCvKqtJT8nSxnGAT6w_qwsJPyG8ibwWXgmbNgzWm13Gylks2LuJFyy0cYRowqZpQWYpf8UiQvNJJPF0SJHJJ5L8M_juMUtBMMI4-eBLvDV3-PCAX4AKn3IJqUUcijLofL3J3XkAuhWWssRPM-D3R4aidKtxPUqdYywr_-uypp1J2P6u7dH52r=w794-h435-no" alt="target"></p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_26/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>先製作強調的外框 <strong>DOM</strong> 與下拉選單的內容，利用 <strong>CSS</strong> 中的 <strong>opacity</strong> 與 <strong>display</strong> 來隱藏，之後透過 <strong>JS</strong> 在移動至選單標題時，進行外框大小的變化與 <strong>CSS</strong> 的顯示</p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>取的所有標題元素，並建立移動到元素上與離開的觸發事件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> triggers = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.cool &gt; li'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 移動到元素上的觸發事件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleEnter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 離開元素的觸發事件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleLeave</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移動到元素上的觸發事件</span></span><br><span class="line">triggers.forEach(<span class="function"><span class="params">trigger</span> =&gt;</span> trigger.addEventListener(<span class="string">'mouseenter'</span>,handleEnter));</span><br><span class="line"><span class="comment">// 離開元素的觸發事件</span></span><br><span class="line">triggers.forEach(<span class="function"><span class="params">trigger</span> =&gt;</span> trigger.addEventListener(<span class="string">'mouseleave'</span>,handleLeave));</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>透過 CSS 操作顯示與隱藏</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 移動到元素上的觸發事件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleEnter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.classList.add(<span class="string">'trigger-enter'</span>);</span><br><span class="line">    background.classList.add(<span class="string">'open'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 內容最後顯示</span></span><br><span class="line">    <span class="keyword">this</span>.classList.add(<span class="string">'trigger-enter-active'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 離開元素的觸發事件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleLeave</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.classList.remove(<span class="string">'trigger-enter'</span>,<span class="string">'trigger-enter-active'</span>);</span><br><span class="line">    background.classList.remove(<span class="string">'open'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>調整箭頭指向框位置與大小，使其符合下拉選單的內容</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 指向框元素</span></span><br><span class="line"><span class="keyword">const</span> background = <span class="built_in">document</span>.querySelector(<span class="string">'.dropdownBackground'</span>);</span><br><span class="line"><span class="comment">// 取得指向框的位置</span></span><br><span class="line"><span class="keyword">const</span> backgroundCoords = background.getBoundingClientRect();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 移動到元素上的觸發事件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleEnter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.classList.add(<span class="string">'trigger-enter'</span>);</span><br><span class="line">    background.classList.add(<span class="string">'open'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 取得下拉選單內容 DOM</span></span><br><span class="line">    <span class="keyword">const</span> dropdown = <span class="keyword">this</span>.querySelector(<span class="string">'.dropdown'</span>);</span><br><span class="line">    <span class="comment">// 取得位置資料</span></span><br><span class="line">    <span class="keyword">const</span> dropCoords = dropdown.getBoundingClientRect();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 設定指向框大小為下拉選單大小</span></span><br><span class="line">    background.style.width = <span class="string">`<span class="subst">$&#123;dropCoords.width&#125;</span>px`</span>;</span><br><span class="line">    background.style.height = <span class="string">`<span class="subst">$&#123;dropCoords.height&#125;</span>px`</span>;</span><br><span class="line">    <span class="comment">// 使用 setProperty</span></span><br><span class="line">    <span class="comment">// background.style.setProperty('width', `$&#123;dropCoords.width&#125;px`);</span></span><br><span class="line">    <span class="comment">// background.style.setProperty('height', `$&#123;dropCoords.height&#125;px`);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 移動指向框</span></span><br><span class="line">    background.style.transform = <span class="string">`translate(<span class="subst">$&#123;dropCoords.left - backgroundCoords.left&#125;</span>px,<span class="subst">$&#123;dropCoords.top - backgroundCoords.top&#125;</span>px)`</span>;</span><br><span class="line">    <span class="comment">// 使用 setProperty</span></span><br><span class="line">    <span class="comment">// background.style.setProperty('transform', `translate($&#123;dropCoords.left - backgroundCoords.left&#125;px,$&#123;dropCoords.top - backgroundCoords.top&#125;px)`);</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 調整內容最後顯示</span></span><br><span class="line">    <span class="keyword">this</span>.classList.add(<span class="string">'trigger-enter-active'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="mouseenter"><a href="#mouseenter" class="headerlink" title="mouseenter"></a><a href="https://developer.mozilla.org/en-US/docs/Web/Events/mouseenter" target="_blank" rel="noopener">mouseenter</a></h3><p>當滑鼠移動到元素上的時候觸發；類似 <strong>mouseover</strong> ，其差異點在於 <strong>mouseenter</strong> 不會冒泡。</p>
<h3 id="mouseleave"><a href="#mouseleave" class="headerlink" title="mouseleave"></a><a href="https://developer.mozilla.org/en-US/docs/Web/Events/mouseleave" target="_blank" rel="noopener">mouseleave</a></h3><p>當滑鼠離開元素的時候觸發；類似 <strong>mouseout</strong> ，其差異點在於 <strong>mouseleave</strong> 不會冒泡。</p>
<h3 id="getBoundingClientRect"><a href="#getBoundingClientRect" class="headerlink" title="getBoundingClientRect"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect" target="_blank" rel="noopener">getBoundingClientRect</a></h3><p>取得元素的位置各項資料</p>
<h3 id="setProperty"><a href="#setProperty" class="headerlink" title="setProperty"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty" target="_blank" rel="noopener">setProperty</a></h3><p>設定 <strong>CSS</strong> 樣式</p>
<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h3 id="will-change"><a href="#will-change" class="headerlink" title="will-change"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/will-change" target="_blank" rel="noopener">will-change</a></h3><p>為<strong>實驗性功能</strong>，簡單說就是當某個 css 需要</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 25-Event Capture, Propagation, Bubbling and Once</title>
    <url>/2018/01/27/Javascript30days-25/</url>
    <content><![CDATA[<p>事件捕捉，冒泡事件的觀察與選擇參數的運用，<strong>先捕獲，再冒泡</strong>觀察，搭配 <strong>Console</strong> 觀看<br><img src="https://lh3.googleusercontent.com/Cqwp78p9DY1tmgQ7Sxnt_nouPp_MIlUAeSn9UsGW6MlbRheJ8q6lXSV2ljUn9_ub7mZuhMxlXv8kxkD-oZ44uHoQ6gtmF8WzsLWSoOsiEPYZ4eFzFqQLn45IOTOzmPjMDNXRtmUguyugpfPe0WTvcdh1J9H8nD-SDOh4DHZSWU-d0xPZvbTwOPYGq37htugTSiEPNwhNTME6b8Cq4jxQTP2d9pkN08XYD2FeJbrD7SPj0cViL_f0WbM0v6CZ7B9bHjApLZOiXKLCVf0XT8fC7LjErGb1sb4dwjECshoJU3PSQPoaSSCkAzGQIbIrcok3RTzTYFTCRtJlYlRm_DuOC7Mp_dwNXbR-ifW9iMrBnOje9ZGHWdeZTy-TBJmEGdwCT8psV7MZR19Oct2PHPwjd_3xHAJxeN2MHkDExL9Uzt14gS_THukIKRIicYI58ZkDCJOVxdlHjWvaofIuM6irxc85tj9T2DnYe6z9Erfv0eeC98WM1INLAxSa9m000gGrKTQ9sYLMIB1OQNNSYiq4u4u70x8irOboaj2u4TMVcBLEzTz6Uvj7qFkjYQavp4lxRdtiQvG-Je_Aajoio-XR3BaZKUqI3AKtDZY_c3FrZD19moHa4vkSI-coO8WZr1Nlz3gskog5lxqfyXRwm4avQ1IETdUqsvZL=w878-h828-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_25/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>首先觀察冒泡事件的觸發順序，變更為捕獲，觀察傳遞順序，最後使用 <strong>once</strong> 來觀察</p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>建立三組 Div ，以及 click 觸發，觀察觸發順序</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 顯示目前觸發的 DOM </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> </span>e </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logText</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.classList.value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">divs.forEach(<span class="function"><span class="params">div</span> =&gt;</span> div.addEventListener(<span class="string">"click"</span>, logText));</span><br></pre></td></tr></table></figure>

<p>其結果會是 <strong>three &gt; two &gt; one</strong></p>
<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>變更為捕獲</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">"div"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 顯示目前觸發的 DOM </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> </span>e </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logText</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.classList.value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 變更為捕獲</span></span><br><span class="line">divs.forEach(<span class="function"><span class="params">div</span> =&gt;</span> div.addEventListener(<span class="string">"click"</span>, logText,&#123;</span><br><span class="line">    capture: <span class="literal">true</span></span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>

<p>觸發順序變成 <strong>one &gt; two &gt; three</strong></p>
<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>其後增加使用 <strong>once</strong> 參數，此參數將使觸發進行一次</p>
<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="EventTarget-addEventListener"><a href="#EventTarget-addEventListener" class="headerlink" title="EventTarget.addEventListener()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/EventTarget/addEventListener" target="_blank" rel="noopener">EventTarget.addEventListener()</a></h3><div class="note info"><p>EventTarget.addEventListener() 方法能將指定的事件監聽器註冊到 EventTarget 實作物件上。EventTarget 可能是 Document 中的 Element 物件、Document 物件本身、Window 物件，或是其它支援事件的物件（如：XMLHttpRequest）。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/EventTarget/addEventListener" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
<li><a href="https://blog.techbridge.cc/2017/07/15/javascript-event-propagation/" target="_blank" rel="noopener">DOM 的事件傳遞機制：捕獲與冒泡</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>.NET Core 入門筆記</title>
    <url>/2018/01/26/NET-Core-first-touch/</url>
    <content><![CDATA[<p>紀錄 <strong>Will 保哥</strong> 的<a href="https://www.udemy.com/netcore2/learn/v4/overview" target="_blank" rel="noopener"><strong>給 C# 開發人員的第一堂 .NET Core 入門</strong></a>的內容筆記，內容介紹詳細，從 .NET 介紹開始說明，</p>
<a id="more"></a>

<h2 id="NET-Framework-框架"><a href="#NET-Framework-框架" class="headerlink" title=".NET Framework 框架"></a>.NET Framework 框架</h2><div class="note info"><p>.NET Framework 大約在西元 2002 年推出 .NET 1.0 版，是一套由微軟主導的軟體開發平台，幫助開發人員可以更快的開發出各式各樣的應用程式，並且確保應用程式可以不受作業系統、CPU 架構等平台限制，在任意環境都可以正確執行。</p>
<p>微軟與其合作夥伴，共同訂製了 <strong>Common Language Infrastructure (CLI) 共通語言基礎架構</strong>，這是一份開放式的技術規範，讓所有符合 CLI 規範的應用程式，都能夠正常的運作在不同的電腦系統之中，而不用重新撰寫或編譯應用程式。</p>
</div>

<h2 id="NET-可攜式類別庫-PCL"><a href="#NET-可攜式類別庫-PCL" class="headerlink" title=".NET 可攜式類別庫 (PCL)"></a>.NET 可攜式類別庫 (PCL)</h2><p>我們通常會將常用或是習慣使用的功能撰寫為 <strong>Class Library</strong> (類別庫)，使其產生組件 (Assembly) ，以利重複使用；但由於 <strong>.NET Framework</strong> 支援的平台時做太多，例如： .NET Framework  、.NET Core 、Mono 、Windows Phone …，所以才出現 <strong>PCL</strong> ，不過現在除非還有需要使用 <strong>Windows Phone</strong> 與 <strong>Silverlight</strong> 這兩個平台，不然 PCL 已經不需要使用了，直接使用 <strong>.NET Standard</strong></p>
<h2 id="NET-Core-2-0"><a href="#NET-Core-2-0" class="headerlink" title=".NET Core 2.0"></a>.NET Core 2.0</h2><p><strong>.NET Core</strong> 就是微軟最新強調跨平台的的實作(雖然以前也推了一些，但是都不是真正跨平台)</p>
<div class="note info"><p>.NET Core 的組成包括</p>
<ul>
<li><p>一個 <strong>.NET</strong> 執行階段 (<strong>Runtime</strong>)<br>提供型別系統、組件載入、記憶體回收機制、原生 Interop 及其他基本服務。</p>
</li>
<li><p>一組 Framework 函式庫 (<strong>Framework Libraries</strong>)<br>提供基礎資料型別 (primitive data types) 與一些好用的應用程式類別與工具類別。</p>
</li>
<li><p>一組 <strong>SDK</strong> 工具組及語言編譯器<br>提供軟體開發過程所需的基礎工具，此工具組可以透過 .NET Core SDK 取得。</p>
</li>
<li><p>一個 <strong>dotnet</strong> 主程式 ( <strong>app host</strong> )<br>它主要用來啟動與執行 .NET Core 應用程式 ( 例如你可以用 <strong>dotnet ConsoleApp1.dll</strong> 命令來啟動 .NET Core 應用程式 )，過程中它會自動選取正確的 Runtime，並將 Runtime 裝載到記憶體內，提供 DLL 組件的載入原則，然後啟動應用程式執行。</p>
</li>
</ul>
<p><strong>.NET Core 並不是一套全新的框架，它是一份 .NET Framework 的跨平台實作。</strong></p>
</div>

<h2 id="NET-Standard-標準類別庫"><a href="#NET-Standard-標準類別庫" class="headerlink" title=".NET Standard 標準類別庫"></a>.NET Standard 標準類別庫</h2><p><strong>.NET Standard 標準類別庫</strong> (簡稱 .NET Standard)，說穿了就是一種類別庫的類型；其實就是希望支援所有 .NET 平台能擁有一致的 BCL 基礎類別庫</p>
<div class="note info"><ul>
<li>.NET Standard 版本越新，代表你可以使用的 API 就越多</li>
<li>.NET Standard 版本越舊，代表你可以支援的平台就越多 ( 相對的可使用的 API 就會減少 )</li>
</ul>
<p>下表列出所有 .NET Standard 版本和支援的平台：<br><img src="https://lh3.googleusercontent.com/3sFEa1vENTjm-7ElfomC92IUG6h2mMGR86tsiONMIATM90GN2DuiP4qYdbyJ7B-7m4jGk0eTHme_t2zfY4snZrBF0QJnvdSqVyzeb_x_vcez03zUN8-FTrYXbdmXR_sB3qtqqHMzwfJAzcM0wUuv2B3XprnxuGmSFRukk3E2Uh1XyfjBXK0YPGo9TI6dP0udSGlIBqWecj3pnDUPUStrQPXMMQa91N-IE6WPFkxP908hy7tw4uJrsgoBz9Bw4e7YQ1ADaSehXyORCqJSiVlOaV8M4YUaEUazsUtlXZUFBAYJfi_ZDPLtaoorLgWRa_cDic1T8iwckK__gJjrZbq6rf_jUx8JaunTO36dNoN5EmpO1HYb-Uf1_OqOyP4pzydZRkHCpYVo_ILMBpVwVHIzJEZuRXmcmKoVKkS8JuU3aewRGHkxDNkabDKb528cBXqo3Vfy_HsF-vbTuiEYxvc_AvCgTUga_iTVr84UHHJXt0ELGeF6m1a27Z9-v5Rg6Yp55R7SztZMqdEDhoQSP4vzXDfMW3TivkM2UYjNq-BEC7lHsyDqVkgyfNF56vW2uH45FaJcXN2xGMmNUClGLvqZhf2iW_-XK9QuLBo5JBRb13sDJwaMau0XvYo1FsXR3p5BHEALkGQJvq4W83nbduRDnlSPbcO_NE6v=w893-h605-no" alt=".net standart version list"></p>
</div>

<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><h3 id="NET-Portability-Analyzer"><a href="#NET-Portability-Analyzer" class="headerlink" title=".NET Portability Analyzer"></a><a href="https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer" target="_blank" rel="noopener">.NET Portability Analyzer</a></h3><p>Visual Studio 2017 的擴充套件，檢查目前專案是否適合轉換為 .NET Core ，就是檢查是否有使用到不支援的 API<br><img src="https://lh3.googleusercontent.com/1bfuhvDXrQX85bRB3z08ohsys60axwEL8sgWUL1UK-rodAqWy8A5IQltDIPxi_lX1JyRB0cDigR7ChZK08tweQDgEl6hHXWvsrYZ-Jm4KOwRVITWYWJvOSEGgG_pxiqmpAT5wb5Mliqrw4YkrN07NHJKkTbFR6oHHNbCk078J4fsvIcheSpjeDZj01709zkhSSl0ndQSqAItOLfioDhzKzG554hPNVJgX-axOa66i52IDif8xpxk7GcfGW4PuwC0cfzkA6GZYYUDRd2lFmhd3J2zlm6zArDjlgzYfc9Kw-Q_I-7ZmVJJploxp_vgPQx-Hgm32fwbmAuG-N5px52bOh7amLI6Wn3-W_9NcDcr7jvuH1k4e2puQ-Gg1w2tAw8Tg-MAyNmTx9hTQ0h5Nde9cffyd84az66dm-7zt1bL4VDXGSVr2Z10EXTTrRYzCTuX2uk5__zCdrSR181b53WJDEMmFzrIUl-viU6sHEUjzucLd9udZmuLY2_qbAOkXhYEFY4eqW5jy1aNRYwSt61zKPamM9c6KQtj-InWd_k1eVf41k5e_8KxcLbLizW_iL7Fh3U-14S86iSfbMk-TvZlzl5-uvuWNvTZaLSPiEXkntdEJ4RO-DyCM3ofEp3VSN2tu4cyDD-VfUxsZPJ_T4d_L_X_62YNnkgX=w874-h647-no" alt="setting"></p>
<p>使用方式相當簡單，只要在 <strong>solution explore</strong> 中，選取要比較的專案，再使用滑鼠右鍵呼叫選單，選取 <strong>Analyzer Project Portability</strong><br><img src="https://lh3.googleusercontent.com/YEW20ENrvzuh6s4MhoqDTmERjOJchacSY5fkasMGROt2IeZ19heVPEBlp7b6vuLOcxoWFtY9cSHKEBloIATU1OgWBbP2AcUZ5XIZTxT-IEtEbdvyfLYaMs7a66AZIhbmEKllr1XC-QTj4l6ScDWbIhwZQ_q8tfHTkexu1FvLtDvyOBulpo6d0U3rs1m0dnnanP7zD4JvMtTO0WcE2dIttjir4FDs1kkEo9dNRYILdEO-3CR8mnc1zFkIPAxxciIayR07iFa0jlQrez8w2F0hKDxhiR1LQj9VcDQK226X5m7-m20JUgHmD_SYnONERvXpsEy9vSwm8Je6LWxXU04A__w_C4VYD9FPbAYoN2C75OID_bKpVguAIw5mPsyQcTn4Zpf1-Kvc2mwN2UXXMyjELjmil9AoR3c-uAWXZrfMLmf9fXRn-nTj1wH5Qx9xjO1BpC9SJsRU-IiUYb19WcrOncbKtJPdK-s5U1KZLvsXkNCG6gq2SZwC9NXijoJp4zhCGcJDQfrM3xV8J8Flp9nKFOhO3iPXNg_w-IsuSJ3iMVqbCXTPsR_zv2J_Vvj4BSbbCQjGP_5W7PbdKj4ryDj8sPnRciynj1W763YvWrybjN3prevDLUo_yJRgE6-N26pxdaEu_QSXVLA8bsn1qsaZ4p6A_2cgTgHC=w466-h307-no" alt="Analyzer Project Portability"></p>
<h3 id="NuGetPackageExplorer"><a href="#NuGetPackageExplorer" class="headerlink" title="NuGetPackageExplorer"></a><a href="https://github.com/NuGetPackageExplorer/NuGetPackageExplorer" target="_blank" rel="noopener">NuGetPackageExplorer</a></h3><p>安裝方式可以透過 <strong>Microsoft Store</strong> 直接快速安裝；此工具可以分析 Nuget 上的套件相容性，可以清楚得知，此套件是不是可以運用在 .NET Core 上。</p>
<p><img src="https://lh3.googleusercontent.com/g3kvMjRbRSdw0gpjBsHch63uNbiSqDUiEDlHYasA4caycYtSXijWblYSWje9HEgRNemS7bG1Js-FH98H2WCOuq6KZ0E6rql8toHuNKoSm6RLWNQIpi1XG4lmbr75Y5Bi76BCHDrSLE-K-iek66V4dl2VqCC7ldASmJvpEstvpIwzIQMa1xf1tbZagsVB1526sdnXndEwvky1DDYeO23dRO_w7s1HcaxGa6sHNZ-170uqWk_48lPxLor2ti0HSk7bdpi9vI2V1yRkazT-VLQ5CLNyEEkjURP0h9N8D66SdDbTfyAPm8kVeGevByOGgxYhopOD6ihe20YkEwZ2-wBfCxczUOoeJQunXiW3Mf9tA2SPrgCcS-hz6OrfOdTct5MmR4KbFGRY6IjtS6KYRqEKeSDqilMo0aHzMkcdHiCmdqe16Zrn4pS3A20IfYZXFNwwnP4BwuUFHCR5c5ukNZ5nTdwmh7RfRgscJOMEMyh6cpRx1XdGTwVE7ax-ZyVgOJzHaWdGNkGL0Bw-piizRayv5NIsqZ9STplgr0BchZpE104J-fAyZh5PNBEOG_9EMbmVsIv8DDLemvv4Yj7Or2MSyfB5VLyMdGPZVHsIDRrEaUsOADDf2xrDgzTE2cuq6F-AG6SXamR9v_Tn-hL-jaX5II-DGPHf9LP-=w767-h605-no" alt="Store Install"></p>
<h2 id="相關連結"><a href="#相關連結" class="headerlink" title="相關連結"></a>相關連結</h2><ul>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/standard/managed-code" target="_blank" rel="noopener">Managed 程式碼</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/standard/clr" target="_blank" rel="noopener">Common Language Runtime</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/standard/language-independence" target="_blank" rel="noopener">語言獨立性以及與語言無關的元件</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/standard/framework-libraries" target="_blank" rel="noopener">Framework 程式庫</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/cross-platform/" target="_blank" rel="noopener">Developing for Multiple Platforms with the .NET Framework</a></li>
<li><a href="https://blogs.msdn.microsoft.com/dotnet/2013/10/14/portable-class-library-pcl-now-available-on-all-platforms/" target="_blank" rel="noopener">Portable Class Library (PCL) now available on all platforms</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/core/" target="_blank" rel="noopener">.NET Core 指南</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/core/get-started" target="_blank" rel="noopener">.NET Core 使用者入門</a></li>
<li><a href="https://github.com/dotnet/core/blob/master/roadmap.md" target="_blank" rel="noopener">.NET Core Roadmap</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/standard/net-standard" target="_blank" rel="noopener">.NET Standard</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/frameworks" target="_blank" rel="noopener">Target frameworks</a></li>
<li><a href="https://www.microsoft.com/net/download/windows" target="_blank" rel="noopener">.NET Core SDK Downloads</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/api/" target="_blank" rel="noopener">.NET API 瀏覽器</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer" target="_blank" rel="noopener">.NET Portability Analyzer ( VS2017 擴充套件 )</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/standard/portability-analyzer" target="_blank" rel="noopener">.NET Portability Analyzer-.NET | Microsoft Docs</a></li>
<li><a href="https://github.com/NuGetPackageExplorer/NuGetPackageExplorer" target="_blank" rel="noopener">NuGetPackageExplorer | Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 27-Click and Drag</title>
    <url>/2018/01/31/Javascript30days-27/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>左右移動卷軸，使用滑鼠拖曳來移動左右<br><img src="https://lh3.googleusercontent.com/o4X9v8Frhbw_lW45gBPjCXFgflOQL1xcoWUTL3KAf6OIfnxzO_t2M8JIMI3YMIzprU76aQOez85jNqXbUhaCNP_azfDyA0W4LInRwBkI7mYhgkq7DNSGqWAGdgn9TWHueYcwhuPzcjEQt5T5PJwzxK1ECbFxVQp-WEulIuIzmSSpMD0Nk0A2AwoXWyN6bQdw0O3lRi3lRCvHcK7hL5uLocjjoaqGBXMWBhL3g3-ig13lo-MokWpXwKVAgpsY5OihrAVai_FxW7IhMUgNaCsNfilM6xXZEx2XyfpFxYKp4syDAdEJmFvGuLQA3TLvM9ynSKdNrKWvb7X--j-8SAMpzG0GSZv_e9yS0aV7xyJ613F-Kbb1AC6aLLMKbjrg0Aiyy7ngLK_mxiiGwXuXhoGPpGzWHo416nfi2nvYXHDrOX9o7bpeHn2z0Z-NmU2-G5vmbLpoZMkuhplFQtsBY6P1kATgydK2Za3BDvXLa1oPkPTiowDHdIj9k8btb_SJZ5ZjJmK-eCaRWeOAml7WSNerOD2jGXqE7f9_mtK2c8YuCScaXMeCxxg9LVONAjyYyagfIT4z4exyjk-qvh9b7qfmwt80YmE5W1PLQlkoJ8US2t_JQuouNCRwR8Cr2uhrENLUSxM7BKkYOY9U85yVYWIbv141KfJ_OX25=w794-h350-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_27/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>目的是拖拉畫面的時候等於移動卷軸，所以需要知道卷軸的 <strong>offsetLeft</strong> 與滑鼠橫軸位置的 <strong>pageX</strong> ，計算出滑鼠移動距離後，將卷軸位置重新設定，以達到移動的目的。</p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>滑鼠點擊的時候，有樣式變換，離開畫面或是按鍵放開就樣式還原，建立 <strong>mousedown</strong> 、 <strong>mouseup</strong> 、 <strong>mouseleave</strong> 等事件，並切換樣式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 取得最外層的 div items</span></span><br><span class="line"><span class="keyword">const</span> slider = <span class="built_in">document</span>.querySelector(<span class="string">".items"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 移除樣式</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleRemoveActive</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  slider.classList.remove(<span class="string">"active"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 滑鼠按鍵按下</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">e</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleMouseDown</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  slider.classList.add(<span class="string">"active"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 滑鼠按鍵按下</span></span><br><span class="line">slider.addEventListener(<span class="string">"mousedown"</span>, handleMouseDown);</span><br><span class="line"><span class="comment">// 滑鼠離開元素</span></span><br><span class="line">slider.addEventListener(<span class="string">"mouseleave"</span>, handleRemoveActive);</span><br><span class="line"><span class="comment">// 滑鼠按鍵鬆開</span></span><br><span class="line">slider.addEventListener(<span class="string">"mouseup"</span>, handleRemoveActive);</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>建立滑鼠移動的事件，並判斷滑鼠左鍵未點選時返回</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 移動事件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>e window.event</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleMove</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 判斷滑鼠左鍵點選，未點選直接返回停止</span></span><br><span class="line">  <span class="keyword">if</span> (e.buttons !== <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 滑鼠移動</span></span><br><span class="line">slider.addEventListener(<span class="string">"mousemove"</span>, handleMove);</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>宣告變數 <strong>startX</strong> 紀錄滑鼠目前的 X 軸位置，以及 <strong>scrollLeft</strong> 卷軸目前的位置；接著計算移動距離與設定</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 紀錄滑鼠點擊的起始位置</span></span><br><span class="line"><span class="keyword">let</span> startX;</span><br><span class="line"><span class="comment">// 紀錄卷軸左邊位置</span></span><br><span class="line"><span class="keyword">let</span> scrollLeft;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 滑鼠按鍵按下</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">e</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleMouseDown</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  slider.classList.add(<span class="string">"active"</span>);</span><br><span class="line">  <span class="comment">// 設定起始位置</span></span><br><span class="line">  startX = e.pageX - slider.offsetLeft;</span><br><span class="line">  <span class="comment">// 紀錄卷軸目前位置</span></span><br><span class="line">  scrollLeft = slider.scrollLeft;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 移動事件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>e window.event</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleMove</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 判斷滑鼠左鍵點選，未點選直接返回停止</span></span><br><span class="line">  <span class="keyword">if</span> (e.buttons !== <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="comment">// 停止冒泡</span></span><br><span class="line">  e.stopPropagation();</span><br><span class="line">  <span class="comment">// 移動距離</span></span><br><span class="line">  <span class="keyword">const</span> walk = e.pageX - slider.offsetLeft - startX;</span><br><span class="line">  <span class="comment">// 卷軸設定位置</span></span><br><span class="line">  slider.scrollLeft = scrollLeft - walk;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="offsetLeft"><a href="#offsetLeft" class="headerlink" title="offsetLeft"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/HTMLElement/offsetLeft" target="_blank" rel="noopener">offsetLeft</a></h3><p>取得元素的左邊界的相對值</p>
<h3 id="pageX"><a href="#pageX" class="headerlink" title="pageX"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/pageX" target="_blank" rel="noopener">pageX</a></h3><p>由滑鼠事件取得目前游標在畫面上的 X 座標</p>
<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h3 id="perspective"><a href="#perspective" class="headerlink" title="perspective"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/perspective" target="_blank" rel="noopener">perspective</a></h3><div class="note info"><p>perspective 属性指定了观察者与z=0平面的距离，使具有三维位置变换的元素产生透视效果。z&gt;0的三维元素比正常大，而z&lt;0时则比正常小，大小程度由该属性的值决定。</p>
<p>三维元素在观察者后面的部分不会绘制出来，即z轴坐标值大于perspective属性值的部分。</p>
<p>默认情况下，消失点位于元素的中心，但是可以通过设置perspective-origin属性来改变其位置<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/perspective" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h3 id="user-select"><a href="#user-select" class="headerlink" title="user-select"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/user-select" target="_blank" rel="noopener">user-select</a></h3><p>實驗性功能，控制是否能被選取；</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 28-Video Speed Controller</title>
    <url>/2018/02/01/Javascript30days-28/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>使用 div 來製作一個速度條，來調整影片播放速度<br><img src="https://lh3.googleusercontent.com/_m_1-XRbuqU-3yNuFU4CK2Y7_KmhPmcwLdE-k3VWUhULvYk9mkCNjf7ULZBANsCWn6Da4Mj8Ija3Y6N4sVTEgK6WFHd-9t2KC-1md8KW1lvMad6O6DiWl11xtUykOc24wAvxkztD8oTHrmPILByEKW8_rGGR3geARJ-MSTgQUtJTiZDrqiUQv3WzhChVS2bYGqirLcsTNzwtAQ2e_1JeNLdgsv822j2Q_dbQFn6nDfCPCy04awTpfYlBh9ISEJlyEy1iENAJ1icWlsbJt--2zSPg9Bh6cca8tcrUwOdUFqhtn66ft-B4FL9R8xq2aHKnsuN1g84IkVF1k2v147Bza_YVzBbGtY_F67AXWgsFA6EsjQvJ3WybgiV-lL0vZLRI2q1tRQdIonu-lu3VtCPMFw5GzzImtsaxIfrTTV2NJrx4SjvI9kawlXiXjTEeHnQDNqcMjNXg3jAEaP9m26QeZI_AUnca_N1pX5VoZxf7hdp60dRk4wtWkGADkG9QQQfqiT-GiWOZ7OcFm7XKWwgIKc5a41kZMY9udR_D1NjlgkIrq-iuTALujl9YsXkhBg7SRBDDIFjqjMJkIFKCHDGR_2mXZNdwkSAXkC291p9DVteeZWej9OS4qwLHYxsasOAo5O5vUElnUYogv17P4p6-LI8a1RHJx68K=w812-h421-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_28/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>不使用 input ，改使用 div ，透過滑鼠位置與 div 大小來計算播放速度</p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>取得速度元素的 DOM ，然後建立 <strong>mousemove</strong> 滑鼠移動事件的觸發</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 取得 speed div</span></span><br><span class="line"><span class="keyword">const</span> speed = <span class="built_in">document</span>.querySelector(<span class="string">".speed"</span>);</span><br><span class="line"><span class="comment">// 取得 speed bar div</span></span><br><span class="line"><span class="keyword">const</span> bar = speed.querySelector(<span class="string">".speed-bar"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 速度條上滑鼠移動</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>e window.event</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleMove</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">speed.addEventListener(<span class="string">"mousemove"</span>, handleMove);</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>計算滑鼠在速度條上的位置，利用相對位置與速度條的大小計算比例；然後依照該比例去計算播放速度</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 速度條上滑鼠移動</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>e window.event</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleMove</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 取得滑鼠在速度條上的位置</span></span><br><span class="line">  <span class="keyword">const</span> mousePoint = e.pageY - <span class="keyword">this</span>.offsetTop;</span><br><span class="line">  <span class="comment">// 計算移動的速度條百分比</span></span><br><span class="line">  <span class="keyword">const</span> mousePercent = mousePoint / <span class="keyword">this</span>.offsetHeight;</span><br><span class="line">  <span class="comment">// 速度條的最小倍速與最大倍速</span></span><br><span class="line">  <span class="keyword">const</span> min = <span class="number">0.4</span>, max = <span class="number">4</span>;</span><br><span class="line">  <span class="comment">// 播放速度計算</span></span><br><span class="line">  <span class="keyword">const</span> playSpeed = mousePercent * (max - min) + min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>更換速度條的樣式與內容文字，以及播放器的播放速度</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 取得播放器 DOM</span></span><br><span class="line"><span class="keyword">const</span> video = <span class="built_in">document</span>.querySelector(<span class="string">"video"</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 速度條上滑鼠移動</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>e window.event</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleMove</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 取得滑鼠在速度條上的位置</span></span><br><span class="line">  <span class="keyword">const</span> mousePoint = e.pageY - <span class="keyword">this</span>.offsetTop;</span><br><span class="line">  <span class="comment">// 計算移動的速度條百分比</span></span><br><span class="line">  <span class="keyword">const</span> mousePercent = mousePoint / <span class="keyword">this</span>.offsetHeight;</span><br><span class="line">  <span class="comment">// 速度條的最小倍速與最大倍速</span></span><br><span class="line">  <span class="keyword">const</span> min = <span class="number">0.4</span>, max = <span class="number">4</span>;</span><br><span class="line">  <span class="comment">// 播放速度計算</span></span><br><span class="line">  <span class="keyword">const</span> playSpeed = mousePercent * (max - min) + min;</span><br><span class="line">  <span class="comment">// 速度條的樣式</span></span><br><span class="line">  bar.style.height = <span class="string">`<span class="subst">$&#123;<span class="built_in">Math</span>.round(mousePercent * <span class="number">100</span>)&#125;</span>%`</span>;</span><br><span class="line">  <span class="comment">// 速度條的內容文字更新</span></span><br><span class="line">  bar.textContent = <span class="string">`<span class="subst">$&#123;playSpeed.toFixed(<span class="number">2</span>)&#125;</span>X`</span>;</span><br><span class="line">  <span class="comment">// 調整播放速度</span></span><br><span class="line">  video.playbackRate = playSpeed;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="toFixed"><a href="#toFixed" class="headerlink" title="toFixed()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed" target="_blank" rel="noopener">toFixed()</a></h3><p>格式化數字，設定顯示小數位，最多到 <strong>20</strong> 位數</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> numObj = <span class="number">12345.6789</span>;</span><br><span class="line"></span><br><span class="line">numObj.toFixed();       <span class="comment">// Returns '12346': note rounding, no fractional part</span></span><br><span class="line">numObj.toFixed(<span class="number">1</span>);      <span class="comment">// Returns '12345.7': note rounding</span></span><br><span class="line">numObj.toFixed(<span class="number">6</span>);      <span class="comment">// Returns '12345.678900': note added zeros</span></span><br><span class="line">(<span class="number">1.23e+20</span>).toFixed(<span class="number">2</span>);  <span class="comment">// Returns '123000000000000000000.00'</span></span><br><span class="line">(<span class="number">1.23e-10</span>).toFixed(<span class="number">2</span>);  <span class="comment">// Returns '0.00'</span></span><br><span class="line"><span class="number">2.34</span>.toFixed(<span class="number">1</span>);        <span class="comment">// Returns '2.3'</span></span><br><span class="line"><span class="number">2.35</span>.toFixed(<span class="number">1</span>);        <span class="comment">// Returns '2.4'. Note that it rounds up in this case.</span></span><br><span class="line"><span class="number">-2.34</span>.toFixed(<span class="number">1</span>);       <span class="comment">// Returns -2.3 (due to operator precedence, negative number literals don't return a string...)</span></span><br><span class="line">(<span class="number">-2.34</span>).toFixed(<span class="number">1</span>);     <span class="comment">// Returns '-2.3' (...unless you use parentheses)</span></span><br></pre></td></tr></table></figure>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 29-Countdown Timer</title>
    <url>/2018/02/03/Javascript30days-29/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>製作一個倒數計時器，頁面上已經有固定秒數的選項，也有 form 的自訂時間的倒數<br><img src="https://lh3.googleusercontent.com/cZgyBfIKklM03kJ1xWEuIn8Q6Nshb0RUaBdkEpWekSGkdtcpJhkgxnTASrDt0YHu-cE5AFDVCBlKnazxXSlNc5UsDpwNnar6aDZdsIY4B8Q-UpjR0eQRG4HoQMxKyJTOmYrqc_QyQMlYqqpSTCO_TmFAGssGwjP4pSgCBp6Ozk7gH3KkABe7TCTir27knUKtjqdNs7m2BK3YyiDmi4nGxN2Sd6G2y3ZWxCpy9jTp0DSDE_lI-R0PNzNQ--83jugpkBCfWvcR_Xla8r5WkWPP2ysvcsaQN1x8ydwc1kHN5FrFGdFZRg1wIoS-ZOG985Hd524KB0ICLpL63CXVhdrFAM-NfO6TO6X9UraoVfZ9Qf2pgRhu5yYMuVVptuNn98NL9ApEz8_Np2SAzK5FFucnmSTeYD55b9RikgAdofQurPNOFLjYREYkhNblsK6PvvuD0U9u3z5AqMo353uXxCwTwZtuGDp6XTvtMzys1k0nqk6F19M5mWVeprR2avZ52eAF_lu-kU6fNIw0whj3U-st7N7WLWV42OXH2Vy7U1Fg6lQSbmRkvOvGUHBbAXJZkiCaEEF98njTGn8whHwQBZcicnE1VTDg1IpVzdbO3dKOlHg7PuXlkb_xvmYlrlgymAjPmVHLbljcWlskIhoI9BueFk-wJNuk1cnZ=w802-h390-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_29/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>要製作一個倒數計時器，就要使用到 <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval" target="_blank" rel="noopener"><strong>setInterval</strong></a> ，練習的範本上已經有幾個固定秒數按鈕，所以先把顯示文字呈現出來，最後在處理計時器</p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>顯示文字的部分有兩個，一個是倒數計時，一個是時間截止的時間，另外還要變更網頁標題(頁籤上的標題文字)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 取得所有 buttons</span></span><br><span class="line"><span class="keyword">const</span> buttons = <span class="built_in">document</span>.querySelectorAll(<span class="string">"[data-time]"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 倒數計時的顯示元素</span></span><br><span class="line"><span class="keyword">const</span> timerDisplay = <span class="built_in">document</span>.querySelector(<span class="string">".display__time-left"</span>);</span><br><span class="line"><span class="comment">// 結束時間的顯示元素</span></span><br><span class="line"><span class="keyword">const</span> endTime = <span class="built_in">document</span>.querySelector(<span class="string">".display__end-time"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 顯示倒數計時</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>seconds 秒數</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayTimeLeft</span>(<span class="params">seconds</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 計算幾分鐘</span></span><br><span class="line">  <span class="keyword">const</span> minutes = <span class="built_in">Math</span>.floor(seconds / <span class="number">60</span>);</span><br><span class="line">  <span class="comment">// 計算剩餘秒數</span></span><br><span class="line">  <span class="keyword">const</span> remainderSeconds = seconds % <span class="number">60</span>;</span><br><span class="line">  <span class="comment">// 組合顯示文字(剩餘時間)</span></span><br><span class="line">  <span class="keyword">const</span> display = <span class="string">`<span class="subst">$&#123;minutes&#125;</span>:<span class="subst">$&#123;remainderSeconds&#125;</span>`</span>;</span><br><span class="line">  <span class="comment">// 變更網頁標題</span></span><br><span class="line">  <span class="built_in">document</span>.title = display;</span><br><span class="line">  <span class="comment">// 顯示倒數計時</span></span><br><span class="line">  timerDisplay.textContent = display;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 顯示結束時刻</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">timestamp</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayEndTime</span>(<span class="params">timestamp</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 轉換為時間</span></span><br><span class="line">  <span class="keyword">const</span> end = <span class="keyword">new</span> <span class="built_in">Date</span>(timestamp);</span><br><span class="line">  <span class="comment">// 顯示結束時間</span></span><br><span class="line">  endTime.textContent = <span class="string">`Be Back At <span class="subst">$&#123;end.getHours()&#125;</span>:<span class="subst">$&#123;end.getMinutes()&#125;</span>:<span class="subst">$&#123;end.getSeconds()&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>各按鈕事件與計時器撰寫，利用 <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval" target="_blank" rel="noopener"><strong>setInterval</strong></a> 來顯示上一步驟的時間。由於 <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval" target="_blank" rel="noopener"><strong>setInterval</strong></a> 設定為每秒鐘進行，所以顯示時間直接根據秒數去扣除顯示。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 建立計時器</span></span><br><span class="line"><span class="keyword">let</span> countdown;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 按鈕事件，啟動計時器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startTimer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// dataset 轉換數值</span></span><br><span class="line">  <span class="keyword">const</span> seconds = <span class="built_in">parseInt</span>(<span class="keyword">this</span>.dataset.time);</span><br><span class="line">  timer(seconds);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 倒數計時器</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">seconds</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params">seconds</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 先清除其他計時器，避免相互影響</span></span><br><span class="line">  clearInterval(countdown);</span><br><span class="line">  <span class="comment">// 計算倒數計時完成的時刻(使用毫秒)</span></span><br><span class="line">  <span class="keyword">const</span> then = <span class="built_in">Date</span>.now() + seconds * <span class="number">1000</span>;</span><br><span class="line">  <span class="comment">// 顯示倒數計時</span></span><br><span class="line">  displayTimeLeft(seconds);</span><br><span class="line">  <span class="comment">// 顯示完成時刻</span></span><br><span class="line">  displayEndTime(then);</span><br><span class="line"></span><br><span class="line">  countdown = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 每秒鐘執行，所以直接每次減 1 就好</span></span><br><span class="line">    seconds--;</span><br><span class="line">    <span class="comment">// 小於 0 時，清除計時器</span></span><br><span class="line">    <span class="keyword">if</span> (seconds &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      clearInterval(countdown);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    displayTimeLeft(seconds);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">buttons.forEach(<span class="function"><span class="params">button</span> =&gt;</span> button.addEventListener(<span class="string">"click"</span>, startTimer));</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>表單的自訂時間功能，同樣呼叫上一步驟的計時器；並將顯示時間的文字調整；注意表單送出的時候需要取消預設功能，避免頁面重整。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 顯示倒數計時</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>seconds 秒數</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayTimeLeft</span>(<span class="params">seconds</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 計算幾分鐘</span></span><br><span class="line">  <span class="keyword">const</span> minutes = <span class="built_in">Math</span>.floor(seconds / <span class="number">60</span>);</span><br><span class="line">  <span class="comment">// 計算剩餘秒數</span></span><br><span class="line">  <span class="keyword">const</span> remainderSeconds = seconds % <span class="number">60</span>;</span><br><span class="line">  <span class="comment">// 組合顯示文字(剩餘時間)</span></span><br><span class="line">  <span class="keyword">const</span> display = <span class="string">`<span class="subst">$&#123;paddingLeft(minutes.toString(), <span class="number">2</span>)&#125;</span>:<span class="subst">$&#123;paddingLeft(</span></span></span><br><span class="line"><span class="string"><span class="subst">    remainderSeconds.toString(),</span></span></span><br><span class="line"><span class="string"><span class="subst">    <span class="number">2</span></span></span></span><br><span class="line"><span class="string"><span class="subst">  )&#125;</span>`</span>;</span><br><span class="line">  <span class="comment">// 變更網頁標題</span></span><br><span class="line">  <span class="built_in">document</span>.title = display;</span><br><span class="line">  <span class="comment">// 顯示倒數計時</span></span><br><span class="line">  timerDisplay.textContent = display;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 顯示結束時刻</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">timestamp</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayEndTime</span>(<span class="params">timestamp</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 轉換為時間</span></span><br><span class="line">  <span class="keyword">const</span> end = <span class="keyword">new</span> <span class="built_in">Date</span>(timestamp);</span><br><span class="line">  <span class="keyword">const</span> hour = end.getHours().toString();</span><br><span class="line">  <span class="keyword">const</span> minute = end.getMinutes().toString();</span><br><span class="line">  <span class="keyword">const</span> second = end.getSeconds().toString();</span><br><span class="line">  <span class="comment">// 顯示結束時間</span></span><br><span class="line">  endTime.textContent = <span class="string">`Be Back At <span class="subst">$&#123;paddingLeft(hour, <span class="number">2</span>)&#125;</span>:<span class="subst">$&#123;paddingLeft(</span></span></span><br><span class="line"><span class="string"><span class="subst">    minute,</span></span></span><br><span class="line"><span class="string"><span class="subst">    <span class="number">2</span></span></span></span><br><span class="line"><span class="string"><span class="subst">  )&#125;</span>:<span class="subst">$&#123;paddingLeft(second, <span class="number">2</span>)&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文字在指定長度中左邊補 0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>str 輸入文字</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>lenght 補 0 的長度</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paddingLeft</span>(<span class="params">str, lenght</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (str.length &gt;= lenght) <span class="keyword">return</span> str;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> paddingLeft(<span class="string">"0"</span> + str, lenght);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.customForm.addEventListener(<span class="string">"submit"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 取消事件</span></span><br><span class="line">  e.preventDefault();</span><br><span class="line">  <span class="keyword">const</span> mins = <span class="keyword">this</span>.minutes.value;</span><br><span class="line">  timer(mins * <span class="number">60</span>);</span><br><span class="line">  <span class="comment">// 表單清單</span></span><br><span class="line">  <span class="keyword">this</span>.reset();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="Date-now"><a href="#Date-now" class="headerlink" title="Date.now()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date/now" target="_blank" rel="noopener">Date.now()</a></h3><div class="note info"><p>Date.now() 方法回傳自 1970/01/01 00:00:00 UTC 起經過的毫秒數。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date/now" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>JS30紀錄 30-Whack a Mole</title>
    <url>/2018/02/05/Javascript30days-30/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>製作打地鼠小遊戲<br><img src="https://lh3.googleusercontent.com/hFdj5MmkFg1a_7IByCMDLsJUN189d9l9J07bS_v6IjtNSQA4mSwfa4nasmFF2QtyriYFdq6YqgjvQ0yOORLQQLYFsIQA_Q1hQVyaGHzh0N-XQPGvM51y0WIXMhqYS8ostZ1fFBdcXuXIJD0mL1d8hXCDL7douXV0kq-RWPAiAcalD78UFU0lDFEk_3lKmWETdUabzvpV0cpShlx8-fppFOpOXGVxDT8EupoU6qA4T9VGxgy6Q7SuNIY5q0J1Ym-g56BA9lty-Q30mmhAXqGfz0B5EdFpQ_Qs4UnefSBTN073uItwhkd9NCrEv6kRoMJ4xeRtAmquPriXYLuffCN3ge6IhSuV8STlwKQrEvCKjjwABIQtKAzFf1cO9FqWd9IgOJqED5bncYAyPJxeGnhxbqEKPY2gszsbKik7bGxnSgTdsMDJROWsxlvmQ1sQBLvkHkEfe_z8DrLPPBs0JLtvnx2CHLm0kfFfTzSVbqekIPnKsFT_o1ldS2jC6qGx-kcOd1SYxO7mf-Cefv_oo8Y0JsTlKhbql36-OGKtBKmLxfhQ49543hqlLhgs53r_ouMWngNaekjp_A6NHS4YUjX2DP_Tiv7I4HxnSpVyS0Ebms1tOTP13u5rC20vdBUyVU6VVuWpmkqaTdXaA8tmYG9ScYZp6GMnTXrZ=w788-h755-no" alt="target"></p>
<a id="more"></a>
<blockquote>
<p><a href="https://shunnien.github.io/JavaScript30day/day_30/">Demo</a> | <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="處理步驟"><a href="#處理步驟" class="headerlink" title="處理步驟"></a>處理步驟</h1><p>先了解地鼠是隨機出現在 6 個地洞中，而且出現時間也是隨機的長度</p>
<h2 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1."></a>步驟 1.</h2><p>建立隨機時間 <strong>function</strong> 設定隨機範圍</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 地鼠出現的時間</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">min</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">max</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomTime</span>(<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random() * (max - min) + min);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2."></a>步驟 2.</h2><p>建立隨機出現地鼠的地洞 function ，並且由於隨機的數值可能重複，利用<strong>遞迴</strong> 與變數 <strong>lastHole</strong> 來排除</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> holes = <span class="built_in">document</span>.querySelectorAll(<span class="string">".hole"</span>);</span><br><span class="line"><span class="keyword">const</span> scoreBoard = <span class="built_in">document</span>.querySelector(<span class="string">".score"</span>);</span><br><span class="line"><span class="keyword">const</span> moles = <span class="built_in">document</span>.querySelectorAll(<span class="string">".mole"</span>);</span><br><span class="line"><span class="comment">// 紀錄上次隨機的地洞</span></span><br><span class="line"><span class="keyword">let</span> lastHole;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 隨機出現地鼠的地洞</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">holes</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomHole</span>(<span class="params">holes</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// holes 是陣列，由 0 開始，所以利用 random 直接設定 random 範圍</span></span><br><span class="line">  <span class="keyword">const</span> idx = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * holes.length);</span><br><span class="line">  <span class="keyword">const</span> hole = holes[idx];</span><br><span class="line">  <span class="comment">// 隨機有可能重複的地洞，所以建立變數排除重複</span></span><br><span class="line">  <span class="keyword">if</span> (hole === lastHole) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Ah nah thats the same one bud"</span>);</span><br><span class="line">    <span class="keyword">return</span> randomHole(holes);</span><br><span class="line">  &#125;</span><br><span class="line">  lastHole = hole;</span><br><span class="line">  <span class="keyword">return</span> hole;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3."></a>步驟 3.</h2><p>地鼠出現的樣式與呼叫前幾個步驟的 function ，並建立 <strong>timeUp</strong> 標註遊戲時間是否到達</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 遊戲時間是否已經到達</span></span><br><span class="line"><span class="keyword">let</span> timeUp = <span class="literal">false</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 地鼠出現</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">peep</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 地鼠出現的隨機時間</span></span><br><span class="line">  <span class="keyword">const</span> time = randomTime(<span class="number">500</span>, <span class="number">2000</span>);</span><br><span class="line">  <span class="comment">// 地鼠出現的隨機地洞</span></span><br><span class="line">  <span class="keyword">const</span> hole = randomHole(holes);</span><br><span class="line">  <span class="comment">// 變更該地洞的地鼠樣式，讓其顯示</span></span><br><span class="line">  hole.classList.add(<span class="string">"up"</span>);</span><br><span class="line">  <span class="comment">// 地鼠出現的時間</span></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    hole.classList.remove(<span class="string">"up"</span>);</span><br><span class="line">    <span class="comment">// 讓地鼠出現連續，遊戲時間到則停止</span></span><br><span class="line">    <span class="keyword">if</span> (!timeUp) peep();</span><br><span class="line">  &#125;, time);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4."></a>步驟 4.</h2><p>建立開始遊戲按鈕的功能，宣告分數變數 <strong>score</strong> ； <strong>setTimeout</strong> 的時間是毫秒。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 遊戲得分</span></span><br><span class="line"><span class="keyword">let</span> score = <span class="number">0</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 遊戲開始</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startGame</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 分數版歸 0</span></span><br><span class="line">  scoreBoard.textContent = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// 遊戲時間標示</span></span><br><span class="line">  timeUp = <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">// 遊戲得分歸 0</span></span><br><span class="line">  score = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// 地鼠開始出現</span></span><br><span class="line">  peep();</span><br><span class="line">  <span class="comment">// 遊戲截止時間</span></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> (timeUp = <span class="literal">true</span>), <span class="number">30000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="步驟-5"><a href="#步驟-5" class="headerlink" title="步驟 5."></a>步驟 5.</h2><p>打擊地鼠後計算得分，並移除地鼠樣式(可以考慮替換成地鼠挨打樣式)，並使用 <strong>isTrusted</strong> 判斷是否使用程式碼作弊</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 打擊地鼠後得分</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">e</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bonk</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 判斷是否真的使用滑鼠點擊</span></span><br><span class="line">  <span class="keyword">if</span> (!e.isTrusted) <span class="keyword">return</span>; <span class="comment">// cheater!</span></span><br><span class="line">  <span class="comment">// 分數 + 1</span></span><br><span class="line">  score++;</span><br><span class="line">  <span class="comment">// 移除地鼠顯示</span></span><br><span class="line">  <span class="keyword">this</span>.parentNode.classList.remove(<span class="string">"up"</span>);</span><br><span class="line">  <span class="comment">// 顯示得分</span></span><br><span class="line">  scoreBoard.textContent = score;</span><br><span class="line">&#125;</span><br><span class="line">moles.forEach(<span class="function"><span class="params">mole</span> =&gt;</span> mole.addEventListener(<span class="string">'click'</span>, bonk));</span><br></pre></td></tr></table></figure>

<h2 id="步驟-6"><a href="#步驟-6" class="headerlink" title="步驟 6."></a>步驟 6.</h2><p>此步驟是自行延伸部分，增加顯示遊戲時間，參照 <a href="https://shunnien.github.io/2018/02/03/Javascript30days-29/">day_29</a> 調整 html 顯示倒數遊戲時間</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 倒數計時的顯示元素</span></span><br><span class="line"><span class="keyword">const</span> timerDisplay = <span class="built_in">document</span>.querySelector(<span class="string">".controllPanel span"</span>);</span><br><span class="line"><span class="comment">// 建立計時器</span></span><br><span class="line"><span class="keyword">let</span> countdown;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 遊戲開始</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startGame</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 分數版歸 0</span></span><br><span class="line">  scoreBoard.textContent = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// 遊戲時間標示</span></span><br><span class="line">  timeUp = <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">// 遊戲得分歸 0</span></span><br><span class="line">  score = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// 地鼠開始出現</span></span><br><span class="line">  peep();</span><br><span class="line">  <span class="comment">// 遊戲截止時間</span></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> (timeUp = <span class="literal">true</span>), <span class="number">30000</span>);</span><br><span class="line">  <span class="comment">// 啟動計時器</span></span><br><span class="line">  timer(<span class="number">30</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 倒數計時器</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">seconds</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params">seconds</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 先清除其他計時器，避免相互影響</span></span><br><span class="line">  clearInterval(countdown);</span><br><span class="line">  <span class="comment">// 顯示倒數計時</span></span><br><span class="line">  displayTimeLeft(seconds);</span><br><span class="line"></span><br><span class="line">  countdown = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 每秒鐘執行，所以直接每次減 1 就好</span></span><br><span class="line">    seconds--;</span><br><span class="line">    <span class="comment">// 小於 0 時，清除計時器</span></span><br><span class="line">    <span class="keyword">if</span> (seconds &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      clearInterval(countdown);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    displayTimeLeft(seconds);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 顯示倒數計時</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>seconds 秒數</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayTimeLeft</span>(<span class="params">seconds</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 計算幾分鐘</span></span><br><span class="line">  <span class="keyword">const</span> minutes = <span class="built_in">Math</span>.floor(seconds / <span class="number">60</span>);</span><br><span class="line">  <span class="comment">// 計算剩餘秒數</span></span><br><span class="line">  <span class="keyword">const</span> remainderSeconds = seconds % <span class="number">60</span>;</span><br><span class="line">  <span class="comment">// 組合顯示文字(剩餘時間)</span></span><br><span class="line">  <span class="keyword">const</span> display = <span class="string">`<span class="subst">$&#123;paddingLeft(minutes.toString(), <span class="number">2</span>)&#125;</span>:<span class="subst">$&#123;paddingLeft(</span></span></span><br><span class="line"><span class="string"><span class="subst">    remainderSeconds.toString(),</span></span></span><br><span class="line"><span class="string"><span class="subst">    <span class="number">2</span></span></span></span><br><span class="line"><span class="string"><span class="subst">  )&#125;</span>`</span>;</span><br><span class="line">  <span class="comment">// 顯示倒數計時</span></span><br><span class="line">  timerDisplay.textContent = display;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文字在指定長度中左邊補 0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>str 輸入文字</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> </span>lenght 補 0 的長度</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paddingLeft</span>(<span class="params">str, lenght</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (str.length &gt;= lenght) <span class="keyword">return</span> str;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> paddingLeft(<span class="string">"0"</span> + str, lenght);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="JavaScript-部分"><a href="#JavaScript-部分" class="headerlink" title="JavaScript 部分"></a>JavaScript 部分</h2><h3 id="isTrusted"><a href="#isTrusted" class="headerlink" title="isTrusted"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Event/isTrusted" target="_blank" rel="noopener">isTrusted</a></h3><div class="note info"><p>Event 介面的 isTrusted 唯讀屬性為一個布林值，若事件物件是由使用者操作而產生，則 isTrusted 值為 true。若事件物件是由程式碼所建立、修改，或是透過 EventTarget.dispatchEvent() 來觸發，則 isTrusted 值為 false。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Event/isTrusted" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="CSS-部分"><a href="#CSS-部分" class="headerlink" title="CSS 部分"></a>CSS 部分</h2><h3 id="cursor"><a href="#cursor" class="headerlink" title="cursor"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/cursor" target="_blank" rel="noopener">cursor</a></h3><p>定義滑鼠游標樣式，亦可以選擇 <strong>url</strong> 可以參考 <a href="http://www.rw-designer.com/gallery" target="_blank" rel="noopener">RealWorld Graphics</a> 取得游標 cur file</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://javascript30.com/" target="_blank" rel="noopener">JavaScript 30 day</a></li>
<li>作者 Github <a href="https://github.com/wesbos" target="_blank" rel="noopener">Wes Bos</a></li>
<li><a href="https://github.com/soyaine/JavaScript30" target="_blank" rel="noopener">Js 30 day 中文指南</a></li>
<li><a href="https://github.com/guahsu/JavaScript30" target="_blank" rel="noopener">瓜瓜的 JS 30</a></li>
<li>我的 JS 30 <a href="https://github.com/shunnien/JavaScript30day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>JavaScript30</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 10 下 Chrome 瀏覽器顯示正在下載 PROXY 指令碼</title>
    <url>/2018/02/10/chrome-download-proxy-code/</url>
    <content><![CDATA[<p>筆電之前設定開啟了 <strong>WIFI</strong> ，在家裡又接上了網路線，這時候開機後，開啟 <strong>Chrome</strong> 瀏覽器一直顯示<strong>正在下載 PROXY 指令碼</strong></p>
<a id="more"></a>

<p>開啟其他瀏覽器瀏覽又是正常的，調整 Chrome 的 PROXY 設定</p>
<ul>
<li>首先開啟 <strong>Chrome</strong> 的設定，找尋 <strong>開啟 Proxy 設定</strong></li>
</ul>
<p><img src="https://lh3.googleusercontent.com/I7JbJFBV4dJLrMDQCwfkdemP70i_gLXWT0KzJuprvF8YPPo3oiPKRxe3I4IP1fQxHppj6YjE_JazAlP1ms6IcjiypzUsUDh9VSc6UryzJaeq9yw6R3b7jY6GtQje-5yNUyYhq8oS6CCDUVbWsmYKL44cPMYGWBC0UCx1b9Wa4J_q2hY0jNvZrQy49XY7VOtfy3Wi-m7q5VWCnSCydFWk5FZCf6XMpUmNyjETqUnCUMQUlSRvKWoHGd37qxhD-wAySwsEsfqps3O_IPzgnNZmo2QTKSDc60akcIeQN1EXUNAxaNebux0lJLDnyxoos7zTKcBGZLw9iynyIIq6_J_qObxoN3WIBRrn237EAuB_Uzytyk3zu9DpefeETxIBX-WGvl3L6YJxWna0BulXfBZD-IPoyULQHaP5PQQ_FX25n89nh59q9nGPawogWCQSCAglsJLVIn4N24foav9hlMolmOAywFGtTaZiTrpxMgFnQKYoBUaG2h6lWmF4FRV2lA0OsLzi2mQpnO2IKdz-y5Tr5LhG_7mBmc-PB02ylWYqjQJforRORhVxNascQI_k1sqehsHeIP1X7KMiHIRhzmzlm0NHVWVE9oJWe4PsRZ0JRaDixTeO0VUysmVs8VdkXZVzOx7xrYWrygCJhoqm3a58JaP0Wia5xtQF=w859-h235-no" alt="chrome set"></p>
<ul>
<li>接著開啟 <strong>LAN 設定</strong> (<strong>LAN Settings</strong>)</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/ShNm1OByKCMe0SIYO4agRo-A5v9fBkEEoUFIdLCpQBqPm0i-ySNCwwnnY2Z8nASOrWMOT1UFKitggDIcSBzGIOe_joBhL8ncScxiLYPtfXEn63LF74TzqvptuiV4Dps0rQAVpOXPLS8nE6084_oX73W00jY7PIl7cZGK6iK1N3R5BVdJcx-tR5kedRQlcqpZ_efw82TBVMZ7LEm4VlGsl_pAhvwAUfyo-W_sGzCImUSQZhgULFp2O523w_q695cwpUGqn_B9L5-T21CTNlPTtCLmG_AcTt37EkEPBGoWtJb5N4XPs_MxujjKteXNFyfQ_dISVZykiIojL4eDyA3O6FpyqPQufXddaFrFTlydNTbxtrJFPo41SAR_bX2GYP6cooW_CrhN7TQGiyA2QgXhpjLmL3j-DmcXSGfZwrrL7g_oKvebKeCPvaNa2JOaIQwJ__7mEfil06lY_7vQYJIqKnlyPIRpZuyp9axlRP_wHnJFRDFCnBqAk2akuny8mGFKBlY1XUF97ECgU_YUMnKny2s0n2v5XZdhF74RIL6mTPUfnd1UGZXdFapIg5rUZdEnILk2DuURuUXSrBIooo9Xk_9ZYBQlXwHmMF8zeUThsnIdk2ituPnVdQ6lNtFXoIYcYhZzRXGnRkJS8DsmQ1PsyIwsE8-hqdAc=w476-h654-no" alt="Internet Property"></p>
<ul>
<li>取消勾選<strong>自動偵測設定</strong> (<strong>Automatically detect settings</strong>)</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/sN4YfC6_cRUSNp7asb31Es8QJsKenJQSEEBduBnIsimkUkO5h-p--5pAD0XcSZdUNRY3eBoTLweVwecgprO6DVuKSOwRaIXJcfmOlPNia0HGXxXI7duQ37I-zi282vnw7kR44J6VlbvSlPH0p6_ucv8cg0mDudM0MgnK_P7T0y8gCMqNZ8FPVm8F2QdKfiue8yYjBHoPgCDdsW6yhDnHsWvP-x7U-gxoljXST1aPdRf3j0BqKqHnieik2Ze3FDuMuA1UPK32zsC8Es6bpknQF0nPlT_gD5B-nr5NGUya6Sbd7sh8FgshVSquktNgKtzAMERqR8hyivMUyZTyWTicvLjphu9gwEXaVKkazV-UWxBfH0PJSpMtc4lpmLg7gx2l6Clh5zJ2IPvVdAzKqN3_7Hqptj-W-Se9j9Z8HV93pvDjuuFW4SELNnWYWRXHocdn-Zj8xz7WvldxlcBaTFVSDRIbODo1f9rT0E_gJXkHgSQgrfQ40_yb7UuAYFSw3MvZdEnL20X8aoGb3MH3uphvsChBFfsxvd5jn_Ws2yGBcU_AFbbevs7M1Pfp58LIkl2SS2EyZn7rP9TWNqrHnS5u4kMG-NXgh8q7Pm3kAn8O1m7AH2G9R3Fr7qj45luQPtzMlVSopHzt3VTxwN0DDIx7ZP0C6E5DQ49r=w443-h417-no" alt="LAN set"></p>
<p>按照以上步驟設定好， <strong>Chrome</strong> 應該就可以正常瀏覽網站，但是此時我的 GMail 在兩步驟驗證時，一直出現錯誤，所以還是取消 <strong>WIFI</strong> 來讓 Chrome 確定驗證通過的電腦吧</p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 03-CSS Grid Fundamentals</title>
    <url>/2018/02/26/css-grid-03/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>此篇熟悉<strong>grid</strong>的布置與設定，與下一篇搭配 Firefox 開發工具觀測</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_03/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h1><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="comment">/* grid-template-columns: 100px 500px 50px; */</span></span><br><span class="line">    <span class="comment">/* grid-template-columns: 100rem auto 200px 50px; */</span></span><br><span class="line">    <span class="comment">/*grid-template-columns: repeat(5, auto);*/</span></span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">200px</span> <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="number">200px</span> <span class="number">100px</span> <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="grid"><a href="#grid" class="headerlink" title="grid"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid" target="_blank" rel="noopener"><strong>grid</strong></a></h2><div class="note info"><p>The grid CSS property is a shorthand property that sets all of the explicit grid properties (grid-template-rows, grid-template-columns, and grid-template-areas), and all the implicit grid properties (grid-auto-rows, grid-auto-columns, and grid-auto-flow), in a single declaration.</p>
<p><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="grid-template-columns"><a href="#grid-template-columns" class="headerlink" title="grid-template-columns"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-columns" target="_blank" rel="noopener"><strong>grid-template-columns</strong></a></h2><div class="note info"><p>The grid-template-columns CSS property defines the line names and track sizing functions of the grid columns.<br><strong>資料來源</strong> - <a href=""><em>MDN</em></a></p>
</div>

<p>設定<strong>列</strong>的數目與寬度</p>
<h2 id="grid-template-rows"><a href="#grid-template-rows" class="headerlink" title="grid-template-rows"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-rows" target="_blank" rel="noopener"><strong>grid-template-rows</strong></a></h2><div class="note info"><p>The grid-template-rows CSS property defines the line names and track sizing functions of the grid rows.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-rows" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>設定<strong>行</strong>的高度，依序設定第 N 行的高度</p>
<h2 id="gird-gap"><a href="#gird-gap" class="headerlink" title="gird-gap"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-gap" target="_blank" rel="noopener"><strong>gird-gap</strong></a></h2><div class="note info"><p>The grid-gap CSS property is a shorthand property for grid-row-gap and grid-column-gap specifying the gutters between grid rows and columns.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-gap" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>設定行列之間的間距</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>下載 Blob 在 IE 11 遇到的問題</title>
    <url>/2018/02/21/download-blob-by-IE/</url>
    <content><![CDATA[<p>透過 <strong>JavaScript</strong> 下載 <a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E9%80%B2%E4%BD%8D%E5%A4%A7%E5%9E%8B%E7%89%A9%E4%BB%B6" target="_blank" rel="noopener">Blob</a> ，發現在 IE 11 上，不能下載</p>
<a id="more"></a>

<p>範例程式如下，以下程式在 IE 就無法下載</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> saveData = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">data, fileName</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> json = <span class="built_in">JSON</span>.stringify(data),</span><br><span class="line">            blob = <span class="keyword">new</span> Blob([json], &#123;<span class="attr">type</span>: <span class="string">"octet/stream"</span>&#125;),</span><br><span class="line">            url = <span class="built_in">window</span>.URL.createObjectURL(blob);</span><br><span class="line">        a.href = url;</span><br><span class="line">        a.download = fileName;</span><br><span class="line">        a.click();</span><br><span class="line">        a.remove();</span><br><span class="line">        <span class="built_in">window</span>.URL.revokeObjectURL(url);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = &#123; <span class="attr">x</span>: <span class="number">42</span>, <span class="attr">s</span>: <span class="string">"hello, world"</span>, <span class="attr">d</span>: <span class="keyword">new</span> <span class="built_in">Date</span>() &#125;,</span><br><span class="line">    fileName = <span class="string">"my-download.json"</span>;</span><br><span class="line"></span><br><span class="line">saveData(data, fileName);</span><br></pre></td></tr></table></figure>

<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/2c2aaj04/embedded/html,js,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<div class="note primary"><p>主要原因是 <code>createObjectURL</code> 在 IE 11 中沒有作用</p>
</div>

<p>雖然 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/URL/createObjectURL" target="_blank" rel="noopener">createObjectURL</a> 在 MDN 中寫了支援 IE 11 ，但是不知道為什麼就是沒有效；參考了 <a href="https://stackoverflow.com/questions/36978795/download-a-blob-from-http-url-in-ie-11" target="_blank" rel="noopener">stackoverflow 此篇討論</a> 更改使用 <strong>navigator.msSaveOrOpenBlob</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> saveData = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span><br><span class="line">  <span class="keyword">var</span> json = <span class="built_in">JSON</span>.stringify(data),</span><br><span class="line">    blob = <span class="keyword">new</span> Blob([json], &#123;</span><br><span class="line">      type: <span class="string">"octet/stream"</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.navigator &amp;&amp; <span class="built_in">window</span>.navigator.msSaveOrOpenBlob) &#123; <span class="comment">// for IE</span></span><br><span class="line">    <span class="built_in">window</span>.navigator.msSaveOrOpenBlob(blob, fileName);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">    t: <span class="string">"hello, world"</span>,</span><br><span class="line">    d: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  fileName = <span class="string">"my-download.json"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'button'</span>).addEventListener(<span class="string">'click'</span>, saveData);</span><br></pre></td></tr></table></figure>

<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/pntnbj72/embedded/html,js,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>


<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://stackoverflow.com/questions/36978795/download-a-blob-from-http-url-in-ie-11" target="_blank" rel="noopener">stackoverflow</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>IE</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 02-Starter Files and Tooling Setup</title>
    <url>/2018/02/13/css-grid-02/</url>
    <content><![CDATA[<p>Wesbos 的 CSS Grid 課程筆記第二天，至於為什麼沒有第一天是因為課程內容的第一天， Wesbos 在簡單介紹此課程，至於第二天的則是環境設定、工具介紹等。</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_02/test-START.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="編輯器"><a href="#編輯器" class="headerlink" title="編輯器"></a>編輯器</h1><p>可以參考 <a href="http://wesbos.com/uses" target="_blank" rel="noopener">Wesbos</a> 的 <strong>Editor + Terminal</strong> ，文字編輯器有很多選擇 <a href="https://atom.io/" target="_blank" rel="noopener">Atom</a>、<a href="http://brackets.io/" target="_blank" rel="noopener">Brackets</a>、<a href="https://www.sublimetext.com/" target="_blank" rel="noopener">SublimeText</a> 或是 <a href="https://code.visualstudio.com/" target="_blank" rel="noopener">Visual Studio Code</a> </p>
<p>編輯器之外，尚有編輯器的擴充功能，此處提到的是 <a href="https://emmet.io/download/" target="_blank" rel="noopener">emmet</a> ，此功能可以快速建置 html 頁面，假如使用 <a href="https://code.visualstudio.com/" target="_blank" rel="noopener">Visual Studio Code</a> 則是已經內建在編輯器功能中了<br>，使用方式相當簡易，直接在 html 頁面上輸入如下語法後，會顯示智能提示訊息</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.container*1&gt;.item*3</span><br></pre></td></tr></table></figure>

<p>上述語法會轉換為</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Firefox-開發者版本"><a href="#Firefox-開發者版本" class="headerlink" title="Firefox 開發者版本"></a><a href="https://www.mozilla.org/zh-TW/firefox/developer/?utm_campaign=cssgrid&utm_content=web&utm_source=wesbos" target="_blank" rel="noopener">Firefox 開發者版本</a></h1><p>此次主題是 CSS Grid ，由於 <strong>Firefox</strong> 內建的開發工具有支援 grid 的呈現，其他瀏覽器的開發工具對於 grid 的支援度較不完整，所以此次建議使用 <strong>Firefox</strong> 瀏覽器，至於是否使用開發者版本則見仁見智</p>
<h1 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></h1><p>開發前端大部分都會使用到的 <a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a> ，安裝後，即可透過 npm 安裝 <strong>browser-sync</strong> ，其 <strong>package.json</strong> 如下所示，瀏覽器路徑請按照各自安裝路徑調整</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"css-grid"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"run-script-os"</span>,</span><br><span class="line">    <span class="attr">"start:win32"</span>: <span class="string">"browser-sync start --server --files '**/*.css, **/*.html, **/*.js, !node_modules/**/*' --directory --port 7777 --browser \"C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe"</span>,</span><br><span class="line">    <span class="attr">"//"</span>: <span class="string">"Hello! If you are having trouble running this command. Try changing Firefox Developer Edition to FirefoxDeveloperEdition"</span>,</span><br><span class="line">    <span class="attr">"start:darwin:linux"</span>: <span class="string">"browser-sync start --server --files '**/*.css, **/*.html, **/*.js, !node_modules/**/*' --directory --port 7777 --browser 'Firefox Developer Edition'"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"browser-sync"</span>: <span class="string">"^2.18.13"</span>,</span><br><span class="line">    <span class="attr">"run-script-os"</span>: <span class="string">"^1.0.3"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>建立好 package.json 後，直接輸入以下指令，安裝套件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i</span><br></pre></td></tr></table></figure>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="CSS-變數"><a href="#CSS-變數" class="headerlink" title="CSS 變數"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables" target="_blank" rel="noopener">CSS 變數</a></h2><div class="note info"><p>CSS變量是由CSS作者定義的實體，其中包含要在整個文檔中重複使用的特定值。使用自定義屬性來設置變量名，並使用特定的var()來訪問。（比如color:  var(–main-color) ;）。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_variables" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 04-CSS Grid Dev Tools</title>
    <url>/2018/02/28/css-grid-04/</url>
    <content><![CDATA[<p>CSS Grid Dev Tools ， 顧名思義就是介紹開發者工具，主要是使用 <strong>firefox</strong> 的開發者工具</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_04/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<p>CSS 的範例程式跟前幾次相同，主要是觀察在 <strong>grid</strong> 配置下的畫面區塊，以及 gap 的間距</p>
<h1 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h1><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">100px</span> <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在開發者工具中，選擇<strong>檢測</strong>，在選擇版面，可以選擇<strong>覆蓋格線</strong>與<strong>格線顯示選項</strong>，在每個元素上都可以再點選區塊顯示</p>
<p><img src="https://lh3.googleusercontent.com/ervoFDn8_Ae2nNuZvmarlEqZMRf6EY4jcwpbRX9JJbcfsOYZFdhethPs_ILb31UByFNRV5qBkAgMKXionJuipeh_wl2QRYBjqLjGQe1zXJoRKJ7JX9Aj-vZNkhFOuKmYzEZAOW_3eP7Sok0FZPPgsjbbgL6FwMEyTZ7vr9c3LIGXF5J8aGpdufCUyQh6Kgdf5nWCX4fBJo_Y5DVKQxf0gMtB61Ptjj_XMWBHJup3Mj0OyGi6urOoCr3TPY-Pb4oJ6dxbcLJQO_nA_xWi5Y6AL4UdtQiJ9AljGxjYauonDmobRzfMOv-jkokMpg3YrJJWC_KuzXTN7gTcyAoPW289vn-_0NAoClP8iMrarStyw9QUg_Fecferpsc1OTL42-3iv_aswOy-8KRXEZRVNHbqcjloCGfklWu6U4aSsIRBNLfJGTmdIg-Uc1w6Mfr8Uvyake-r144Xz85N9XD_6PneBfEAznBRjiEDe0qEy_WmC98-hfnT8G05uEdV_reGU3ui7OWnzriBelrLREEOOHdu0Mtuh5PIqylA5GW_idJH3Y9-ow2Xse2Ea-z-x_AzxIJNBHYOQb1yEzF7rhjSzTmYgi3FWLYxpXsJdaUNj_ApNnkSDMSMbMgn7tRE0VnKIzQ5W9jmH8TNfNJYOFloImY_H9JrXvV-Qc-G=w706-h719-no" alt="版面"></p>
<p>說明顯式邊線(explicit track)與隱式邊線(implict track)，還有網格間格(gap)</p>
<p><img src="https://lh3.googleusercontent.com/PlNDQRH3bVnStTGjbeATVXK9hjgM0bpDBh5gEfaN11_X9XTtI6GNsfUWj18ESwy2TDUVPlk1EU3MaEAhdf-xA84JuOBCWhB1xyNIDojkvB4KM8mqRK454corifWGa_eE0i2BX5gz1XnM5GqxzCfd4QWYC05VhvNR6InRz7caseh45q8daPSpM3vAULRUp-ka3-ddJ9yjP0ONgasb36z8o6DI7e0XgPq11HMq5p3uXJIDh1XxmlvEOgLQXwdyg39M-Y6LJ3NBQvkN5gY7Lw_D59sABSumD2WcRlSM-dH-Az52q-UdGO5vvgukW8_kux4zYDIgydoDILWRtqBipgC8nTPLtGWC0Sh-U5mLWkIFgm9knCP9Uk4cwQ-EaQ4EUvG_CyAjDXLqOjIVvZwJ7jET4pra8eEb4iqSKzKw8a3CCRWae6GpEpcDy-qrsRJ4fQ4jFjWo5KhBvVmUWuYcsMvR6XLbLFb2ZGsapTAJlOD2UtXnENMHTC7KOQ8iYWNngdWUwG14s2WnfTJn53eKgzYfX4UW5lIlFBX1IFDhw_esKpCQP-4uGCHm4AF9GEtIR8IhdO6Kli8rdKNMCtFPj4lxk1J5IOFHwVqEVIDXe6jBcLrmiB7SKp7g5wX8hlcrJMLkwPh7EV_A4TPusEShsVzq_vM50jKBv3tn=w624-h764-no" alt="grid_detail"></p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 06-CSS Grid-Auto-Flow Explained</title>
    <url>/2018/03/18/css-grid-06/</url>
    <content><![CDATA[<h1 id="grid-auto-flow"><a href="#grid-auto-flow" class="headerlink" title="grid-auto-flow"></a>grid-auto-flow</h1><p><img src="https://lh3.googleusercontent.com/iwsSPtRAQ5CoBhFu5uWENGaIjyJSRHWH4gP2JVuEWgbK_F95noA-rk-loJbEgzZtfSsHi25gYCxvxh1fugUpFkyDJ-LW_GQqNnBj39saVAwsaVwIfqw5BtA5Bb3v2g1a99jH7kPJABqb0zq1N1fDaC1C6mNPsZOUbuOspFgBcYJCvuyS_DOvfzCtNdHjyu-UnBkIaLl72o6aXLXY5v0Z1TW2hXz0nTBjqjiLPEqcFKe32DsJCeqBvoYJiXf1OByMt0amPTxa3r_hP27IXEYlVOnLd1ZxnefILFmh2GiQLa4RQDxl5Fnlvb-IfxhhEM0o3LpLQHDwcUW9Ht7N_2zzZph4KEnwB0y2aVKNlhuChm1VJtK2D1qNK8T_j--XvhF0mO9qIFQAD5EmUPggTyxjXScyhGRgDW56JRL_M0VwsDFses75wPTQH4mmvQSo1Y7smzpgXCyw7ND6PvG5q0pO9-npj_5QSgfJkwSzfHbxbIt_UvMui2iSnRyjOKpK1LwDOv4wUzwWf-0PmfbQ7uuEOqnnAwI96COsBM3IBNSF3-idy9grK2dkmEdcuuZB1TehICY9VswzPZ2TWxG-ekl-z7Yaa0_IDaSqVcIzj9gYUvdByoBeZTGOg9HzQiQCjLwDVlaZCZTtn8WNW1Ah7ztg6cI6AdQlSBcV=w1841-h854-no" alt="demo"></p>
<p><a href="https://shunnien.github.io/2018/03/18/css-grid-05/">css grid 筆記 05</a>提到了 <code>grid-auto-columns</code> 但是在其範例中看不到 <strong>column</strong> 自動增長，其設定需要透過 <code>grid-auto-flow</code></p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_06/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<p>當不使用 <code>grid-auto-flow</code> 的時候，會依照設定的 <code>grid-template-columns</code> 數量去設定 <strong>column</strong> ，但假如是 <strong>row</strong> 的話，還是會自動增加，此部分可以參考<a href="https://shunnien.github.io/2018/03/18/css-grid-05/">css grid 筆記 05</a>，<code>grid-auto-flow</code> 設定了 <strong>column</strong> 後，假如有超出 <strong>template</strong> 的設定，就會依照 <code>grid-auto-columns</code> 設定的大小去調整新增加的 <strong>column</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">400px</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">grid-auto-flow</span>: column;</span><br><span class="line">    <span class="attribute">grid-auto-columns</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="grid-auto-flow-1"><a href="#grid-auto-flow-1" class="headerlink" title="grid-auto-flow"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-auto-flow" target="_blank" rel="noopener">grid-auto-flow</a></h2><div class="note info"><p>grid-auto-flow 属性通过控制自动布局算法的运作原理，精确指定自动布局的元素在网格中排列的方向。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-auto-flow" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 05-CSS Grid Implicit vs Explicit Tracks</title>
    <url>/2018/03/18/css-grid-05/</url>
    <content><![CDATA[<h1 id="CSS-Grid-Implicit-vs-Explicit-Tracks"><a href="#CSS-Grid-Implicit-vs-Explicit-Tracks" class="headerlink" title="CSS Grid Implicit vs Explicit Tracks"></a>CSS Grid Implicit vs Explicit Tracks</h1><p>此篇介紹 <strong>Implicit Tracks</strong> (隱式邊線) 與 <strong>Explicit Tracks</strong> (顯式邊線)的差異點</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_05/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<p>主要著重在 <code>grid-template-columns</code> 與 <code>grid-template-rows</code> 兩個 <strong>template</strong> 的設定對應 <code>grid-auto-rows</code> 與 <code>grid-auto-columns</code> ，以下說明這幾個項目的邊界範圍</p>
<h2 id="grid-template-columns"><a href="#grid-template-columns" class="headerlink" title="grid-template-columns"></a><code>grid-template-columns</code></h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: grid;</span><br><span class="line">      <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">      <span class="attribute">grid-template-columns</span>: <span class="number">200px</span> <span class="number">400px</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>這是設定直列的寬度，設定幾個數字表示設定幾列，例如上述的設定只有 <code>200px 400px</code> ，所以第一列是 <strong>200px</strong> 第二列式 <strong>400px</strong> ，其邊界範圍如下圖，左右的黑色實線表示 <strong>Explicit Tracks</strong> (顯式邊線)，而虛線表示 <strong>Implicit Tracks</strong> (隱式邊線)</p>
<p><img src="https://lh3.googleusercontent.com/be5UoDrkwPpc3CnRgGS0jgU-bdmjk2zhHm8STB51rF-9Kcp0OLtGnAOXRQdf05It5IIdZTq-OaabxF-nQMZt831XQG-4ozlgQ5jbqBGFr9AFITSPw152Ya_F4L6cH1JNlTqhqL8B-xPzhxpjta9cc3FlCCp6rBt85RnRjAvJ_yUVKfIn4Jt266YF4QsN8a0Nr0rPqs-aC7qQpkPqY_UgdOg82JLU8WyB1XyByXxDZ4mS3kbuvg3pItkwURWFfNWbSUCu0nIYpuC7jvdqYHZ9SRw6uOosRdyp6UhpPPQwn4mR3MbunLXiQA6cxZzu4Chmquw8IB9MzuH4jsUhxNy_EOK6xYlYReLA__F2FkBKAoFnYsAGIzjn69rVRU5Dwy0U1nRBrjCJgxQTGA7RoEaOszbvmHffYk-USZGqMdVaGjKQyvA39hrr6zS-LtoHaICR8IrePFzqUbePDOD9AmbV6VQys9-6WehoAPLtUUVjYQb1JpI4fqpcuVOoD9iQYV0YPahtJRC2C1HhiyL-MttQrCQ2hGKMbrIhxsxevbFm7qLoSBRa1XB7zBK8_HwCaAm4x6fgd1NCIbYz-bMTENBUI5Cns948uD4TQ3ksZi2qYQP4zCxOsRQwruHBVGao79626-CWhTIGPdrohCQpu7JXbdjPY-RFryC1=w347-h777-no" alt="explicit start"></p>
<p><img src="https://lh3.googleusercontent.com/fQnASL6mdp_rRJ8rsMOLHy0ddw4n-yCQh8UoJkk0-zYr8Y-QiqLF57ilN2MjSJz2C__wibGA16c5zKhmGXfLe-Ennoo2rSWWpHco5EK0rLy9Xmlob4HTYY-NC-mwCaI6r9jVD52cNfGqxG9Kh21vnUvPj9SwQmvbWQUILv62uLmxPhZaD6Mb6G-AIg--iDCQfVBQX-02OV1_wgIVu-hAB7Vpi2-kEqzIQcnsgrKnzvGWVnWNDuJ3OvYKl021W-Cznhkc_0E9GtL_G6uXuiVRB-_xrlPvuv0nX4zBnLrVvoUX3YfyaJ3MjNX6syID8v0nT0pIk9Y4yNBiIeRddz7UELF4bOGGFv1yr4sa7rpjladLkr11XeeOnitaUNOokcgF37bSzoBK72YxkSw5BcfHgZzn4vxbEHIquCFFXW3DwHj3eSfsdqjTz8wrv92kIxU3mB45aBc6cZIlJR7ytn32Efg4iwNNTBtt2GMFXkydm3JhS8jg4vd32byTHb5PHoxlhat2JNX7qmyhiSjKfqdwGMu-RPnEiEMGgwHtKCZWn9qMBMaxqZwr3NMITvWoEM892M_nkkA4HoIZUqay__aCRlscPQ4Y3Ve9tb-2PH-h5u8cIjRl7ENMhcL0_QQ4q8FvmZjZ-gPGG8hsSvzOHa03aqvlz2fFaErV=w406-h652-no" alt="explicit end"></p>
<p><img src="https://lh3.googleusercontent.com/UtqNyiSCK5imHvs1WAA0r3mq_dPr1r93zidr6D8JG9do-Gc2HNe6ALIatzPfYoDx7IWm2yCeoN1bi-MLesf-YIIV2kHgTvfS_1ok4o4QYqarlNiR2k_cEIMXAApuuJvivxzmob-1h0xOrCbwBJwCs7wDStRe5h7KUFMJLAOnnPRXczaxY0PxwEgWSL6g82TRQzrpUs3n_WwSRAU25sa6GyFqmFxCE3addUnZOoXSG5BykTA092e6J9YYIrifM1Wj64EvYND1A5dZA1gO6aGPh6IcJ_ET5IU5WueAcbDZeGMyv21mNPwHaS063dlUpSzx7eLtCH-Ipm43QxrLo-tMcWmZJWsDkPRzVt48i1R0RGJcJlyL8dl_NpdwDlKz8fe5VKh0P9HYFxbB5hH1HQ584tyLOqDtzY2g2N2qMy-YGrq9Ktu4QNJV9np3cxX_IEep7NzGHCUv2taQZXLsJQ7R08AYS2CtNUaoJ7e8sHp_5Uc4ZaLXzuZG8ecaFdusS3ZpkH84Y0t_MDS40jDsTsYgPewzyeEdqAHBYNMb5zIZ1jckANDBAYnMBFOAuzrQxqP8uo2cnxD6pvtylfHhrHfVUcq8O8g044h9ZqM-1B3k6PYchOdaElztb_RyQiQl1v0G62KaKLjhGCqIs-ydmngW5vP37jyGxwUd=w240-h595-no" alt="Implicit line"></p>
<h2 id="grid-template-rows"><a href="#grid-template-rows" class="headerlink" title="grid-template-rows"></a><code>grid-template-rows</code></h2><p>與 <code>grid-template-columns</code> 類似，但是其設定為橫向的行，設定幾個數字表示設定幾行，上下的黑色實線為其設定範圍，超出的部分則為虛線顯示。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">200px</span> <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">100px</span> <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/AieLtG_A9vDEjtgAsjjtowaeo3OcvFJ7x2QbxJ3qQM-Rbnw-zG4cdxZ1-EdtYFNBFMRtirgUa7vHkM9hRCr0RaLhnxv-1IiHBA2s59YEXsFdJoCEZ6FaqXcSEmKxzvO70qgvE9h7GfyopU5nmw7bBI8RcTvYn47EdC-wnJZgIZAe3NRPOyidT1VdMft2inCK6fSDs2lOoZuTMJx9dA70pHfxClQlMmIFluLdMbEaw_QCuI3Lddqwc_BxwhRrPyJOkgRe73lwWElVd-8j4UO6y-1Clq6ZEF4kQvSSFvkY4QSoEyEZO8wV2nByPUARBL7Otp5I92DK_2wD77iITh-7FYL-Hvxq-GcrydzqdtsmguQrUlEm44xECbGK4GOBpixgnb0x1hS3ytWba0IqxlRsBItj1yxxsI4p-2_OmyVZxpAlavXRqGU5wafX1GM8CIRze_OqPlm2mDQrOeC-mvFAlPdHereU1PD0FinJFsmaU-NQsF_VB2rWOQQL9LIVbXynEplYElifX2dbMj-bCEN-bcFgWfEVCv8txvmRhK3wUY4D0Mc99BIBdI8y_IF-2kEo8V5BLZK2cWzCV93ZUoQQEx8z0JEFNK-hs8ZVxBaKkxW8QwClQluyN5EaVqRs6tbqKL8WgL5TxTHy_pt5bBYtfYST11erUGmR=w344-h645-no" alt="grid-template-columns explicit"></p>
<h2 id="grid-auto-rows-與-grid-auto-columns"><a href="#grid-auto-rows-與-grid-auto-columns" class="headerlink" title="grid-auto-rows 與 grid-auto-columns"></a><code>grid-auto-rows</code> 與 <code>grid-auto-columns</code></h2><p>這兩個 CSS 屬性則是剛剛上述提到的 <strong>template</strong> 設定範圍外，就是虛線顯示的部分，其表格的寬高設定</p>
<ul>
<li><code>grid-auto-rows</code> 表示超出設定範圍的行的高度</li>
<li><code>grid-auto-columns</code> 表示超出設定範圍的列的寬度</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">200px</span> <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="number">100px</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">grid-auto-rows</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">grid-auto-columns</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/FE59JurQlEY4AEhxAJA0tLSZ-ia3CKV0HbEJ8VlpJZbrGa92BEH9e--gJhlPPndc-l0CqpXj7-6_VqRWqrFHq5rCMT5jWsCMG10aB_XF-A4AysMyTGaU8bvEiP9KNJhhQ_JsZhXtJsjopGGauFfH-p9JGk1dlBT1D9HNwunAt3YTpCwneIzmoMTvC_wWfZ9YsoI-focz-A7dTMIi2fp6W___9_131FMAR6J62Hl4WCJwQZnmnKvQfPrECm-_WJhlF9qJU4nxvTBZVr6TqNYBQVjMQeWtIFOYdTohd6JZDHtX3Rovjy033W-RRD6woWqeIxmoPRq3jh38dSu7eygRR8QLORSAmO9KDsEgjHTULo0ei75b-GlD44wczGhh6GUcNQZYfoXp1MyLhh8ZMDodeX77t1aWr-O6d-ukg0ImsPJ__lzPcGpjY4Bat45tbu19urWWX078_UOSFUixQ-mltiW-qT2XqL2JLs7jSCRIwKDB1LOVf6iQJmyXo1iprs5T4uxRs4UVUG-iaD75aB05XJiu53mP4SHjsDh0twkaMDjeMdCbOga1FZ9YlWjA4R-gbHNLjsSEIG7jYam0kAhvZjwHQsXBu1FgNa22J2wtUKhicfOVWbd-S7hfB7YDXKHU4Xzcij55bT-Yu4n73AhSaHwKIW4uGsBc=w469-h731-no" alt="grid-auto-rows"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 07-Sizing Tracks in CSS Grid</title>
    <url>/2018/03/21/css-grid-07/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>此篇介紹格線佈局中的 <strong>fr</strong> 此單位的使用，以及如何使用此單位來填滿格線佈局</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_07/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<p>首先，來個預定情境如下，使用百分比來設定，但是由於設定了 <strong>gap</strong> 所以會造成設定溢出</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">25%</span> <span class="number">25%</span> <span class="number">25%</span> <span class="number">25%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/qCQHWZV2Osiq2lcXaHLcZnh3EYAb08n2YYR-6b3E9ND7ET1qq10Lpwj7zcxVN1WkaU0JYaiI5OietmZX-3HVsyzf-AzpOmyeUFXuc2PNBdtUlTpZdkCVPFo1OOc7NFqcN5fCXX0A9XD0fjJEyZoUN_PtnZnwFn_kas7WWIpUecWQZh-f5mPC0qeLeV89hpIiLN4cy7kUUFFHSvol-AumVqSl0wPyOWPRlemQt89UfrPCkOecbAYC5GYnugaaZ2hWJFE2XvqdYLBIPFlc_Mfa-3z8brNhintyEL3YFIJXQsGKLKI513ZqLugMxmJX529s47vzXPUEAjZahq4SoaFSY-W_LiP25UEbXivxL0GyfliHVLN6F9jSzWmKpIkKSlLJ1XVmBArONSNrzzJ3w4Un4a6wpRcJ43yNk7TlbD7mt2HCEC1CM-hOw7R9mK0SqKBydiQ-s5uy9f_6EMyx0KCwWTDbl_6vbAuZz0FaZ9kY3lsMNB7DpMOwurBPj5lytSajaNokatiPKazAgX_kzy1q7zt-rVrhmhaNZde6-5XegQn24Pa2W4BD9o8kc713svfsLOxVkkEjl31kggRsqeqkz2y5QcB4fGB5J6Ia5Bm-K_xkZfpkOIpcBak4o0OOtZrMbd8osmxrkjG17198t0O3Vm0vbfCmHLj5=w962-h461-no" alt="columns percent"></p>
<p>加上邊框來觀察會更明顯</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="built_in">var</span>(--yellow);</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">25%</span> <span class="number">25%</span> <span class="number">25%</span> <span class="number">25%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/BgBUzqIu4mMP1RosCPAhhpAyIPE6Fle4mRJfSVJkVZxB7rR4wjrpzIjII61NJxkdHI5V_KskB9MPstCGg3kEjxjusmEW0ebkm0KV2ucmcBvqB1QND8bzWAJUwIFqCm3ZTp8TAPO4B0EztsVlGXsI5xwPKWBvUIDmcwkktvQaFRabv5vt9apQp6o0tFaX9p3eCZOwKuyHgpIIDWR2aS-Ydas4GoUmkN7PR0Ex4cX2Pj_uOyw5ati8XBJcYFuT7xeOtpzFEpSN1oxzIsxv2gmDaRcm1XLIk21CF6wEffW9hlR1CFxDGAO52j6s4zdRdxyFW2KhqbVF5Fbux8DwJRE8VcaStF9vvexmYtiR4HlsQ8jc9Ofh1pUoOftTbypt0z20WIrnfrWQ6NR7VW6TmrNDS5xopnEOMOEzgMqECDzJTzV1PuzP6uU8Hf6gj4mNNOtB-FP4V3C7z4sDF8UjuK6-1EG01hZCZVApCXiGBkNQbD9ZUAAA9YZWM1XcrGpVhzBpxeDGUTGb94H5v7eWfe6kfxsVrAbc1faHwSaHQUnj2GFomIG2_W0lJOQxe5L65_Kfnxy081Uph2dzDSHuv1d4Lw_VlsDaBLkIdm6dY6r2ij7pOju4tjGAvfFZD1ozqT39BJnfcMQARN7rVWpLpiMpqF_yo32PDiwh=w445-h425-no" alt="add border"></p>
<p>這時候可以使用 <strong>fr</strong> 單位，此單位會自動計算表格中剩餘可以使用的空間，然後分配</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="built_in">var</span>(--yellow);</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">2</span>fr <span class="number">1</span>fr <span class="number">2</span>fr <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/wpafak7aFF-gcVZpqgC_1Fsxw9vI2rgZdJGJkZXDkhU9ZeD7zkQSjJzFLKf35A1dqOKRS6P2im_u4C3jX1J1iKgJVOB3pPRDnbtKQ348YASIvT6ouXS8bFjbSx3E5s3K8DIPTiDCUxjQZPyttopw94Jbz-mTsT8hLaXkn7GJqMX7q8isDsEXJSr3KxuU7Lc0MhJZ9siB-l59EPdp3GhjAdSOem-0yH-MpMbPOIeD1zk6TEJa0zxLD2GJT-ZdA5V06porOCAwLUeuB8NS6ExDQ9X2xn6JZ0222fXuQGbjO_EJoQ9mudL-yPeLTzichJPWVriD1HscZAB0V5TZb1lQgvh27H6vJ1UuWuy6hqvownp-mdigR-Je4mmx-p2ZUKgZ8wJVzQ3DOKkpZgPfTQ9dmCxMBLyfAXJt-vW1ew7r-V73Bo5ctKCdZbz0scrpie6xVdIHslYB9nUIqJ3fp5z51aZiFUuXf92FVYjEpo1m4wu8QeQvULsNsvvaUT7JYdtVSRkSwrL11Zy5oUOKcXQeIORMYXz4d04hoBN88A2J64gf5XGHeYRx-MkN7-Y5p5G9oEswR_AgSVo46Ufr0fgMu3PPmUa-ABH0vD3Ge4IXE6lVuqXfVDWWBn_GpFCmOXsbzBjKsU5I83veD7ruhKrTa1U1Ra7_nwGd=w867-h411-no" alt="fr demo"></p>
<p>當然，除了 <strong>grid-template-columns</strong> 外，在 <strong>grid-template-rows</strong> 也可以使用 <strong>fr</strong> 單位；而另一個 <strong>auto</strong> 的設定則是會依照內容的大小去自動調整表格大小，可以觀看如下範例</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="built_in">var</span>(--yellow);</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: auto <span class="number">1</span>fr auto <span class="number">1</span>fr;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/iqyFqDmsVuvLMdwtJrPQLJtxL8hTiBl5LcSw3G8HLXOxT6c148SqSUZWbHtRsG_njnCzn16ZbUe8SX7sxSH4upgmrpKoK8zmomq6loZ1dwKAcCN3Z8isPxy2OuDbUtFjV8EKVsq8SVdvwFCGsAbHEJNtQpGU4xj4cdKNHBTzDa4rqD3bhLzxGljbTtCVn1vzWLhMH7pbkvuE3WdL6EP8RNNiCjXuMeCxte9N_r5BMo3DieExvb7nGhWAoRxoOsp4nQUacLQfN5iQ8JgkiDeaW9Rv9O09qistaSP_8MY2jLCrwDDoFifF8jN1H0hdyW0H1ILR6vsiahh4lSCsB3j3ITj_BwL4KcS0Rg7xdvGYIiQpeImA4ZU8tIRVJxtFObutemqPeWniy5Iz8yF393mnccfcpClP8wF6Lc2Jkx4Wg4GoO4WjK1O1iSqqMqvtgLRVjXOrBaxc7yQQ5Z9O00kAm8_JPilM4YZhpMr7gl1yJIPClw7J42IF_sMS2eNf3B5MmiWYG48ZhXLn_S7ZPq6enp3xTSPKDSzfh1TuxnNEt4aNG6MHQZmvEuO_fJ4iXdulVRVE0Q_davKtqE6omiNlWrX7mUW8o9oboTcqPql6t8I0oIhZn1RtqhwBnOifNKUf0Igs1KIQRE6izDZJLR77zs_fx9C7DyXx=w851-h405-no" alt="auto content"></p>
<h2 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h2><h3 id="fr-單位"><a href="#fr-單位" class="headerlink" title="fr 單位"></a><strong>fr</strong> 單位</h3><div class="note info"><p>Tracks can be defined using any length unit.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/CSS_Grid_Layout/Basic_Concepts_of_Grid_Layout" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 08-CSS Grid Repeat Function</title>
    <url>/2018/03/21/css-grid-08/</url>
    <content><![CDATA[<h1 id="CSS-Grid-repeat-function"><a href="#CSS-Grid-repeat-function" class="headerlink" title="CSS Grid repeat function"></a>CSS Grid repeat function</h1><p>此篇介紹 <strong>repeat</strong> function 的使用，在 grid 中可以減少一些重複設定的瑣碎動作</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_08/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<p><strong>repeat</strong> 這方法可以減少重複設定，如下的 <strong>grid-template-columns</strong> 設定了四欄</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述的方式使用 <strong>repeat</strong> 可以轉寫成 <code>repeat(4,1fr)</code> ，第一個參數表示重複次數，第二個參數為設定大小</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">4</span>,<span class="number">1</span>fr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>所以當參數設定多個大小時，表示此 column 或 row 按照設定大小的數量去重複，如以下設定了 <code>1fr auto</code> 表示設定 <strong>2</strong> columns ，然後此 2 columns 重複兩次</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">grid-template-columns</span>: <span class="selector-tag">repeat</span>(2, 1<span class="selector-tag">fr</span> <span class="selector-tag">auto</span>);</span><br></pre></td></tr></table></figure>

<h2 id="repeat"><a href="#repeat" class="headerlink" title="repeat()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/repeat" target="_blank" rel="noopener">repeat()</a></h2><div class="note info"><p>The <strong>repeat()</strong> CSS function represents a repeated fragment of the track list, allowing a large number of columns or rows that exhibit a recurring pattern to be written in a more compact form.</p>
<p>This function can be used in the CSS Grid properties <strong>grid-template-columns</strong> and <strong>grid-template-rows</strong>.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/repeat" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 09-Sizing Grid Items</title>
    <url>/2018/03/22/css-grid-09/</url>
    <content><![CDATA[<p>由於<a href="https://shunnien.github.io/2018/03/21/css-grid-08/">筆記 08</a>提到了 <strong>repeat</strong> ，此 function 的設定與其內元素的大小設定，以及元素內容文字的大小影響是如何，其自動計算又是以哪個為依據？此篇主要探討此方向。</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_09/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="Sizing-Grid-Items"><a href="#Sizing-Grid-Items" class="headerlink" title="Sizing Grid Items"></a>Sizing Grid Items</h1><p>建立多筆項目，並使用 <strong>repeat</strong> 與 <strong>fr</strong> 來自動分配</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">grid-template-columns</span>: <span class="selector-tag">repeat</span>(5, 1<span class="selector-tag">fr</span>);</span><br></pre></td></tr></table></figure>

<p>此時各項 item 應該都是同一大小，產生 5 欄的表格</p>
<p><img src="https://lh3.googleusercontent.com/_Al4gNGKVw5GGGJ_k7rfqvh7dlliwvjgQxf8L1zHpGOvtuC0csEBIHV6yih9_cBv_IS9x0C6KDPLt4Ri58LkzLEJPXcFZfIjOc0DWi9CXC723A6B_nBj6k78zv01ljGjAoyMG0kOLkpx7YH4euLMgwnABVjT3hIquw_4U8MbRQpPPCpk-QXtHNYy57aoAGJHn_M9i4TceZa48uG_IvAtSDb54I1FVhFnnSqoaU--JY2a_8ZorTy3V1ebxRy85_M3x1k3kp4STorXjbs-naSTmsViFCweD8gA_l_yuo2tAFkBxgrjRKmXW1mpyCn-1Vh2cKl7tP4bkVN-JAgm_zMxyVZ5r_zelAlfwX7F5ByiXcxbQQ0fDbVR-6uP87gjXUysF5WkJ33Q3t3i3txZqnPNv_Mgkk9MFylG7HRAjZAz3OsJBSmq6YG5Gf0DjXLgCWLwPKXjsRGMavNP4vsMycn-oYEP8c0PlycWUYLAYrI_LzmUDzQ0CAMl34d5gOtb4sb6BvWqUV8RtXsWwEZ5YKb6EDKWajTKSZn0BcRXGCF_rmt4wIpR4mPADXdPPxF8KApetrMpjekP4UvxwRREPD19VldqhM8NpiW127G2SD-wUMsJWE-ZRZocsh5KbiAoVPSLN1HQS1JYo0Wpwq-KYFWJdR76frE0Y9Xh=w1290-h489-no" alt="5fr grid"></p>
<p>現在針對 item9 這一項目建立 class ，並給予寬度設定 500px ，會發現 <strong>repeat</strong> 中設定的 <strong>1fr</strong> 失去效果了；</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item9</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: mistyrose;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或是直接針對 html 去變更 item9 的內容，將內容文字加長， <strong>1fr</strong> 的設定也會失效；這是因為 <strong>fr</strong> 是依據表格設定後，剩餘的空間進行分配，所以當設定了寬度，或是內容文字，都會先行在表格中進行分配</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item9"</span>&gt;</span>9asadfbasdfzxcvmnmqweruiopytkjl;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>展示跨行/欄的屬性，當跨越的行/列在 <strong>repeat</strong> 的範圍內的時候，表格會依據行列的限制給予設定是否換行；反之要是超出了行/欄的設定，則會依照跨越的設定，自動增加行/欄</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item9</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: mistyrose;</span><br><span class="line">    <span class="attribute">grid-column</span>: span <span class="number">10</span>;</span><br><span class="line">    <span class="attribute">grid-row</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/eB9kfqqLcJk4FC1-3wyr8bzr3hNRa7-sTpdHRdP4dy0iQFDbrOG7QLPHzNEsru0RBpoBRa4QoOs0oiZXhmyB7kVz2EJ_q7bERIN8SbqyC95OLRIOqKzGjrFWYNMdu_1Of3RQ2gkT6mVX94g6dKLynq5mSRMg9pWJjDy7fqD-N52SCNdwS80mjO4CKvxIIXRnLVbpCgeGjLEmUeqpK2uj5BZqPold2QDUhYZRTdpEgZKCNJkboEDnpXbWNqRLGz5AefLciLDQ5Wkj9mFQV7H_0P4GXT8JGh8Dant6c27kYSeuFdiKpsyVFgdGMKSb60tFg31tH-Y4a_EDvEpyjtjy1IVUenFwMqPIq-WkoV-PceQKiEyuf1QKuM1Of3dQzp_wTvfPc7ebn9ncFjwCyEe7WKhos2Mpjbyf0HPl5TKAtL58wfNRAFlXssJhtjtXa9cTh-bmOIOVNzmbmoUKmmhFU4NuAjvaZT5SiZl3jY6pXtU0ffe7Bp33yehjqPJGKHuCcr2e9YkgHLrHy39p9yuz7Pzg9sFVLRK9fLZLK-5Ubm2y0N14BkXnL-49NO4j0vpvcPiV6v2Y_zUPf3hrtTSVV_ebVCw3CTkTl2StrN7e9qPzcjvHgr1eJzc856aBpCSa1FhIiQ4EdlbxTp6tM3Wycfa0HnUnwrv3=w1281-h509-no" alt="over im"></p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/xxL8ajm3/embedded/html,css,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="grid-column"><a href="#grid-column" class="headerlink" title="grid-column"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-column" target="_blank" rel="noopener">grid-column</a></h2><div class="note info"><p>The grid-column CSS property is a shorthand property for grid-column-start and grid-column-end specifying a grid item’s size and location within the grid row by contributing a line, a span, or nothing (automatic) to its grid placement, thereby specifying the inline-start and inline-end edge of its grid area.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-column" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="grid-row"><a href="#grid-row" class="headerlink" title="grid-row"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/grid-row" target="_blank" rel="noopener">grid-row</a></h2><div class="note info"><p>The grid-row CSS property is a shorthand property for grid-row-start and grid-row-end specifying a grid item’s size and location within the grid row by contributing a line, a span, or nothing (automatic) to its grid placement, thereby specifying the inline-start and inline-end edge of its grid area.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/grid-row" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 11-Spanning and Placing Cardio</title>
    <url>/2018/03/23/css-grid-11/</url>
    <content><![CDATA[<p>此篇為之前筆記的總結練習</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_11/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="Spanning-and-Placing-Cardio"><a href="#Spanning-and-Placing-Cardio" class="headerlink" title="Spanning and Placing Cardio"></a>Spanning and Placing Cardio</h1><p>練習的 html 內容已經預訂好，在 body 內的內容如下所示</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item4"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item5"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item6"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item7"</span>&gt;</span>7<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item8"</span>&gt;</span>8<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item poop"</span>&gt;</span>💩<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item9"</span>&gt;</span>9<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item10"</span>&gt;</span>10<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item11"</span>&gt;</span>11<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item12"</span>&gt;</span>12<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item13"</span>&gt;</span>13<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item14"</span>&gt;</span>14<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item15"</span>&gt;</span>15<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item16"</span>&gt;</span>16<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item17"</span>&gt;</span>17<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item18"</span>&gt;</span>18<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item19"</span>&gt;</span>19<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item20"</span>&gt;</span>20<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item21"</span>&gt;</span>21<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item22"</span>&gt;</span>22<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item23"</span>&gt;</span>23<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item24"</span>&gt;</span>24<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item25"</span>&gt;</span>25<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item26"</span>&gt;</span>26<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item27"</span>&gt;</span>27<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item28"</span>&gt;</span>28<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item29"</span>&gt;</span>29<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item30"</span>&gt;</span>30<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="練習題"><a href="#練習題" class="headerlink" title="練習題"></a>練習題</h2><p>以下題目會大致說明其中文的意思，並不是翻譯，請諒解。</p>
<p>這兩題因為都在 <strong>.container</strong> class 中，所以就一起進行</p>
<ul>
<li>Make the grid 10 columns wide, every other taking up twice the free space</li>
</ul>
<p>製作一個 10 欄表格，其每隔一個就是使用兩倍的空間</p>
<ul>
<li>Make the grid have 10 explicit rows, 50px high each</li>
</ul>
<p>使表格有明確的 10 行，其高為 50 px</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="comment">/* Make the grid 10 columns wide, every other taking up twice the free space */</span></span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">5</span>, <span class="number">1</span>fr <span class="number">2</span>fr);</span><br><span class="line">    <span class="comment">/* Make the grid have 10 explicit rows, 50px high each */</span></span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(<span class="number">10</span>,<span class="number">50px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>With Item 1, start at col 3 and go until 5</li>
</ul>
<p>針對 <strong>item1</strong> 由欄位 3 開始跨越到 欄位 5</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* With Item 1, start at col 3 and go until 5 */</span></span><br><span class="line"><span class="selector-class">.item1</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">3</span>/<span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>With Item 2, start at col 5 and go until the end</li>
</ul>
<p>由欄位 5 開始，填滿整行</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* With Item 2, start at col 5 and go until the end */</span></span><br><span class="line"><span class="selector-class">.item2</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">5</span>/-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Make Item 5 double span 2 cols and rows</li>
</ul>
<p>跨越 2 欄與 2 行</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Make Item 5 double span 2 cols and rows */</span></span><br><span class="line"><span class="selector-class">.item5</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: span <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">grid-row</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Make Item 8 two rows high</li>
</ul>
<p>就是跨越 2 行</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Make Item 8 two rows high */</span></span><br><span class="line"><span class="selector-class">.item8</span> &#123;</span><br><span class="line">    <span class="attribute">grid-row</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Make Item 15 span the entire grid width</li>
</ul>
<p>使其跨越所有欄位，等於整行</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Make Item 15 span the entire grid width */</span></span><br><span class="line"><span class="selector-class">.item15</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">1</span>/-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Make item 18 span 4 widths, but end 9</li>
</ul>
<p>指定跨越 4 欄，但是指定結束在欄位 9</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Make item 18 span 4 widths, but end 9 */</span></span><br><span class="line"><span class="selector-class">.item18</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: span <span class="number">4</span>/<span class="number">9</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Make item 20 start at row 4 and go for 3</li>
</ul>
<p>由行 4 開始跨越 3 行</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Make item 20 start at row 4 and go for 3 */</span></span><br><span class="line"><span class="selector-class">.item20</span> &#123;</span><br><span class="line">    <span class="attribute">grid-row</span>: <span class="number">4</span>/ span <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 10-Placing Grid Items</title>
    <url>/2018/03/22/css-grid-10/</url>
    <content><![CDATA[<p>上一篇提到了 <strong>grid-column</strong> ，針對此設定還可以延伸為 <strong>grid-column-start</strong> 與 <strong>grid-column-end</strong><a id="more"></a> 的設定方法，以及利用 <strong>/</strong> 的簡略設定方式</p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_10/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="Placing-Grid-Items"><a href="#Placing-Grid-Items" class="headerlink" title="Placing Grid Items"></a>Placing Grid Items</h1><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.poop</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#bada55</span>;</span><br><span class="line">    <span class="attribute">grid-column-start</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">grid-column-end</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也可以使用 <strong>grid-column</strong> 來表示，利用 <strong>/</strong> 來區隔 start 與 end 的數字</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.poop</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#bada55</span>;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">2</span>/<span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/SAhAlGOuD0jWkK-lxH0VIr8aQGVXjWnHjKpWPlwQgKWZDU8HAAEdiYWtCxXzz5GQxwqOcMxELvdZD_04hT-2APkh02OHdtJ1GhD-NY29s-7WGUa32eRw628gNvSvnJTGTpM3bMhaoTgSIvqZMWM8QRqwBsjJ8qHIN8x2dHCcBH1GJ3b88614Jo65KWJA3RvAVR0TjjYjmanEAlLrHRe1g-9LcpE3HUJCEjhOzYGAxZd_zBaR2yKdC8ET3PfBTg4GQQe2aqEdj-sb-iDObHu_FMxEL33l_LE3KxNFer2AZfPV4OgtPSxycRrvXWVA3yEjg28Hjh_VvE0wZ0JxbwmANmhnFgIUIocxmqjpEdIrF2SA3eIqH3g7GHTYAnuUlqvek5p9kb5-B_oH2An0vVa63Ro-Z3U9QL9r65yCE2oxtGNoH7tD-xjwQn-gYAorbp79W_VEC6RHMYya5QxWCKj4hUUyxitB-FF5504Dsj-Tx7oCf72Fe5m94Brgu1u7NzK355sdaoyyI1GmFI4JQq1WFj1ffad8WSVyVlJAh7YJ-B29Mv3vH0lj6OssVJokxTyW5vJTjtjw-_o5XLNhKSZGfcWGCdQJ4oPnK62HGq6-SkzsYCEozBGRZB-CkIX_5I6q1wMBVt8dJ78ukzoHlNXifPZDexiJl5iR=w362-h94-no" alt="ff devTool"></p>
<p>除了整數外， <strong>/</strong> 還可以設定負數，利用 <strong>firefox</strong> 的 <strong>devTool</strong> 可以清楚觀看到負數其實就是正數大小的反向</p>
<p><strong>grid-row</strong> 也是可以使用此種方式設定，甚至可以直接在 <strong>/</strong> 的部分指定 <strong>span</strong> 的數量</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.poop</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#bada55</span>;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">1</span>/-<span class="number">4</span>;</span><br><span class="line">    <span class="attribute">grid-row</span>: <span class="number">3</span>/span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要注意的是指定 start 與 end 的數值，其資料是必須因應 <strong>Explicit Tracks</strong> (明確邊線)來劃分，所以當劃分結束後，其餘的資料會變成額外設定</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">5</span>, <span class="number">1</span>fr);</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(<span class="number">5</span>, <span class="number">1</span>fr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.poop</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#bada55</span>;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">1</span>/-<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">grid-row</span>: <span class="number">1</span>/-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/qx-PnzabEiuOoGWm7p2Gca-Y-coJFZT-LfwbLcPLytrkW9zb8IOnJdpDiahlq4K-Tmv3jSWh6PZTIK8xQxTFS8lBCN-IrQx3Echc1CvTITg-M7AxJ03cG_RYoXePrxixxx4pZttQVm9GyRwgVfnOlR70Cn3WD-kdsrluXBxMejuKba2OKHF6NlViVB1RcS_2vyEK-xb51ISoYO9S0ZHIz5if8MPRTdgM7s9PhMrZHwXRhkdlECE_TIF77Xu1mGSLXS0HfkdeMOfEzQ2dJfnoJu5G8Ef2bTm5yy1eJME1jni3TkGpQTnXJii0rH0JDB9fPxJtjuh-jvaEt86vxi0nffdHabBA-9ZmzTXc67h2AsnBMNPbRYgmk1b0r35N-Cc7G1NKwVabzxuf-87iBb7CICYBsfQf0sGtMnSx__8WlLlNi-LAEHTCSMDIJJw-7qwUiZlqRSdn5d3SwDAPOPMmz_pgHjsxF7-SYFJnUNrbG5xb3e4F3v1bvGNVCCJzWCG9pQMRwuHhcirqbQFHy8NLY10JAuRSXl4WqAqUIQ67IBhBN0BMt4rEfkgCco4xutehGllm2l_6LL-OpIV2yJBjyQRCsigd6_wfjjypDZNulv5nZ8-slQDs1yQJS_48SYuH3HhEjDZOYgCOXpOZnydvGbyf6wz5B6Hb=w1330-h264-no" alt="template column and row"></p>
<iframe height='394' scrolling='no' title='Placing Grid Items' src='//codepen.io/shunnien/embed/Qmvmej/?height=394&theme-id=0&default-tab=css,result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/shunnien/pen/Qmvmej/' target="_blank" rel="noopener">Placing Grid Items</a> by allen_yu (<a href='https://codepen.io/shunnien' target="_blank" rel="noopener">@shunnien</a>) on <a href='https://codepen.io' target="_blank" rel="noopener">CodePen</a>.
</iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="grid-column-start"><a href="#grid-column-start" class="headerlink" title="grid-column-start"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-column-start" target="_blank" rel="noopener">grid-column-start</a></h2><div class="note info"><p>The grid-column-start CSS property specifies a grid item’s start position within the grid column by contributing a line, a span, or nothing (automatic) to its grid placement. This start position defines the block-start edge of the grid area.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-column-start" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="grid-column-end"><a href="#grid-column-end" class="headerlink" title="grid-column-end"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-column-end" target="_blank" rel="noopener">grid-column-end</a></h2><div class="note info"><p>The grid-column-end CSS property specifies a grid item’s end position within the grid column by contributing a line, a span, or nothing (automatic) to its grid placement, thereby specifying the block-end edge of its grid area.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-column-end" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 12-Auto-Fit and Auto-Fill</title>
    <url>/2018/03/24/css-grid-12/</url>
    <content><![CDATA[<p>設定 grid 的各項設定中， <strong>auto</strong> 還有 <strong>auto-fit</strong> 與 <strong>auto-fill</strong> 兩種不同的設定，其差別在於 Explicit 的差異<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_12/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="auto-fit-and-auto-fill"><a href="#auto-fit-and-auto-fill" class="headerlink" title="auto-fit and auto-fill"></a>auto-fit and auto-fill</h1><p>建立觀察兩者差異的 html 與 css 如下</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item1"</span>&gt;</span>Item 01<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item2"</span>&gt;</span>Item 02<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item3"</span>&gt;</span>Item 03<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item4"</span>&gt;</span>Item 04<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="built_in">var</span>(--yellow);</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="number">150px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>主要可以觀察到最右邊的邊線在畫面接近卷軸的位置</p>
<p><img src="https://lh3.googleusercontent.com/NOW61gm9-xEc2HKq7d5rZauUzAjFJxy6ojfTnfVByDow9dy3WcS-CC5KPHvinfprU_q7HjXSjdmZodzjWhtnxAegLUdRev74JPE6YnH4u4flXccaWH5WLL5esU-dmIfJ648c5G5lfuCAxrIirAMAu80o2iWn8gXmcazb_sqJaShBeGBKau-GE0qGg87vV8nDNKPY574q_iQELB9Bf5Bk-lGLDr-EN_8MrG1m6ZxJg8SsynFFONp5Sr_jQ4vUvPMiz3BtQVb1mIrG-xmASfqCBvf1zvnq6N-MQXvYypq3H_KAeoOEPoblHTgIORJJZvpkTCRhp9bmfwtlrMA9_YKsmmkoGkpRw1qXI_sFswEijo5CfCFTMS4tHsvHCYrLKTWEtuAQSlaNKoVSKTT-eazpUHMUAszdwh_Zdk5K1NTmXEtpdu-Tn1zWlGrbyzTm1Y5fV5VWzAEdYxXBSgquc1fncRylNPXY8JQSMD2qppsXiDOEx1s9feSFAIq5vMrdiJFr1pftIH-p3zdzjjjpDXrLoq0UcG7lMtH5mnMqC3VnKg6M_z-Ks4Z7jMzw7MQ22dqPctjy9n48b8e70F2Si7YZS5t0A7WtWY8Cuc4RIWEYdssVsCPpgapzPOQRZHbUf_n7HYHAson7nVPFcZJe_b7RREzE9ToS0sTe=w1288-h350-no" alt="auto-fill"></p>
<p>這時候更換為 <strong>auto-fit</strong> ，其邊線位置只會按照內容項目的位置調整，就會在 item04 的右邊</p>
<p><img src="https://lh3.googleusercontent.com/9E2ULRl0zwHFabNZfQlqbYcbNRW-iYOSFmmJW9ZcbDIXbEjWUm5K3N5uA8nbKmAsLunVleZ-5BG1pRESTqM3yoOtTts5LQMK0YAdRfiTVrPtBVzjvQfoQl_rCIc2-tS_AqvkljT0GCK-_CCDh1ucV3NmXCXDUz7RV5ouBvGEx91h7GMPBSxpwV5NLrfw88r524sm1nXxKpLwXpHM_t5x6K7UrIfWjj-im8mVslAJoQ7c80Ldp_WvltuCtxGgSzyVD8y1BRMamKPSfdPsSd9m0RH_yE6iTNpWAAwsQXKX7_AE0Pzum6-fASI3A8P50NZxA_v2zihBcID_qn2xLv5PHwUB0UlGDFNDUU9KEq8YOQ4KwJrjAZQ5yiEE5crfC1Wr-uyvU-U5GKY7IK7iD2hNZt3y8McVD4X-0ZkWaac-1rQaue710H8OT1jOgRMcDehoExFihIIXgs5D08wWuDnajQNpfJS09aYRz4meNNCwdHASQswgEoypkfkzc4gx8TDOaX93Ah0H1NAnAyCJOYpsOUga9NZ0oOFmi4GzurO5avEHFab-oEdTyf9D3TWamXCUEJbfZqaXII4hGXqxM1DokuVaQcIQkXKI0qugdx1sASzQMzJZ_S8Throw7u2q28xbqom4yvwyqCPPrnf8gBJb3t5JI57qy0Nk=w1289-h290-no" alt="auto-fit"></p>
<p>兩者的差異就是 explicit 邊線的位置，所以這會有什麼影響？可以將 <strong>item04</strong> 的位置調整為固定在最後一欄，這時候兩者的差異就會造成當瀏覽器寬度不同時候的位置影響了。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.item4</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column-end</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/3XaK2HikJXQmOZ3xKFVa56hPjHshMYTTP5T7BdI3Rh3ZaftnbWUeb4TkmilNdu9sgT7AKe-PMftGafGuLmf7aUsZrJAScoUIVCHUCOGM35npKdkcOAzgneU2DtCDp3DCmyCRe242DTBWTDGuE1sUkLndE5LuvXlysD6Cge5Q3N7FDpzMCHrWra6jdgPLnr5A3tt2fRhQiOmxfZIZFlUsOsOgfR3V1QMF1KG6j4BP7Neh29ZEiXLozQKyA9z6ozjeVcNnRuCAA4pCrfqCsRz9uZzXNZbQMGdMsLQMW9ducXxhWm9iRI3uH3IAe01h_6NZ_66ZDTQOg1UBV_HGCiXgP6LGn40Ii_OyExr7UtHZ8zaWYmDPvu8JIMyWe8lONoLx8nmkI6rj4mDi2jLZ0-ml8PZdEIS4UePC6mABc36KhEjkCFRMw71N2P6_bC5zhjE0Uan0clZupAt_z_ZEbbYUIixo_M8Myqfd5ThVgzK6AZ41TWXo1NtAH1FMJXmRCxYCbGrXRY7C11HQwR-l5Pmnlu9W909CND0iU8r_gY-tsluQuUs9t5cm_TIT01dYu0ajPQVUOtcBUw3IHxUFegyuZbl9w9FMStiyBW-P9mjoJDy1qj23owFP3Qrl4dogsqVGm5mPtduM_iQeOe88cvFaKo0SJIDHFeDM=w1337-h367-no" alt="auto-fit column"></p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/so71f2tL/embedded/html,css,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="auto-fill"><a href="#auto-fill" class="headerlink" title="auto-fill"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/repeat" target="_blank" rel="noopener">auto-fill</a></h2><div class="note info"><p>If the grid container has a definite or maximal size in the relevant axis, then the number of repetitions is the largest possible positive integer that does not cause the grid to overflow its grid container. Treating each track as its maximal track sizing function, if that is definite. Otherwise, as its minimum track sizing function, and taking grid-gap into account. If any number of repetitions would overflow, then the repetition is 1. Otherwise, if the grid container has a definite minimal size in the relevant axis, the number of repetitions is the smallest possible positive integer that fulfills that minimum requirement. Otherwise, the specified track list repeats only once.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/repeat" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="auto-fit"><a href="#auto-fit" class="headerlink" title="auto-fit"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/repeat" target="_blank" rel="noopener">auto-fit</a></h2><div class="note info"><p>Behaves the same as auto-fill, except that after placing the grid items any empty repeated tracks are collapsed. An empty track is one with no in-flow grid items placed into or spanning across it. (This can result in all tracks being collapsed, if they’re all empty.)</p>
<p>A collapsed track is treated as having a fixed track sizing function of 0px, and the gutters on either side of it collapse.</p>
<p>For the purpose of finding the number of auto-repeated tracks, the user agent floors the track size to a user agent specified value (e.g., 1px), to avoid division by zero.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/repeat" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>Cordova Error for vs 2017 15.6.4</title>
    <url>/2018/03/26/cordova-error-for-vs-2017-15-6-4/</url>
    <content><![CDATA[<p>開發 cordova 專案，在 <a href="https://www.visualstudio.com/zh-hant/downloads/" target="_blank" rel="noopener">Visual Studio 2017</a> 更新到 <strong>version 15.6.4</strong> 後，要建置的時候就發生錯誤了<a id="more"></a>，錯誤訊訊息如下：</p>
<div class="note danger"><p>Invalid command line switch for “tsc.exe”. Value cannot be null. Parameter name: path1</p>
</div>

<p>這時候去 <a href="https://developercommunity.visualstudio.com/spaces/8/index.html" target="_blank" rel="noopener">microsoft developer community</a> 查詢，發現國外也有一些人遇到這個問題，處理方式都是打開專案檔案來調整，一種是指定 <a href="https://zh.wikipedia.org/zh-tw/TypeScript" target="_blank" rel="noopener"><strong>typescript</strong></a> 的編譯版本工具，另一種是乾脆取消使用 <a href="https://zh.wikipedia.org/zh-tw/TypeScript" target="_blank" rel="noopener"><strong>typescript</strong></a></p>
<ul>
<li>指定 <a href="https://zh.wikipedia.org/zh-tw/TypeScript" target="_blank" rel="noopener"><strong>typescript</strong></a> 版本</li>
</ul>
<p>不過我使用方式的時候，還是會建置失敗，原因也還是上述的問題。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TypeScriptCompileOnSaveEnabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">TypeScriptCompileOnSaveEnabled</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TypeScriptToolsVersion</span>&gt;</span>2.3<span class="tag">&lt;/<span class="name">TypeScriptToolsVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>取消使用 <a href="https://zh.wikipedia.org/zh-tw/TypeScript" target="_blank" rel="noopener"><strong>typescript</strong></a></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TypeScriptCompileBlocked</span>&gt;</span>True<span class="tag">&lt;/<span class="name">TypeScriptCompileBlocked</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TypeScriptCompileOnSaveEnabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">TypeScriptCompileOnSaveEnabled</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://developercommunity.visualstudio.com/content/problem/209035/apache-cordova-tools-error-after-upgrading-to-vs-2.html" target="_blank" rel="noopener">microsoft developer community</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Visual Studio</tag>
        <tag>Troubleshooting</tag>
      </tags>
  </entry>
  <entry>
    <title>Visual Studio 2017 使用 Nuget 還原小技巧</title>
    <url>/2018/03/29/nuget-reinstall/</url>
    <content><![CDATA[<p>使用 <strong>Visual Studio 2017</strong> 編輯器的時候，透過 <a href="https://www.nuget.org/" target="_blank" rel="noopener"><strong>nuget</strong></a> 安裝套件非常便利，而且當偵測到尚未安裝套件的時候，也會自動提示需要還原 (<strong>resotre</strong>)<a id="more"></a>；但是有時候版控取得的專案，裡面已經有套件了，需要手動清除 <strong>packages</strong> 資料夾，才能還原，以下介紹手動的方式與使用指令的方式</p>
<h1 id="手動"><a href="#手動" class="headerlink" title="手動"></a>手動</h1><p>此方式就是手動清除 <strong>packages</strong> 資料夾，假設取得的專案裡面已經有 <strong>packages</strong> 這時候 <a href="https://www.nuget.org/" target="_blank" rel="noopener"><strong>nuget</strong></a> 就不會提示還原，所以可以在專案資料夾下找到 <strong>packages</strong> 資料夾，將之移除</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D:.</span><br><span class="line">├─ConsoleApplication2</span><br><span class="line">│  ├─Properties</span><br><span class="line">│  │  └─DataSources</span><br><span class="line">│  └─Service References</span><br><span class="line">│      └─ServiceReference1</span><br><span class="line">└─packages</span><br><span class="line">    └─Newtonsoft.Json.8.0.2</span><br></pre></td></tr></table></figure>

<p>移除後，有兩個地方都可以點下還原</p>
<ol>
<li>可以在 <a href="https://docs.microsoft.com/zh-tw/nuget/tools/package-manager-console" target="_blank" rel="noopener"><strong>Package Manager Console</strong></a> 中，看到還原按鈕</li>
</ol>
<p><img src="https://lh3.googleusercontent.com/PZfjqk8nqHe6iGJvYrwCN1FQdiODwMOoc2psV5fuZ3xlIqvHwuQHCee7FgnKLIUwXjgGkqpqtzjriHv-La_fTb2ffER0tTXZgsDK3fEdtJxwzR6y1r53jYJiQfPqwFw7YJSWEpJcu5ewLylcFMUAFpS-q9NjWLVtEwFyiGWjmRr8rIueVL1hUj4NiayQIJMV866zi-Fsb2RZNSM6jaidg8NvesVN9g-qH5VOFYxVmG0jkhhYwfMOGablnWYCbUyZQ8UXst1eCJ5T9YLffTeR8h6OZdfiDwWT0iahzX3CFV5K8QkhkfoEBucy2wyRzBQiwc2HxDC9Oy65v6DG0q0irBA13Y6mVrPI2hYGbPxTr5oIqSGI487_3oByfW8Da3tZ_IYcVFRO8ZnWV1UVcc50YxRQov_hghn8iWkEdQjyp4SFZmhBqaFm_WOKLaCssydFDtvXXtjGIjQlai9fh6TbAcIypoN-ERJGAIqNlMff72lv-YWipvJQhgyIt9xhbROVv58ivedmyzlJbq98Vz0_gcusUCyCg_cEEEAZMN1Au-rEuOufe00OXXmXMCGa5H5TIYl8PSvhErjAB9XJ_37XG4h56ziw7yVGffAIT51Qwg2PtZI7gi1s4XGgFewNHy29EQm8S7Ezxq_cDsVuhLsWDaAIrZMfydPX=w635-h158-no" alt="package manager console restore"></p>
<ol>
<li>在<strong>方案總管</strong>中 (Solution Explorer) 針對方案按下滑鼠右鍵，就可以看到還原選項</li>
</ol>
<p><img src="https://lh3.googleusercontent.com/NtlykXutaJzmZgaQjv1ESAxoDi2CbfLeYK5xizeYnn_m2cFjxWw1Wo6ms2d89SBTehtUg8tTFOC9YaADcDGwx85lL8bR-s2MhPtZ8CdvC6ESfW_B8kthma7aHNpExoEdUDxJnTImqY-vXLq7xuxDGWJ3ZoQFKMAG7e1jqZj20-kdXvmNd9R9N7Vy0ZGnDyV94Mma3CJCC0I9I5-0JdOiUvBZAnt2wSJvJ6al9ulbx0vsnaCrr1USJ83GDyn_JeNy4MZpJfKMKeKCYy1_d8d_HoiCImG7ErpBEn0z4VYS9AQq8m7yWVfhssr9N-sRZVGMXW-A3X4Yq3EbrWwLxvTt7Sg2Ykw2E30cno1KLYnfzYJRS-PDVhWzS7_gmiInMN_cAIRTYVEwtEN7851cyFh6llUsSFwgzH-yS7Ymy1OWSzdl_tJM0khZB-7QsUyayv03Nsr9Bv06QxWJfx9XpQXzUMoUkcW2X5LTqXrGYjQyN9Tfw_ciI8k0jGBaDM2LvRCkclyVQSP-QN051EowXfu80ZwPe9lnkfWZ08juvVM1KI-nqnweDIbQKzYz7tfdLg8mvsW5C6wbMThfkuNw8LW1tXI85mASURSScAmyD5_ka94AI9ZPb5y75O97cn256TeqUt2X7ds2LDdSRTBq_708sWjXBYyr9gTg=w724-h188-no" alt="mouse right click restore"></p>
<h1 id="Package-Manager-Console-指令還原"><a href="#Package-Manager-Console-指令還原" class="headerlink" title="Package Manager Console 指令還原"></a><a href="https://docs.microsoft.com/zh-tw/nuget/tools/package-manager-console" target="_blank" rel="noopener"><strong>Package Manager Console</strong></a> 指令還原</h1><p>在 <a href="https://docs.microsoft.com/zh-tw/nuget/tools/package-manager-console" target="_blank" rel="noopener"><strong>Package Manager Console</strong></a> 中，直接輸入以下指令即可</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Update-Package -reinstall</span><br></pre></td></tr></table></figure>

<p>除了全部套件還原的指令，尚有針對單一套件還原，其指令參考如下，更多指令可以參考 <a href="https://docs.microsoft.com/en-us/nuget/consume-packages/reinstalling-and-updating-packages#using-update-package" target="_blank" rel="noopener">Microsoft Doc</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Update-Package -Id &lt;package_name&gt; –reinstall</span><br></pre></td></tr></table></figure>

<h1 id="參考資料與連結"><a href="#參考資料與連結" class="headerlink" title="參考資料與連結"></a>參考資料與連結</h1><ul>
<li><a href="https://docs.microsoft.com/en-us/nuget/consume-packages/reinstalling-and-updating-packages" target="_blank" rel="noopener">Microsoft Doc</a></li>
<li><a href="https://www.nuget.org/" target="_blank" rel="noopener">Nuget</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Visual Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 13-Using Minmax() for Responsive Grids</title>
    <url>/2018/03/26/css-grid-13/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/52oVxuck7nlZMl_v7FUsHuRjwxKP2_P9FKfs8hYzW2CObzlW2yUzli6fe0WuHyEc6lXWslWbsfk69TRSNDVut1cnrjeWmM6xQHQSWJ_mON9x17SqxrRdlUSAYiE3EeqlEuKm7a1hTZ-4x6Gg_qDPhoCaqw7FNTPijdMRoGJDP3XDyb0Bo_ToBsKbnHbEJkzfJV_2Yq30li5wFy5JXKnzGuWDg9dXaJ5P_fn8eZlJtBEFm3Bq4eI1Mflel2DhZZTZTzib856ZkPl2Rr8lg9V9fw6XPs72lPbCyYewlcMgmXG-sUKwsmeRvWEDltiwiBGlbgG8j9BiVtvIVMtx4eyOcwOaYxTigWwsaDTA6WP_N3MhMHQTkEyk4SsbNgLR391BxipBlbozHsw68NESTRW-JzxrB39CXaNPMpQm6TcqhQhNnCuwjNwO7bVZAzBDVrDaSNm4ZPg_PcoKMdSyqvUr52NaKX2A1HSBsL_ALStbK6OETkniNqCRXqDfwAEFwdLlveptV0BUJnQcEaWnKZfK09aTZPip7ifo9mm6ujP9yLz6Q-bN1xgyNQazNpUnfrSneeVf-TWv4mtB36WRkd856B_zlZwrTS6GR6Q5_Az7B8ZrdOvsqGlyxWZ0o--1qujp4Mm5boxshiGwOe4Vnv8iG1di5lfR5uxm=w1142-h340-no" alt="demo"><br><a href="https://shunnien.github.io/2018/03/24/css-grid-12/">上一篇</a>提到了 <strong>auto-fit</strong> 與 <strong>auto-fill</strong> ，此篇就是說明想要達到自適應的表格，還需要搭配 <strong>minmax()</strong> 這方法<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_13/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="Using-minmax-for-Responsive-Grids"><a href="#Using-minmax-for-Responsive-Grids" class="headerlink" title="Using minmax() for Responsive Grids"></a>Using minmax() for Responsive Grids</h1><p><strong>minmax()</strong> 這方法裡面可以放置兩個參數，第一個參數表示最小的設定，第二個則是最大的設定，其示範如此頁最上的動態圖</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="built_in">var</span>(--yellow);</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fit, minmax(<span class="number">150px</span>, <span class="number">1</span>fr));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下來介紹另一種情境則是 <strong>grid-template-columns</strong> 設定固定欄位大小的時候，當某欄想針對其欄位內容進行自動調整，之前提到過可以使用 <strong>auto</strong> ，但是又想指定其大小的話，則可以使用 <strong>fit-content()</strong> ，裡面的參數可以放置想指定的大小</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="built_in">var</span>(--yellow);</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">fit-content</span>(<span class="number">100px</span>) <span class="number">150px</span> <span class="number">150px</span> <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="線上示範"><a href="#線上示範" class="headerlink" title="線上示範"></a>線上示範</h2><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/k8yoovrb/embedded/html,css,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><p>稍微總結一下</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/minmax" target="_blank" rel="noopener">minmax()</a> 裡面參數設定縮放的尺寸下限與上限</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/fit-content" target="_blank" rel="noopener">fit-content()</a> 設定縮放尺寸的上限，就是最大只可以到達設定的尺寸，不會按照內容去 <strong>auto</strong> 調整</li>
</ul>
<h2 id="minmax"><a href="#minmax" class="headerlink" title="minmax()"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/minmax" target="_blank" rel="noopener">minmax()</a></h2><div class="note info"><p>The minmax() CSS function defines a size range greater than or equal to min and less than or equal to max. It is used with CSS Grids.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/minmax" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="fit-content"><a href="#fit-content" class="headerlink" title="fit-content()"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/fit-content" target="_blank" rel="noopener">fit-content()</a></h2><div class="note info"><p>The fit-content() CSS function clamps a given size to an available size according to the formula min(maximum size, max(minimum size, argument)).<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/fit-content" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 14-Grid Template Areas</title>
    <url>/2018/03/28/css-grid-14/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/IOi1sp9dO-mulZ429eRAqf1tQMwJopl00APx73zKBqRGYTl0up-KOnyjT1rDM__5ynk329Nx4S-lbb5XGOo5j9kcIdGe8Y-qBMzB20ozVzXnaD9f-byxJK53SCv0GRIJLsnpIi8S6tjn74qw1i94xTLAB3Pp6p0M4AAulpxKnwzT4_Cv6PPIAFwTYlb9iVyafUfGp_isHv1GOyOv3COtSN6Zd76ibmNy6ir9WB7ZnoCedWtMR1ZmAW7UlnQMAQA6vMIWtUa9DExIhh7qgncqfxoLm7nC4yHk1fJ-wiJ1nJ-w7HcgsSaUhz8z1aWUS_WTQR7qwLTKutaWkp2NsdX7NQAJGz3cIJkzQCVRRdJCMgVTkRE2vicMVvcWVtWiSOHm1ir1r5Q9GMEesWqZg25XF7nsR0yY7PSy14mzQS-WalM-WPTDz7Zr5V-52ZYW1zPrA66r90D6WKBA7_u2lwAENJVQEQtd94U5jBaL8KOFlaCUIvNZU4FurziGyeXoqb0wdew4Ur1bFaSY_w9UkAOZ1tn676S9b7IGMO8hKip3PGXvZlEUX_YMStxklNatO5pukBNSKf1_-T9nQypQeN_7SyOFJ4RekxX-zSsfrMbV5_IV9fvYBWbCPVVN-riAhZEwpK_WTL6TOKub9gn62MxI3HftscT9rhJo=w1864-h612-no" alt="demo01"><br>此篇講述 <strong>grid-template-areas</strong> 的運用，再利用 <strong>media</strong> 達到 responsive (自適應)</p>
<a id="more"></a>

<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_14/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="Grid-Template-Areas"><a href="#Grid-Template-Areas" class="headerlink" title="Grid Template Areas"></a>Grid Template Areas</h1><p>首先說明 <strong>grid-template-areas</strong> ，其 <strong>css</strong> 如下，顯示畫面如最上面的圖； <strong>grid-template-areas</strong> 此屬性裡面設定 <strong>cell</strong> 的區域名稱，同名稱的話表示跨越的幅度，比較特別的是使用 <strong>.</strong> 這個表示區域名稱的時候，表示這個區域是跳過的，可以參考一下的 <strong>jsfiddle</strong> 範例</p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/ac7yo848/embedded/html,css,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<p>練習的 css 如下：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">10</span>fr <span class="number">1</span>fr;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="number">150px</span> <span class="number">150px</span> <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">grid-template-areas</span>: </span><br><span class="line">        <span class="string">"siderbar-1  content  siderbar-2"</span></span><br><span class="line">        <span class="string">"siderbar-1  content  siderbar-2"</span></span><br><span class="line">        <span class="string">"footer      footer   footer"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">    <span class="attribute">grid-area</span>: footer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.item1</span> &#123;</span><br><span class="line">    <span class="attribute">grid-area</span>: siderbar-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.item2</span> &#123;</span><br><span class="line">    <span class="attribute">grid-area</span>: content;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-class">.item3</span> &#123;</span><br><span class="line">    <span class="attribute">grid-area</span>: siderbar-<span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>既然已經設定好了區域，再利用 <strong>@media</strong> 就可以透過不同的尺寸來調整畫面表格的分布</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">max-width:</span> <span class="number">700px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.container</span> &#123;</span><br><span class="line">        <span class="attribute">grid-template-areas</span>: </span><br><span class="line">        <span class="string">"content  content  content"</span></span><br><span class="line">        <span class="string">"siderbar-1  siderbar-1  siderbar-2"</span></span><br><span class="line">        <span class="string">"footer      footer   footer"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>grid-template-areas</strong> 除了上述的設定之外，還可以針對 <strong>column</strong> 或是 <strong>row</strong> 進行設定，搭配 <strong>grid-template-areas</strong> 設定的區域名稱，此區域名稱可以替代數字的編號，以這些區域名稱來進行 <strong>column</strong> 或是 <strong>row</strong> 的跨越設定</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-areas</span>:</span><br><span class="line">    <span class="string">"💩 💩 💩 💩 🍔 🍔 🍔 🍔"</span></span><br><span class="line">    <span class="string">"💩 💩 💩 💩 🍔 🍔 🍔 🍔"</span></span><br><span class="line">    <span class="string">"💩 💩 💩 💩 🍔 🍔 🍔 🍔"</span></span><br><span class="line">    <span class="string">"💩 💩 💩 💩 🍔 🍔 🍔 🍔"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item3</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: 💩-start / 🍔-end;</span><br><span class="line">    <span class="attribute">grid-row-end</span>: 💩-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/MRllNb-rv8T97BH6u4xcUDcc8B4cLKmHCspEb_HwWKAnXT4n61kricufT71WQCCUzHSbpRWIhzQLd9isAi_5_xvWbhVox5mHXFOrcwVt-8Mle8oYAa2CGlEb4DH6lCnjwuhPYeusFuuuP7w1uOxzR4qheQ9BarZEsKTvO3BOmLce6yh9JHzMCS--Cl7QGNj4_5F5WK91Oazd4gf0PHIbKTeruUBqkiG2L0l69jFj30m-KH0jYZ_7VKEFcSHAi3UIn7CHx-u-mwNt6gexIv4go5azD8UfIf0Lpi6f_EGeVYPDd3xtr_QiYAwt0jUme44EA_TawUd-j0CQ630WfgCqX5FBanxow70-sXMIbWvZKuPs6Rnj20iPRnQfBnaTCfh3iHDBojj39yExe9RS6F4MZMQSzEEUxlSfGy4k-ry525pUnAI5HQHSXxCQuD0gJlWDE-abBYFuD3zXNzd2OyTmm4sTfwdaWiqw62VO7UgR8dSw6LTjbvXcti3K4LxL1xLPOKUriezAXWLzqudFpVfxqRl9opeLcCFiMAQ1EiWnz2-vUkaCyidL6kZAaJeS0Vq_VKyD7m8SNfcRzU5NE7pm2m1oSrUDAoRhON88kfqcvaDccmxAeTiD1smAX7pGcpkvUXFNqVLFZvYlrZsHcTT9lb51nd6ODUHi=w1824-h484-no" alt="*-start and end"></p>
<h1 id="線上展示"><a href="#線上展示" class="headerlink" title="線上展示"></a>線上展示</h1><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/6vxve4t0/embedded/html,css,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><p>需要注意的是 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-areas" target="_blank" rel="noopener">grid-template-areas</a> 裡面的區域名稱設定的區塊必須都是<strong>矩形</strong>，否則 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-areas" target="_blank" rel="noopener">grid-template-areas</a> 設定會無效</p>
<h2 id="grid-template-areas"><a href="#grid-template-areas" class="headerlink" title="grid-template-areas"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-areas" target="_blank" rel="noopener">grid-template-areas</a></h2><div class="note info"><p>The grid-template-areas CSS property specifies named grid areas.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-areas" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="media"><a href="#media" class="headerlink" title="@media"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/@media" target="_blank" rel="noopener">@media</a></h2><div class="note info"><p>@media CSS at-rule 與一組被大括弧隔開、並由 media query 條件定義的 CSS 巢狀區塊有關。@media at-rule 不只能用在最頂層的 CSS 區塊，也能在任何 CSS conditional-group at-rule 使用。</p>
<p>@media at-rule 能透過 CSS object model 介面 CSSMediaRule 通行。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/@media" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 15-Naming Lines in CSS Grid</title>
    <url>/2018/03/30/css-grid-15/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/v081oZaR9ZYgr0NGKSkUIvia6pVVO8JbWgVkI48KOKCq3fVvAHSkb4lnJvhLnYUN4y9ejV55IOaZsFA00ZELk5qH0cmsTsU59xx_DcK9G3UQJ2PXfakbcECPaT4pTbfucEdBbwMpfQmJK6V42W4lgbLgJuMtQpyCeXOlg2fx0jYiRqn2eCXpmEAnOoe7BWo20qvo4hv0GNE1bwxTb4kuzlhX6n5tLxOuo8H1xNzm86rlXGf-3ua3k0WAVsn-oVZfAAvQ8fm741wkYNDmliDxQjM40quyPa6ODehmpsKBLEH7Ttty2aL3yKGOnYdxWMoKFFcVh4sJctioxaWvh042TuQX6K-jD8ecOl6l17dIez-J2TCqP_xZ7KQKBKGi4K3Z4frqvnAdNZ8Tva3zacwaPOB6C0LYGEBWb1_YtbZYRimzr9iedK1Bdq0M6La1C8MF6waLI0me70CrkEQuKb6zjEYmoyaU4xaOaouFlgFEOgEbWuwFGM6oEIaz3PP3c23r7LTZeLQWPfAnaB6c-4v2kc-Vw-DJSU5rUn5Z3fIJjz3Hy7s8kBospBmZpeZVMLtIuiHKXfJXU3my9XE9enkOgsVbfu1_y3xXcDo5a0l9TDC1Q9Y7Iss0PJWR8LdTiGyk2kuMwIrv0EyliFBT-tQKBkCSB8G8ucMv=w462-h436-no" alt="demo"><br>此篇介紹行號的別名運用，目的是使用行號與別名都是一樣的結果<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_15/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="Naming-Lines-in-CSS-Grid"><a href="#Naming-Lines-in-CSS-Grid" class="headerlink" title="Naming Lines in CSS Grid"></a>Naming Lines in CSS Grid</h1><p>前面幾篇都提到，關於行號的部分，記住使用數字，但是此篇提到了別名，也就是說可以自定義行號的別名，再利用別名去設定，以下先示範不使用行號的 css 與畫面 (html 可以參考以下的線上範例)</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">500px</span> <span class="number">1</span>fr;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(<span class="number">10</span>, auto);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item3</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: slateblue;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">grid-row</span>: <span class="number">1</span>/ span <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/UicArE3jcT40Qcb5h3mHpT2NpUv4rQt1USAA8jYidhAOmYa1onVG5bc5lf9rQVAc2LnvtSD1tMvjbImSMaJx-CfAK6FxP3Bqgp54iRjZgt3_E945K4CPCLzziic7WWGpS4vSGe9u_dmHptUtWmFmjdq6Fyx4qoV40c0wHliBBZq7l3C1XwKBV4Z_tZh4A_pcqBTzzzg1AsBbHFHHuswq0od58th3xcmsyq59kJ5Y5WHLARsYUN2kKUUjdO5BAfP6ynApRaxw3Wqz3dZcGgZSlNmolPgxjzZlb1QXu9mSQQprsyrDbMDhyAyZvxtlnzqBjmzwKS0pR0uI6vyKWvyvf2Ps9jx2odvo1f_nuYF4858UeAoyY3x66VFJFCt9ZHBPsgFchOe2QPqcZ9vp9RgI8yJO4DdbZaP8jJM6qvH8iB_ySqjHM0Qblg3LviBgpcWlQdu10QhlkoNaG0N3eJY0lVA1qyWx9JJR5cVJPd7-FCcbX-zK5nRYBJ9oObO2LHeqMv_7NwiC7UF2FAzwCBsy5sTYxCxgeetLHFbcA7DKxR3V2Y7b_ymq3wm1HcbVi7cjOElfk2e15xDhuQD0jo2DdNyThHKRWLfsVZ797itQYYI3r-QkadgpO-YIOJ-wxBoPALP7sDZbDuB-3ikDsqnTxm2bhOmo-99x=w902-h864-no" alt="lines number"></p>
<p>使用了行號別名，其定義方式為直接在 <strong>grid-template-[columns/rows]</strong> 設定。例如： <strong>grid-template-columns</strong> 中，設定了三個 column ，所以行號會有 4 個，第一個就是第一行， <strong>[ ]</strong> 內可以放置多個別名，但是都代表同一行號。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">grid-template-columns</span>: <span class="selector-attr">[line1]</span> 1<span class="selector-tag">fr</span> <span class="selector-attr">[line2]</span> 1<span class="selector-tag">fr</span> <span class="selector-attr">[line3]</span> 1<span class="selector-tag">fr</span> <span class="selector-attr">[line4]</span>;</span><br></pre></td></tr></table></figure>

<p>以下就是使用別名取代行號的練習範例</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: </span><br><span class="line">        [sidebar-start site-left] <span class="number">1</span>fr [sidebar-end content-start] <span class="number">500px</span> [content-end] <span class="number">1</span>fr [site-right];</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: [content-top] <span class="built_in">repeat</span>(<span class="number">10</span>, auto) [content-bottom];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item3</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: slateblue;</span><br><span class="line">    <span class="attribute">grid-column</span>: content-start;</span><br><span class="line">    <span class="attribute">grid-row</span>: content-top / content-bottom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/OHlVSfHM7bLVj9f-YiSpDvzqucCsoyquT3l2M3_OaYmQyNfTteGrilqCvtqVLcUZXvSSo1WQYme4b5FNkhr4ACsyYMJwWB62qdizVMmsPMd59pUQib-7Qfb8oB6mka5OulHeaOiinXlgXkDjSBQs8yPCrRhfUI1F24it4iz-YAMWdiNunc8RXIhcXlUkK17QcalIiC7JBfeaT7Xu1AFostYcuVQDnMANiJKRAINZj4TFUXpqgf1GIspJ6E-w0X-Uyy38g4R2DlJMblo1oRWyTFw-BraqHUFuja-PQmLRkZN8UXr9tsjK5hbXGKIVaN6lj1jmaZaMAZjFkRHaPz2ERfnwJd39gTPi01qrGk_NT_7U6ikxD-aX5lMF1KIQr7NLWK9gMQBkLlf0Sd7xiX-xwGspDKBDK08s94IA3KbwcR0E94kbdyGOjcJt0D0ne8LekJqlD3d7vDDiq33jGx48LMZccarxEZRK_DbIgUF9eiNBZiBydb-C7daolU0KM_KK8TnYrq2hQ5xofDm3VmBmxDEpLD7S_97r0hV6RcVD9k7ocxeCCI0DDc-foI68Bxhc1lvT6feB8W8UVLNBJMuGQPvpxu7R06O0dc-j7oBs-UGjSChj4yjFtCKkFUWEelYK1wjBBa2QU7PbIY_iRQUEt0oZjbK6bthW=w919-h779-no" alt="named grid lines"></p>
<h2 id="線上範例"><a href="#線上範例" class="headerlink" title="線上範例"></a>線上範例</h2><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/yLrr4nms/embedded/result,html,css/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="Layout-using-named-grid-lines"><a href="#Layout-using-named-grid-lines" class="headerlink" title="Layout using named grid lines"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Layout_using_Named_Grid_Lines" target="_blank" rel="noopener">Layout using named grid lines</a></h2><div class="note info"><p>In previous guides we’ve looked at placing items by the lines created by defining grid tracks and also how to place items using named template areas. In this guide we are going to look at how these two things work together when we use named lines. Line naming is incredibly useful, but some of the more baffling looking grid syntax comes from this combination of names and track sizes. Once you work through some examples it should become clearer and easier to work with.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Layout_using_Named_Grid_Lines" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 16-Grid-Auto-Flow Dense Block Fitting</title>
    <url>/2018/04/02/css-grid-16/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/US1ItOWA2xIsE0luJF6gp_-WEUv4yjr7THenqvHApaCDb29CxUfYtYN_Q4k4PHorlyK9LfRcD3eGtFqBRzZE74piUqNWAeC9xDSGF-l2sdUrI9F1Y65awSPTv74GS4TEPBukE5SKL6wIAXIWNhjB_SD-sggPvWROcnMWgXEVrQv1bG-n7TC6u5VA7aSz6NqWon-I_LWBNfOX5Mxo-jr08uqz8GZntN48v0R8PYZj--MJONKenE1zIxIqFjs7_nphfNrRDt_koEEXBSnyduUluP49xhgmBqpbM1R24vzYGLhj_fCj9zHxJQxIe5hITG7nESA5w0DgcdVp9mKoRZE6DvxIXqu3NqlvL37YeQWGUhHSRtv3PA8mezreXc_cmAzS9HtYEsJ1Xf7G1rVsrJbfFxgT8f8ciaMupN9yar-BTeLJ8NvynJDiTpfx-E79NKQ9yZZ6Qd5fU2FUFnbhV7aDvYEwSk9YYKDaVJBX3ReysWSSqiqzQu6GjKFQ-nQzTPt-9pMqVP8QkKmyMGAtBQeqy9erUidCU07kDDQbH46X9Ggw5FepI-3hcgEMuGUzpg5ud-bkVhOS5ttKcYmLExOucWz_P-GPi9f-iiqCSirSzsf8P1SD6rh2jlMoeV590porss8L-LYZPJx4EAyAPqynVVDikpHb-4LF=w548-h229-no" alt="demo"></p>
<p>此篇介紹 <strong>grid-auto-flow</strong> 這屬性設定<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_16/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="grid-auto-flow-dense-Block-Fitting"><a href="#grid-auto-flow-dense-Block-Fitting" class="headerlink" title="grid-auto-flow dense Block Fitting"></a>grid-auto-flow dense Block Fitting</h1><p>來個示範範例， HTML 先建立 70 個項目來，使用 <strong>nth-child</strong> 來設定 css ， 6 的倍數 item 就跨越 6 個欄位</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item70"</span>&gt;</span>70<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">10</span>, <span class="number">1</span>fr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span><span class="selector-pseudo">:nth-child(6n)</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: cornflowerblue;</span><br><span class="line">    <span class="attribute">grid-column</span>: span <span class="number">6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/fSDtbeywrgEH9SMEp-FcZk4SE5r1jZNs8MajOG9qRlTIBjQKg4M50prQ-uf1vg-2gEczwLTsI5DWR4Zigtfs6htC3Nrvxsa4B9zGTaiLjf4W5RUIy-R5-FPRu0zP6TWfM5Mz_jpxGPUIT0YkLX9zlI91azdOiZjt6VN-qbeTHCytSg1mhiaC9wyBrI_FoYSYB88JaZmDi9QgpTbdLtr7rsiAmDuTjMgHlthYTvMeaoSg-pRTonLbl2LuzKppG2WLmdCkz32SwahVKf733laQN3Ys4MeM6bhCoNbgO4obhV6EWTjVTmIuWcUFqAy2OzpuwYiweWHqC8Hs2cBJ35V2cH7aUU-NqzjBnSBBnu_5FljyhZ9P3vWWeoO-ud3zQvQl74Pi49bpyDnmxiUAFwdu0TdFElncAVAJ0u8R1XMegT1sKJ6Cgo8o8VEiPlhNqD_XE3CXn9ZGMlhPB1GyEtjDE6d6qEX-YzNdIUlQdv-6_Pd9501PgVArwfpe0JLSxQpVRL5lBCIw8Fnv0nelzR9UnWQ5_VVzMHF8jl64o-QU_EmsVIjGjfI8RMUIN8kc6SSQumKYhpkJdIxIbRNkCfc1rrzMRsRq3QHVJWJG1-gsCOIfWoDv8oooA2ANmT01l72rEadFIyDnsN4AfdLmZjZSSzLpMbw0b9MA=w1252-h581-no" alt="span 6"></p>
<p>如圖片示範，會有空白的空格，假如想要有效的利用所有空間的話，可以利用 <strong>dense</strong> 這個設定值，設定 <strong>grid-auto-flow</strong> ， <strong>dense</strong> 會最大化利用表格空間</p>
<p><img src="https://lh3.googleusercontent.com/US1ItOWA2xIsE0luJF6gp_-WEUv4yjr7THenqvHApaCDb29CxUfYtYN_Q4k4PHorlyK9LfRcD3eGtFqBRzZE74piUqNWAeC9xDSGF-l2sdUrI9F1Y65awSPTv74GS4TEPBukE5SKL6wIAXIWNhjB_SD-sggPvWROcnMWgXEVrQv1bG-n7TC6u5VA7aSz6NqWon-I_LWBNfOX5Mxo-jr08uqz8GZntN48v0R8PYZj--MJONKenE1zIxIqFjs7_nphfNrRDt_koEEXBSnyduUluP49xhgmBqpbM1R24vzYGLhj_fCj9zHxJQxIe5hITG7nESA5w0DgcdVp9mKoRZE6DvxIXqu3NqlvL37YeQWGUhHSRtv3PA8mezreXc_cmAzS9HtYEsJ1Xf7G1rVsrJbfFxgT8f8ciaMupN9yar-BTeLJ8NvynJDiTpfx-E79NKQ9yZZ6Qd5fU2FUFnbhV7aDvYEwSk9YYKDaVJBX3ReysWSSqiqzQu6GjKFQ-nQzTPt-9pMqVP8QkKmyMGAtBQeqy9erUidCU07kDDQbH46X9Ggw5FepI-3hcgEMuGUzpg5ud-bkVhOS5ttKcYmLExOucWz_P-GPi9f-iiqCSirSzsf8P1SD6rh2jlMoeV590porss8L-LYZPJx4EAyAPqynVVDikpHb-4LF=w548-h229-no" alt="dense"></p>
<h2 id="線上展示"><a href="#線上展示" class="headerlink" title="線上展示"></a>線上展示</h2><p>可以測試 <strong>grid-auto-flow</strong> 屬性設定 <strong>column dense</strong> 與 <strong>row dense</strong></p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/pu1j1g7g/embedded/result,html,css/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="grid-auto-flow"><a href="#grid-auto-flow" class="headerlink" title="grid-auto-flow"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-auto-flow" target="_blank" rel="noopener">grid-auto-flow</a></h2><div class="note info"><p>The grid-auto-flow CSS property controls how the auto-placement algorithm works, specifying exactly how auto-placed items get flowed into the grid.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-auto-flow" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 18-Re-Ordering Grid Items</title>
    <url>/2018/04/05/css-grid-18/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/1wDVrQsVj3H9xXJy7oSWG5pvoPdqOA9n5MYn7TU9hhtX1esHUmYwgDQwXrecjCOKqVOH1jkdburUhb8ZyEx9aLtVSttlzy3GVkmmXV9HMIDQ5lC2J5BCqrI6ITlOG_FuogHn2M2qFFsTHYRslOix2yq6gFxFSNr3_lSQwdkVnqzT2RCbA0DXsibZGoQrBeLjEHZEuCKUVaYR-thqKGzkFLjNuqiZLzmxe01I-uSJPV5lK4y0JYg8p5NMHVTZF522a4WYS3htq47fJCkJela4sXCQU6S28Bmij5FWPFcquh_6GranXAEI2CA-s4yIn_cKKChtDi9vdqX1r2F0AzNO9KPRDQBh_XVRt4daPM5lNxPsW_UoJAsPILJpDhbZTNv2pGD-ONP_X4TKex5q1aVh8cUnONLj_ahacsUXLvKew1r5rKVZoa-5jy33f2gD1pzgngb51gm15UCTtdkmiNGtJJIy9c2k5yPxXpL_v8GEKIJpV-eOo5uyCeVeGqeuAkBpWKI9W7m2znqf7amnD6SeMr6h9F1UWsVcBuRkKwqGDaUcA1gxSt0-GH-sJdJQBtUcubIk42Ct9MCr0xis1Mw0HECbMDfwLBUcnf7YpNAjoOl7FN3AMCCZWTxYTjfHlIRwEEU4yY67-HfrYgj4D1U-0XzUpgroPI6p=w926-h313-no" alt="demo"><br>此篇相當簡易，說明 <strong>order</strong> 這個屬性的功能<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_18/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="Re-ordering-Grid-Items"><a href="#Re-ordering-Grid-Items" class="headerlink" title="Re-ordering Grid Items"></a>Re-ordering Grid Items</h1><p><strong>grid</strong> 的表格排列順序是由左上開始向右遞增，如下表的形式</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">6</td>
<td align="center">7</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">10</td>
<td align="center">11</td>
<td align="center">12</td>
</tr>
</tbody></table>
<p>假如想調整位置，先前提過的設定可以直接針對 <strong>start</strong> 與 <strong>end</strong> 去設定，但是若是想要安排順序的話，使用 <strong>start</strong> 與 <strong>end</strong> 設定就必須針對每個表格進行計算，這樣的設定太過麻煩，有更好的方式可以進行處理，就是 <strong>order</strong> ，以下使用範例來說明：</p>
<p>首先原本樣式如此， logo 後是 nav 接著是 content ，用表格排列則是</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">logo</td>
<td align="center">nav</td>
<td align="center">content</td>
</tr>
</tbody></table>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item logo"</span>&gt;</span>LOGO<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item nav"</span>&gt;</span>NAV<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item content"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>I'm the Content!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>當使用 <strong>order</strong> 排列，可以重新指定順序，需要注意的是 <strong>order</strong> 的預設值是 <strong>0</strong> ，所以設定可以是由 <strong>0</strong> 開始，或是自訂</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">10</span>, <span class="number">1</span>fr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logo</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: span <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">order</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: span <span class="number">8</span>;</span><br><span class="line">    <span class="attribute">order</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">1</span>/-<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">order</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">nav</td>
<td align="center">logo</td>
<td align="center">content</td>
</tr>
</tbody></table>
<h2 id="線上展示"><a href="#線上展示" class="headerlink" title="線上展示"></a>線上展示</h2><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/0845vtby/embedded/result,html,css/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="order"><a href="#order" class="headerlink" title="order"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/order" target="_blank" rel="noopener">order</a></h2><p>預設的 <strong>order</strong> 值是 <strong>0</strong></p>
<div class="note info"><p>CSS order 屬性規定了彈性容器中的可伸縮項目在佈局時的順序。元素按照 order 屬性的值的增序進行佈局。擁有相同 order 屬性值的元素按照它們在源代碼中出現的順序進行佈局。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/order" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 17-CSS Grid Alignment + Centering</title>
    <url>/2018/04/03/css-grid-17/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/OUGOy3N1mN7w4u7kGzC0FIDFZ6f1ZM0-nhJTHSmpebjopAbMQXjhlHoz5zEiRs7CcSXGqfq3BQFRGnskjYe8SNLIZ-dplcoquBWnxiizcYmmHlcXH2ZbNlPrGnPOelvwRH2pZKH1x38gfvKoKKPlXN8VXKRenjFB1N7zY48Q3c6FQY7Gl84PfEfryRoYZyY3kMtdituVSIFHOSDnj5OvIBISj0atSbYM3u44NW1bv8jj6WTiE3sCWpO1mxKSlwhPifOV4PJcbbqHnXBuLYHbpEg0q68ydecDbiCg0yBG8m7srl6XhWiIhT4FthDP2KAsHlRKp3ENcK6TsfSTujNvM2qBaY4f5dyx_-y-KIs6o3uOzvX5AaYwEqJ2hY2GnoIxZi12nDq3uiq7k0SDCubBWsX72osRAA-R10D52Ii2nUrQ51hacDK6kV7ntBxXh4K_JDKfkEZt3ZwojnUqXpKseYcs5hAbTDDr1Qb64TUbY-l08HxFZwoipqjYg7JMpGJTgILdmshkS3CR77dlT1zucftb1JJiOL1K3iNpS4a19il_Bmbe4CtR5GBdTHciTklACQH2Sudw2w9T1tBuK9xp2Xl8qLOWFLQH0Cc15ozDASFOk0klONxsn839nrgq9o20eHUeshW7jNzXxwbvWWxWw46hknIid4HO=w1210-h605-no" alt="demo"><br>接著，此篇主要說明對齊的設定了，如何行的對齊？列的對齊？置中的設定等等…<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_17/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="CSS-Grid-Alignment-Centering"><a href="#CSS-Grid-Alignment-Centering" class="headerlink" title="CSS Grid Alignment + Centering"></a>CSS Grid Alignment + Centering</h1><p>此篇會使用到 <strong>justify-*</strong> 與 <strong>align-*</strong> 的排列設定，* 號可能是 <strong>items</strong> 、 <strong>content</strong> 或 <strong>self</strong> ；</p>
<ul>
<li><strong>justify-*</strong> 為行的對齊設定（橫的那個）</li>
<li><strong>align-*</strong> 為欄的對齊設定（直的那個）</li>
</ul>
<h2 id="items"><a href="#items" class="headerlink" title="items"></a><strong>items</strong></h2><p>設定容器內的元素對齊</p>
<p><strong>place-items</strong> 可以用來取代 <strong>justify-tiems</strong> 與 <strong>align-items</strong> 的設定，可以將兩者的設定寫在一個</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">justify-items</span>: <span class="selector-tag">center</span>;</span><br><span class="line"><span class="selector-tag">align-items</span>: <span class="selector-tag">center</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/a1mOiIPWazE23FUQkEQkC3qz9ad0njlcGvHbYxKntdgSuEtY8BiroLIgAwSfySlwS4sQbOXuNI_pN41YWt3gYjzqlZeE2Xr6jcWEigFH8Hj6aoeNPHqey6YWXp5N7kntqSY4-ohB6QVoqFc3aHTU5GOfhSwOERnznSk-qAo2rXoaI_vgE8Iuliu863CPyWPTiem1l-4Ccpj_cqDhvVQJKpe0vpKDBu-8U6PLKDBLy3x3x9eyc-CIEasfmfeYYTZLFIVS0K52Aplf1kr0hre9ErV4j1yvfhiWMUFc0l6hkHtALeJpIiKlvoFuqVwTxZnBK-SOywDbqHKVcjP68DmzvWZVHzeYzJVVp_hKSNuzi4opZx0GvQEDwEPGq3HEdn7oxEiN7mMDEfkrFo4AZY4pC1UtomXnnQCeNircn6G6VPS4xg_rzxtAiYcmD54-vKmMuv60A_eP-r2SURVTr_7fsgxF6toe9BpBrLfzoor0wEJEOL2cAtZyC2YBUeRkL2datq85s-TJFiGdNe6I9jqbGDepsVS2Augm04dtg0P3-1gQ-U7RfIv6Su-bYjQwTnGqK87V2ER3xXP6hLktsXVnQd82ExAjfvVu22IFpJ62mhsONLA0LueqkV1xLjTJXtobLdh67sRWxCGSBMNgjMaM41LMzXRfMxZb=w362-h71-no" alt="place-items"></p>
<h2 id="content"><a href="#content" class="headerlink" title="content"></a><strong>content</strong></h2><p>設定元素的內容對齊（文字之類）</p>
<h2 id="self"><a href="#self" class="headerlink" title="self"></a><strong>self</strong></h2><p>設定元素與父元素之間的對齊（文字之類）</p>
<h2 id="items-、-content-或-self"><a href="#items-、-content-或-self" class="headerlink" title="items 、 content 或 self"></a><strong>items</strong> 、 <strong>content</strong> 或 <strong>self</strong></h2><p>此三項的對比可以參照 <strong>W3C</strong></p>
<div class="note primary"><p><img src="https://lh3.googleusercontent.com/34dGkuEqiNdDIBzF5k43Vc_goMbaPH1EiLWZkIHoWdCtrzsychxecAaWfc36XDprEyYbsZtN7eMRuPVkyQjAEmQdc32cIfy63VQL0itoMgtnnTtrDi39LiINPFIFn3JCVpn2nrX9vIWteOQ2vfpgrN-BAMaeB0NRed-zgW3aR_tAwwKunicToKbeGIcCW20R7FOVO7oGXqMunT84oKQxJP2rObDmWD18V_0gp__-2nglPgmNQkYfqyQDL5zSmrwRX0x5LmMMJbUd2GHj-h5TcSAWJuaYWjNsFRpLvQkFbEi1IItkvw1f1txHU9HzjvrBN7HlLtDrnh6RslUxd6JiIbId5WF3aCELmuDqfqNS6_4OQRzCTWpiTY7byPUdZx1zpRuavrm2vUIoN9FdxkNRJ2JoYSfuGpKJw7qayKkdTcYNVnXxBlH5H_LQINQz6H-cIGLbWVEwfys6se-VfDiawAKdLC2iL43cgKfDhee4gdwosE98ALPWGIK2A-sRMA3kacMtXa5c5AK2kyD0C5MrgfcPN16DI_4IJ3fb3PL1s0WzxFOMP1pr_nb-6lFsSMDlynfv3bnLYxWmCcWs3fcS8Rp2p-1bYPHqgyeVEkQ9o9CkliVbqU2HNosYykeCSgENvS7heXnxod_lld_5w2Hdai32sa0XMgDN=w985-h607-no" alt="compare"><br><strong>資料來源</strong> - <a href="https://www.w3.org/TR/css-align-3/#overview" target="_blank" rel="noopener"><em>W3C</em></a></p>
</div>

<p>其排列的對齊軸心線，可以參照 <strong>W3C</strong></p>
<div class="note primary"><p><img src="https://www.w3.org/TR/css-flexbox-1/images/flex-direction-terms.svg" alt="axic"><br><strong>資料來源</strong> - <a href="https://www.w3.org/TR/css-flexbox-1/#box-model" target="_blank" rel="noopener"><em>W3C</em></a></p>
</div>

<p>最後此篇練習的 css</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="built_in">var</span>(--yellow);</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">5</span>, <span class="number">130px</span>);</span><br><span class="line">    <span class="comment">/* justify-items: center;</span></span><br><span class="line"><span class="comment">    align-items: center; */</span></span><br><span class="line">    <span class="attribute">place-items</span>: stretch stretch;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">    <span class="attribute">align-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.itm</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.itm5</span> &#123;</span><br><span class="line">    <span class="attribute">justify-self</span>: center;</span><br><span class="line">    <span class="attribute">align-self</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="線上展示"><a href="#線上展示" class="headerlink" title="線上展示"></a>線上展示</h1><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/t4jn3c0r/embedded/result,html,css/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="justify-items"><a href="#justify-items" class="headerlink" title="justify-items"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-items" target="_blank" rel="noopener">justify-items</a></h2><div class="note info"><p>The CSS justify-items property defines the default justify-self for all items of the box, giving them all a default way of justifying each box along the appropriate axis.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-items" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content" target="_blank" rel="noopener">justify-content</a></h2><div class="note info"><p>CSS justify-content 属性定义了浏览器如何分配顺着父容器主轴的弹性元素之间及其周围的空间。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/justify-content" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>預設值是 <strong>start</strong> ，語法中可以輸入的設定有以下：</p>
<ul>
<li>start  從行首開始排列。每行第一個<strong>元素</strong>與行首對齊，同時所有後續的<strong>元素</strong>與前一個對齊</li>
<li>flex-start  從行首起始位置開始排列。每行第一個<strong>彈性元素</strong>與行首對齊，同時所有後續的<strong>彈性元素</strong>與前一個對齊。</li>
<li>flex-end  從行尾位置開始排列</li>
<li>center</li>
<li>left</li>
<li>right</li>
<li>baseline</li>
<li>first baseline</li>
<li>last baseline</li>
<li>space-between  均勻排列每個元素，首個元素放置於起點，末尾元素放置於終點</li>
<li>space-around  均勻排列每個元素，每個元素周圍分配相同的空間</li>
<li>space-evenly  均勻排列每個元素，每個元素之間的間隔相等</li>
<li>stretch</li>
<li>safe</li>
<li>unsafe</li>
</ul>
<h2 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/align-content" target="_blank" rel="noopener">align-content</a></h2><div class="note info"><p>align-content 屬性定義了當作為一個彈性盒子容器的屬性時，瀏覽器如何在容器的側軸圍繞彈性盒子項目分配空間。該屬性對單行彈性盒子模型無效。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/align-content" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="justify-self"><a href="#justify-self" class="headerlink" title="justify-self"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-self" target="_blank" rel="noopener">justify-self</a></h2><div class="note info"><p>The CSS justify-self property defines the way of justifying a box inside its container along the appropriate axis.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-self" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
<li><a href="https://css-tricks.com/snippets/css/complete-guide-grid/" target="_blank" rel="noopener">CSS Tricks</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>Git Push 出現 Auto Packing the Repository in Background for Optimum Performance</title>
    <url>/2018/04/05/git-help-gc/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/a7cqWNh8UpwHK3S3EsBybpO6jgjGF_YA20WQFBDI_4Vk25zjBAPC_SKjng50JbZQG1veSUIlq_XYNgR_1BI3zKT1BzgX4H6HxwaIDoDeC_4gYY71vIz_kVIxELMj5xSOFqvqcFiVc_munkxOFLPjv5IhXGwdyznjrc2y4X5V7aNaGlRxlqv0JevGdtqeM2Ko-xtLR8HDCMs5YkxQLtzaT8VENi-6LC2BFaLl7jTnEmjJ0ChcULCSgpZQl_RYXn9rt_WkVEjWUq95tJ7T0JRkH3Q3VoN8HSA_kMxvk_4a5mJ458pnKluhl339FDQ9bogfvXhikEZRrZK5GZQvQMV1-kWm_mKCV8gfNNdSoe6-6bMOCY5w8dIxBbh_vOerqKUijCb7uWd22f75Z7XUkZAWwOFbRVT00sOOFWXiucX2W4avroKZmO88TlNlZqwpQ80dVEvjjGlkRnH5J6xMoOvGmWFtUZRy4tBxjZ_sAD9UIbP_TkkPDfLmK3VtsKebYjWaJlA2Zk7_jPsIQ-IGmUB4JyoDdeK3l98xqZrjMJYzk-29OQImslijIopuO2pKMpUtd9DDiAD9U6WsTvWzopDSq9xg3jffkL6Z5_cuMwR0R44wtc_NQRbCdZ1EtQlHbCuRavWjBfeM9ec_9KnNYLllZjNQK0iQnz52=w876-h183-no" alt="error message"><br>發生時機不太能確定，但是發生後只好按照提示的說明進行 <strong>git gc</strong> 清理了<a id="more"></a>，以下列出發生的環境</p>
<h1 id="環境"><a href="#環境" class="headerlink" title="環境"></a>環境</h1><div class="note info"><p>OS Name: Microsoft Windows 10 Pro<br>OS Version: 10.0.16299 N/A Build 16299<br>git version: 2.17.0.windows.1</p>
</div>

<p>錯訊訊息如下</p>
<div class="note danger"><p>Auto packing the repository in background for optimum performance.<br>See “git help gc” for manual housekeeping.</p>
</div>

<h1 id="解決方式"><a href="#解決方式" class="headerlink" title="解決方式"></a>解決方式</h1><p>按照提供的訊息，需要進行 <strong>gc</strong> 處理，所以可以參照以下指令處理，首先使用 <a href="https://git-scm.com/book/zh-tw/v1/Git-%E5%85%A7%E9%83%A8%E5%8E%9F%E7%90%86-%E7%B6%AD%E8%AD%B7%E5%8F%8A%E8%B3%87%E6%96%99%E5%BE%A9%E5%8E%9F" target="_blank" rel="noopener">git fsck</a> 此工具會檢查 <strong>git repository</strong> 的資料完整性</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git fsck</span><br></pre></td></tr></table></figure>

<p>此指令會列出已經不在 <strong>git tree</strong> 上的物件資料，假如沒有這些資料的話，此指令就不會列出；所以當確定有這些資料，就可以進行 <strong>gc</strong> 清理</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git gc --prune=now</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/FXpdQiF31y8gNm3SVjEMJNefx0Grr2xVaJzdd_vC7xX_xcoZd-zrBVBjA1_MDSF9C4UlgexadwOYRz3U6ROYAQNRytXgxVXmX4SvIiimtywB8Po36EnPGRdxkwF5_G36HaECz4NJfKPq9jJINyEhk6Yt-LsIcEH-8P4xmVCb-qg9WuZYkYPpVhVfIy70Bm7L1jcar44IeY072DRuWVc3ha5ibjdLccbriMLZ9oZP3bCAAPkLxQbuRb2a92WLSD1iP3ldITJJHceXgru_Z4Rely2rvm-LGKCRqZvrzVxlIkHY04yvGTB3WZmh2ZMdkwnGg76U4nQXaTbyCBU3SZJLpXO_W17XQ1efsFxzmHhQYS6RAT6YXAiOnAk9_FAkFi0Uw9R4mqKYO2pD-diub2zy4ouc5zjk-5pFzkP9eRlqhyJuw72sV6KKJZa3KLhV9n-9_M16SqGVsUnL0K61uOHEmI-B0YKy3_4H3WaHiiFmsJUKSWP0HgVhoOh08NTC8un6htHMi4RkrX5YG9nklIHdU4qe6tGmlSy3SOp9CS-qwdBmaXPwlrzQ9WTbAYwguy7KL7e6CitJJnO4VKZBEFFBl25stGT2qQCxZJHPcl0jhSV1wP6JsL-aDctQSTfHyJxHTh8Lnj4LKrH1lKl3yx9R7WBm-6TDTk_5=w751-h186-no" alt="git gc"></p>
<p>上述的指令請小心使用，因為這會清理掉這些物件</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://stackoverflow.com/questions/28633956/why-does-git-keep-telling-me-its-auto-packing-the-repository-in-background-for" target="_blank" rel="noopener">stackoverflow</a></li>
<li><a href="https://git-scm.com/docs/git-fsck" target="_blank" rel="noopener">git-fcsk document</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 19-Nesting Grid With Album Layouts</title>
    <url>/2018/04/11/css-grid-19/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/HEX5M2jxQGMvGrCFZ30mXBGTDONYyEETVBrAMnCNinPb_A7Y-DembpMlD4tluBistcCenlilo6An5U9b7IllFf3TlvOAMw-IJm5Ae2WMaxEap3jS7JN3C6-zQazaFCOLFQGiwGGRZuighzFswDgnxMCxhzmla50jUSQrinJRubuJm9OgGKNzwCA7YSWtSriHgNXbCL3sboC4z0Ks2ajOMziMYGjXMtwEum1nngRtKYD7K2rE8gyl4ay3A0BCq682gSvKz0oyU0K7PWKmi4R2ituYsZNh1JCWcBI6R8LEAfF3yqH08jvD-2cxMldlXedHzDqAdLk9R-pg49rMZlTaSu89kBVUsMf_dw63TaKMqhLnz19XAS03CFI6Bb0kdHDs9gv-SBRgsKhdm89BoqvLq2Ue9NUpBQwft4ppmAMDh5CE_s4E-kG6mG0zlmfyEFwQDGogvz1RkcXlbONITbIYAReRBI_DkcfHIhbGc7Gp7Op__voGuM6bZWjDqyRQ8zBWdbCEHeYw9-uCcUAsk54RfDNVh1_i8fpO91jVDv2mdN_u8lELZiSuJM4Es9KDJ3R7EakRk9Tz-R5Xz6ctESyDjdnV8GF8G6YSe28AjcTAqVbXOLQWGMemeTjORh11LVUDlY0kucxAGLIhYuJ7jMhBS8TsJ74lZ0cL=w800-h429-no" alt="demo"></p>
<p>此篇介紹巢狀 <strong>grid</strong> 的佈置設定<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_19/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="Nesting-Grid-with-Album-Layouts"><a href="#Nesting-Grid-with-Album-Layouts" class="headerlink" title="Nesting Grid with Album Layouts"></a>Nesting Grid with Album Layouts</h1><p>使用的都是前幾篇提過的運用，需要注意的是圖片的寬度沒有設定的話，就會按照原本圖片大小顯示，會超出 <strong>grid</strong> 配置的欄位</p>
<p><img src="https://lh3.googleusercontent.com/Igr7Li_xV4OwMBxY5ukHUIsT5J0wCG9f-QrSfMYHEllfnskfvXIhNf_xPmvPxIvtZCvuDbEWwOW1Bp-Z9k_xm740T4TRxdyhqklJDCcnsPGnhtx0IitutKHThPsH_avsnX-nuPceWbchs1_bDHbrEacTfNo8ZsDBPZXpBl0XQlTOPfriAGqmLqgrGnvY-V5aoOWW9M_vqmF9r_YNHannRWWLwKs0GtHr7Rr-bYOK27atU-hIG7eVAylnu-HIekqEY6hfnLx2XdlDr-Yy-fFeE8ogUw7y2DLKLmiFRTkssYKc45dAQcYh7qgjo864IaQ58BJE_6OBijq9JBgz45L96iObtwmLWMKX8RP0Vfn1ZnzU9bwrTRiQVrwr7XLzmtLQFb-2Tq-OPG8fiBfWpy5t_2w63mszzGqTOeoZtlx-GfmVDGGX3OokcaVh1u34y-RnLlX6dEBJOIC4AqnpUZirJ1W2UK2sG8SRRTSC7t1qp5TcKFfC8viljfVH0y-Z8C5pl0ilH8ZRrznR-Vfpfsj12Jsr80A2pZHKoOVHPlGRZQX3RUfY9aDeiFCf8QAEJEJY9GFjKNiEXRlig9c_mlKYYlRdW8d4ks1FvvUxzFZqDes7BOqexuqyjYcO1Q_7JbXuCP95T-kgLy-zAX7Oo0f3xFVSRulxUAmZ=w634-h483-no" alt="image overflow"></p>
<p>所以只需要設定圖片寬度 <strong>100%</strong> 就會縮放大小至 <strong>grid</strong> 的大小</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.albums</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fit, minmax(<span class="number">400px</span> , <span class="number">1</span>fr));</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.album</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">150px</span> <span class="number">1</span>fr;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.album__artwork</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/-N5qHsfHa2s_o16bI0R-aawHB3kiQYzQrEy82i0aNCStbyV3eS19-F-_SQYO45HYtGT2n8KEH2KeivdUsMf4GBSl81ErhvkG67nxYtmwWiAVjoPGLw6N5mGx8ZrRJsFAPEeidLrhxIvNr7ApmxZGXw7LpUTWaBgAMqMqbC3gszRx3PmXl1KKzIcBD7x0IgojXf7GT9u2ppms24vUqzXMi0A2D5sgxMjcOydUTbHpYmMH5ZJLgjk6aTWw9LM3SAIzmBO40Hlbs3py2xmO-eWRmdLDNyy2EC2c_e6YrVNoV3pfKHi8BdnUbDrlgG-F4EIrCe5QLJ9SngSKcnEVtfXVOK4JnOimyE1OgB0WeHA8GbbM7FcMQ5z_F1UMIa6jAazBFZ4ykeudZBNNOEJ6zVPBOdTSndEzGJ45bt-Z_S4EkpgSUCroxNQhYvkOuj0MfmthCLZxP1PPvUG35BJTvVIc8TQp_yhPE3oMS_4-3aZx6VH3w_vfVzKINU6hzyyzfZI_ELW_zZKvzwm_0GRDpLxmEKQZ8hYRApmccbGSOssYAsvEZa1LJaCI1Vu5OphvBqFAqAczaW7jumrQEsa3UctSAbuIHzku7IXmPLy6FssOROP_rPJs16r-VtMZ7gzL4JAKt_ZiPFoKCgS8yKqp8VWMz5AFvR4BH8DK=w1406-h777-no" alt="result"></p>
<h2 id="線上展示"><a href="#線上展示" class="headerlink" title="線上展示"></a>線上展示</h2><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/u9f69ux5/embedded/result,html,css/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 20-CSS Grid Image Gallery</title>
    <url>/2018/04/16/css-grid-20/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/nDUGJuOAEtemIRCSvqx50SEAQvK2majSGigMiUSUJtt22z6leQFDzORIuTT69QdOGKQ2gQ8Ce05y0Pl83x__nJJc4WldSa-KIPrdlt9WaWY8JHNppEb5DrMQnGbKtJpWhbQ3al2bfDnHQSVIYOv3iaR6qeAH-H43vEGOfJMAgeMAFas1jVWXIzRSUggi-dztCiGID1vVnQo0dtwJWX8UztnMubhTN0f-A16ar49OVy2ZZO-5xepZF14eav3HvQp3Nf2EQyByzRWh23_HBM1zc4u7TrloUu25WuWWAmVT7shm2sCVgEHqWar4334GXmpkq3MjKqraggyjyqQW36US7WEFEqf-tsoEiiLd6Fa1OrdIckVN5mh1YJmSzVmaSk1QHVXn9b0_87hFb8Q2KzqiPBD-WA9GOe5D_t8NSKe69Srh3Ycddb4S-7cXiUUu3TmnoyGbvM8zEF8EKkXh79YdlI9QRfwIRzuVPMrfwhzjm-APTnIJFHlZM-mTToi2wJXNMi1ahrrp_WlJ6DC3x0oC0lDftBcmyftSZvNPfwdU5w9rAUfzFVdRhLZETTmHGMEdQJL_c3ClV2O-6-XWwl2A_ijDXPRklu9YDaSyaGN2NHOQsmhoC5yzPs2a7gGf1SKBOj-dJV0RESqZ_y9YcB4QbyxPm33gZBxq=w534-h387-no" alt="demo"></p>
<p>結合前幾篇，使用 <strong>js</strong> 與 <strong>css</strong> 完成表格布置的排版，應用<strong>巢狀表格</strong> 完成圖片隨機大小的表格呈現<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_20/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="CSS-Grid-Image-Gallery"><a href="#CSS-Grid-Image-Gallery" class="headerlink" title="CSS Grid Image Gallery"></a>CSS Grid Image Gallery</h1><p>此練習初始 html 如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay-inner"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"close"</span>&gt;</span>× Close<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"gallery"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>接著撰寫 <strong>javascript</strong> ，以下 <strong>js</strong> 連帶說明一起附上</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 宣告 gallery 取得 .gallery element</span></span><br><span class="line"><span class="keyword">const</span> gallery = <span class="built_in">document</span>.querySelector(<span class="string">'.gallery'</span>);</span><br><span class="line"><span class="comment">// 宣告 overlay 取得 .overlay element</span></span><br><span class="line"><span class="keyword">const</span> overlay = <span class="built_in">document</span>.querySelector(<span class="string">'.overlay'</span>);</span><br><span class="line"><span class="comment">// 宣告 overlayImage 取得 img element</span></span><br><span class="line"><span class="keyword">const</span> overlayImage = overlay.querySelector(<span class="string">'img'</span>);</span><br><span class="line"><span class="comment">// 宣告 overlayClose 取得 .close element</span></span><br><span class="line"><span class="keyword">const</span> overlayClose = overlay.querySelector(<span class="string">'.close'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 產生圖片畫廊的 html</span></span><br><span class="line"><span class="comment"> * h 是 grid-column 跨越 column 數量</span></span><br><span class="line"><span class="comment"> * v 是 grid-row 跨越 row 數量</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> </span>[h, v] [grid-column grid-row]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns </span>html 字串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateHTML</span>(<span class="params">[h, v]</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 圖片採用隨機選擇 images/$&#123;randomNumber(12)&#125;.jpg</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class="item h<span class="subst">$&#123;h&#125;</span> v<span class="subst">$&#123;v&#125;</span>"&gt;</span></span><br><span class="line"><span class="string">        &lt;img src="images/<span class="subst">$&#123;randomNumber(<span class="number">12</span>)&#125;</span>.jpg"&gt;</span></span><br><span class="line"><span class="string">        &lt;div class="item__overlay"&gt;</span></span><br><span class="line"><span class="string">            &lt;button&gt;View →&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 隨機數字</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> </span>limit 範圍大小</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns </span>隨機數字</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomNumber</span>(<span class="params">limit</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * limit) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 按下 VIEW-&gt; 觸發事件</span></span><br><span class="line"><span class="comment"> * 開啟原始圖片大小的畫面</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> </span>e </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleClick</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 取得點選 grid 圖片的路徑</span></span><br><span class="line">    <span class="keyword">const</span> src = e.currentTarget.querySelector(<span class="string">'img'</span>).src;</span><br><span class="line">    <span class="comment">// 設定呈現原始圖片大小的 html tag 路徑</span></span><br><span class="line">    overlayImage.src = src;</span><br><span class="line">    <span class="comment">// 設定 css 顯示</span></span><br><span class="line">    overlay.classList.add(<span class="string">'open'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 關閉原始圖片大小的畫面</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">close</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    overlay.classList.remove(<span class="string">'open'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 產生一組長度 50 的巢狀 array</span></span><br><span class="line"><span class="comment">// 每一元素都是 array [隨機數字, 隨機數字]</span></span><br><span class="line"><span class="comment">// 隨機數字最大值為 4 ，最小值為 1</span></span><br><span class="line"><span class="comment">// 另外合併幾組 array [1,1]</span></span><br><span class="line"><span class="keyword">const</span> digits = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">50</span>&#125;, () =&gt; [randomNumber(<span class="number">4</span>), randomNumber(<span class="number">4</span>)]).concat([</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 利用 digits 的陣列，產生圖片 html </span></span><br><span class="line"><span class="keyword">const</span> html = digits.map(generateHTML).join(<span class="string">''</span>);</span><br><span class="line"><span class="comment">// 將產生的 html 寫入到畫面</span></span><br><span class="line">gallery.innerHTML = html;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取得所有 .item 的元素</span></span><br><span class="line"><span class="keyword">const</span> items = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.item'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 進行觸發事件的綁定</span></span><br><span class="line">items.forEach(<span class="function"><span class="params">item</span> =&gt;</span> item.addEventListener(<span class="string">'click'</span>, handleClick));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 關閉畫面的事件綁定</span></span><br><span class="line">overlayClose.addEventListener(<span class="string">'click'</span>, close);</span><br></pre></td></tr></table></figure>

<p>設定完成 <strong>javascript</strong> ，就可以來處理 <strong>css</strong> 了，針對 <strong>.gallery</strong> 讓圖片畫面集中，所以使用 <strong>grid-auto-flow</strong> </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: sans-serif;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to right, #F93D66, #<span class="number">6</span>D47D9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-tag">h6</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 關閉按鈕樣式 */</span></span><br><span class="line"><span class="selector-class">.close</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.gallery</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="number">100px</span>);</span><br><span class="line">    <span class="attribute">grid-auto-rows</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="comment">/* 讓 grid 集中 */</span></span><br><span class="line">    <span class="attribute">grid-auto-flow</span>: dense;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">1</span>/-<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">grid-row</span>: <span class="number">1</span>/-<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">/* 圖片填滿畫面 */</span></span><br><span class="line">    <span class="attribute">object-fit</span>: cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item__overlay</span> &#123;</span><br><span class="line">    <span class="comment">/* 背景顏色除了顏色加上透明度 rrggbbaa */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffc60032</span>;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">1</span>/ -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">grid-row</span>: <span class="number">1</span>/-<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="comment">/* 排版置中 */</span></span><br><span class="line">    <span class="attribute">justify-items</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.2s</span>;</span><br><span class="line">    <span class="comment">/* 將按鈕先隱藏 */</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">100%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item__overlay</span> <span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: none;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid white;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.7</span>);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.item__overlay</span> &#123;</span><br><span class="line">    <span class="comment">/* 讓隱藏按鈕出現 */</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span><span class="selector-class">.v2</span> &#123;</span><br><span class="line">    <span class="attribute">grid-row</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span><span class="selector-class">.v3</span> &#123;</span><br><span class="line">    <span class="attribute">grid-row</span>: span <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span><span class="selector-class">.v4</span> &#123;</span><br><span class="line">    <span class="attribute">grid-row</span>: span <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span><span class="selector-class">.h2</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span><span class="selector-class">.h3</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: span <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span><span class="selector-class">.h4</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: span <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.overlay</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.7</span>);</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.overlay</span><span class="selector-class">.open</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.overlay-inner</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: white;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">700px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.overlay</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="線上展示"><a href="#線上展示" class="headerlink" title="線上展示"></a>線上展示</h2><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/zpck0nLu/embedded/result,css,js,html/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="object-fit"><a href="#object-fit" class="headerlink" title="object-fit"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/object-fit" target="_blank" rel="noopener">object-fit</a></h2><p>首先來看一下 <strong>MDN</strong> 上的定義</p>
<div class="note info"><p>The object-fit CSS property specifies how the contents of a replaced element should be fitted to the box established by its used height and width.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/object-fit" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p>此段說明了 <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/object-fit" target="_blank" rel="noopener"><strong>object-fit</strong></a> 主要是設定 <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/Replaced_element" target="_blank" rel="noopener"><strong>replaced element</strong> (置換元素)</a>，置換元素的定義，請參考以下</p>
<div class="note info"><p>CSS 中所謂的「置換元素 (Replaced element)」，即是該元素所呈現的內容不在 CSS 的控制範圍之內。這類外部物件所呈現的內容均獨立於 CSS 之外。常見的置換元素包含 &lt;img&gt;、&lt;object&gt;、&lt;video&gt;，或如 &lt;textarea&gt; 與 &lt;input&gt; 的表單元素。某些元素 (像是 &lt;audio&gt; 或 &lt;canvas&gt;) 只有在特殊情況下才是置替換元素。若是透過 CSS content 屬性所插入的物件，則稱為「不具名置換元素 (Anonymous replaced elements)」。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/Replaced_element" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/object-fit" target="_blank" rel="noopener"><strong>object-fit</strong></a> 的設定屬性有以下，其定義說明如下：</p>
<ul>
<li><strong>fill</strong>：預設值，會填滿設定的容器大小，不管原檔比例</li>
<li><strong>contain</strong>：保持原檔比例，並縮放至可以放進容器的大小。所以，容器內可能會有空白的地方</li>
<li><strong>cover</strong>：保持原檔比例，替換內容大於容器尺寸。因此，部分內容可能會被遮蔽</li>
<li><strong>none</strong>：保持原檔大小，不做任何調整</li>
<li><strong>scale-down</strong>：會選擇 <strong>none</strong> 或 <strong>contain</strong> 兩者間呈現較小尺寸的那個設定</li>
</ul>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/mou6chvj/embedded/result,html,css/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>Git 案例演練-完成的功能暫時不釋出</title>
    <url>/2018/04/21/git-case-001/</url>
    <content><![CDATA[<p>git 的分支操作非常便利，有些人知道便利性，但是在實務上有些不太清楚如何操作，其遇到的情形如下:<br>開發者單獨一人，所以僅使用 master 分支，添加的功能完成後，客戶說此功能暫時不釋出，另外進行其他功能開發 <a id="more"></a>；以下使用範例來做說明。</p>
<h1 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h1><p>採用 <a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener"><strong>Sourcetree</strong></a> 這 GUI 介面來操作，先列出一開始的畫面，預設已經有幾個 commit 在上面了</p>
<p><img src="https://lh3.googleusercontent.com/yTFLJUs0KtBfXCQoasLPY2FYKjCKsx0lhDclleklRS5eZEzwFBZ63xaH7ZuzWIOXxX_s84KK1helBoZ4ONDtMd7tAhFXzAWiZkFKwE-aGGjHNQvp6gDM3s0RRBSruqGuj6d0-GAQBdvr2XzAufsSLDHQ6n1Eoumtz-diBQiTUIeyyxzXSOwauUJY5bSi2-BdCjes_MGwbdGDU_5_VUu53xOqXJDxXNgbzZl6Zy21pdXXzo__BchzaoSUIp-K2X1kK8DH22ecwE6Os-HtwYTQS0kldzgmhqMWAwsBzN6Qz-aZmft0CMu47wBrF6vmP2DEkTLbw_WT8sD1abTvW-uD367kua9q9RHR3Tk3niVhzY5r0BkY3WjUwvoPTBrGz7gfcyutCppt3dqvlnqD5I8rpzlns8anhZzkUAbPcY9GS-fmvBLd9NbJ5PK9b9MGFFiAXLzPCPCAnbHMP2uIRaBu7JH4aoYL4OBBgPyNFIgEw0UKcPSxms1U2y69cVWSXuqtT4KV7049YLR6jH_Y18Y4OfSMJbFJtDNdM6C8bp2FyADL9M1aA_MQYqQaEwnF8zZtCfoGaZd5noyCN4b8633U12phxHWIAqfvkaAfyJ3ih5u4dFvgCgM-JSHR2aSHPYdLOEAXK1EBKSJKDz6jqKDp2twIxzaYsPLP=w885-h484-no" alt="repo first"></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git log --oneline --graph</span><br><span class="line">* cde5162 (HEAD -&gt; master, origin/master) Feature continue <span class="number">02</span></span><br><span class="line">* c07f436 Feature continue <span class="number">01</span></span><br><span class="line">* <span class="number">784</span>bbc1 Feature <span class="built_in">start</span></span><br><span class="line">* <span class="number">8859082</span> 寫入第五行資料</span><br><span class="line">* baae3d4 寫入第四行資料</span><br><span class="line">* d3a483d 寫入第三行資料</span><br><span class="line">* <span class="number">53</span>c074f 寫入第二行資料</span><br><span class="line">* <span class="number">09369</span>db 加入檔案</span><br></pre></td></tr></table></figure>

<p>預定 <strong>Feature</strong> 開頭的 <strong>commit</strong> 都是客戶說暫時不釋出的新功能，所以先在最後的 (<strong>cde5162</strong>) <strong>Feature continue 02</strong> 這筆資料設定 <strong>Branch</strong></p>
<p><img src="https://lh3.googleusercontent.com/ztUllGdSkPbGUWcCef27DKizssGPPuMxKf46AmvtD4bP0_IHTFbx6JPffamXAJxTQ67If7wBpnQIlAnKKHfBDCC6RtlvnOkDUvzbPU047mreMWp09b6LUokEBxqZsoglx27Quh8e1CgW6R9BfiAw_GVIaSGP4Y2gupYid2gbUN_li9zaCYpFPV4U21rwG81KWBAzpQ0U_QkoUHgrL0a5_MlwCI6hvDGxkYrYoOvBStCQD_kRAVTYe9KQf5X2eB1bxEv5xXaEo5drdaz76ySLBx5LbEg7yoPuT_Bdwb_PFpP7aRakdQtZBQfLhtVUVHqrziL6NveI-cPEe7HRo4-y2mgvEWUl887qPasy6rAoQQo2GJcpAx4dOHpYXO4B2uxVoEBUnjoudVyobTUG9Kxn6WANrRSs1U7ufu3g7sR7-fTwNX6acpoLVLN6G__ge4pwqA25Mn4Dx1py2-3sG-YuXwKVukb0KdSNvoXVMe86FMYpRttsLcFX-7foKQ0QF5DYYXzdASkW2MkCn4g-5VY5gdiCCZhi5Ggil-znM_b_PBFSaPSQiZsROwZTzzr5yqp3nq0UtmNdq9uWG2WT08iIPuHiSgNAK0ViIFFke27pMmILL0fv8nBGSOJWYxSv29ko1XhvxepdwLFsHI6W289YPzKAY7DDFZZI=w1374-h611-no" alt="set branch"></p>
<p>附上操作指令</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git branch Feature cde5162</span><br></pre></td></tr></table></figure>

<p>接著將現在所處的分支切換回 <strong>master</strong> ，直接連點 <strong>master</strong> 或是在 <strong>master</strong> 點擊滑鼠<strong>右鍵</strong>呼叫選單進行</p>
<p><img src="https://lh3.googleusercontent.com/I7vwqF7my7iUgiWV_CEuzMymk1Ji4Tj-QlpvRBt8rKLrEp4KsdzTHGu2y-hp5yI60--1kv5gORBRUp7U67eDpWGe4tbVo6dLf4G-mnSNnAGoI0YJ8N5erMKYTem0jj8yeqvmuxEzA3z0w3isCDD06TduRYOU-8mDLZV0BtXXNN02xpRXeAKLknOUeeu0tw34-QbyVZSePaZGikpE55mYd-Dpc0hlI1IeY-SyB8xVg_iN78vcHzXedYkyPClXnUj1LwGiI1r1jc83R4rWm_0l_YUcnP_85XZ0HkcF8225Fj3TTHTPw8LaQlccp6Rao_TdF3zWlj8958nFn5No2TjLVRl9yPYtm85xuAtlKsG9-_hZ-1EVijK9xvWgtQQmZrQnUckXiKWqFDKSf8fWNP1rscfWSxxFnBpH3AVEO6290H3gNvk-mgdCzhKNSLif3rUNqL6M9JA7QwVEuDOGyaJNKrciTINTzMAEnpZhDXZCbUTFTVspMvDG4vPN_CifPQDPimxsmeLa98_CCTDvN-XTsjsdKCulHvADiEmwor7yXRn_HeBie6n018CCJbh4kWhWnVwYSak2GPfFjrVQfDfxPnMaMX4cA5hUG7wqo7gOXuTu6uHfaXDqVftiHry-TETJ12kxHGt5V8n8_FWVfjwl95pTRB-FzyN7=w731-h635-no" alt="checkout branch"></p>
<p>附上操作指令</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git checkout master</span><br></pre></td></tr></table></figure>

<p>切換好之後，就要將 <strong>master</strong> 切換到<strong>寫入第五行資料</strong>的 commit ，在這個 commit 上點擊滑鼠<strong>右鍵</strong>呼叫選單，選擇 <strong>reset</strong></p>
<p><img src="https://lh3.googleusercontent.com/0TftgAXG_sGqZ_8i2nTktt_GynnmcfT9yRycYkqI3vV505O_Xn4ydFJEUM3khvmZr0k92W6Wd0JmK3uCmFLspifj0d0EGIdeRvqJ_-eMw14HXRFqLuELt-kX_ZtiZwSE1s6K5U8uIJulhdRxkzFsqC9CIXvDLNsmO42ZJ4mVggUs_9OnKxLJX4pg1_r56FxgOflOvjtugBF-MjA0gYGSm4moplHpRO1Jkmea2IcRKHmcH9NuQDhguIKKRWc5HDfDg4gafTuzFXriVTSNSf2ERXuGl_mIk2DpCDjzeWCBk5bgXYRVjYWJUNI_5l0bH5L3lthULQ_Mpc435jlpLiIEeD1cGuHFZQY1Qrbn_0iK6hFDkiKMu99CCyyDtJDgLfKA1ubF3v1qLxv_lk2k43kJfKSVVp7myGe29kkIt8QUjV-f9wAAQXJyNo2FKI3m5e7Itvh4PG-I6NzGczkZQjiaxnD_Iq4v6Cr5eWCrvK6dHV0Mwce2FYUB0zDCTGz2YH97E7ASexLIhtbyMy9UwImDqDFi5zbV-MjgBrTDw-a7szQOd-BdYGInJ1MO_RhiAyEgn9bsved0oT73s5j6cWnKUImB8F7tla7KR2zW7mON16cHFHPOWeICcSUC4weGBB4vwWqh10qc5ynFEB0-hmwToS0hu_cseg_k=w1001-h482-no" alt="menu opration"></p>
<p>接著選擇 <strong>Hard</strong> 模式即可</p>
<p><img src="https://lh3.googleusercontent.com/gyiD60FVE91oBLvQ-8y4lFZ882BtUyGNSghxHyVfhStuA6Odm_e2UVLAJOR9fmlwSZ5mg89ExSxk9z2WUB58SoQnfME_oxFCXHXwTAklbbEmq6a77VvQgeOe_2_BVev32LV1V6-PKKuxZlLRsnfuHsRo5NSSxlHtPWkpjVo_brlvtZnzAOUNgMt1XsR46RldD-JnUF8WIv3Wd_VIluf3K_YzQKKCh_YavQxx4LvbRQVWtZrOFmWEVPGueT00bFHnj6_ijQpH2Ie-9KgVdGnCiW__BzZwC87kvpQ5ILzqGfnkzfATDdc_aiSHlaZytXOK4mHQeuMcO_JO5Sk5FvZU4U_LEjMrTYxMNTR39XdecCII5mrJ4aMK1a4hNfaW9QTgfxgoZGZOd5BqCpt235JHP_11pzpaHbnChT9EXk-mTmq5jYgRX9wh1--9oG8D5ZM73tedgIhwsTBz2BCbfIl3jsmq16Scy6dyq6lVcJYrXVRmllgtR-ZT3hY8DGbpNk21opaEUyAKMan4PJ--dwuvMJffYLXn45a5uRon5zLgGEjdewSVKzMCrQcMOI_YEQePUpOVQQnQXMMjXZjT4fJGi4Jy3y4DhKRcazkmhJ0outgKkOwQy4GpYXuLIB57bdfc1k0uoUXH3eGIHx5Ouow07btCt1UAg9E1=w503-h232-no" alt="git reset"></p>
<p>附上操作指令</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git reset -q --hard <span class="number">8859082</span></span><br></pre></td></tr></table></figure>

<p>這樣操作就可以了，再來看一下　Graph ，會發現好像沒什麼變化</p>
<p><img src="https://lh3.googleusercontent.com/TA4fww6rE9yz34u-3A3-YrxFCPwyE9jYLca4NPmcO9eXab67nc6rB53LdfjzrA0cWXFqLmFCGsFqikjmjkevoPJL9h53uD1f9aY8YJfvb3itPBwl5XWXNgLpjyOrHkL3omE0tgwhX0gr3gcyMoYwTodcO3kQctYb8gnTyuxZES0B7yA45SLKFFkf-_zNlAkSLcYmVDk3dabeAUD0Mu21w0NaVN1WAJKfhkmjio2ILL8MnH-Kt0IMZQeXGxEZcJwCYMX33jl2-SXTYMEXR9asSnpDT3rU-tQbM38olDwD4XxtQEHu96a7zqUckDNpf-TAIK-2w2ZbmP66aniklyf_Bc5_tBFxfRpzS_lGTrAVxbXPPD9JkgIwX40Nbf_pt-qqYfe8FOn8QYplJIwKMLtA8oKDuzsHTtOCTH4_aP7Hgp2zDf7gENklk4xGuDMomt-XJAFQZ4WM5YN7z98zkyvji25UjslVPWlnKw6-PgdPomMaqQjmDMxv7VMzHKLcPusP10mYZPZdK3yltLsfOG1iZU1dU_ViTzLPThqESXKaWJclGKujEeTh8otDxxfucH5XG4epDbKhi4l5PJEWNRoX60d0UWFwlkqym-_vne_VvVSaop_oq3GjEFGs9iLRfSKw8qM1JCTzbLmCRa-YjgGepmeyFVrTB-zY=w511-h295-no" alt="git graph"></p>
<p>但是繼續添加 commit 的時候就會發現變動了</p>
<p><img src="https://lh3.googleusercontent.com/hxfJHUBYMKjTM6fJ4ijgXPy8s4mQybksCoXU5BQiVw_n-pNemg0YDX0masaGwNwg06i8jIPpc92WbcftW6lH-f-ZFaAN1UycyzsR_d5PNLFfyhTA58NP8bZgJdydDXYGhl-NCnJ35JqyivIQFt3TZUfBEiv4Gs5AhzP8Y1Tv1C-OEIeryPy9Xc6ud25VNbMvK6CImp0H8SxZTzB_TWd5O3QbG0msNKQn_lze7IOjiLDA7veu16dcisZZYcPh73ZpNf5uGP0F4PQtwS7ZTqtHQfOMqLJRadUR9XwMjNM_oCCxK3wivC9jVY4JyEcmnGlQotZPZLgWCkZH1uKrtaNmZRJX0gpO3LsIMi0oRrCdWe7jwItnFd5LeFNGQxOM507s3gDhHvl9p_FA16E9zb1dDLnuhymxGHf4cFhyxRHkgfDmbl3wFiTkBT7ZkEaCGKoT3Itih2wrol-h9AExZMulVi3H0qniatiueWaIjdYq9LWIPzCiwaSkT_fwHLYSlG_IAN8bI1b8kZW2KONYH8y-z1CSGKN_TnvT7ezHDHQVRoU6AOfYcBFwKMBh4Y0HQ2HBEcJDAQ7z-hkzBKbu2mFTnZY-ekj29NNoagUzjcrbj8EqShnhaBUnfLOqJnOK35xb9tcEuYDsclMaoaTJfcg5jPco4YwvL_o3=w455-h289-no" alt="git graph and add new commit"></p>
<p>此範例使用的 <a href="https://github.com/shunnien/GitCase001" target="_blank" rel="noopener">Repo</a> 已在 Github 上，並且只有初始的 commit ，這樣方便實際操作練習</p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL 中的 MERGE 語法</title>
    <url>/2018/04/19/sql-merge-into/</url>
    <content><![CDATA[<p>有新人在問，乾脆記錄下來，這樣方便查詢與說明<a id="more"></a>，另外順便重新比較一下效能。</p>
<h1 id="MERGE"><a href="#MERGE" class="headerlink" title="MERGE"></a><strong>MERGE</strong></h1><p>先來看看 <strong>microsoft docs</strong> 上的定義</p>
<div class="note info"><p>根據與來源資料表聯結的結果，在目標資料表上執行插入、更新或刪除作業。 例如，您可以根據在另一個資料表中所找到的差異在資料表中插入、更新或刪除資料列，以同步處理兩個資料表。</p>
<p>效能提示：當兩個資料表有複雜的比對特性時，MERGE 陳述式的條件式行為表現最佳。 例如沒有資料列時插入資料列，或資料列相符時更新資料列。 只要根據另一個資料表的資料列更新資料表，基本 INSERT、 UPDATE 及 DELETE 陳述式就能提升效能及可調適性。<br><strong>資料來源</strong> - <a href="https://docs.microsoft.com/zh-tw/sql/t-sql/statements/merge-transact-sql" target="_blank" rel="noopener">microsoft docs</a></p>
</div>

<p>看到上述的說明指出這語法適用比對條件複雜的情境。範例語法如下：<br>註：<strong>SQL Server (從 2008 開始)</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--Table A : 要 Update / Insert 的 Table</span></span><br><span class="line"><span class="comment">--Table B : 要用來比較並取得相關資料的 Table (或 subQuery )</span></span><br><span class="line"><span class="comment">-- ON : 表你自訂條件, 用以判斷 Matched 與否</span></span><br><span class="line"><span class="keyword">MERGE</span> table_A <span class="keyword">AS</span> target</span><br><span class="line"><span class="keyword">USING</span> table_B <span class="keyword">AS</span> <span class="keyword">source</span></span><br><span class="line">    <span class="keyword">ON</span> target.id = source.id</span><br><span class="line"><span class="keyword">WHEN</span> <span class="keyword">MATCHED</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> <span class="keyword">SET</span> <span class="keyword">col</span> = @<span class="keyword">col</span></span><br><span class="line"><span class="keyword">WHEN</span> <span class="keyword">NOT</span> <span class="keyword">MATCHED</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">INSERT</span> (colkey)</span><br><span class="line">    <span class="keyword">VALUES</span> (@<span class="keyword">col</span>);</span><br></pre></td></tr></table></figure>

<p>當資料表只有簡易比對時可以考慮改用 <strong>EXISTS</strong> 判斷資料是否存在，再決定要 <strong>Insert</strong> 或 <strong>Update</strong> ，如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 寫法 1</span></span><br><span class="line">IF EXISTS (<span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">FROM</span> table_A <span class="keyword">WHERE</span> <span class="keyword">col</span> = @<span class="keyword">col</span>)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> table_A</span><br><span class="line">        <span class="keyword">SET</span> ...</span><br><span class="line">    <span class="keyword">WHERE</span> <span class="keyword">key</span> = @<span class="keyword">col</span></span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_A (<span class="keyword">col</span>, ...)</span><br><span class="line">    <span class="keyword">VALUES</span> (@<span class="keyword">col</span>, ...)</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 寫法 2</span></span><br><span class="line"><span class="keyword">INSERT</span> table_A (<span class="keyword">col</span>, col2)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">col</span>, col2</span><br><span class="line"><span class="keyword">FROM</span> table_B</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span> <span class="keyword">col</span> <span class="keyword">FROM</span> table_A <span class="keyword">WHERE</span> table_A.col = table_B.col);</span><br></pre></td></tr></table></figure>

<h1 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h1><p>測試環境如下，採用 <strong>SQL Server Profiler</strong> 監測</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Microsoft SQL Server 2016 (SP1) (KB3182545) - 13.0.4001.0 (X64)</span><br><span class="line">Windows 10 Pro 6.3 &lt;X64&gt; (Build 16299)</span><br></pre></td></tr></table></figure>

<p>實際看範例操作吧</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SET</span> NOCOUNT <span class="keyword">ON</span>;</span><br><span class="line"><span class="comment">-- 確認暫存表是否存在，並移除存在的暫存表</span></span><br><span class="line">IF OBJECT_ID('tempdb..<span class="comment">#Merge_Target') IS NOT NULL</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="comment">#Merge_Target</span></span><br><span class="line"><span class="keyword">IF</span> OBJECT_ID(<span class="string">'tempdb..#Merge_Source'</span>) <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">table</span> <span class="comment">#Merge_Source</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">IF</span> OBJECT_ID(<span class="string">'tempdb..#Target'</span>) <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="comment">#Target</span></span><br><span class="line"><span class="keyword">IF</span> OBJECT_ID(<span class="string">'tempdb..#Source'</span>) <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">table</span> <span class="comment">#Source</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 建立測試用暫存表 (merge 目標資料表)</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="comment">#Merge_Target</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">ID</span>      <span class="built_in">BIGINT</span> PRIMARY <span class="keyword">KEY</span></span><br><span class="line">    ,<span class="keyword">Value</span>  <span class="built_in">INT</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 建立測試用暫存表 (merge 資料來源資料表)</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="comment">#Merge_Source</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">ID</span>      <span class="built_in">BIGINT</span> PRIMARY <span class="keyword">KEY</span></span><br><span class="line">    ,<span class="keyword">Value</span>  <span class="built_in">INT</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 建立測試用暫存表 (insert update 目標資料表)</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="comment">#Target</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">ID</span>      <span class="built_in">BIGINT</span> PRIMARY <span class="keyword">KEY</span></span><br><span class="line">    ,<span class="keyword">Value</span>  <span class="built_in">INT</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 建立測試用暫存表 (insert update 資料來源資料表)</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="comment">#Source</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">ID</span>      <span class="built_in">BIGINT</span> PRIMARY <span class="keyword">KEY</span></span><br><span class="line">    ,<span class="keyword">Value</span>  <span class="built_in">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 清除暫存表資料</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> <span class="comment">#Merge_Source;</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> <span class="comment">#Merge_Target;</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> <span class="comment">#Source;</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> <span class="comment">#Target;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 建立百萬筆隨機資料 (merge 目標資料表)</span></span><br><span class="line"><span class="keyword">WITH</span> Tally (n) <span class="keyword">AS</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> TOP <span class="number">1000000</span> ROW_NUMBER() <span class="keyword">OVER</span> (<span class="keyword">ORDER</span> <span class="keyword">BY</span> (<span class="keyword">SELECT</span> <span class="literal">NULL</span>))</span><br><span class="line">    <span class="keyword">FROM</span> sys.all_columns a <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> sys.all_columns b</span><br><span class="line">)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="comment">#Merge_Target</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">2</span>*n, <span class="number">1</span>+<span class="keyword">ABS</span>(<span class="keyword">CHECKSUM</span>(NEWID()))%<span class="number">1000</span></span><br><span class="line"><span class="keyword">FROM</span> Tally;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 建立百萬筆隨機資料 (merge 資料來源資料表)</span></span><br><span class="line"><span class="keyword">WITH</span> Tally (n) <span class="keyword">AS</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> TOP <span class="number">1000000</span> ROW_NUMBER() <span class="keyword">OVER</span> (<span class="keyword">ORDER</span> <span class="keyword">BY</span> (<span class="keyword">SELECT</span> <span class="literal">NULL</span>))</span><br><span class="line">    <span class="keyword">FROM</span> sys.all_columns a <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> sys.all_columns b</span><br><span class="line">)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="comment">#Merge_Source</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CASE</span> <span class="keyword">WHEN</span> n &lt;= <span class="number">500000</span> <span class="keyword">THEN</span> <span class="number">2</span>*n<span class="number">-1</span> <span class="keyword">ELSE</span> <span class="number">2</span>*n <span class="keyword">END</span></span><br><span class="line">    ,<span class="number">1</span>+<span class="keyword">ABS</span>(<span class="keyword">CHECKSUM</span>(NEWID()))%<span class="number">1000</span></span><br><span class="line"><span class="keyword">FROM</span> Tally;</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 建立百萬筆隨機資料 (insert update 目標資料表)</span></span><br><span class="line"><span class="keyword">WITH</span> Tally (n) <span class="keyword">AS</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> TOP <span class="number">1000000</span> ROW_NUMBER() <span class="keyword">OVER</span> (<span class="keyword">ORDER</span> <span class="keyword">BY</span> (<span class="keyword">SELECT</span> <span class="literal">NULL</span>))</span><br><span class="line">    <span class="keyword">FROM</span> sys.all_columns a <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> sys.all_columns b</span><br><span class="line">)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="comment">#Target</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">2</span>*n, <span class="number">1</span>+<span class="keyword">ABS</span>(<span class="keyword">CHECKSUM</span>(NEWID()))%<span class="number">1000</span></span><br><span class="line"><span class="keyword">FROM</span> Tally;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 建立百萬筆隨機資料 (insert update 資料來源資料表)</span></span><br><span class="line"><span class="keyword">WITH</span> Tally (n) <span class="keyword">AS</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> TOP <span class="number">1000000</span> ROW_NUMBER() <span class="keyword">OVER</span> (<span class="keyword">ORDER</span> <span class="keyword">BY</span> (<span class="keyword">SELECT</span> <span class="literal">NULL</span>))</span><br><span class="line">    <span class="keyword">FROM</span> sys.all_columns a <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> sys.all_columns b</span><br><span class="line">)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="comment">#Source</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CASE</span> <span class="keyword">WHEN</span> n &lt;= <span class="number">500000</span> <span class="keyword">THEN</span> <span class="number">2</span>*n<span class="number">-1</span> <span class="keyword">ELSE</span> <span class="number">2</span>*n <span class="keyword">END</span></span><br><span class="line">    ,<span class="number">1</span>+<span class="keyword">ABS</span>(<span class="keyword">CHECKSUM</span>(NEWID()))%<span class="number">1000</span></span><br><span class="line"><span class="keyword">FROM</span> Tally;</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">-- MERGE</span></span><br><span class="line"><span class="keyword">MERGE</span> <span class="comment">#Merge_Target t</span></span><br><span class="line"><span class="keyword">USING</span> <span class="comment">#Merge_Source s</span></span><br><span class="line"><span class="keyword">ON</span> s.ID = t.ID</span><br><span class="line"><span class="keyword">WHEN</span> <span class="keyword">MATCHED</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> <span class="keyword">SET</span> <span class="keyword">Value</span> = s.Value</span><br><span class="line"><span class="keyword">WHEN</span> <span class="keyword">NOT</span> <span class="keyword">MATCHED</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">INSERT</span> (<span class="keyword">ID</span>, <span class="keyword">Value</span>) <span class="keyword">VALUES</span>(s.ID, s.Value);</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="comment">-- UPDATE/INSERT</span></span><br><span class="line"><span class="keyword">BEGIN</span> <span class="keyword">TRANSACTION</span> T1;</span><br><span class="line"><span class="keyword">UPDATE</span> t</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">Value</span> = s.Value</span><br><span class="line"><span class="keyword">FROM</span> <span class="comment">#Target t</span></span><br><span class="line"><span class="keyword">JOIN</span> <span class="comment">#Source s ON s.ID = t.ID;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="comment">#Target</span></span><br><span class="line"><span class="keyword">SELECT</span> s.ID, s.Value</span><br><span class="line"><span class="keyword">FROM</span> <span class="comment">#Source s</span></span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="comment">#Target t ON s.ID = t.ID</span></span><br><span class="line"><span class="keyword">WHERE</span> t.ID <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">COMMIT</span> <span class="keyword">TRANSACTION</span> T1;</span><br><span class="line">GO</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="comment">#Source;</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="comment">#Target;</span></span><br></pre></td></tr></table></figure>

<p>其效能評比如下圖，由於此測試是使用目標與來源資料表的比較方式進行，而且比對條件單純</p>
<ul>
<li>CPU 事件使用的 CPU 時間(毫秒)</li>
<li>Reads 由伺服器代表事件讀取邏輯磁碟的次數</li>
<li>Writes 由伺服器代表事件寫入物理磁碟的次數</li>
<li>Duration 事件占用的時間(平均執行時間)</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/9bSSr0JLl4v7UFf4vZc2vE0O1idKB7wuGp4X7XZNwaKeT0LEZWphWB9FVPhcDWEwuWu48MIu8028AFlhDeYq1jd8DI-ngbDwbTxaNXbQLiKXurrlVkFbFlmKkGJkTynfzGoyaG91rw5GGxkCeU-hfpxC7nbhsFdaeNMBu1oW-N8U2OmpPM0RBTdUM68IMs4nE7nj5XnybrCbb5yyFNDkQJ5hVMfbQUe2nUto7JE80yAZzVnHub2VLK6TU7w8zmP1wEq0anUCvhpIlwX8KBBwEe8y1VwGueEy4d3JwMuZdu3fVBJEdsg2ImuAtjjf0SUJbnAR3QM3P_S6HrhCU_QRJ0pSpRuvNh-8WQQZfQRY7NSii0tUWRLZI1W9yDi2HZo6nIv6eHT4YUMgzVK4NsEFvb3jzo3rWzptkToBtRM6sSbsAXAxvTcEtKI1XdyQgvrUOva5qFyOn9vC-sSM-y0Mwzwxwz-Y9mmK6TAKTEm-bBD_QS86wSsJtr13oJKux3AZn06O_9_KkfpEWtz0aa0z8tZ8v-UiphO_b_R8RCcPKCZWTS3RZAUyHNzfrRUukDrHUUUvudEvmFgyBlDWxFVBWs_AH8c4O3h67uWD8NJrbHN6emHMVA3rTVCcohuF9BoM6lGNoSOWU1mPP1jNv3I3NKDzi1mJtCkm=w1141-h311-no" alt="Performance"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://docs.microsoft.com/zh-tw/sql/t-sql/statements/merge-transact-sql" target="_blank" rel="noopener">Microsoft Docs</a></li>
<li><a href="https://technet.microsoft.com/zh-tw/library/bb522522(v=sql.105).aspx" target="_blank" rel="noopener">Microsoft technet</a></li>
<li><a href="http://www.sqlservercentral.com/articles/MERGE/103127/" target="_blank" rel="noopener">Performance of the SQL MERGE vs. INSERT/UPDATE</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>T-SQL</tag>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>Mklink 指令建立 Symbolic Link</title>
    <url>/2018/04/21/mklink-command/</url>
    <content><![CDATA[<p>這功能簡單說就是建立指向目錄或是檔案的連結，例如： <code>C:\temp</code> 資料夾設定指向 <code>D:\temp</code> ，這樣原本 <code>C:\temp</code> 都會儲存到 <code>D:\temp</code> 內，類似捷徑的概念<a id="more"></a>，以下就來詳細看看用法語介紹。</p>
<h1 id="mklink"><a href="#mklink" class="headerlink" title="mklink"></a>mklink</h1><p>先看看 <strong>microsoft</strong> 文件上的說明</p>
<div class="note info"><p>Creates a symbolic link.<br><strong>資料來源</strong> - <a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/mklink" target="_blank" rel="noopener"><strong>microsoft docs</strong></a></p>
</div>

<h2 id="語法-Syntax"><a href="#語法-Syntax" class="headerlink" title="語法 (Syntax)"></a>語法 (Syntax)</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">mklink [[/d] | [/h] | [/j]] &lt;Link&gt; &lt;Target&gt;</span><br></pre></td></tr></table></figure>

<h2 id="參數-Parameters"><a href="#參數-Parameters" class="headerlink" title="參數 (Parameters)"></a>參數 (Parameters)</h2><p>沒有參數設定的話，預設情形下，建立的會是檔案的 <a href="https://en.wikipedia.org/wiki/Symbolic_link" target="_blank" rel="noopener" title="Symbolic link"><strong>Symbolic link</strong></a></p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">/d</td>
<td align="left">建立資料夾的 <a href="https://en.wikipedia.org/wiki/Symbolic_link" target="_blank" rel="noopener" title="Symbolic link"><strong>Symbolic link</strong></a></td>
</tr>
<tr>
<td align="left">/h</td>
<td align="left">建立 <a href="https://en.wikipedia.org/wiki/Hard_link" target="_blank" rel="noopener"><strong>hard link</strong></a> 取代 <a href="https://en.wikipedia.org/wiki/Symbolic_link" target="_blank" rel="noopener" title="Symbolic link"><strong>Symbolic link</strong></a></td>
</tr>
<tr>
<td align="left">/j</td>
<td align="left">建立資料夾的 <a href="https://en.wikipedia.org/wiki/NTFS_junction_point" target="_blank" rel="noopener"><strong>Junction</strong></a></td>
</tr>
<tr>
<td align="left">&lt;Link&gt;</td>
<td align="left">指定建立的 <a href="https://en.wikipedia.org/wiki/Symbolic_link" target="_blank" rel="noopener" title="Symbolic link"><strong>Symbolic link</strong></a> 名稱</td>
</tr>
<tr>
<td align="left">&lt;Target&gt;</td>
<td align="left">指定新 <a href="https://en.wikipedia.org/wiki/Symbolic_link" target="_blank" rel="noopener" title="Symbolic link"><strong>Symbolic link</strong></a> 的相對 (relative) 或絕對 (absolute) 路徑</td>
</tr>
<tr>
<td align="left">/?</td>
<td align="left">顯示指令說明</td>
</tr>
</tbody></table>
<h2 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h2><p>建立一個資料夾的 <strong>Symbolic link</strong> ，由來源為 <strong>mklink_source</strong> 指向 <strong>mklink_target</strong></p>
<h3 id="操作環境"><a href="#操作環境" class="headerlink" title="操作環境"></a>操作環境</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">$ systeminfo | <span class="built_in">findstr</span> /B /C:"OS Name" /C:"OS Version"</span><br><span class="line">OS Name:                   Microsoft Windows <span class="number">10</span> Pro</span><br><span class="line">OS Version:                <span class="number">10</span>.<span class="number">0</span>.<span class="number">16299</span> N/A Build <span class="number">16299</span></span><br></pre></td></tr></table></figure>

<p>在 <strong>windows 10</strong> 下，指向目標資料夾不需要建立，指令會自動建立</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">mklink /d mklink_target mklink_source</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/-chmKATkbxi3yrxskTOnQwpD6ZclKjnzUW1V9zlUPCvCtg-UZdwd0cJ6EJvXi3oYToEOV_LC49IkEdFkCwa6eDGZu5gYrTyteokDAcHWVUdJNmKE8uSWRp1d9er06vP0pCuzM2ZYxQWvnDAwHlsAFXWtGLV4lBOUkqb468GEFDtp94pgSLh-gpKID7VtUwDuk7KltG5Dlm-SGJwlvpTuJmowkNnZ093erJ2QBmr2PiIiWXmXG3UkkSSZTybd44T6w_zvgNgdFlwT5HVmQ-6VbPrUP24X0eR4y3cWI4e8E7fHZxB-TfSLrJc4BOs0ARn-RgPslHhunh_ynPwgkTWpCQE-iXTN_2Armsn9-DzPj-eXbQ3GVkpgK7FV-HC6qPbLwkIrjeaR_P_m6qON7jjl0-24j3M9ziMJ2XAxV-b7NPTGtNkJGI-dMVC2iARkKBWgXvkKBbLdNJrkahOh7UeolgYl7C1w9XnYE3yCuA1vjcrHUdbv4HmljiHrx4mm9jFpqZ7LL0hc7wtddChYqqKHSBIq7xCBjaAHPlns2ZTru17Ucq1p_faCPT-nq7GbgegQspklOjNtvNJYf6UtlFTB6q2FgVYd_C532yG1cVF5gcTvA67ujEYlMBM_wRQOajMO8wj_FfMZMzi5PBRtfTY9jcnfvzV9Yqwr=w772-h98-no" alt="make link"></p>
<p>建立完成後，比較一下資料夾外觀，需要注意的是，資料夾類型都是 <strong>File folder</strong> ，而且圖示與捷徑相同，但是捷徑的類型是 <strong>Shortcut</strong></p>
<p><img src="https://lh3.googleusercontent.com/p2qBzPTNpsD6XdjIkL-DIxnimkDD4nIIbKXSQxRPJheRXnA6konpltc1R9cisZiu-Ufd-XHCvU6mhJU0Ia_Us5o0SyNMFJjxrjGx8l2rEbWvaNvTxM_Dhsmet9ly2jF4ppT_qLdNDxWBoPIhwP6fMwBnyfUxYpkCma9xtlga3KNLasRjKJdZzbyf9vIX91snTroOem4rlT3eiPVfxbGKzvfRuwy0XZTyWzasiC2Asv2fnzCEC2FQ-J4Ayt42jBvtlqnRw1zV_DNqlShGxCD2GNexMUDBQnwfKEXW329xE5QWFVLfrzVctK7wGzxe2kEgHhk3WM9F7ldlTs1oa8XROJP7fI3XP6-ZAPEncYoljVsDQ83yknLYvn4SPgLY3o13VDA2qa4V3D3ERi8A7dV8tn1hwbOfKHHKFP7CIIOhG7IfnIf6T1bRlYQ4SbhCRdiEA7h0NMSCbOJhf3bjcISmM0K2UkllYnXxQzJGFMwx0bvwk9sVn1GJ7bS875xzklX7QSXLm2gth1qdlMkx-zstgAeZP4lYEWiaYIDWGW25yjP4wB0BQqnS75ajkiLJ69jOfiZQwvW8r9uj5ak-iVp1Cxn_-2ZUA8uMzdJ303-vq_8zGbRCuCtdckPv5xIq7inH-PbnUSAv2egbP5ucv4oxodP-4B0AlmwP=w626-h118-no" alt="shortcut vs symbolic link icon"><br><img src="https://lh3.googleusercontent.com/vSHAUSrxl6qKj5bEA8ecWa29juuEVeT2mVHbQEwjP_gYrj0hDEmzB1qcaT_rig2WryFzNJttlT7NDxocnmF3638tBCuyKcAcQs_AVzkfDVqIIKhbkj6qkH4Wegz0QD1WbJCW9whHmS_YGx9ZxhXOW5Ji0aMC74sDAdibxGZV1DXjIc1IJrHISJIUsJAsRxizeiiZuIlcNNadawR1QS4olMdwRiBv8ZsNVDZPJLGVBZvtl1pEs4aS-WiqzEaoWF81pvm8CA3O6HW2KlFWSr80Atnyu1cnbPc9WWydrL3sGmMFzERAAyIWl-YtQA5tJPuFqP1CHg9NMUJfWEmF3Laydbvu77AEJU7H7jthVE2yrt3-WPor9QJqnUVJ87dhXlr7AN_nyo7clD_dy_Yf-zI5gUgedj9Wip8_qxVltmblM9q_BNvey0ekzp_0WbBhUQn8h9-CcpESwttIrs0_fCubDCIvAQY8-47taagSZREK6rMTWM2V7wszIbd3m_SPma0LBfm7t04U7cj37aEy0aVGQfP4ucHFei8yrmpHPjWbbYQ8ARwArG6Nx1Avp_eHZRXoT9gzDENculii7V36nlr90Hwo0TxYnI9N4AswijOCH7p2no7mcZgTIF90Pd62SZD6NQKTNDV0sxyN6a9bFDcleYaZVLfoAGDV=w958-h514-no" alt="shortcut vs symbolic link type"></p>
<p>不需要的時候 <strong>symbolic link</strong> 直接移除資料夾即可</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/mklink" target="_blank" rel="noopener">microsoft docs mklink</a></li>
<li><a href="https://en.wikipedia.org/wiki/Symbolic_link" target="_blank" rel="noopener" title="Symbolic link">WiKi Symbolic link</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>Windows Commands</tag>
      </tags>
  </entry>
  <entry>
    <title>專案發生 Error CS1010,CS1056 錯誤</title>
    <url>/2018/04/17/error-CS1010-CS1056-in-VS2017/</url>
    <content><![CDATA[<p>接手一個悠久歷史的專案，但是版控有點混亂，所以正在重新整理。過程中，發生了各項問題，然後耗費最多時間的，就是標題上的錯誤了。</p>
<h1 id="問題描述"><a href="#問題描述" class="headerlink" title="問題描述"></a>問題描述</h1><p>先附上開發環境</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">OS Name:                   Microsoft Windows 10 Pro</span><br><span class="line">OS Version:                10.0.16299 N&#x2F;A Build 16299</span><br><span class="line">Editor:                    Visual Studio Enterprise 2017 Version 15.6.6</span><br></pre></td></tr></table></figure>

<p>先說明這是一個 webform 的 website project ，發生的錯誤訊息如下</p>
<div class="note danger"><p>error CS1010: Newline in constant<br>error CS1056: Unexpected character ‘’<br>error CS1056: Unexpected character ‘’<br>error CS1056: Unexpected character ‘’<br>error CS1010: Newline in constant</p>
</div>
<a id="more"></a>

<p><img src="https://lh3.googleusercontent.com/xCnbrKgffRYmjNmGcMkHz3dgKco0f6fMY4hSQwRuqKNLesqv7NRglSrGCCM8Y2iB8p6cLnuHd2N6I2uwwc8QfoN5y64dDCQ1iRQ3HziSsSBcvZTfx_jA4y7b0zes7K-6nSL7wIKNfTfX1f7KhLEbywkHPF4rj03huczBcBrkKG1b2zN0kJSpOfYKoLCSFaVhGM-IaijFhsyDss7yv0fkO_tIIndNCVTMfZ44-H1VXXJALKu7K0Bz1L8wv0OuLf3V5txFRABLlJi9gMbj8ufPCOM0PGFqr8SeeUL3ye-qRQVWrWZBZxClOQXl2ONH5JdHRtYsXEXnM3JEx8QfXzTJ5AvYPA3pHF1HVDUkH04-HkZ-yTdQBO1FaMS08XrbMOV2h_nMpnMNQjNn_pO3pRnSSF0fiFtiq3nisyHjTBG20d97CZW54br-vWML2I4qtHP1iYEFckJWwVD2EdmNqEjT74qrkzg3YYofB-JVDcV7UqHtaHC4_kle_PAdIZ0uZh2X8JOUOoNo4XzdQSRhIGa_Dwh5qoadvAsg2p1Qr8OvTvfpU2kdum-x_uI0C_ft1kwe_g6uVtGL2wD-pXl_vPfV_XqjxC3x6hT-O8rOBjVWi-Kbm0aeog_iLw3pDr3TBOzMZhY93NvvA5xF6Kjy1Uv2sc6kIwP-43B9=w806-h182-no" alt="error"></p>
<h1 id="問題分析"><a href="#問題分析" class="headerlink" title="問題分析"></a>問題分析</h1><p>看說明，初步認為幾個可能：</p>
<ol>
<li><p><del>檔案內容內的 <strong>{</strong> 之類的缺少或是跑掉，造成有些錯誤</del><br>仔細看過後，發現完全沒有這種現象，直接排除</p>
</li>
<li><p><del>字串變數的內容有些文字的編碼問題</del><br>調整了字串內容的編碼，但是毫無影響，也排除</p>
</li>
<li><p><del>換行符號等</del><br>一開始認為這個可能性最高，除了換行符，或是其他特殊字元影響，透過 <strong>notepad++</strong> 查看，發現也不是此可能</p>
</li>
<li><p>編碼問題<br>上述的特殊字元排除後，就想到編碼問題，但是查看後，發現檔案是 <strong>utf-8</strong> ，也沒有亂碼的現象，一度以為不是此可能了。最後發現 <strong>aspx</strong> 頁面的編碼與對應的 <strong>.cs 檔案</strong>編碼不同；<strong>aspx</strong> 頁面編碼是 <strong>utf-8 BOM</strong></p>
</li>
</ol>
<h1 id="解決方式"><a href="#解決方式" class="headerlink" title="解決方式"></a>解決方式</h1><p>找到問題後，解決方式很簡易，讓兩個檔案的編碼相同即可；透過 <strong>notepad++</strong> 或是 <strong>VSCode</strong> 或是 <strong>Visual Studio 2017</strong> 另存新檔，然後選擇編碼，以上這些都可以變更檔案編碼，以下附上 <strong>Visual Studio 2017</strong> 變更編碼的圖片。有興趣想了解 <a href="https://en.wikipedia.org/wiki/Byte_order_mark" target="_blank" rel="noopener"><strong>BOM</strong></a> 的，請看連結的 <a href="https://en.wikipedia.org/wiki/Byte_order_mark" target="_blank" rel="noopener"><strong>wiki</strong></a></p>
<p><img src="https://lh3.googleusercontent.com/Ch25NSwAmRjIZmkFLzgG2UgF-erfr3lD4M4YT0ofIqyknTr_O3IBtohQ0wuvcG80Sh-JqVPLBEbspUX_qNzGYzpkZcFiR-Po3wLbnRGWur8CESHZlwEnfvDNziOY2M6cSEaBm-54sYNYewz2HTqt4fqNjN6zqmmv-DNncOu482riroWZycZDAfNY-1hUygxzbzC2XN8Yt8JgTbNjlHZX7XPDFvppdHa86BtctumuvZ2F5MzT_N02PJwBYNjAmKCWUTxBqmX34C8gi7DLz6b8RtLj733DgdQAipCjIsRJOWhQ_tqU0Xrs8GHNWk3SvxRLzqtFuTZWZfyZAYySfcA6TFbYSy5OC4DMYMTgF5LqpzBFet-_6Q6DuqNj5Hrdiv7z0HZwvSf054dxaAlXtTMNtSvU_zkONUwQ9Rm06dVfI3zHofE7cjjPKqXYStRL_zli5-EzaOJTnDKITbG8Z1lf1yIoF-vnIfieoRFDcNs4BIArUVq4TUL8qD_fQUnLEOr5NM1DRNcm89WVLpobJK4x_lhFRJxNkT6Dq6fjtg_c7ciHBJJQd4mkWnD0X_r1N_oQ-X82dqOLZ5xF2UaB7gjCs5YsoKc6_Y1RCG4zCsXeR57sl7XrQoYw6mIG7L8o129Z-uE1rAz7wTKVv63-SaBRO1XKLD8LP2pc=w524-h308-no" alt="Visual Studio 2017"></p>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Visual Studio</tag>
        <tag>Troubleshooting</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL Server 的 Bak 檔案還原</title>
    <url>/2018/04/27/restore-backup-db-file-to-sql-server/</url>
    <content><![CDATA[<p>此篇單純使用 GUI 介面操作，不使用 Query Script ，快速上手就好。<a id="more"></a>以下操作範例之環境是使用 <strong>SQL Server 2008 R2</strong></p>
<p>首先在物件總管中，按下滑鼠右鍵，選擇<strong>還原檔案和檔案群組</strong></p>
<p><img src="https://lh3.googleusercontent.com/EhyzPqbg68v07cBIk5tU1ywjjmYQ3av0lSK3gE9ZVsL3L13SwFu-kVAG7X2CxMXBKHmVp5eT3lqJ_uF3C9sPxdNE_IeFtPbsJqAH5lgFNS3hJQiJBtrEUwF45otnmLy6kWRyvmMny2QcgYY8t-OVXAMvs2x1o6piXPvwP5-p-U-Y_VUBJk2rO2iK1wIfFY-96ka-_lSNQiepDrwxO6GSR_HO5TyYVMphQQ5Tijc3H0v1MJluic1V5j0SAaZMsV2QDXWiN5rf4zt2LbzZY5VI3NrnHSnJcuWbNa5xDyUEKLBGupejJnM2KlX1AKI1CWN7UBSCDBW9lIerP37iXjqy7-l0YS7qGEs1Pm6PPiKjNIVVq58IsmmkzoeTL6RMIJ7WPrj-Ly7QOJ0cfRXlPE0srxiZ0lCZtvQU7IC2-BHUj3B6YTEC6_ZwTVYB4KKxwSKBjAnpRRhYtD2YSZnZxEu7HpXYBaokJZ2GU2dFDC3PPF8p2X3IZIpiXZzznU4yS_GWWH3rkdFHZHQMop25etw7XcFLRmKiFgDhS4K99CWu_Em8cerIJKS4-UprkqFoKBIA37RNHwSMFMa5xaD5fIgzm4djiAvTmUbv2S4jSTlMll6rbnVuRJKVtSDlbLOtTk5hYxWYGZ0eTqXcA-yrTWXRSVdeuYBrQ7dq=w326-h495-no" alt="select menu"></p>
<p>當顯示<strong>還原檔案和檔案群組</strong>的視窗畫面中，選擇<strong>目的地資料庫</strong>，或是自訂一個新的資料庫名稱(sql server 會自動還原建立該新資料庫名稱)，接著選擇<strong>來源裝置</strong>選取 <strong>.bak</strong> 檔案</p>
<p><img src="https://lh3.googleusercontent.com/o4UA20plZMnS_Zo6s-esWQa428pLvZuQI9x1yBp7sWlRFYy7s10u6x8d2Dts66kz_Weo-YY111bFVgzOEPo-1aq76SjPGom_XUqoAvdLw8g4lxv1Gflfbq70GY6By38GSCMIwETt1q6VMd9GeqUjnriUWWYVdl9y4vAWErT0gW2z23dVwALJjTNuy6EX69SjHoh5SeL39iqkW_f0npxgjzqQvZVPa_3_xhxb3siL6xYiF3i0ekXV3AWX3ltZVogL5xeBwe2dpc62x0I_ix33nZDBE4hejTnVlbhLjD63WL54osmTDk278i8qXcDVj_mkJx0OVR1SPGEZafnZrT32dlto3YgRjIcwChLbJfz5-7XsiJ-WvdIGs7kS-6iREskRFqCiOaOhL8C4ZgJ1ImR0BS8RMKO7mDa9gaGenGmQiyN41tKtvRIuhSRZqUIGjm2JsWDCUkCBmZA9pKjnpT-pEdL21Q-HyDltiSWOKdIOM70tX4VHS8KymZ9gGHV2WhWKxiI4eu8HPnIdDaE5nZ8Rharv_cqA1vz_7A4-3-LMU1rGvBzUBMnt2E2gZHY_Xz1h1ZBM9fiu1qlMevpWh6huIicrHY9KWhL_8U3c_zHcqoQlA92gazLZD6zooG9pbKH8CFqsovc-nROCJRDN1mF70DLjUyWQSUIC=w614-h605-no" alt="restore set window"></p>
<p>選擇 <strong>.bak</strong> 檔案加入</p>
<p><img src="https://lh3.googleusercontent.com/W65qVCv7dvRiUMuJkv298-YLOu8zRRIbKrqfx3RDeCE76S-yHDBDAG4Ba_Hyq6_zbLHj89psQ0oMbiEgDR0lwPIQRPwaONw6SEQIB9fXWy185nR1lmU5Ts6a8AtG8NKxyn8S77DCqJlWRgZGo3vtZw1hRgD0tFSxrlfW3SXgcVbozJMrCSk4IXeosdbAQtftWn2acPzjN1mf6CBGpwI98mlqqWOcYtyyaPxJlnMiugYM7t4wk3eTZbm_ugEUan3vlW49MqJy920GQ4JFeEURqnuI2Teh_YGNGvpme3cfwB1meHHzRXvwpxNLEJcGd5B_wlDNFiR1nXxf_P2IKhAZMvvolgn-OeTKXUoHbaEKZLAIJyoHm0hf0D4pThK9PVafUeF1IdQLdqmWBjV4l_CqGLVzUitCQwD9TbIVZM7wAraqdneJPTwiOCeTPD0NxVNIkXE1CdFttr0nKm7LRF-sYROZvU4pBVFS_LD5U7R2GFBRDOYGTPz3tKFjmmxhGUoArNQVP87O5xRPCAfLXZwiNu6sBKrEnZfCMsudbBA_HK3NDCgW0M4LLiTpkVeAU0ahDEcAVHsZYlmWp7whXYwsO7rMECCn2OD4Gc892YI2_T-N7DV5ILM_JJQh2t1Ac58o__mAOZtypnilVhgRnap1FfBF-nw0Pj9s=w499-h399-no" alt="add bak file"></p>
<p>選擇後不要忘記勾選還原的項目，設定畫面如下</p>
<p><img src="https://lh3.googleusercontent.com/8GEJSQUfe3FBfw9tY7QW_iHxiHI96_VBIiZVGsd_6V5bkbccBV5aQLEaW_IU0fz9aAhwtl3biKKoqvuqcysP6QIR1wjJTE3bXY_R30AdHMMHWyB7Ly5bYE11WBIPKCINUkjFY46gY_L0yauzvguyioTfzovcWdGY-5xOq-ayLQwquuhz_whmSF3HJ61XzD3bbE5DWkv3g_JDNmyiNa3Fk1P1oQqhq07NGoskUFl_4cf6Kdo9wP-YrfJvfzk6J0Up366DO2sV62nBqujCeM7FycWRdDcP0PwgSYvXP7yeTdmCAS7g6Yi2BDjyO4ZmKujSI8PmzeFi30qqUH1cmM-tAhjwAx4Lr_yuBWDna7mOOdu2XRV2kX4mbiR1YgORBjiC_bPfH0n9bM_gpItsChA1imzz3rr_JTedwSZ3-f_TergyjIocIt53EJsQryZG2bnlzeGwAab2ujKhF3XkC_rz8s8aWxB9x5fTLuXAHFfscANiQHTn7kKqrhL4HmQcQ9z-p8P9KQilqr23bX72ZhkAPin3QvZEBlJRu0gkm2mRfTQjptK1nhMGRj6LTKfqdmTiVDNyG2gfsoSTG8gRv3JR4zmvukAezj5rC48Wu-kqOsfKGegOC1p3aejsmsegk3lzE-T1K_2qBgEp68ItQ3smPmEtqmwh1_5j=s605-no" alt="set window"></p>
<p>注意新版 SQL Server 備份出來的檔案無法還原至較舊的 SQL Server 中</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://docs.microsoft.com/zh-tw/sql/relational-databases/backup-restore/file-restores-full-recovery-model?view=sql-server-2017" target="_blank" rel="noopener">microsoft docs restore full recovery</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>在 IIS 設定 HSTS 標頭</title>
    <url>/2018/05/08/HSTS-Security/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/u1sGGmWTrvCgfb6SntbcJJIV3WH1XMinJYi1G9mhQ28lCHPKTF30vLTd1eo8JWdXd0OKjyBaXtDTJyT9xGW1Uw4KUGiQOxvxUUgoABUrFjyS-vR9qqv5LbPgPm83kQhWMcvNmxltza0mphw-bDoHSdBeM8EjhvNbGKlnExuxoM2nDD0JBdrdh8i7oIayM_PF7oMVuQOBSuiVYd_wyI7NUgd8gIOcHczQ70qTtKJDLEKQXew7dKO_djLP_-1ZyDLrLLGU2NPYmg5EicLevIFLwg1zLWMDnl0vjis69j3-yvHBh4-gdTb2PKRKamuYnhXdzkFxg49WLLizilZRRhm-nS6V82IO6Bx1_jelpffnRaoZSaKhlmzUPwGlIOExm9ZlVkVezuqIfK0GIrN5cfh-5DYhKJLfsF-RR9W4DsPrJaNZrm5jZ-Nwfi8BquP89znqXUelP06WK6BBJ-onxKut7p3KIgv5HFBSohBUrF0Btjf9BzOKeYGk8gMsi26IZBeBQb7QjxZalLTJqWqgvWOJcVTA3HzAt5aoVbUk8MEQTCWUG-l26leoeFftS1J_zLllxmIauQq61vt8h6i7-cskGaa0H_7qzuS15FsPmEnzo_WGXYOIvd2mZgznSMfeo-jQq1OZfp66-v0mXs34O_Ouyb273oAq51dd=w445-h222-no" alt="demo"></p>
<p>HSTS 對於公司專案內的部分單位而言幾乎是毫無作用，因為使用的瀏覽器不支援，所以此次被掃出來。</p>
<div class="note danger"><h1 id="Insecure-Transport-HSTS-not-Set-11365"><a href="#Insecure-Transport-HSTS-not-Set-11365" class="headerlink" title="Insecure Transport: HSTS not Set ( 11365 )"></a>Insecure Transport: HSTS not Set ( 11365 )</h1><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Http Strict Transport Security (HSTS) policy enables web applications to enforce web browsers to restrict communication with the server over an encrypted SSL/TLS connection for a set period. Policy is declared via special Strict Transport Security response header. Encrypted connection protects sensitive user and session data from attackers eavesdropping on network connection.<br>Consider following attack scenarios:</p>
<ul>
<li><p>Users often omit the URI scheme i.e. <code>https:\\</code> when typing a URL in location bar to access a website. Also third party websites can link to the site using the “http” scheme instead of “”https”. This could result in an initial connection to a HTTPS-enabled site over an unencrypted channel. An eavesdropping attacker can hijack this unencrypted connection and replace the intended use of HTTPS protocol with HTTP in an attack known as SSLStrip, granting unauthorized access to all subsequent traffic.</p>
</li>
<li><p>Websites often transfer non-sensitive resources such as help documents over an unencrypted HTTP connection. Any cookies without a secure flag are sent along with such requests potentially disclosing sensitive user and session data to eavesdropper.</p>
</li>
<li><p>Man-in-the-Middle attacks that exploit user tendencies to override invalid certification warnings, e.g. SSLSniff.</p>
</li>
</ul>
<p>For web sites configured with an accurate HSTS policy, browsers automatically upgrade any HTTP connections to HTTPS. Furthermore, browsers prevent users from overriding any host certificate warnings. HSTS offers an effective defense against above attack scenarios.</p>
</div>

<a id="more"></a>

<h2 id="HSTS-介紹"><a href="#HSTS-介紹" class="headerlink" title="HSTS 介紹"></a>HSTS 介紹</h2><div class="note info"><p>The HTTP Strict-Transport-Security response header (often abbreviated as HSTS)  lets a web site tell browsers that it should only be accessed using HTTPS, instead of using HTTP.<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<p><a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security" target="_blank" rel="noopener">HSTS(HTTP Strict Transport Security)</a> 是一份國際標準規格 (<a href="https://tools.ietf.org/html/rfc6797#page-12" target="_blank" rel="noopener">RFC 6797</a>) 網際網路瀏覽安全的機制，主要用來宣告瀏覽器與伺服器之間的通訊方式必須強制使用 <strong>TLS/SSL 加密通道</strong>，只要從伺服器端送出一個 <strong>Strict-Transport-Security 標頭</strong> (Header) 給瀏覽器，就可以告訴瀏覽器在未來的某段時間內一律使用 <strong>SSL</strong> 連接該網站 (可設定包含所有子域名網站)，如果有發生憑證失效的情況，使用者將無法瀏覽該網站，如此一來便可大幅減少中間人攻擊的問題發生。</p>
<h2 id="IIS-的設定"><a href="#IIS-的設定" class="headerlink" title="IIS 的設定"></a>IIS 的設定</h2><p>此篇設定在 <a href="https://www.hanselman.com/blog/HowToEnableHTTPStrictTransportSecurityHSTSInIIS7.aspx" target="_blank" rel="noopener"><strong>scott</strong></a> 的文章中提過，也詳細說明了如何設定，因為 HSTS 必須在 <strong>HTTPS</strong> 的 head 去附加才符合規範，比較好的做法是透過 <a href="https://www.iis.net/downloads/microsoft/url-rewrite" target="_blank" rel="noopener">Rewrite</a> 設定條件式來附加，如下所示</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rewrite</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">rules</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">rule</span> <span class="attr">name</span>=<span class="string">"HTTP to HTTPS redirect"</span> <span class="attr">stopProcessing</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">match</span> <span class="attr">url</span>=<span class="string">"(.*)"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">conditions</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">add</span> <span class="attr">input</span>=<span class="string">"&#123;HTTPS&#125;"</span> <span class="attr">pattern</span>=<span class="string">"off"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">conditions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">action</span> <span class="attr">type</span>=<span class="string">"Redirect"</span> <span class="attr">url</span>=<span class="string">"https://&#123;HTTP_HOST&#125;/&#123;R:1&#125;"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">redirectType</span>=<span class="string">"Permanent"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">rules</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">outboundRules</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">rule</span> <span class="attr">name</span>=<span class="string">"Add Strict-Transport-Security when HTTPS"</span> <span class="attr">enabled</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">match</span> <span class="attr">serverVariable</span>=<span class="string">"RESPONSE_Strict_Transport_Security"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">pattern</span>=<span class="string">".*"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">conditions</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">add</span> <span class="attr">input</span>=<span class="string">"&#123;HTTPS&#125;"</span> <span class="attr">pattern</span>=<span class="string">"on"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">conditions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">action</span> <span class="attr">type</span>=<span class="string">"Rewrite"</span> <span class="attr">value</span>=<span class="string">"max-age=31536000"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">outboundRules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rewrite</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security" target="_blank" rel="noopener">MDN HSTS</a></li>
<li><a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security" target="_blank" rel="noopener">Wiki HSTS</a></li>
<li><a href="https://caniuse.com/#search=hsts" target="_blank" rel="noopener">Can I Use:HSTS</a></li>
<li><a href="https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet" target="_blank" rel="noopener">OWASP HSTS</a></li>
<li><a href="https://www.hanselman.com/blog/HowToEnableHTTPStrictTransportSecurityHSTSInIIS7.aspx" target="_blank" rel="noopener">SCOTT HANSELMAN</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>security</tag>
      </tags>
  </entry>
  <entry>
    <title>透過 IIS 來設定 Hidden Segments</title>
    <url>/2018/05/08/Hidden-Segments/</url>
    <content><![CDATA[<p>此篇提到了網站的目錄不受保護，或者說是敏感性資料夾名稱；簡單說就是整個網站系統有幾個資料夾被使用者得知。</p>
<div class="note danger"><h1 id="Web-Server-Misconfiguration-Unprotected-Directory-10224"><a href="#Web-Server-Misconfiguration-Unprotected-Directory-10224" class="headerlink" title="Web Server Misconfiguration: Unprotected Directory ( 10224 )"></a>Web Server Misconfiguration: Unprotected Directory ( 10224 )</h1><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>IIS/Microsoft product directories were discovered within your web application during a Directory Enumeration scan. Risks associated with an attacker discovering a directory on your application server depend upon what type of directory is discovered, and what types of files are contained within it. The primary threat, other than accessing files containing sensitive discovered, and what types of files are contained within it. The primary threat, other than accessing files containing sensitive information, is that an attacker can utilize the information discovered in that directory to perform other types of attacks. Recommendations include restricting access to important directories or files by adopting a “need to know” requirement for both the document and server root, and turning off features such as Automatic Directory Listings that provide information that could be utilized by an attacker when formulating or conducting an attack.</p>
</div><a id="more"></a>

<h1 id="處理方式"><a href="#處理方式" class="headerlink" title="處理方式"></a>處理方式</h1><p>此篇主要使用 <strong>Hidden Segments</strong> 來封閉網站的資料夾，此種作法會讓此資料夾的 <strong>URL</strong> 連線的時候回應 <strong>404</strong> ，直接讓此資料夾不對外連線，所以此方式適用部分檔案不對外開放的資料夾，例如一些抽取的 appsetting 檔案等。</p>
<p>另外一種情形則是網站要求有權限的使用者才可以下載的檔案，這些資料夾路徑假如也是此種弱點的話，有兩種方式處理：</p>
<ul>
<li>變換資料夾名稱，讓人不那麼容易一眼猜出其內容</li>
<li>轉換程式作法，檔案需要透過網站程式轉換資料流去提供使用者下載</li>
</ul>
<h2 id="IIS-設定方式"><a href="#IIS-設定方式" class="headerlink" title="IIS 設定方式"></a>IIS 設定方式</h2><ul>
<li>選擇<strong>要求篩選</strong> (Request Filtering)</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/drzn9iG78x-0bri00wG0Fi0wCd8WGONeWvbmAqSWralWCXia3fse0tzyXxhD-JHjIYfxfXzw_azpb00BDYN9QdXnqIm__N1iFs-Fbx4ImGZxwt3gbCgHZybRPlK-9FO_vi3k4H5t3Jiv0E7r31JyxgtnEhikWv5MyYjrm23Ld62bbHZDhLG18qgEMZyZe6exinvBYOH9Zv6MHblke1Vsqblp7IWwV-UeA64GJPTdqh3TBr1FbDTrLBvSWvFMpRI6nZyGtPTg9Qx-tynmHWi_Lv4gv1XFvGKtLzrMrqYJFq-hrT2ILEOg2NqScFOCsyZu9Kyr-LEpS8ZmUXpYyvJmCnFAY6YaFMok3_PyU7ZKYdqDrGObGZBNtDFNFtfElGNdfoby_-8hKEcwB3FiNVROF46E_OkHO1iHArcC3cQDlRC4qFdPjBsZA7UXE7ZIAUFsIpqvkp6dfzn9hSPpRfY5GSkGBki8-CZ-jLduQP25gKnpk43u4x-DQcylrbwcRU8Kh9CrUbe3HtefjUqvdClhr7xfj0AhKuzDdYWBXTFDw9HNou9UkC4Ysn6VdDekXo6nfksoOhUuAHu1SMR8J1RNztKNXUeQG8Kp55AKFME0uIdcRsZPqPHOtFhMNd8c9mocKtBTV72NrNs960V_YhZs9mhW_ZTV41h-=w493-h261-no" alt="request filtering"></p>
<ul>
<li>選擇<strong>隱藏區段</strong> (Hidden Segments)</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/5Pb5PR_BG9NaTmZKy_RFZYCi8RAV-navEUGBLwssoDTZFA3VvV6juUULM60q-v7IvUcIx36tVew9UMptF47Vv7arpqA5guMgPF6F91L5Mok38OmMQF_Cx2YEACRcmaKrFhfm8S9hWTCYzc4BihI48SczisBelMqef-aNKGOeSo_i-VZdYfSd3LrVznqfkW8fe_AJ7yiyUDXHQcgG4IvvpUYUjJ85auIfGlQhu1bTqe_yZfTLbFPXh-4KCHD7Gkqv0XEWtxFn1Zuokat0xDx6Ql4JI0FVIkSIyHVAp21ggrzSqfIqukU7s56eWIEPkp5YaOsZwc3xM_BBnG0kjHM5UK6PRxSVriyXfNrXP7puMpHVTFCXAANyT92-J-jER6Did9j4cNtlJXnVKA3Fqqt98fSpHouEDE130sTnCVrlY9K7VRteaQ2WEf2NpKoxJJAJ66KgAoY-oA6zmgTUisF0x4I4npIiXxHrmiSa0xbVuE7JDp00LAvdAMkQw-RYY_9GOEkowQHHcTcNaSHsxOQP511-PoVCUQSzf7fcsV_0Tr0uo-_oGB1dCJZEZd_uq6xGZTQTEZPCeO56K80yahGX-0fzIVlJ8AcX9DEgr974edWbEAKcNkcJMH5_6cwXaqkz5_zr7VN6xqXsTReKPUe6Pg16ToGong_5=w352-h475-no" alt="Hidden Segments"></p>
<ul>
<li>點選<strong>隱藏區段…</strong> (Add Hidden Segment…)</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/iLUGJobAZcWrDH9M6SNzgqfizb7xKYgxOREIFzQE7GRGYMwHwPXwp9bt1ImagkZtXGCcAAb58yINcrMO4X9cMwNS461bAlys4xFfaN2I5wd9ftFVxHI2yuP_Mz48y9A213CGiyH8FFR6iJod5HJ6H-RY_lqRcF-DNg9gXUFuw3B9OrQjMWlxD39m1WU6xLu2v3igTOdVY-8tM-RZQ-blZCHUOyVqrDVt3SO1X6F-szyzkoLPEMZpgjgVOKThqHrwYlcf02DK2x444TbMjunb7bh7zYO-KtlTFe9Qa0IJrxVunbwIaOOm2wKOjvJ7IM0mGQl4U762J1PNxNZ3Qvu0T-Y-o57FFwdzdUTxwzTs__7kvRsGQlJTJef5AJPqjaTIcEenSIkgdPvJZ-oKzUgd4loxWDEzV36IlQqbWY5VS_i_ep2aP8BHpA5NKnrI0xp8asv9HLnItUoBCDDHUbfLajuSkHqzYxQgJB1b6hmunXPiQ2xjLTdiPjfBuEMpeSPGDYFDxaRUyR5NCL4JNjfNP5r6m6mMY4J0SpligsomRO2EyqlgJCxN-yXumRaDRaETHztT-v4Tp1rVaLQNAAdwTIxbgaoL8CrIizXsCor8gPrKmt8rKrbLECKCz0PWoQNp399wpOFHJ0iuyIinxEU3q6qtYjRdsSS5=w181-h180-no" alt="Add Hidden Segment..."></p>
<ul>
<li>設定要隱藏的名稱</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/GMhdQTEp2jF0Qy-cWWLjFtnjvakq3ndztjq1VeSLNbkNTL9DPatJp9KSTitWhDySusDsv5vXs6aj-LEbhGPc7PAwv0UaF2zDbv2pSUg8g2s95HQkD1Zsv-yr9P6K8aCkxRmfxhrBA-89oflzbWfIo6nfpTniUHfNtTqWQkiJUe-LhQPd3lZQRACJD-oPUHnhbjQOADpJzCSKSuSOaP8SeUG4_Dr5bq_Kce3Z7GEq747dTGfjAupnKsb2ALnoK_fnGbMqCXSOSN6kh3RgJkzCKrhlS2FpTzjZg4kSbmFzalSnYMKoTlZVvThQ9IUuz081rk4s9Rxie4JUn7oNz-YaahD4rkTNRmkNUTbBwIdwUUuSTd8VE5RhAn1WjEzJpcTEKaqnQw1fKSQr1EOfhBVWkV5-_6VOXC-prj--vBnPzgbxjpxCSrzfeRdN-9YcrE6wJNsqcPVJXuMehf-oQebL0iZ1DPms4vWJJ2tTvYxXNPBWSnwh-XPkQYN6I2VNbHU1tOchFWOTIuNq0N5vqJ1sciOW0-EzJHpM74lCtg_jDlS0fH32N15ukcvuyAH-gdwQVsnCdn4hOL_on2LNkdPN4FPKvp-MdthbnMt68Ieda4hhO3X4dV0uFENYEimqjF0YFb39eVpiYdIb4L6kHllJCz-7K7HCgLtr=w403-h201-no" alt="Add Hidden Segment"></p>
<h2 id="web-config-設定"><a href="#web-config-設定" class="headerlink" title="web.config 設定"></a>web.config 設定</h2><p>設定方式很簡單，如下</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">security</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">requestFiltering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">hiddenSegments</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 資料夾名稱 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">add</span> <span class="attr">segment</span>=<span class="string">"folderName"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">hiddenSegments</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">requestFiltering</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">security</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>假如想要設定<strong>副檔名</strong>、<strong>指令動詞</strong>、<strong>高位元字元</strong>，可以參考下列的設定，這幾項設定都是 true 或是 false 設定<br><img src="https://lh3.googleusercontent.com/ol5os7cslnYkHZ48YM5ojq45A-5VczJWKDszGVMpveWXV3umTzYgNlr9uJ1LnwT3J8U41_9b6BcEfAAbRMgeSTgkAEq5h5BHn4SGykz5Bfb2gh2FVS_HVbePe-eJ36GXRUS3MwEl5IS6SDrbf4H3kLQXxeGfTk5Ye4FUdPJL0HG3hLvJu4ycYGTY7B6oMhuntNz7EbDgiQ4s1B3vD3eLzoNpY_tmFp95fz2vFIHesJZ2X3IGZYSyNz_PKECtuVKRWIAKm7L-pBMTsqz2WwLJrf2UJHeQdVXd73XitHoY4BONWKQRjAYoRDrLoodjKf_TBjaAhvlEMlNhfFGI-qS5RTTpI8VmXjlFjaqgbptE4Qd1sxbiFoFnepPZcrSZ8ifm4IABTnRShUhbYfrq9Ka_N_BJmk9N332TxA3ybVR0bxwTCFJMQq3cOW5riD25bJnALYXtQX3Uwc4iH2VbyWWRpG99JdUIkZctx0MGBOHGfKz93VwsEAx7_MJiFg5gIm8FfxvE4Tr27kCeGpoI_IjfCodj09hZf5uJTrECGD7mOCDcH625Y-5MjTsNFuPOGH-AGdIO9MlLtLUebhkn3BSRPCXnNaBH6txJL9zr6us=w383-h231-no" alt="extra set"></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">security</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 高位元字元 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">requestFiltering</span> <span class="attr">allowHighBitCharacters</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">hiddenSegments</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">add</span> <span class="attr">segment</span>=<span class="string">"folderName"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">hiddenSegments</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 副檔名 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileExtensions</span> <span class="attr">allowUnlisted</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 指令動詞 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">verbs</span> <span class="attr">allowUnlisted</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">requestFiltering</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">security</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="呈現效果"><a href="#呈現效果" class="headerlink" title="呈現效果"></a>呈現效果</h2><p>設定完成後，其頁面會回傳 <strong>404.8</strong></p>
<p><img src="https://lh3.googleusercontent.com/BHWffAxOXHeREO3zxLUE-UP11N03B1QpJ6DMrn6ewLts7TDHj93caXiY87rgYWpLgePyVaohqZ2CsoJk3xluEM2UA-LaQmdAQESa59oHRiI0nfiW2g00pdY1ecm7OyGss4-kz-hkQQL6arnnM0w3_EHql2EmeJFrXrdjyYSz91bJ0jWexGn0uWKJZHlgRnPhQ44HkIXNmfDm3nglg5_pS1Z21_9IF9ggxYEYG69vx7ctKN59rPV9vYSBYt-vQt-FztO_b5bxAacjbN4QXJ3f4JdXWbBBfbBh0maspY0PpAHoAouVQEUqo2wPk66u3rVQy6GKLZmOPGSEhxBWyi8Wy7QRHU38q8Sc6UTlSCBNklyCTPpuHEsQEd1Ux663PRv7KMHnRL5ibkXO0m0MG7aDUBdP3qnzYsDl_qb4ZHT8k6bHzwdbc4iYBvwklrOc3aCzfGuMv9o81LEqj5dy4l75aGa4dLrS9vGOvvV6kps5M2LNtwFz3KouRUjJad6xegsbu48VXjAoLaLjlJHCf9cLQ9Lx_8iBB8iaBPjmRjbbaUXiPs2CjunHss2dlCGmMGiW-nD9I3NOKQ9IQls__Ai17isQx0LNwl0dbedTE2e56EzhJLhTtMrpGFcSCsGrzBqEggweIC6BPoJ_5xe4SdsBdsjH1Zv6p3tF=w820-h221-no" alt="404.8"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://docs.microsoft.com/en-us/iis/configuration/system.webserver/security/requestfiltering/hiddensegments/" target="_blank" rel="noopener">Microsoft Docs</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>security</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 筆記 21-Flexbox vs CSS Grid</title>
    <url>/2018/04/30/css-grid-21/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/vMv0bgtJdPzDyEogYVweLXaY6l1AwP4av81PbQk2p5eGRMtRmEar_5haJcWCPx63YYTamCtVfo2Lx2L4_NFTBVW_kz6kjrH-erK0rVprdqw2JLzQdQ78EWT4Ttrjgjd-ChQ9nPFlgQi3yDxQEu1y9NJo2WBKhxGlOr_Mm0ghHsM7Xd9aP0gLAq8kCb4c2XIIEzQj3YC962hoDIkZWO9qPrF6XNRmde40zDVXl9gGVyKHJ87fwfsCEttNX1OuB86bqaBi22NmBbzdQd4Z1wVtRogVPLjLVMRkkP5NjK1kn7LMGLk6Cz5E5Co7oVp3iTCaApDKHYEwmrWtMyI_I5JqZdR7hrnBsFjKwveLzBDrmaS_HPdRwg0bKxxZNfTo68XA3akJ3Zae6_0WfPA4hQV6aN3yDJNZh4NohUKsyCh81AyXaj6AqmcDvcD90hDHB2fSWIF1_-jqTeuYIs2RZEqqXm0GwPthUUK3jg8ni9GEdGCZB8ZCoPom3He1cLqqYFMNE_7FENoe3X-9I0JmzP7hciBmVnTpfNbtDG3XnjDgiGt5Z1PRllECTe7_qiuBf1wxo5IElK_KMx-vrs6vpxwORorHsQSEA6VZf1L59rQSrh0_3acE2hnCkhA2LT1LVFyd4DJmaveAaprVsyIsObG3OwJRVgcWOkgv=w321-h339-no" alt="demo"></p>
<p>此篇是透過幾個不同的練習範例，運用 <strong>flexbox</strong> 或是 <strong>css grid</strong> 來達成目標結果<a id="more"></a></p>
<blockquote>
<p><a href="https://shunnien.github.io/css-grid25day/day_21/index.html">Demo</a> | <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">Github</a></p>
</blockquote>
<h1 id="Flexbox-vs-CSS-Grid"><a href="#Flexbox-vs-CSS-Grid" class="headerlink" title="Flexbox vs CSS Grid"></a>Flexbox vs CSS Grid</h1><p>此篇練習了以下幾個主題</p>
<ul>
<li>Axis Flipping!</li>
<li>Controls on Right!</li>
<li>Flex on Item!</li>
<li>Perfectly Centered!</li>
<li>Self Control!</li>
<li>Stacked Layout!</li>
<li>Unknown Content Size!</li>
<li>Unknown Number of Items!</li>
<li>Variable Widths on Each Row!</li>
</ul>
<h2 id="Axis-Flipping"><a href="#Axis-Flipping" class="headerlink" title="Axis Flipping"></a>Axis Flipping</h2><p>練習使用 <a href="https://shunnien.github.io/2018/03/24/css-grid-12/"><strong>auto-fit</strong></a> 來達到基準軸線的變動</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.flipper</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fit, minmax(<span class="number">50px</span>, <span class="number">1</span>fr));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flipper</span><span class="selector-class">.flip</span> &#123;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Controls-on-Right"><a href="#Controls-on-Right" class="headerlink" title="Controls on Right"></a>Controls on Right</h2><p>把控制的項目置右，主要是 <a href="https://shunnien.github.io/2018/03/18/css-grid-06/"><strong>grid-auto-flow</strong></a></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.track</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: white;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr;</span><br><span class="line">    <span class="attribute">grid-auto-flow</span>: column;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Flex-on-Item"><a href="#Flex-on-Item" class="headerlink" title="Flex on Item"></a>Flex on Item</h2><p>可以使用 <strong>flex</strong> 或是 <strong>grid</strong> 來達成</p>
<blockquote>
<p>使用 <strong>flex</strong></p>
</blockquote>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.controls</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">200px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>:flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.scrubber</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#BADA55</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用 <strong>grid</strong></p>
</blockquote>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.controls</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">200px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: auto auto auto <span class="number">1</span>fr auto auto;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.scrubber</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#BADA55</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Perfectly-Centered"><a href="#Perfectly-Centered" class="headerlink" title="Perfectly Centered"></a>Perfectly Centered</h2><p>此練習也是兩種方法都可以達成</p>
<blockquote>
<p><strong>flex</strong></p>
</blockquote>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.hero</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>);</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>grid</strong></p>
</blockquote>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.hero</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>);</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">align-content</span>: center;</span><br><span class="line">    <span class="attribute">justify-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Self-Control"><a href="#Self-Control" class="headerlink" title="Self Control"></a>Self Control</h2><p>讓區塊資料按照邊框對齊</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.corners</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="built_in">var</span>(--yellow);</span><br><span class="line">    <span class="attribute">grid-template</span>: <span class="number">1</span>fr <span class="number">1</span>fr/<span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">    <span class="attribute">align-items</span>: end;</span><br><span class="line">    <span class="attribute">justify-items</span>: end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.corner</span><span class="selector-pseudo">:nth-child(1)</span>,</span><br><span class="line"><span class="selector-class">.corner</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">    <span class="attribute">align-self</span>: start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.corner</span><span class="selector-pseudo">:nth-child(1)</span>,</span><br><span class="line"><span class="selector-class">.corner</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">    <span class="attribute">justify-self</span>: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Stacked-Layout"><a href="#Stacked-Layout" class="headerlink" title="Stacked Layout"></a>Stacked Layout</h2><p>排列多行，且內容的大小一致，其間格按照各行的剩餘空間平均分配</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.stacked</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.stacked</span>&gt;* &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30%</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unknown-Content-Size"><a href="#Unknown-Content-Size" class="headerlink" title="Unknown Content Size"></a>Unknown Content Size</h2><p>把一個縱列變成橫列</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.known</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">100px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">5</span>,auto);</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unknown-Number-of-Items"><a href="#Unknown-Number-of-Items" class="headerlink" title="Unknown Number of Items"></a>Unknown Number of Items</h2><p>不知道內容元素的數量，利用 <strong>auto-fit</strong> 來調整</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.unknown</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fit ,minmax(<span class="number">50px</span>, <span class="number">1</span>fr));</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Variable-Widths-on-Each-Row"><a href="#Variable-Widths-on-Each-Row" class="headerlink" title="Variable Widths on Each Row"></a>Variable Widths on Each Row</h2><p>每一元素寬度都不同</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.flex-container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flex-container</span>&gt;* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="線上展示"><a href="#線上展示" class="headerlink" title="線上展示"></a>線上展示</h2><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/33w055n3/embedded/result,html,css,js/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h1 id="筆記與備註事項"><a href="#筆記與備註事項" class="headerlink" title="筆記與備註事項"></a>筆記與備註事項</h1><h2 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-direction" target="_blank" rel="noopener">flex-direction</a></h2><div class="note info"><p>CSS flex-direction 属性指定了内部元素是如何在 flex 容器中布局的，定义了主轴的方向(正方向或反方向)。</p>
<p>注意，值 row 和 row-reverse 受 flex 容器的方向性的影响。 如果它的 dir 属性是 ltr，row 表示从左到右定向的水平轴，而 row-reverse 表示从右到左; 如果 dir 属性是 rtl，row 表示从右到左定向的轴，而 row-reverse 表示从左到右。</p>
<p><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-direction" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h2 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-wrap" target="_blank" rel="noopener">flex-wrap</a></h2><div class="note info"><p>CSS flex-wrap 指定 flex 元素单行显示还是多行显示 。如果允许换行，这个属性允许你控制行的堆叠方向。<br><strong>資料來源</strong> - <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-wrap" target="_blank" rel="noopener"><em>MDN</em></a></p>
</div>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgrid.io/" target="_blank" rel="noopener">CSS-Grid 課程</a></li>
<li>作者 <a href="https://github.com/wesbos/css-grid" target="_blank" rel="noopener"><strong>Wes Bos</strong> CSS-Grid Github</a></li>
<li>我的 CSS-Grid <a href="https://github.com/shunnien/css-grid25day" target="_blank" rel="noopener">練習Github</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>CSSGrid25</tag>
      </tags>
  </entry>
  <entry>
    <title>Cache-Control 在 IIS 上的設定</title>
    <url>/2018/05/08/cache-control/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/_xr4yWpJJUdg_w0bZZbstCQjQZOFWi7H54VZnZkSdFXkR-jKELJFaxniFxNIOdb7s1n33J0dJ5DUv_KtMYQ-rpc_B-yYWmqS80KdqKCZNVq24GWwjYqSZ1LLBzdICYzExs-6bGEoSvbS2Y87-B90lwnnkf7MzKpw1be83tS4r_dQssrpmmUozlLHhnrYPwIL1x8iPKDFM-fPlgnNmdUyb343irwa-7VGExhqCgrUR9Q1x3-cRrl4w5e8n3s-Cc9_43u7ep0EPFVvlQIzsPyLfvbd3QD1Ip3sYIFmpDqA71sDB03jHVC7l2-GYAMtOht5q1XkW2ZruRnLGadn42i0sEyeXr1kX0zhryMCFDleYySA4ZhM6Jc_WelQW7avtrDP1vr_eTh7RlcVcx7VbN4q4mXegNqExWKB10a96PzARWk7VU5EpjqiSnq03prU0j2B2M1FX5PshsPfjL-KQxmOJ6b9NCtlZUtVH8Ds8htFEZk2Fch06KY1a9wVEb_sEPpebW-CF6p3uMunf8AKpf4n3RJSFCLrIseZ9JXq6hTZ1JgfVb56NOYjgyMZy9VXWlsigNjMuSEDCH_DksRHVT2MLLG9tj3W2GUFROG-SLKJ-Hedp7oF-IO5bQBdH8Hd3abYnSAuk6uCO6OcCWkFc1H9KPcRnNkIGuEF=w344-h106-no" alt="demo"><br>前陣子公司專案由第三方弱掃，接下來的筆記就會紀錄多個專案都有的問題點</p>
<div class="note danger"><h1 id="Cache-Management-Insecure-Policy-11306"><a href="#Cache-Management-Insecure-Policy-11306" class="headerlink" title="Cache Management: Insecure Policy ( 11306 )"></a>Cache Management: Insecure Policy ( 11306 )</h1><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>WebInspect has detected a potentially unsafe cache control policy for secure content. While content transmitted over an SSL/TLS channel is expected to guarantee confidentiality, administrators must nonetheless ensure that caching of sensitive content is disabled unless absolutely needed. The misconception that secure content caching is disabled by default by user-agents could cause the application to fail the organization’s cache policy by leaving the secure content cacheable by browsers. Unsafe specification such as Cache-Control: public would instruct the browser to persistently cache the content on the hard drive. Caching can be prevented by specifying one of the following three directives in the response headers</p>
<p>· Cache-control: private<br>· Cache-Control: no-cache<br>· Cache-Control: no-store</p>
</div>
<a id="more"></a>

<p>第三方的掃描軟體為 <a href="https://software.microfocus.com/en-us/products/webinspect-dynamic-analysis-dast/overview" target="_blank" rel="noopener">Fortify WebInspect Enterprise</a> ，這是一套付費軟體，提供 15 天的試用，而且功能全部開放試用，但是鎖定只能掃描 <strong>zero.webappsecurity.com</strong></p>
<h2 id="IIS-設定方式"><a href="#IIS-設定方式" class="headerlink" title="IIS 設定方式"></a>IIS 設定方式</h2><p>在微軟的<a href="https://docs.microsoft.com/en-us/iis/configuration/system.webserver/staticcontent/clientcache" target="_blank" rel="noopener">文件</a>中有關於 <strong>Client Cache</strong> 的設定說明，以下列出 <strong>cache-control</strong> 在 <strong>response</strong> 的設定</p>
<ul>
<li>Cache-Control: must-revalidate</li>
<li>Cache-Control: no-cache</li>
<li>Cache-Control: no-store</li>
<li>Cache-Control: no-transform</li>
<li>Cache-Control: public</li>
<li>Cache-Control: private</li>
<li>Cache-Control: proxy-revalidate</li>
<li>Cache-Control: max-age=&lt;seconds&gt;</li>
<li>Cache-Control: s-maxage=&lt;seconds&gt;</li>
</ul>
<p>在 IIS 的操作介面中設定相當便利，只要選擇 <strong>HTTP 回應標頭</strong> 就可以進入設定</p>
<p><img src="https://lh3.googleusercontent.com/i4EUc8WWlXXAvq9oT-GgFKgVEVnQqolY7kUzcKBlIJJVcpsdn1UrdwfufNdIsI4foh7treGnCrbmKJQS4u5N4YGh3HDqyaNpV4G8mrWhi5THK_2DMqDiIyU10nYs_mHgpFriWPH6skHZ2nzzny-7USUvuy3BhnzVKh8aIMOxd3FNKKYRuJA3-iWF0dK3vSAiwIqQhfCJPIwyV4A57ffKCDCPnyQ8dss_uGiz3pRmp9EAp1l2VLOVaz32KVO9wIZjbGZOwg-V_fXyfB9lhSD_CotIDAiMTU1FBRdjEaCawC5F2XlsOyz2Ipo8ApjC0AO_hyjfzw3HwNDTaflMMvonzVqoP-Blspub8MNMMzuOvj-nrFiHzzsKwzvjirsVaireVeNYEp_0Pjc-aKG-wlNhEohivITYALr6b8COgNDABytayqocbn5HLn48mut79uSLrklplpGNuzaiYW-vVgYY-nL2-xCPzjWyiRm5NRIx-n2GOfhRdEWep_1W1Lv3nDODUEQv4FkRZMm22kYE01WtsJpNrifC9yuVmVU17xJwTMVQ8ViNhtnSzaIUYIhdodQf7Q2meDuY1nbn1moXacykT1dZLbd46E9PdJSqQGVCigM_GnQCONSupa5FrjBYlCLdyciaZuzSYy8IHlaWVvE58b8kgcwPkTUw=w686-h443-no" alt="HTTP response header"></p>
<p>接著選擇<strong>設定一般標頭</strong>就可以設定快取時間</p>
<p><img src="https://lh3.googleusercontent.com/7t5DB_jySLObeuj2LDjBLDFtlJ5n4McRzxJd_vUUmwyD98q6LVgjCVzRMkqMaO2-6C3UigSocf_LUW2q7cb_-wAnUi65XsCCmNvygCNVPVqWDC9VaEjkvOG9RLE3ZsqgXxN3k7j0QPl531dzlU4uM-ybLxG64CphZNrXSUMdXmlxUsJINSVqSc67NLhJrjgvHQ0fQMCVEM8ZhZRFJlfgO7GTkz6NN9RwFpNEnbh3Gw_s5WioHcrU_O9Otaw_9kW3wEybyqA8yvXi_eYE0yvN1YmsmyZAlO0qJ2q2JqpDEZzGDH2tjHpX_2PfNwxNlhTjPwyVI5-M81InEDcrG2yRpHy4aX_MB4ukOsrnLxg0VyooNnj1mb7eaPC0MqapyAN2JNJDuudYcSXMyYdJqb5P4ovr-GYpZrpcnTxi33cMDNclzKQ2WAX_ILHO3TiEvcPjnaKOTqrTei2gmXuzeQ_8wxp_yoxERGN93ug38UoKKgREml6c4j3Ja8tKeh1yOMGqjq4T8TM5r4Zl2SC5IdsYT0SesxmsthildAFqCycYiFjEpWECWBr4e0nmLIpd1rbh52a0M9SIYo-99qd7Xs5PrdIAu96cT-kwoPxdmITEIQjEsgblIIRcRy2XsHe8Z4iZ36gKBjpapnTYmIXre_PhmGkqDwRzQPCm=w773-h414-no" alt="set header"></p>
<h2 id="使用-web-config-設定"><a href="#使用-web-config-設定" class="headerlink" title="使用 web.config 設定"></a>使用 web.config 設定</h2><p>設定不使用快取</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">staticContent</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">clientCache</span> <span class="attr">cacheControlMode</span>=<span class="string">"DisableCache"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">staticContent</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>設定過期時間為 8 天</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">staticContent</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">clientCache</span> <span class="attr">cacheControlMode</span>=<span class="string">"UseMaxAge"</span> <span class="attr">cacheControlMaxAge</span>=<span class="string">"8.00:00:00"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">staticContent</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="設定完成檢驗"><a href="#設定完成檢驗" class="headerlink" title="設定完成檢驗"></a>設定完成檢驗</h2><p>檢查方式可以透過 Chrome 等瀏覽器，開啟<strong>開發者工具</strong>，透過 <strong>Network</strong> 就可以觀察到 <strong>response headers</strong></p>
<p><img src="https://lh3.googleusercontent.com/_xr4yWpJJUdg_w0bZZbstCQjQZOFWi7H54VZnZkSdFXkR-jKELJFaxniFxNIOdb7s1n33J0dJ5DUv_KtMYQ-rpc_B-yYWmqS80KdqKCZNVq24GWwjYqSZ1LLBzdICYzExs-6bGEoSvbS2Y87-B90lwnnkf7MzKpw1be83tS4r_dQssrpmmUozlLHhnrYPwIL1x8iPKDFM-fPlgnNmdUyb343irwa-7VGExhqCgrUR9Q1x3-cRrl4w5e8n3s-Cc9_43u7ep0EPFVvlQIzsPyLfvbd3QD1Ip3sYIFmpDqA71sDB03jHVC7l2-GYAMtOht5q1XkW2ZruRnLGadn42i0sEyeXr1kX0zhryMCFDleYySA4ZhM6Jc_WelQW7avtrDP1vr_eTh7RlcVcx7VbN4q4mXegNqExWKB10a96PzARWk7VU5EpjqiSnq03prU0j2B2M1FX5PshsPfjL-KQxmOJ6b9NCtlZUtVH8Ds8htFEZk2Fch06KY1a9wVEb_sEPpebW-CF6p3uMunf8AKpf4n3RJSFCLrIseZ9JXq6hTZ1JgfVb56NOYjgyMZy9VXWlsigNjMuSEDCH_DksRHVT2MLLG9tj3W2GUFROG-SLKJ-Hedp7oF-IO5bQBdH8Hd3abYnSAuk6uCO6OcCWkFc1H9KPcRnNkIGuEF=w344-h106-no" alt="demo"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://stackoverflow.com/questions/47224561/iis-asp-net-responds-with-cache-control-private-for-all-requests?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa" target="_blank" rel="noopener">IIS/ASP.NET responds with cache-control: private for all requests</a></li>
<li><a href="https://docs.microsoft.com/en-us/iis/configuration/system.webserver/staticcontent/clientcache" target="_blank" rel="noopener">Microsoft docs</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>security</tag>
      </tags>
  </entry>
  <entry>
    <title>IIS 關閉不安全的 SSL 加密方式(Cipher)</title>
    <url>/2018/05/09/SSL-Cipher/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/z81u7yY49rCGbPihu5HeulCM270W6Kk2J7rRvRhhXSgptbiIWGSnmJQ18nA7g-cSwfqWrFpd_Uhu0QA60Dforbr_2EVtMTgTp7FqDLeKMP5zW5uWT4LnlH42XK7pEi47BRXSneIUxMFiZ6XsGS11vtog0qb2JfMITFH-h-f32fFnsFiZ0IMZxb9IfmPcgAqQAMEP5WKdDKmB0vBQq6JbhVEWW2YI2EHUQgbCmt2g4nmfPDYzAJLe5zhivhqXOA2YNufHko0S1s4NKcnXyVf9hSq1nwCQJFbuQvUeevQ63i-V5iJ-9AqHkdIMECwwEcX74fYHfKtYWmLey9QOie1de_h5yE5ZaUVOhcVCqOPXQXy5B7PnMSdGqnMixY3U2-mTr5-wlECD4pQLz7nCpqJH6duzMkSgvWbw08v4OOETPVwqHI1GVdb1F_Yla8vrAYSY-9Q142LWpBRv-t4MBRSBaPAZnxGI656Hmxe811LYb2AfQBXN1It6ZOujoL0XjzX4M6N4dPHgLrB1s6wZS0xL3DUNFxm0BQ4GkT1Wj2b5089p-JTfSBUbtz6pI31ZuG4rz60De-B1XYsW6h3VCGPeObA5z6IJ0POC7A4yPafitnu5ivfBmN5-SvrG92GzF_9Y_pkrW2dIVnJdN-lfL8r0326m5wNhadHy=w627-h644-no" alt="error point"></p>
<p>因為 <strong>3DES</strong> 加密沒有關閉，導致了這個問題，以下是檢測報告的資料。</p>
<div class="note danger"><h1 id="Insecure-Transport-Weak-SSL-Cipher-11285"><a href="#Insecure-Transport-Weak-SSL-Cipher-11285" class="headerlink" title="Insecure Transport: Weak SSL Cipher ( 11285 )"></a>Insecure Transport: Weak SSL Cipher ( 11285 )</h1><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>WebInspect has detected support for weak TLS/SSL ciphers on server <code>https://xxx.xxx.xx:443/</code> .</p>
<p>The Transport Layer Security (TLS) and Secure Sockets Layer (SSL) protocols provide a mechanism to help protect authenticity, confidentiality and integrity of the data transmitted between a client and web server. The strength of this protection mechanism is determined by the authentication, encryption and hashing algorithms, collectively known as a cipher suite, chosen for the transmission of sensitive information over the TLS/SSL channel. Most Web servers support a range of such cipher suites of varying strengths. Using a weak cipher or an encryption key of insufficient length, for example, could allow an attacker to defeat the protection mechanism and steal or modify sensitive information.</p>
<p>If misconfigured, a web server could be manipulated into choosing weak cipher suites. Recommendations include updating the web server configuration to always choose the strongest ciphers for encryption.</p>
</div><a id="more"></a>

<h1 id="檢查工具"><a href="#檢查工具" class="headerlink" title="檢查工具"></a>檢查工具</h1><p>想要檢查 <strong>Cipher</strong> 的工具很多，也有許多線上網站提供線上檢測，以下列出幾種工具:</p>
<h2 id="線上網站"><a href="#線上網站" class="headerlink" title="線上網站"></a>線上網站</h2><p>Qualys Labs 的 <a href="https://www.ssllabs.com/" target="_blank" rel="noopener">免費檢測工具</a>，選擇 <strong>Test your server</strong> ，然後輸入網域名稱，以下使用 google 當作範例</p>
<ul>
<li>輸入網域名稱</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/yUrE_6a-1WS-gRCT7lhISB94SIZf5zJuiB23Gtpgz9loiS-Iczsmpdi3PIEU9CcKrBb1LUWi1-RqgJaa_gRe35kk__s18R3pHRxjstwSONKkh9H71HenONOjrzde9WETDBqm9kqogpLdNMBCDPhaTB_kt1w2gXJXiFoS1Y6riMIF4nvno61-j6UBUqBroY-uc4xYvElS0Dg_2_KprH-9SMhSdLGwCSX-1GQ2Mg1kQ9oHkfLTJELcL0Wvj4g8WwxRBK1kcwafaOSuNT53gXnkcTV6k53I6RHqamcuQGtyd2sY67GWkcDoTlurKR0fV1exgisWUOBer8OaVsvaPKXnDhjCGi9VYoGZm1oiHO-2amf8dQzPRelSMdYC0QjNyY21OdcLZZHmfkDB98Mb_vbMf0av5osPjdt0nmWCKwS6rggH8v-gEV3VoGzP_WiuGnECcvgqz-sOjoNIqZRGedM9lTAEzg9uPN57_OhhgmQ0y3QCW_zNoe3fWLl1l7kZN89ocfrttTMniHi3erYm9S3-0idaO_cIQ_Fg7ghBNL5athBdYFuV1pjP8TJYjL4SfaUAW-HSidnKPKUDEI9IVYpEm40LLGVbHy6lWtayPvlndlrg5rV5BeHefcSmynuMyRFcL4nScSYd8CMwxYqLzdnwFTSLriXMD8Lp=w1027-h360-no" alt="input hostname"></p>
<ul>
<li>檢測結果</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/J4CXsVxCcPMS_pjz5vWq6ENcAw9d_gnNcAFMaWbY5EMR2hAOxmpEkqmAuYVaCidccVhIf4-fONC69Et9XGZRk8qXmRdJX1rHzwY3c-LngA92IWhpt5hWzMr7auII7vzeCJGZg1hR6T4bFdCiBSpCvYRVZ2KNwrCMaDrrjj7qEjIhLVsR2tY6f8Kn3PqoHjtC587rTWGRY3g1jNcAPLHAkh6ew6w1RPrJ60ulyoypMflaFiipZcSxG_TD5wC1iRcXoM0finaj8KyqXrqP7WCdDtLUS98zQEJBHXDrI_wpnUeNFeoJ0XK028__nBzDHICs9YpA2B43yCjQgxUK1K6R-n6So8nazKebaJbyYWkUoqxzKDB0OuK8gu42Hbt56MBEq9eoUJiM7qgZRDlDb-xccR8zAOrm8D0-1yDRvzjgLtGc2F8vgBMS2CxUJt7PxNE6ciqaFmOl4bxiOc_XkXfz9-LFBX0SqJuJhoT1dLh_jkKT78gjQLjE01m81ewilrb8XawgapdKIn2kT-Xa722WUvQvm_P7-B61_6tt4A1FcLGJbzmO7cuysDQLT2-O33Q2NJkGNFC9oIGgbZ0FSNnW2GfI1bXLoYZ9AvyKN8b29KXTSGqrqiOnMeAoMqeL1nQc4jer7e6eGDkmu8qLOJ_r8OU9l3Z1vH37=w1298-h619-no" alt="Qualys ssl report"></p>
<h2 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a><a href="https://nmap.org/" target="_blank" rel="noopener">Nmap</a></h2><p><a href="https://nmap.org/" target="_blank" rel="noopener">Nmap</a> 是個指令列檢測工具，在 windows 上的安裝方式也挺容易的，檢查憑證與弱加密方式的測試指令如下：</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">nmap --script ssl-cert,ssl-enum-ciphers -p <span class="number">443</span>,<span class="number">465</span>,<span class="number">993</span>,<span class="number">995</span> www.google.com</span><br></pre></td></tr></table></figure>

<p>OWASP 的<a href="https://www.owasp.org/index.php/Testing_for_Weak_SSL/TLS_Ciphers,_Insufficient_Transport_Layer_Protection_(OTG-CRYPST-001)" target="_blank" rel="noopener">Testing for Weak SSL/TLS Ciphers</a>介紹了更多種檢測方式</p>
<h2 id="IIS-Crypto"><a href="#IIS-Crypto" class="headerlink" title="IIS Crypto"></a><a href="https://www.nartac.com/Products/IISCrypto" target="_blank" rel="noopener">IIS Crypto</a></h2><p>此章針對 <strong>IIS</strong> ，而 <strong>IIS</strong> 要調整加密方式，有些需要調整 <strong>Registry 登錄檔</strong>，所以 <a href="https://www.nartac.com/Products/IISCrypto" target="_blank" rel="noopener"><strong>IIS Crypto</strong></a> 此工具不僅可以查看，還可以快速調整，是相當便利的工具</p>
<p><img src="https://lh3.googleusercontent.com/shdVxRfRG5BnOmLxoH-aD7jwnpvST7WrezZmoLc7t--wiHpWGH4RqGjiVwlo3p8UuEnV7kE9hkfBmkOlYMZIN9gKp3WPFcperTjZR9M47KU1JzmKXVDgwdfgAQvDeQ9k8p8uMb3vAkQa-PbHbC_DGnnnLy_GDpedZ9tgaL5BN2SI8FKxR7Cj7vm9biK8XImWYRW0fB-og575O7WXxTP-9JobibeA9XGvmkVuYX6uvD4GkjjTEcKrJSmOt22eha8yWwix0SmiDiyJy1UUBH-W87kYgX8Sn5QFsTQ-d_tXq7n2KkBOyWyp3xNsJFWVnV1FHft9Wt4BLUW6UmL3oVvswuCv7DF_8wD6FBhpKmHlF_HoSXQCyt9yepFzdOW6VYH9iCMgMMHPSJezRqYBArjRmpo6VBhPK0A5_m8bzQKrqPsxqc2mU_JVlkwFT88HPUEZeITwwzaRVNbBuDJcnAWOOsgnkEznEfpbiSNN1LZDMxedMNySB4iy-4kL_ADLGUEiEqI2iCiahQspph3smCZ0_zjB9NJuIQMtmw8OgxPWeQoDumU5-Y4VOELQH9k_rJ6NCdOqvZz7CaNpXLA1RWg0NdfU_YxM5NcfXlO8hxG1loD1UUBKcqhTQMyIkFjF1xamRGFjPsjsDGwjcJz5wvLOD2jLiJxMhSC7=w1107-h866-no" alt="apply"></p>
<p>注意修改後，需要重新開機，不然調整的設定不會立即啟用。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Cipher_suite" target="_blank" rel="noopener">Wiki Cipher suite</a></li>
<li><a href="http://blog.darkthread.net/post-2015-04-23-sha1-ssl-on-chrome.aspx" target="_blank" rel="noopener">darkthread HTTPS網站被Chrome打臉？</a></li>
<li><a href="https://www.owasp.org/index.php/Testing_for_Weak_SSL/TLS_Ciphers,_Insufficient_Transport_Layer_Protection_(OTG-CRYPST-001)" target="_blank" rel="noopener">OWASP Testing for Weak SSL/TLS Ciphers</a></li>
<li><a href="https://www.owasp.org/index.php/Transport_Layer_Protection_Cheat_Sheet" target="_blank" rel="noopener">OWASP Transport Layer Protection Cheat Sheet</a></li>
<li>浮雲雅築<a href="http://shaurong.blogspot.tw/2017/07/https-ssl-cipher_22.html" target="_blank" rel="noopener">瀏覽器預設 HTTPS SSL Cipher 加密優先順序</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>security</tag>
      </tags>
  </entry>
  <entry>
    <title>利用 URL Rewrite 加入 Tracking Code</title>
    <url>/2018/05/10/add-ga-by-iis-rewrite/</url>
    <content><![CDATA[<p>此篇介紹 <a href="https://www.iis.net/downloads/microsoft/url-rewrite" target="_blank" rel="noopener"><strong>URL Rewrite</strong></a> 的運用，利用 <a href="https://www.iis.net/downloads/microsoft/url-rewrite" target="_blank" rel="noopener"><strong>URL Rewrite</strong></a> 來附加追蹤程式碼，例如：GA 等。或是某些頁面添加一些特定 javascript code<a id="more"></a> 。</p>
<h1 id="操作環境"><a href="#操作環境" class="headerlink" title="操作環境"></a>操作環境</h1><ul>
<li><p>IIS<br>使用 IIS 10 來進行示範<br><img src="https://lh3.googleusercontent.com/RHyuNMozaPNqwS2AybQPiUNqs0XK6ArmuGleX2PcHIt5ioaPD8eqiWJYuGsAo5qODuOFzItRT0fckexOrYW8FaYC5poITyMF6vNE_K2ZFdBEYpw7LtRhID27j_vIvDPoUj1m22u1w1ca9LI-IGncmJAnFHyKyahRY9vd_l_uMuzOhKsm-NXMQ8jB4HzpGhWox7JJHfuA5gqY9zpzeJZqIdcuQB7xxhC2H8Nt8iB2rwcHBYJA-eao6pCdvH-DhWMUYRqqrYec-_f0yLTOaXmO657vyJMeORmVibOFlsR43NU01LJg4TV36iekqhP_Iw1Gv1M7-M5DzvVNmac-HgZqrGdvm_1ADRj5HgXKV0_I4ppFNVv37PYP9Oh8T130QjFaCsUyJzTmCndw1l33vkWPdq_VnT5G6llPuqt2lWx82IaiYffRdlC0IS6HSp7QM4aZGYvnaST1NJdwNEStSHau_FfpeejnmWjBQqd_m1bU4-OAszGwqj7dI_mzyfzGG7dp8_K7mefDaGcxxBdHEXEHSKEHG0wtMyUP032LhLNtgcavSLi5jXTdX5twzeHfen13Tt9GemuxlebawWJsvAAZLPAeQge5ZCJYn0YqZ_yPwx1nQl8uvHdG3aDbYHAv4IjZAxlZg6K1lq0a8E7-6I0gv6GHje6mHAlC=w466-h256-no" alt="IIS version"></p>
</li>
<li><p>追蹤碼<br>追蹤碼使用 <a href="https://analytics.google.com/" target="_blank" rel="noopener">google analytics</a> ，以下先附上<a href="https://support.google.com/analytics/answer/1008080?hl=zh-Hant" target="_blank" rel="noopener">追蹤碼的範例程式</a></p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span><br><span class="line">&lt;script <span class="keyword">async</span> src=<span class="string">"https://www.googletagmanager.com/gtag/js?id=GA_TRACKING_ID"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">  window.dataLayer = window.dataLayer || [];</span></span><br><span class="line"><span class="regexp">  function gtag()&#123;dataLayer.push(arguments);&#125;</span></span><br><span class="line"><span class="regexp">  gtag('js', new Date());</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  gtag('config', 'GA_TRACKING_ID');</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="設定方式"><a href="#設定方式" class="headerlink" title="設定方式"></a>設定方式</h1><p>主題是使用 <a href="https://www.iis.net/downloads/microsoft/url-rewrite" target="_blank" rel="noopener"><strong>URL Rewrite</strong></a> 來附加，所以記得首要條件是安裝好 <a href="https://www.iis.net/downloads/microsoft/url-rewrite" target="_blank" rel="noopener"><strong>URL Rewrite</strong></a> 模組。<br>設定方式有兩種，一種是直接透過視窗操作介面設定，另一種是設定好 web.config 。<br>需要注意的是使用 <a href="https://www.iis.net/downloads/microsoft/url-rewrite" target="_blank" rel="noopener"><strong>URL Rewrite</strong></a> 來附加，需要關閉<strong>動態內容壓縮</strong>，因為壓縮後，就無法判斷內容去附加了。</p>
<h2 id="介面設定"><a href="#介面設定" class="headerlink" title="介面設定"></a>介面設定</h2><p>設定步驟其實在 <a href="https://docs.microsoft.com/en-us/iis/extensions/url-rewrite-module/using-outbound-rules-to-add-web-analytics-tracking-code" target="_blank" rel="noopener">Microsoft Docs</a> 都有詳細介紹，這邊列出 IIS 的中文介面</p>
<ul>
<li><p>開啟 IIS</p>
</li>
<li><p>選擇要設定的站台</p>
</li>
<li><p>選擇 <strong>URL Rewrite</strong> 模組<br><img src="https://lh3.googleusercontent.com/aLotYdI0HjLLKw2uqZg4UyniTbSm-E-wfppnnjeGsezj8xw1BLUyBEVzbzy5hMATk0JbTWmitWLYXcWl1qq5xmvX6OgRJco8THfzewiCNO6TRsPvI55C5tdNWlainKSMuil-K650psIsa3V8XsEt7dsvI7kco2dP7g2rLTgWYv5TAUzIdrJ68AIDVuiLEA3eY_jGyEsUoQbhEnty52TsryQBdTFjk68Uw0Am3xKRoqdSlFHwInTj_6fSxicphl7Q0T-RkJ7k-Xu0mOaGFu_27qOpOlaFsnun7V8vq1f7AlYK5z3EbE7ECO6Abzfr7LBiOMgKXDnkNBo7MJdjvFv4RnsF3zka5qxNIAIvoxKtOO1SqUE1eMRghM19SaS74UC3rLC_mQveBt86mGw-Ug51qdrrii4RxYors2tQdDr_4ZxEfxcvQs5jJeBUWZ9Kem3MAgZ5qt0RvFWOLb3rK_xKkLFOG8RJ2SBIWzm19G6CRqIm_uodlrvBB2p155N9pMz2xEw1QVX19oBrJQJ_dhmezUdfF3TlYsq6jsUHemftltrer-Akp_BKxWLw60ObHD4VJXXEqhtBsW9KDwcYzvc9oEYXDge83WZL4-Rksmp56XdJQM9JikPaVh_t3SyeeDLp-brqi1R4M-70LZnusBuwzBpd2jjJDbSf=w448-h269-no" alt="select Url Rewrite"></p>
</li>
<li><p>點選<strong>新增規則</strong>，接著選擇<strong>輸出規則</strong>內的<strong>空白規則</strong><br><img src="https://lh3.googleusercontent.com/GIvKqYaC72vSyjTlNTo3vSPZOCZ0eKR-QSdW6qTu2oNNqcAGixce4PIAHjjGOeoRyy9KUeb8tUMRLwkC7Esxc6KFags7vxpQZNDS3gUbXTTjzd6kku8r6SDAKoEdJcqXn8dH-cG0jqyYKK5tdysWV67r3vPz-pgDdw3G0HSRVW2qA99TuURZOwsG1JcmgQX5pZKwE6hVsZnQ_CHPM85Xd1Ca8k8DhOw638KdPjSzfXB9xa4d4aJ-r7fAcSYc2eWvEd-zZUNADyiykB0mvntpCmZ8lTW5q78fytnfzIVo2LZPwbqHjmHQS8sIkfga0iDcQcF5LVqbDrO3KjmbPIHPuLRXq3OLKrTZ1gVuOmN7hhTy4JhJTns09voqySuCiweviaaJ72vseomGtDC2ABgy3PKwYbiewCKQlakfg4yIXITiE8_F3EJXA7I1LDiMLeDtj9bo9JuGXmsCjpi36MbO9BZiyFzxTbheTpOAoAyI_QdrkbWW5b84Xr6zoo3uP3WiyndKbaYjGBreaB8oIDAqFKK4Z04-fig2WzLH-56Dr6RCakZo4J3edzE7_2t6peCB-lrPYIm3WNPxqSdsWrTzlKswblTp8MRztKbetn9wNtX64BidW9jOlwLc-ZhgZSzqxMamSWq9gxIAOhYbb8g0yhVmhcrwJ2y6=w951-h647-no" alt="blank rule"></p>
</li>
<li><p>輸入規則名稱，接著設定<strong>先決條件</strong><br><img src="https://lh3.googleusercontent.com/jPpD08n439jcCA-MhHkCzuhZ8iixDZPhohTOWq6DUQmncVQcMsaQVJBViOFowWeelhGjf1RPdG2B7P5iv5jBzPypGIsIFgFe_lqgr7CQ2fFU1NbtzmhQQRWonPXorUcQP2xWR2IFTbxPaAR5Bq8DT8qLKHldSAs2IdqciM7s7kakm7RF-BZ0hV71vlhna2bfXkWacLzZwb0TK2KLvzpMfdRPzP7ImFVTSb6zGavofzV8jhdRQtMUCaOEGi_LohqWmfTE2y1RI63OT9W5Ki7qbfFhEQybOF3EsnYhSJiFcOmFa6tqarec4_vj6sGuFWZf9ObKQAx4-I6R25JGGe8RHDYi33najvnAShQ9g_2vdUtWEVHm03sqmLjOssw-JsrktVTKiNkNtUKGnVpMLbqpHsus6i_lJHgAP4ful0Kp8iJXF343dYbjz5sXg1J416dWFrKCGzb-znaXp3trm6FZoU9zD2deOjfh14icFipY9WQzRddtoYKCNw0kVtwFzngRUVcdr3l9Aqx7-Ai2sEXj4kdFld0qefZtP0Cf9KH6QbF23aiZij2yqbvbePoJdGhLczf9K4MWcboi-QyzK9LBk9ylQQZlyx0MNSkuCCRjyfJhlQKmyoD1TgdJGyHfwtsAmWGr6Ui095SUBNQk-ryysYgjt6M0dyu1=w952-h634-no" alt="precondition"></p>
</li>
<li><p>設定符合的條件，注意<strong>比對範圍</strong>是<strong>回應</strong>(Response)，另外這邊的<strong>模式</strong>可以不用使用 <a href="https://emn178.github.io/online-tools/html_encode.html" target="_blank" rel="noopener">HTML Encode</a> 編碼<br><img src="https://lh3.googleusercontent.com/rmZ-vhTBs0SzYc2GyqnEle287f9cLfUEylICYHaJrrVa3GW7378yDkq3HrlVEQwBKPTymw88Y3bC50vX4jmlA3Zjsdud0rCJ8ptMGKk0nnLY9Ge0EZyhOEoqgnGeuxTD-0u-bhVoP3s5jaruK6G3wYkr05BK_HsoIA5I16TIgxYLsM4LL1rvCU6BLq_aNDd6dLrgCZguMvEdVpYWBSR7wZFXjOCjRpMyUW3M9GReyDScTQGsFeLW4UqIHyEcZlr2O8WBFC-6BAYBNEvsO7K0xVzQW8mpioFDDcLXl_nPsXYsSaxlkQHlvFopQcpSl7oSnS_xZ7fhNETav5iZCtC6njZYb4-vSREbjztXcBZj60dJMZyKh5ccYlA6Sfd4oRN3OFltw8W3kLsHLPa4FuTmrPtUaRt0CQVD2wi-Qy-WsRmJQfcea2TDIltvZjaDcFaZnSnisetPkxUqCVWnctcB8yMpHvBbfz2EdtFbAH8v4pv6eb1OdQiFaTJdLwP0r8ITb8pURG08IPB_IWZ9j3xsTGhp4ZgVa2uY6sFB6GHhxyhe_56LfNK9-X9oraLt3m2GmLlNTntGedAyDR9OZ1c9KwmN7cohlajUkKlyWNTc-r7cQ3Mto_KhwzQrlxX8AP9bm2VL_XZh_klPnuWpXIcmSbeYVNuiWVKI=w835-h455-no" alt="set rule"></p>
</li>
<li><p>設定<strong>動作屬性</strong>的值，就是要附加的追蹤碼<br><img src="https://lh3.googleusercontent.com/VnFp6hEniNqpdlax19Andm385dj7pHX0TF5S5mzuLipJCS7x3lCS-lVVeKKl6MjwkIBEqp2LlAgWUwsCKIUJhJk2IDMa0ITc3YqZTjOBqOL6N6-ohfSKmmIqYH5L-3wMrq6pA8cwVCmxRqwjDVNOhgbgVXSneF9vjH2WWCiONPF2fAd2ZpvH21jY7jdn18Z8j3-_bPUCYKL4u_WTIwy6YGqCt5HDs13ebbMgzPS4neLBxpJeI8TvU7xfVKu5SIflJMTMBxzdhzQhag5UbeGH45u6fedMlFRmJRPJ5JJlgd0zmimPlgHSII9HaL5c2oLCj0v1tBQHoDFpIbvherP-gM29_Ai59cn67dav-u2N4icF29Uv46Mh4QM_3zfXIpCPDgSK0sM1sq8cwZrp7qjDnMeeLwHW5lGryqmiUvFQIG_qWnIC2Wx2e-Eh06MYsJWbT9EJ23u7CrbuTELJpkWEosQOs5UU6x7NX5VS1ARHbgcr50Oq4ug5v-gSHHjudw4VfdXQaEmQMZEx_X-hMfcWBWWtK4iC3nTrv4CPSX0_YlaOCPNiqRFjG2gPwC6RAx5FzULW4egAHDX9oznve62D7p8VhwA8pSmwFrhTEaM8UhlCWdFj6Zr7hiPI0Pzugl4QF4TliOaYFqoObNq6qMigG7A-QdlyOPWE=w837-h249-no" alt="action"></p>
</li>
</ul>
<h2 id="config-設定"><a href="#config-設定" class="headerlink" title="config 設定"></a>config 設定</h2><p>由於要設定在 <strong>web.config</strong> 所以注意一下標籤，透過 <a href="https://emn178.github.io/online-tools/html_encode.html" target="_blank" rel="noopener">HTML Encode</a> (HTML 編碼轉換)後，再把值設定進去</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rewrite</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">outboundRules</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rule</span> <span class="attr">name</span>=<span class="string">"Add tracking script"</span> <span class="attr">patternSyntax</span>=<span class="string">"ExactMatch"</span> <span class="attr">preCondition</span>=<span class="string">"IsHTML"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">match</span> <span class="attr">filterByTags</span>=<span class="string">"None"</span> <span class="attr">pattern</span>=<span class="string">"<span class="symbol">&amp;lt;</span>/head&gt;"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">type</span>=<span class="string">"Rewrite"</span> <span class="attr">value</span>=<span class="string">"<span class="symbol">&amp;lt;</span>script async src=<span class="symbol">&amp;quot;</span>https://www.googletagmanager.com/gtag/js?id=GA_TRACKING_ID<span class="symbol">&amp;quot;</span>&gt;<span class="symbol">&amp;lt;</span>/script&gt; <span class="symbol">&amp;lt;</span>script&gt; window.dataLayer = window.dataLayer || []; function gtag() &#123; dataLayer.push(arguments); &#125; gtag('js', new Date()); gtag('config', 'GA_TRACKING_ID'); <span class="symbol">&amp;lt;</span>/script&gt;<span class="symbol">&amp;lt;</span>/head&gt;"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">preConditions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">preCondition</span> <span class="attr">name</span>=<span class="string">"IsHTML"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">add</span> <span class="attr">input</span>=<span class="string">"&#123;RESPONSE_CONTENT_TYPE&#125;"</span> <span class="attr">pattern</span>=<span class="string">"^text/html"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">preCondition</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">preConditions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">outboundRules</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">rewrite</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>額外附上關閉<strong>動態內容壓縮</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">urlCompression</span> <span class="attr">doStaticCompression</span>=<span class="string">"true"</span> <span class="attr">doDynamicCompression</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://docs.microsoft.com/en-us/iis/extensions/url-rewrite-module/using-outbound-rules-to-add-web-analytics-tracking-code" target="_blank" rel="noopener">Microsoft Docs add tracking code</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Flexbox 的青蛙練習網站</title>
    <url>/2018/05/25/flexbox-froggy/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/47RyxSBXqZEWfRd1xMKpbDdo5IUtlNDHDT7e7lhbUE7k8x56v2TeqQ4dJHy_nHyINPvdcHf6jZ19sY72VNCG9nM-1awWG8q4oE6aPno5JabzD31ccvlh_u5U9SgOrKLsxDGw9Yl1kBt_eVxMgUR_eendKOR5PNPbxKEfY99gerxdoHQ5xlKfF2viBUA43p1LyPHipPy4ob8kXuXxAYGoUAzcczESccEbeuSm5qyB5IKZcPPWvcIRryba9KKo7KUqP3TKgSSIA3mA96OGi4I-bCIxEHRZgEYkOrcEBe6CaoYZERBnpY4eKcn_m3hrgMPvGBbNrFBwHTOyGJLUfjHWGccMUtiaFo8BZvMKAcAyWNoY9T8xTqtSyod1wMYkdp7FSxHqxQC3PN6PmHlO62RfJl6W055BNMy4dcj0QLV_lBsaEeREDI3ebQkUgQHbQvM74cG9i5aF5pCtW6WFg2T7W1a7q3wL-eDS2NGsiceayx5Zz0Lk91is6TDz8ipLQShIYWxaRnKTWmTE3HeH6n8d-D3WISLfW8uguFCvC3_xdJkp7kLTqdAWeRbsdjHawRsvyA8bmJZZORQlLV8imblFL4hkxCSInHtsKfuYYh4w8egvAR9-k_vHd3Bs_zb5_c9Y6AmHI82AF7bpvWdcHqREsGbcs_MBFDkF=w552-h263-no" alt="demo"><br>偶然看到這練習網站 <a href="https://flexboxfroggy.com/" target="_blank" rel="noopener"><strong>Flexbox Froggy - A game for learning CSS flexbox</strong></a> 實在太有趣了，很快速地就可以完成所有題目，以下將題目解答附上。<a id="more"></a></p>
<h1 id="24-題目解答"><a href="#24-題目解答" class="headerlink" title="24 題目解答"></a>24 題目解答</h1><h2 id="Level-1"><a href="#Level-1" class="headerlink" title="Level 1"></a>Level 1</h2><p>第一題是送分題，簡單介紹怎麼撰寫</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: flex-end</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-2"><a href="#Level-2" class="headerlink" title="Level 2"></a>Level 2</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>:center</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-3"><a href="#Level-3" class="headerlink" title="Level 3"></a>Level 3</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-around</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-4"><a href="#Level-4" class="headerlink" title="Level 4"></a>Level 4</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>:space-between</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-5"><a href="#Level-5" class="headerlink" title="Level 5"></a>Level 5</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>:flex-end</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-6"><a href="#Level-6" class="headerlink" title="Level 6"></a>Level 6</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>:center;</span><br><span class="line">  <span class="attribute">justify-content</span>:center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-7"><a href="#Level-7" class="headerlink" title="Level 7"></a>Level 7</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>:flex-end;</span><br><span class="line">  <span class="attribute">justify-content</span>:space-around;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-8"><a href="#Level-8" class="headerlink" title="Level 8"></a>Level 8</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>:row-reverse</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-9"><a href="#Level-9" class="headerlink" title="Level 9"></a>Level 9</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>:column;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-10"><a href="#Level-10" class="headerlink" title="Level 10"></a>Level 10</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>:row-reverse;</span><br><span class="line">  <span class="attribute">justify-content</span>:flex-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-11"><a href="#Level-11" class="headerlink" title="Level 11"></a>Level 11</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>:column;</span><br><span class="line">  <span class="attribute">justify-content</span>:flex-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-12"><a href="#Level-12" class="headerlink" title="Level 12"></a>Level 12</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>:column-reverse;</span><br><span class="line">  <span class="attribute">justify-content</span>:space-between;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-13"><a href="#Level-13" class="headerlink" title="Level 13"></a>Level 13</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row-reverse;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-14"><a href="#Level-14" class="headerlink" title="Level 14"></a>Level 14</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.yellow</span> &#123;</span><br><span class="line"><span class="attribute">order</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-15"><a href="#Level-15" class="headerlink" title="Level 15"></a>Level 15</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.red</span> &#123;</span><br><span class="line"><span class="attribute">order</span>: -<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-16"><a href="#Level-16" class="headerlink" title="Level 16"></a>Level 16</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.yellow</span> &#123;</span><br><span class="line"><span class="attribute">align-self</span>:flex-end</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-17"><a href="#Level-17" class="headerlink" title="Level 17"></a>Level 17</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.yellow</span> &#123;</span><br><span class="line"><span class="attribute">align-self</span>: flex-end;</span><br><span class="line"><span class="attribute">order</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-18"><a href="#Level-18" class="headerlink" title="Level 18"></a>Level 18</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-19"><a href="#Level-19" class="headerlink" title="Level 19"></a>Level 19</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-20"><a href="#Level-20" class="headerlink" title="Level 20"></a>Level 20</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-flow</span>: column wrap</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-21"><a href="#Level-21" class="headerlink" title="Level 21"></a>Level 21</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">align-content</span>: flex-start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-22"><a href="#Level-22" class="headerlink" title="Level 22"></a>Level 22</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">align-content</span>: flex-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-23"><a href="#Level-23" class="headerlink" title="Level 23"></a>Level 23</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column-reverse;</span><br><span class="line">  <span class="attribute">align-content</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Level-24"><a href="#Level-24" class="headerlink" title="Level 24"></a>Level 24</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#pond</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column-reverse;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap-reverse;</span><br><span class="line">  <span class="attribute">align-content</span>: space-between;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="重點屬性"><a href="#重點屬性" class="headerlink" title="重點屬性"></a>重點屬性</h1><ul>
<li>justify-content<ul>
<li>flex-start: 元素和容器的左端對齊。</li>
<li>flex-end: 元素和容器的右端對齊。</li>
<li>center: 元素在容器裏居中。</li>
<li>space-between: 元素之間保持相等的距離。</li>
<li>space-around: 元素周圍保持相等的距離。</li>
</ul>
</li>
<li>align-items<ul>
<li>flex-start: 元素與容器的頂部對齊。</li>
<li>flex-end: 元素與容器的底部對齊。</li>
<li>center: 元素縱向居中。</li>
<li>baseline: 元素在容器的基線位置顯示。</li>
<li>stretch: 元素被拉伸以填滿整個容器。</li>
</ul>
</li>
<li>flex-direction<ul>
<li>row: 元素擺放的方向和文字方向一致。</li>
<li>row-reverse: 元素擺放的方向和文字的方向相反。</li>
<li>column: 元素從上放到下。</li>
<li>column-reverse: 元素從下放到上。</li>
</ul>
</li>
<li>order</li>
<li>align-self<ul>
<li>flex-start</li>
<li>flex-end</li>
<li>center</li>
<li>baseline</li>
<li>stretch</li>
</ul>
</li>
<li>flex-wrap<ul>
<li>nowrap: 所有的元素都在一行。</li>
<li>wrap: 元素自動換成多行。</li>
<li>wrap-reverse: 元素自動換成逆序的多行。</li>
</ul>
</li>
<li>flex-flow</li>
<li>align-content<ul>
<li>flex-start: 多行都集中在頂部。</li>
<li>flex-end: 多行都集中在底部。</li>
<li>center: 多行居中。</li>
<li>space-between: 行與行之間保持相等距離。</li>
<li>space-around: 每行的周圍保持相等距離。</li>
<li>stretch: 每一行都被拉伸以填滿容器。</li>
</ul>
</li>
</ul>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://flexboxfroggy.com/" target="_blank" rel="noopener">Flexbox Froggy - A game for learning CSS flexbox</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Grid 的花園小遊戲教學網站</title>
    <url>/2018/05/30/css-grid-garden/</url>
    <content><![CDATA[<p><img src="https://lh3.googleusercontent.com/ic8kjV2hdVgL9oBUbN4cL4g1DprF0YKIDS1BtoNL3cWp-hTI3PUqqMHHmjtDwRHpmRmWbOlU32s932vlAMN1ZTw-RwuKOumET-mfUkaEUT0iAchrVqhf_S0CjgnK4mpGzBo4yE8jECt5kKHcMQWfQ4g8m8RfvYHXPs-JJ6CL35AuxIDDwLofPr5Lxm7ch5bF-mC2uyOvTCbUlRyodOkq3BqNHPB0xK4KB2XnGci-E0-9xGooQr7lkvzQFLim47PaBHo3g6ppdDFsEZfNWaS31nKLPWJErjae0sG50UlMHCxmU-8exg9iiCuQ9tzqyQLwPNAsXJkxErDRirE9Ltmd8AFgHH2DIPG_-50QSV004Bz8X0kp0cXDGtn4MA2n0OUSv89k4RJ1x8sC61AqjJxtIrAnGVmUTmGNfQuCcvPa57lay1X5RgFf_ihhN8V63QU-MZn_RkXqAKajJncXt6IVTPlSKQBzeqZdGjBkDVRBYme0sJIYuEnuNEmdf9CLoB6IpRYSmjie470yIIdKfOuC5_t7Xan9NHz8FB2Gcp7PGoUVI0iOtqe6BcnBosWBtcW_tHqKcF1xR1rcyZWlm1ySuqsRgjnv5UOBKJrH-9X_XvVlCTcWrr6TV9HlRYuTjOKGpE8TFl14Ofy84CW47ZLlczT-dPTqhbyy=w704-h350-no" alt="demo"><br>承襲上篇 <a href="https://shunnien.github.io/2018/05/25/flexbox-froggy/">Flexbox 的青蛙練習網站</a>，上篇的 CSS 練習遊戲，除了 <strong>Flexbox</strong> 外，尚有 <strong>CSS Grid</strong> ，此篇就是 <strong>CSS Grid</strong> 小遊戲闖關過程。<a id="more"></a></p>
<h1 id="28-關"><a href="#28-關" class="headerlink" title="28 關"></a>28 關</h1><p>以下針對是我針對各關的解答</p>
<h2 id="第-1-關"><a href="#第-1-關" class="headerlink" title="第 1 關"></a>第 1 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-2-關"><a href="#第-2-關" class="headerlink" title="第 2 關"></a>第 2 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#poison</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-end</span>:-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-3-關"><a href="#第-3-關" class="headerlink" title="第 3 關"></a>第 3 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>:-<span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-4-關"><a href="#第-4-關" class="headerlink" title="第 4 關"></a>第 4 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">5</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-5-關"><a href="#第-5-關" class="headerlink" title="第 5 關"></a>第 5 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-6-關"><a href="#第-6-關" class="headerlink" title="第 6 關"></a>第 6 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#poison</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>:<span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-7-關"><a href="#第-7-關" class="headerlink" title="第 7 關"></a>第 7 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>:<span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-8-關"><a href="#第-8-關" class="headerlink" title="第 8 關"></a>第 8 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: span <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-9-關"><a href="#第-9-關" class="headerlink" title="第 9 關"></a>第 9 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: span <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-10-關"><a href="#第-10-關" class="headerlink" title="第 10 關"></a>第 10 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: -<span class="number">3</span>/-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-11-關"><a href="#第-11-關" class="headerlink" title="第 11 關"></a>第 11 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">2</span> /span <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-12-關"><a href="#第-12-關" class="headerlink" title="第 12 關"></a>第 12 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-row-start</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-13-關"><a href="#第-13-關" class="headerlink" title="第 13 關"></a>第 13 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">3</span>/span <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-14-關"><a href="#第-14-關" class="headerlink" title="第 14 關"></a>第 14 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#poison</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">grid-row-start</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-15-關"><a href="#第-15-關" class="headerlink" title="第 15 關"></a>第 15 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">2</span>/-<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">1</span>/-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-16-關"><a href="#第-16-關" class="headerlink" title="第 16 關"></a>第 16 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: <span class="number">1</span>/<span class="number">2</span>/<span class="number">4</span>/<span class="number">6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-17-關"><a href="#第-17-關" class="headerlink" title="第 17 關"></a>第 17 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: <span class="number">1</span> / <span class="number">4</span> / <span class="number">6</span> / <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water-2</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: <span class="number">2</span>/<span class="number">3</span>/<span class="number">5</span>/<span class="number">6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-18-關"><a href="#第-18-關" class="headerlink" title="第 18 關"></a>第 18 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.water</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#poison</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-19-關"><a href="#第-19-關" class="headerlink" title="第 19 關"></a>第 19 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.water</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.poison</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-20-關"><a href="#第-20-關" class="headerlink" title="第 20 關"></a>第 20 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-21-關"><a href="#第-21-關" class="headerlink" title="第 21 關"></a>第 21 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">8</span>,<span class="number">12.5%</span>);</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-22-關"><a href="#第-22-關" class="headerlink" title="第 22 關"></a>第 22 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">100px</span> <span class="number">3em</span> <span class="number">40%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-23-關"><a href="#第-23-關" class="headerlink" title="第 23 關"></a>第 23 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">5</span>fr;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-24-關"><a href="#第-24-關" class="headerlink" title="第 24 關"></a>第 24 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">50px</span> <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: <span class="number">1</span> / <span class="number">1</span> / <span class="number">6</span> / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#poison</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: <span class="number">1</span> / <span class="number">5</span> / <span class="number">6</span> / <span class="number">6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-25-關"><a href="#第-25-關" class="headerlink" title="第 25 關"></a>第 25 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">75px</span> <span class="number">3</span>fr <span class="number">2</span>fr;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-26-關"><a href="#第-26-關" class="headerlink" title="第 26 關"></a>第 26 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">50px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span> / <span class="number">6</span>;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">5</span> / <span class="number">6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-27-關"><a href="#第-27-關" class="headerlink" title="第 27 關"></a>第 27 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template</span>: <span class="number">60%</span> <span class="number">1</span>fr/ <span class="number">200px</span> <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#water</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第-28-關"><a href="#第-28-關" class="headerlink" title="第 28 關"></a>第 28 關</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#garden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template</span>: <span class="number">1</span>fr <span class="number">50px</span>/<span class="number">20%</span> <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://cssgridgarden.com/" target="_blank" rel="noopener">CSS Grid Garden</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>Json.net 的自訂 Serialize 與 Deserialize</title>
    <url>/2018/07/06/json-net-deserialize-object/</url>
    <content><![CDATA[<h1 id="Json-net-的自訂序列化與反序列化"><a href="#Json-net-的自訂序列化與反序列化" class="headerlink" title="Json.net 的自訂序列化與反序列化"></a><a href="https://bridge.net/jsonnet/" target="_blank" rel="noopener">Json.net</a> 的自訂序列化與反序列化</h1><p>會使用 <a href="https://bridge.net/jsonnet/" target="_blank" rel="noopener"><strong>Json.net</strong></a> 此自訂序列化 (Serialize) 或是 反序列化 (Deserialize) 的原因主要是希望在序列化 <strong>Json</strong> 的時候，可以直接將時間的部分按照客戶要求輸出<a id="more"></a></p>
<p>先附上使用環境與套件版本</p>
<ul>
<li><strong>Newtonsoft.Json</strong> 版本 : <strong>10.0.2</strong></li>
<li>編輯器 <a href="https://www.linqpad.net/" target="_blank" rel="noopener"><strong>LINQPad</strong></a> 版本 : <strong>5.31.00(AnyCPU)</strong></li>
</ul>
<p>首先建立一個範例 <strong>Class</strong> 叫做 <strong>SampleModel</strong> ，然後利用時區讓兩個 <strong>DateTime</strong> 格式的屬性來做範例輸出</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  SampleModel model = <span class="keyword">new</span> SampleModel();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 格式化輸出</span></span><br><span class="line">  <span class="keyword">var</span> indented = Newtonsoft.Json.Formatting.Indented;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> jsonModel = JsonConvert.SerializeObject(model, indented);</span><br><span class="line">  jsonModel.Dump();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Class SampleModel.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SampleModel</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">public</span> DateTime UtcDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = DateTime.UtcNow;</span><br><span class="line">  <span class="keyword">public</span> DateTime NowDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = DateTime.Now;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/6ZSwRiXLjv0RPKdducbzn5V03BYCTOF2ksUk4INfviiTCK4nPGXdlsG4LXKQE7j8A0EjPgGQkbCcgvPFD1H3dbyQkQbIDwx_uOf-nfEW0mIyNNWViW9r9SXNaJ8XJw-QetNFEx_SUuG5oj6wYMOyRhdt44tdTtS6j6xpYgElBCuxeQ26EX0yOv2WJyarXKdppZDFg-BZaxwq3WWlBJ92O4kerLbbkCkKgCRc9UlkhKo4AdWgrN5w2eMIK0hN90o64B5wPpVa4sV9WioqH1691tZxY9IGUb7dLUTcgiHbNRrDoVFsU5IqYU3EVFOCr8f2u4G3Mjt8lHSKg-mPDxjcLEeXKSekJhTljBlsDQKg8aXRfipgeK3t-wf7LAILzU3_o26OkafRRSL4oMZoqmUxphn9h_co1ds_sg1ZldLjaY83CyVgVNSZ1P1FcXxO46OuOrO23DNtTNMCEEM6bZGGvRGX-SXmAmNj619nY-WrsY-VBxMwsX7Uf-Hd0fNCVBr-3YHVXA6xzHn_IUglymecryqysab_clIuFy8H31m33_Ppe20-RWRKn0hFtIMxmMS4YRl9xbb83Fm9hCRRpMjUdo9dw8-3Ky5X9oQZkpUeDHkCpisdHliglbsOY36z2_BamoNj-2xTErGMMToNIs_JOOZahaLILKmI=w500-h504-no" alt="sample class serialize"></p>
<h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p>承襲上述的 <strong>SampleModel</strong> ，此部分針對 <strong>Json.net</strong> 的 <strong>JsonConverter</strong> 來自訂規則，主要需要撰寫的部分有 <strong>CanConvert</strong> 與 <strong>WriteJson</strong> 兩個方法</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  SampleModel model = <span class="keyword">new</span> SampleModel();</span><br><span class="line">  <span class="comment">// 格式化輸出</span></span><br><span class="line">  <span class="keyword">var</span> indented = Newtonsoft.Json.Formatting.Indented;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 設定自訂規則轉換 DateTime 格式</span></span><br><span class="line">  <span class="keyword">var</span> jsonModel = JsonConvert.SerializeObject(model, indented, <span class="keyword">new</span> SampleModelConverter(<span class="keyword">typeof</span>(DateTime)));</span><br><span class="line">  jsonModel.Dump();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Class SampleModel. 請參照上述，此處省略</span></span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Class SampleModelConverter.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;seealso cref="Newtonsoft.Json.JsonConverter" /&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SampleModelConverter</span> : <span class="title">JsonConverter</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">readonly</span> Type[] _types;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> 建構式</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="types"&gt;</span>The types.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SampleModelConverter</span>(<span class="params"><span class="keyword">params</span> Type[] types</span>)</span></span><br><span class="line"><span class="function"></span>  &#123;</span><br><span class="line">    _types = types;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Writes the JSON representation of the object.</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="writer"&gt;</span>The <span class="doctag">&lt;see cref="T:Newtonsoft.Json.JsonWriter" /&gt;</span> to write to.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="value"&gt;</span>The value.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="serializer"&gt;</span>The calling serializer.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">WriteJson</span>(<span class="params">JsonWriter writer, <span class="keyword">object</span> <span class="keyword">value</span>, JsonSerializer serializer</span>)</span></span><br><span class="line"><span class="function"></span>  &#123;</span><br><span class="line">    Type type = <span class="keyword">value</span>.GetType();</span><br><span class="line">    <span class="keyword">if</span> (type == <span class="keyword">typeof</span>(DateTime))</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">var</span> date = (DateTime)<span class="keyword">value</span>;</span><br><span class="line">      serializer.Serialize(writer, date.ToLocalTime().ToString(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>));</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 想寫入 json 物件，使用以下語法</span></span><br><span class="line">      <span class="comment">// writer.WriteStartObject();</span></span><br><span class="line">      <span class="comment">// writer.WritePropertyName(type.Name);</span></span><br><span class="line">      <span class="comment">// writer.WriteEndObject();</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Reads the JSON representation of the object.</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="reader"&gt;</span>The <span class="doctag">&lt;see cref="T:Newtonsoft.Json.JsonReader" /&gt;</span> to read from.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="objectType"&gt;</span>Type of the object.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="existingValue"&gt;</span>The existing value of object being read.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="serializer"&gt;</span>The calling serializer.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>The object value.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">object</span> <span class="title">ReadJson</span>(<span class="params">JsonReader reader, Type objectType, <span class="keyword">object</span> existingValue, JsonSerializer serializer</span>)</span></span><br><span class="line"><span class="function"></span>  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> 判斷此物件是否符合自訂規則的設定型別，符合即可進行轉換</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="objectType"&gt;</span>Type of the object.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;c&gt;</span>true<span class="doctag">&lt;/c&gt;</span> if this instance can convert the specified object type; otherwise, <span class="doctag">&lt;c&gt;</span>false<span class="doctag">&lt;/c&gt;</span>.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> <span class="title">CanConvert</span>(<span class="params">Type objectType</span>)</span></span><br><span class="line"><span class="function"></span>  &#123;</span><br><span class="line">    <span class="keyword">var</span> result = _types.Any(t =&gt; t == objectType);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/brBkvtfSaLvogg4aom4jx43gn6QOrzkftLCPssmh3tEMZNWx6f0J0GEzjGD7zaWRs1Me74cxbDHKFgOarCctLtTYBjo7EYQ2ivBrqb0s5x4dGfzmcJqBDCHO2LoAuF82Zfz79RMMMs2dclcrOnIVdFsAgFCWGMneHiKfYslciCJrPFZMrVz-JwxYd352fWWYEdYPgdpD-UFyH9BBL0ZuYwNxTGIlsiUUH7-h7271f_Y0tR_dVNMPckHruicB86vbRksaHISVN_e5ZSwpcgHgdfNy4AaB-UP9n1SBg9FGEBpz_w85dK1bj3-4Im32O2iSULgqF3-zNclA8RrSyhjKr1oA5SXjXBCjVHOH8lMXJYWiAt9MN_OB931MbyB_HBxjRzQ6rNJq8TTNOw8RiDz2YrZhAZlvF_KQu7UYOgGeUnBef9AMZTbeyKsy5h7ActjsyQYXq55Nl4o0jCr_1DNPWFkw06_JtpXpd3YZu65ZvShfcQ7oZgof3j_36hWhgvg6aPHVGkKtB5RcX8-OiRMAxxMH3eMR2jt93-p9ilMNcpsA6e7lVG4qAKbzvptcsbpdrzy6BM7-CjstvgwhkpZguMmXZbvTA-fcT19h3qs4sK7UOkyjl5sgtebbzMHCVw-bpry1qta944ZCCSoFokS43EeTfoRIqQRP=w531-h508-no" alt="serializer result"></p>
<h2 id="Deserialize反序列化"><a href="#Deserialize反序列化" class="headerlink" title="Deserialize反序列化"></a>Deserialize反序列化</h2><p>反序列化要注意的是要自訂 <strong>ReadJson</strong> 這個方法</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  SampleModel model = <span class="keyword">new</span> SampleModel();</span><br><span class="line">  <span class="comment">// 格式化輸出</span></span><br><span class="line">  <span class="keyword">var</span> indented = Newtonsoft.Json.Formatting.Indented;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 設定自訂規則轉換 DateTime 格式</span></span><br><span class="line">  <span class="keyword">var</span> jsonModel = JsonConvert.SerializeObject(model, indented, <span class="keyword">new</span> SampleModelConverter(<span class="keyword">typeof</span>(DateTime)));</span><br><span class="line">  jsonModel.Dump();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 設定自訂規則轉換 DateTime 格式</span></span><br><span class="line">  <span class="keyword">var</span> deserializeJson = JsonConvert.DeserializeObject&lt;SampleModel&gt;(jsonModel, <span class="keyword">new</span> SampleModelConverter(<span class="keyword">typeof</span>(DateTime)));</span><br><span class="line">  deserializeJson.Dump();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Class SampleModel. 請參照上述，此處省略</span></span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Class SampleModelConverter.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;seealso cref="Newtonsoft.Json.JsonConverter" /&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SampleModelConverter</span> : <span class="title">JsonConverter</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ... 其他方法與屬性同序列化的自訂，除 ReadJson 方法不同</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Reads the JSON representation of the object.</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="reader"&gt;</span>The <span class="doctag">&lt;see cref="T:Newtonsoft.Json.JsonReader" /&gt;</span> to read from.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="objectType"&gt;</span>Type of the object.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="existingValue"&gt;</span>The existing value of object being read.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="serializer"&gt;</span>The calling serializer.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>The object value.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">object</span> <span class="title">ReadJson</span>(<span class="params">JsonReader reader, Type objectType, <span class="keyword">object</span> existingValue, JsonSerializer serializer</span>)</span></span><br><span class="line"><span class="function"></span>  &#123;</span><br><span class="line">    <span class="comment">// reader Json 讀取出來的類型為 Date 格式就進行轉換</span></span><br><span class="line">    <span class="comment">// 當序列化使用此規則時，此處可以省略，因為會沒有 Date 格式</span></span><br><span class="line">    <span class="keyword">if</span> (reader.TokenType == JsonToken.Date)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> ((DateTime)existingValue).ToLocalTime();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (DateTime.TryParse(existingValue.ToString(), <span class="keyword">out</span> DateTime dateValue))</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> dateValue.ToLocalTime();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/MWk2hU-1Ghawd-_EhIG5lfp40ORJ4UWE7TkTxV3D7sg5rQ8nmrD6fOijHJ16Nz9vltNarzWIm5x1ejOYhuHYbPStgLsnv0ApxzxNIHC_cXLZflse710XeLHVQDg-rOT_Sysfy-nAIM3eAngGJ2pzElOryO20B9xbrNJhpsh43VzZ1HD5EzYqYu13UCFzOy6ZqC0LWYwZW7KJ0ElFeDlFJLRuDAuOAt4fAXkBbA5pl14556bpo0jmPCJUbwHs41-1s7PjNJmsyvZMwhnr9ObUmCMBA_6bIhuI9Kse8uehN2m8hWhYsER2xpEg3n0DYOlbRrN6sdN1ETXDGYydIwGrx50dgjZ-lHfbS4sE56aGafXcuslWGgPigmMJOVYUShW-2KdUbaVHmGIFOFF-uI-y6D6JcZS5UyVk61IH3bVSzy4Lqm-E3jnK9-BpWRIz4aTKOqzn1duO-9V3_WwJtgUMRyk-AON-py25aFbYKHwngooI2PMx_FNMiRI66bOZPNPmPklx618OFET7X402qB0bUv5sEjKXA9DhfoCo153p1AHfcnCB7ldMLSWMHQNEDmJGqc6FKFl2IcCV6DyMtDgeXXOcwmUyJ7Z0okqH-rJnRzoMresfa5nEPm2ZVMsThusEpestkmbEXvGWa97pAIdcJxxBxDsylFbz=w404-h288-no" alt="Deserialization result"></p>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p><a href="https://bridge.net/jsonnet/" target="_blank" rel="noopener">Json.net</a> 的 <a href="https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm" target="_blank" rel="noopener"><strong>JsonConverter</strong></a> 訂立的規則是通用的，不是針對單一型別的規則，當然此範例還可以使用 <a href="https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_JsonSerializer_DateFormatString.htm" target="_blank" rel="noopener">*<em>JsonSerializer.DateFormatString *</em></a> 等各種方式達到目的，不過此範例重點在於自訂規則與轉換型別的部分，最後附上完整的 sample code</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  SampleModel model = <span class="keyword">new</span> SampleModel();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 格式化輸出</span></span><br><span class="line">  <span class="keyword">var</span> indented = Newtonsoft.Json.Formatting.Indented;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> jsonModel = JsonConvert.SerializeObject(model, indented, <span class="keyword">new</span> SampleModelConverter(<span class="keyword">typeof</span>(DateTime)));</span><br><span class="line">  jsonModel.Dump();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> deserializeJson = JsonConvert.DeserializeObject&lt;SampleModel&gt;(jsonModel, <span class="keyword">new</span> SampleModelConverter(<span class="keyword">typeof</span>(DateTime)));</span><br><span class="line">  deserializeJson.Dump();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Class SampleModel.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SampleModel</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">public</span> DateTime UtcDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = DateTime.UtcNow;</span><br><span class="line">  <span class="keyword">public</span> DateTime NowDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = DateTime.Now;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Class SampleModelConverter.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;seealso cref="Newtonsoft.Json.JsonConverter" /&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SampleModelConverter</span> : <span class="title">JsonConverter</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">readonly</span> Type[] _types;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Initializes a new instance of the <span class="doctag">&lt;see cref="SampleModelConverter"/&gt;</span> class.</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="types"&gt;</span>The types.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SampleModelConverter</span>(<span class="params"><span class="keyword">params</span> Type[] types</span>)</span></span><br><span class="line"><span class="function"></span>  &#123;</span><br><span class="line">    _types = types;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Writes the JSON representation of the object.</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="writer"&gt;</span>The <span class="doctag">&lt;see cref="T:Newtonsoft.Json.JsonWriter" /&gt;</span> to write to.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="value"&gt;</span>The value.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="serializer"&gt;</span>The calling serializer.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">WriteJson</span>(<span class="params">JsonWriter writer, <span class="keyword">object</span> <span class="keyword">value</span>, JsonSerializer serializer</span>)</span></span><br><span class="line"><span class="function"></span>  &#123;</span><br><span class="line">    Type type = <span class="keyword">value</span>.GetType();</span><br><span class="line">    <span class="keyword">if</span> (type == <span class="keyword">typeof</span>(DateTime))</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">var</span> date = (DateTime)<span class="keyword">value</span>;</span><br><span class="line">      serializer.Serialize(writer, date.ToLocalTime().ToString(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Reads the JSON representation of the object.</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="reader"&gt;</span>The <span class="doctag">&lt;see cref="T:Newtonsoft.Json.JsonReader" /&gt;</span> to read from.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="objectType"&gt;</span>Type of the object.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="existingValue"&gt;</span>The existing value of object being read.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="serializer"&gt;</span>The calling serializer.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>The object value.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">object</span> <span class="title">ReadJson</span>(<span class="params">JsonReader reader, Type objectType, <span class="keyword">object</span> existingValue, JsonSerializer serializer</span>)</span></span><br><span class="line"><span class="function"></span>  &#123;</span><br><span class="line">    <span class="keyword">if</span> (reader.TokenType == JsonToken.Date)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> ((DateTime)existingValue).ToLocalTime();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (DateTime.TryParse(existingValue.ToString(), <span class="keyword">out</span> DateTime dateValue))</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> dateValue.ToLocalTime();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> 判斷此物件是否符合自訂規則的設定型別，符合即可進行轉換</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="objectType"&gt;</span>Type of the object.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;c&gt;</span>true<span class="doctag">&lt;/c&gt;</span> if this instance can convert the specified object type; otherwise, <span class="doctag">&lt;c&gt;</span>false<span class="doctag">&lt;/c&gt;</span>.<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> <span class="title">CanConvert</span>(<span class="params">Type objectType</span>)</span></span><br><span class="line"><span class="function"></span>  &#123;</span><br><span class="line">    <span class="keyword">var</span> result = _types.Any(t =&gt; t == objectType);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="延伸閱讀"><a href="#延伸閱讀" class="headerlink" title="延伸閱讀"></a>延伸閱讀</h2><p>文中的時區轉換都比較偷懶，都是使用 <strong>ToLocalTime</strong> 等方式處理，要執行轉換的話，建議可以使用 <strong>TimeZoneInfo</strong> 來轉換，如下範例</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> twtzinfo = TimeZoneInfo.FindSystemTimeZoneById(<span class="string">"Taipei Standard Time"</span>);</span><br><span class="line">DateTime localdt = TimeZoneInfo.ConvertTime(DateTime.UtcNow,TimeZoneInfo.Utc, twtzinfo);</span><br><span class="line">DateTime localdt2 = TimeZoneInfo.ConvertTime(DateTime.UtcNow, twtzinfo);</span><br><span class="line">DateTime localdt3 = TimeZoneInfo.ConvertTimeFromUtc(DateTime.UtcNow, twtzinfo);</span><br><span class="line">localdt.Dump();</span><br><span class="line">localdt2.Dump();</span><br><span class="line">localdt3.Dump();</span><br></pre></td></tr></table></figure>

<p>附上拉取時區名稱與時區 ID 的作法，或是參考 <a href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc749073(v=ws.10)" target="_blank" rel="noopener">microsoft 時區 ID</a> 文件</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">TimeZoneInfo localZone = TimeZoneInfo.Local;</span><br><span class="line"></span><br><span class="line">Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt; timeZoneIdName = <span class="keyword">new</span> Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt;()</span><br><span class="line">&#123;</span><br><span class="line">  &#123; localZone.Id, localZone.DisplayName&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">timeZoneIdName.Dump();</span><br><span class="line">ReadOnlyCollection&lt;TimeZoneInfo&gt; list = TimeZoneInfo.GetSystemTimeZones();</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> zone <span class="keyword">in</span> list)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (!timeZoneIdName.ContainsKey(zone.Id))</span><br><span class="line">    timeZoneIdName.Add(zone.Id, zone.DisplayName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">timeZoneIdName.Dump();</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/standard/datetime/converting-between-time-zones" target="_blank" rel="noopener">microsoft docs 時區轉換時間</a></li>
<li><a href="https://www.newtonsoft.com/json/help/html/DeserializeDateFormatString.htm" target="_blank" rel="noopener">Newtonsoft DeserializeDateFormatString</a></li>
<li><a href="https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm" target="_blank" rel="noopener">Newtonsoft CustomJsonConverter</a></li>
<li><a href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc749073(v=ws.10)" target="_blank" rel="noopener">microsoft 時區 ID 參考</a></li>
<li><a href="https://blog.miniasp.com/post/2010/04/30/Concept-DateTime-TimeZone.aspx" target="_blank" rel="noopener">Will 保哥 .NET 日期結構(DateTime) 與 時區轉換</a></li>
<li><a href="http://blog.darkthread.net/post-2013-06-24-datetime-timezone-issue.aspx" target="_blank" rel="noopener">Darkthread DateTime時區與比較</a></li>
<li><a href="https://skrift.io/articles/archive/bulletproof-interface-deserialization-in-jsonnet/" target="_blank" rel="noopener">Bulletproof Interface Deserialization in Json.NET</a></li>
<li><a href="https://www.jerriepelser.com/blog/custom-converters-in-json-net-case-study-1/" target="_blank" rel="noopener">Using custom converters in JSON.NET: Array or Object?</a></li>
<li><a href="http://blog.maskalik.com/asp-net/json-net-implement-custom-serialization/" target="_blank" rel="noopener">JSON.NET Implementing Custom Serialization</a></li>
<li><a href="https://thomasfreudenberg.com/archive/2017/02/11/encrypting-values-when-serializing-with-json-net/" target="_blank" rel="noopener">Encrypting values when serializing with JSON.NET</a></li>
<li><a href="https://github.com/rhythmagency/formulate/blob/1e60ce07a3c6af4dd13436915bc4f3439a55a828/src/formulate.app/Serialization/FieldsJsonConverter.cs#L50" target="_blank" rel="noopener">Github 上的 Serialization</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>Git Autocrlf 與 Safecrlf</title>
    <url>/2018/06/03/git-autocrlf-and-safecrlf/</url>
    <content><![CDATA[<p>關於 <strong>autocrlf</strong> 產生的一些警告訊息，在很早以前使用 <strong>git</strong> 的時候，就有了解了，但是一直沒有單獨進行筆記，加上 <strong>safecrlf</strong> 這設定一直沒有很仔細去了解，這次順便進行比較詳細的筆記。<a id="more"></a></p>
<p>這兩個設定都是針對換行符的設定，主要是 <strong>Git</strong> 早期是為了維護 <strong>Linux kernel</strong> 設計而成的，所以絕大部分使用環境都是 <strong>Linux</strong> 平台，而在 <strong>Linux</strong> 平台下，文字檔案的斷行符號預設為 <strong>LF</strong> 字元 (<code>\n</code> ) ( <code>0x0A</code> )。不過，在 <strong>Windows</strong> 環境下，文字檔案的預設斷行符號卻是 <strong>CRLF</strong> ( <code>\r\n</code> ) ( <code>0x0D 0x0A</code> )。這種轉換功能，加上 <strong>Git</strong> 的檔案比對，此種設定會造成一些可能影響與風險</p>
<ul>
<li>若是 <strong>Repository</strong> 中同時包含 <strong>LF</strong> 與 <strong>CRLF</strong> ，經過自動轉換之後，就會造成原始檔案內容不同，等於竄改或破壞原始檔案，增添辨識問題。</li>
</ul>
<h1 id="AutoCRLF"><a href="#AutoCRLF" class="headerlink" title="AutoCRLF"></a><strong>AutoCRLF</strong></h1><p>此功能就上述提及，會自動轉換換行字元，主要的設定影響如下：</p>
<p>設定成 <strong>true</strong> 的作用是 <strong>commit</strong> 時會自動將 <strong>CRLF</strong> 轉成 <strong>LF</strong> ； <strong>checkout</strong> 時會自動將 <strong>LF</strong> 轉成 <strong>CRLF</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global core.autocrlf <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>設定成 <strong>input</strong> 的作用是 <strong>commit</strong> 時會自動將 <strong>CRLF</strong> 轉成 <strong>LF</strong> ； <strong>checkout</strong> 時不轉換</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global core.autocrlf input</span><br></pre></td></tr></table></figure>

<p>設定成 <strong>false</strong> 的則是停止自動轉換，不管 <strong>commit</strong> 或是 <strong>checkout</strong> 都不會進行轉換</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global core.autocrlf <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h1 id="SafeCRLF"><a href="#SafeCRLF" class="headerlink" title="SafeCRLF"></a><strong>SafeCRLF</strong></h1><p>這設定是更加嚴格的過濾換行符，只要 <strong>git add</strong> 或是 <strong>commit</strong> 或是 <strong>push</strong> 都會過濾</p>
<p><strong>不允許</strong> 有 <strong>LF</strong> 與 <strong>CRLF</strong> 混合的檔案</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global core.safecrlf <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><strong>允許</strong> 有 <strong>LF</strong> 與 <strong>CRLF</strong> 混合的檔案</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global core.safecrlf <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><strong>允許</strong> 有 <strong>LF</strong> 與 <strong>CRLF</strong> 混合的檔案，但是會出現 <strong>warning</strong> 警告訊息</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global core.safecrlf warn</span><br></pre></td></tr></table></figure>

<h1 id="延伸閱讀"><a href="#延伸閱讀" class="headerlink" title="延伸閱讀"></a>延伸閱讀</h1><ul>
<li>Will 保哥 <a href="https://blog.miniasp.com/post/2013/09/15/Git-for-Windows-Line-Ending-Conversion-Notes.aspx" target="_blank" rel="noopener" title="Git 在 Windows 平台處理斷行字元 (CRLF) 的注意事項">Git 在 Windows 平台處理斷行字元 (CRLF) 的注意事項</a></li>
<li>Will 保哥 <a href="https://blog.miniasp.com/post/2014/02/20/Visual-Studio-Tools-for-Git-Line-Ending-Conversion-Notes.aspx" target="_blank" rel="noopener" title="Visual Studio Tools for Git 處理斷行字元 (CRLF) 的注意事項">Visual Studio Tools for Git 處理斷行字元 (CRLF) 的注意事項</a></li>
<li>Huan-Lin 學習筆記 <a href="https://www.huanlintalk.com/2011/05/git-coreautocrlf.html" target="_blank" rel="noopener" title="Git 的 core.autocrlf 參數">Git 的 core.autocrlf 參數</a></li>
<li>Huan-Lin 學習筆記 <a href="https://www.huanlintalk.com/2013/10/git-windows.html" target="_blank" rel="noopener" title="Git 在 Windows 平台的換行字元">“Git 在 Windows 平台的換行字元</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitlab CE 透過 Rails Console 變更帳號資料</title>
    <url>/2018/07/04/reset-password-via-the-rails-console-on-the-gitlab-server/</url>
    <content><![CDATA[<p>首先說明架設的環境， <a href="https://about.gitlab.com/" target="_blank" rel="noopener"><strong>Gitlab CE(Community Edition)</strong></a> 架設在 <strong>Linux</strong> 上，其資訊如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@proj-git ~]<span class="comment"># uname</span></span><br><span class="line">Linux</span><br><span class="line">[root@proj-git ~]<span class="comment"># uname -v</span></span><br><span class="line"><span class="comment">#1 SMP Thu Jan 25 20:13:58 UTC 2018</span></span><br><span class="line">[root@proj-git ~]<span class="comment"># uname -r</span></span><br><span class="line">3.10.0-693.17.1.el7.x86_64</span><br><span class="line">[root@proj-git ~]<span class="comment"># uname -m</span></span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h1 id="設定方式"><a href="#設定方式" class="headerlink" title="設定方式"></a>設定方式</h1><p>要變更帳號資料，做法是連線至安裝主機 (Linux) 上，透過 <strong>rails console</strong> 來進行變更，以下按照步驟來說明</p>
<ul>
<li>由於個人使用 <strong>windows</strong> 電腦，所以透過 <a href="https://www.putty.org/" target="_blank" rel="noopener"><strong>PuTTY</strong></a> 進行 <strong>Linux Server</strong> 的連接</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/REXTZwHFZ6nWMQPJ4wF-Ds8bODRoapIMH2WOQVnRlGePBZRbYh4zB83VfvG4uDVLnANjz5yQIjHRNNGAJj1gVW0UMg1GDUqjd8epjabMQY5Og_131qnWE2y2RPwCyuMH5PqX34Dzpdk9uw7QwUPF2gNNS5z2RtagG1--_X2Nij6PZBoQR-OxdhtjSsEGtMdBCJBPZ54QII8MaJiT9B_1CnHw_KPvXT0OV_KUNpSnK4FKdv0TqFWTG1o_DjAAL4MaWpUOoZuCTc338GvRRh_iWd4zbBVU5t8tGhRjfZmMCPriQmMKpnK54zmDEltKaG5B5QuBc4X9yMVIcLHsxkajYtrtOdAZuRp5cOROlHAEdXsiFdOPL68yeFOINyYBf0j6ec4CLf6OeDFZZ-npYzCeIrGsl6jcuK1rormLqWd53GMU5oenQzH5CggkEXxIx1eNG-e7RkRMYar-txy8SWHCdfwCayWyrkseT5Vp0WE3T7vpYNIpM8-p2LYYrz2Hmyz8q_PMqXAfdjVY1ukECY8VoeL7HxaVvdms4TsneZI2yxtDAL5FFq417ByBUesUzaZLkhq-LUsPCYy3nBMqaVh_5OUbpmIChLhJ5dmSRQtk-X3dgXRa0chAr4GdzGsmbXRt31_JPDEv5x9r8ISD4Qz9rrglWOCqQdaE=w602-h543-no" alt="PuTTY"></p>
<ul>
<li>進入之後輸入 <a href="https://zh.wikipedia.org/wiki/Sudo" target="_blank" rel="noopener"><strong>sudo bash</strong></a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo bash</span><br></pre></td></tr></table></figure>

<ul>
<li>接著輸入 <strong>gitlab-rails console</strong> ，啟動由 <strong>gitlab</strong> 內安裝的 <strong>rails console</strong> ，其執行畫面如下</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@proj-git ~]<span class="comment"># gitlab-rails console</span></span><br><span class="line">Loading production environment (Rails 4.2.8)</span><br><span class="line">irb(main):001:0&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>最後則是透過 <strong>rails</strong> 語法，進行變更，以下附上幾個 <strong>method</strong> ，修改完成輸入 <strong>exit</strong> 即可退出</li>
</ul>
<figure class="highlight rb"><table><tr><td class="code"><pre><span class="line"><span class="comment"># find the user:</span></span><br><span class="line"><span class="comment"># user = User.find_by(email: "admin<span class="doctag">@example</span>.com")</span></span><br><span class="line"><span class="comment"># user = User.find_by(username: "root")</span></span><br><span class="line"><span class="comment"># user = User.find_by(name: "Administrator")</span></span><br><span class="line"><span class="comment"># user = User.find_by(admin: true)</span></span><br><span class="line">user = User.find_by(<span class="symbol">username:</span> <span class="string">"root"</span>)</span><br><span class="line">user.state = <span class="string">"active"</span></span><br><span class="line">user.save</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://about.gitlab.com/" target="_blank" rel="noopener">Gitlab</a></li>
<li><a href="https://forum.gitlab.com/t/how-to-reset-the-admin-password-via-the-rails-console/223" target="_blank" rel="noopener">Gitlab 論壇討論</a></li>
<li><a href="https://gist.github.com/shunnien/b8354bf918b54a6fbc9f64e8329e487d" target="_blank" rel="noopener">操作語法 Gist</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>Gitlab</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 PowerShell 來產生 Database Schema Script</title>
    <url>/2018/08/04/powershell-generate-database-schema-script/</url>
    <content><![CDATA[<h1 id="使用-PowerShell-來產生-database-schema-script"><a href="#使用-PowerShell-來產生-database-schema-script" class="headerlink" title="使用 PowerShell 來產生 database schema script"></a>使用 PowerShell 來產生 database schema script</h1><p><a href="https://shunnien.github.io/2018/07/21/sqlserver-Data-tier-Applications/">前一篇文章</a>提到了 DAC ，但是遇到了 DAC 匯出失敗的問題，看訊息是部分資料表的因素，但是那些資料又是客戶自己的需求，所以利用 sqlserver 的產生 script 來進行結構備份紀錄，而自動化紀錄可以省時省力，此篇透過 <a href="https://zh.wikipedia.org/wiki/Windows_PowerShell" target="_blank" rel="noopener">PowerShell</a> 來自動產生與處理</p>
<a id="more"></a>

<h2 id="PowerShell-ISE"><a href="#PowerShell-ISE" class="headerlink" title="PowerShell ISE"></a><a href="https://docs.microsoft.com/zh-tw/powershell/scripting/core-powershell/ise/introducing-the-windows-powershell-ise?view=powershell-6" target="_blank" rel="noopener">PowerShell ISE</a></h2><p>要撰寫 <a href="https://zh.wikipedia.org/wiki/Windows_PowerShell" target="_blank" rel="noopener">PowerShell</a> 可以透過 <a href="https://docs.microsoft.com/zh-tw/powershell/scripting/core-powershell/ise/introducing-the-windows-powershell-ise?view=powershell-6" target="_blank" rel="noopener">PowerShell ISE</a> 這是一個方便撰寫的工具</p>
<p><img src="https://lh3.googleusercontent.com/SkkjcmzkUIpekZSf-FJb0ynNJakPwDu9doPWbZMmYLfoAjLEEPCv0Ynr8_Vt4mOYzdym5wN9UtuaDOyFJMJvtHzEn4Y_JjQYLbXnielt7jJMV4qrxwFIobJnGXuLRxQqA5IBSyFJsuxEnYiZGBLXPhUBNWQ-bf3wVSPIA15PDgjl3uG-OBZ8Ip13-KTamKtJy_czCHpSXwMnzLBr_8X9MVnUIdCYYd6rJqcF9Zn9U9zppYUXGm7KfMkln-aleKrD0kHWV55ONHU-HzngMGZMONl8AHxQNxVGsI6THw_HoHGPI4M5NMmEU6GsdmQnLjszExpb3Bo8LpLEeSC1xu6yuzvNn-VZUOKArOBPhQWBCii_uNfoNya7BydvrYyty9vEkJ6Mo50Dl73IbcvUmITMjv5I4uF0tM7qzkc-ODG8KHMGrettmViPkTmv_FerEsMVILET2neipsWxG_HPMLctjNmL-XHtO7r4TBjyMQgljNQfQHdUrKXcQTwxzcQFC6QyUZc6NSkhfoGEECt8HH6HB14Vz9xAhvokhsaUfUgs82TsayOKTs_2ygRb3N7FO7WA4prr5JLVQ_Vf-TYdjZ0bdoCdWimOj14iE3oRW48rJc6IyPt8KDNOXxs3f5L1hZvpd6-CXWM3UD9ZeddbhiNv1SxgxYoJ_UFF=w1443-h915-no" alt="powershell ISE"></p>
<h2 id="撰寫內容"><a href="#撰寫內容" class="headerlink" title="撰寫內容"></a>撰寫內容</h2><p>首先簡單說明處理流程</p>
<ul>
<li>將會依使用者變動的部分設定為變數</li>
<li>檢查目的地資料夾是否存在，並建立</li>
<li>透過 <a href="https://docs.microsoft.com/zh-tw/sql/relational-databases/server-management-objects-smo/overview-smo?view=sql-server-2017" target="_blank" rel="noopener">SMO</a> 建立連線</li>
<li>匯出設定</li>
<li>匯出結構</li>
</ul>
<p>以下將程式與註解說明</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 最後儲存匯出結構的路徑資料夾</span></span><br><span class="line"><span class="variable">$Filepath</span> = <span class="string">'D:\MyScriptsDirectory'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 資料庫連線的 data source</span></span><br><span class="line"><span class="variable">$DataSource</span> = <span class="string">'127.0.0.1'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 資料庫名稱</span></span><br><span class="line"><span class="variable">$Database</span> = <span class="string">'databaseName'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取得今天日期，後續會利用此日期當檔案名稱的一部份</span></span><br><span class="line"><span class="variable">$today</span> = <span class="built_in">Get-Date</span> <span class="literal">-Format</span> yyyy_MM_dd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 防呆設計，當目的資料夾不存在時，建立資料夾</span></span><br><span class="line"><span class="variable">$homedir</span> = <span class="string">"<span class="variable">$Filepath</span>\"</span></span><br><span class="line"><span class="keyword">if</span> (!(<span class="built_in">Test-Path</span> <span class="literal">-path</span> <span class="variable">$homedir</span>)) &#123;</span><br><span class="line">  <span class="keyword">Try</span> &#123; <span class="built_in">New-Item</span> <span class="variable">$homedir</span> <span class="literal">-type</span> directory | <span class="built_in">out-null</span> &#125;</span><br><span class="line">  <span class="keyword">Catch</span> [<span class="type">system.exception</span>] &#123;</span><br><span class="line">    <span class="built_in">Write-Error</span> <span class="string">"error while creating '<span class="variable">$homedir</span>' <span class="variable">$_</span>"</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 開啟或關閉指令碼偵錯功能、設定追蹤層級和切換嚴格模式</span></span><br><span class="line"><span class="built_in">set-psdebug</span> <span class="literal">-strict</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可自訂 Windows PowerShell 行為的變數</span></span><br><span class="line"><span class="variable">$ErrorActionPreference</span> = <span class="string">"stop"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 讀取 SMO assembly, 假如使用 SQL 2008 DLLs 需要載入 SMOExtended 和 SQLWMIManagement libraries</span></span><br><span class="line"><span class="variable">$ms</span> = <span class="string">'Microsoft.SqlServer'</span></span><br><span class="line"><span class="variable">$v</span> = [<span class="type">System.Reflection.Assembly</span>]::LoadWithPartialName( <span class="string">"<span class="variable">$ms</span>.SMO"</span>)</span><br><span class="line"><span class="keyword">if</span> (((<span class="variable">$v</span>.FullName.Split(<span class="string">','</span>))[<span class="number">1</span>].Split(<span class="string">'='</span>))[<span class="number">1</span>].Split(<span class="string">'.'</span>)[<span class="number">0</span>] <span class="operator">-ne</span> <span class="string">'9'</span>) &#123;</span><br><span class="line">  [<span class="type">System.Reflection.Assembly</span>]::LoadWithPartialName(<span class="string">"<span class="variable">$ms</span>.SMOExtended"</span>) | <span class="built_in">out-null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$My</span> = <span class="string">"<span class="variable">$ms</span>.Management.Smo"</span> <span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 設定連線資訊</span></span><br><span class="line"><span class="variable">$mySrvConn</span> = <span class="built_in">new-object</span> Microsoft.SqlServer.Management.Common.ServerConnection</span><br><span class="line"><span class="variable">$mySrvConn</span>.ServerInstance = <span class="string">"<span class="variable">$DataSource</span>"</span></span><br><span class="line"><span class="variable">$mySrvConn</span>.MultipleActiveResultSets = <span class="variable">$true</span></span><br><span class="line"><span class="variable">$mySrvConn</span>.LoginSecure = <span class="variable">$false</span></span><br><span class="line"><span class="variable">$mySrvConn</span>.Login = <span class="string">"sa"</span></span><br><span class="line"><span class="variable">$mySrvConn</span>.Password = <span class="string">"1qaz@WSX"</span></span><br><span class="line"><span class="variable">$mySrvConn</span>.DatabaseName = <span class="string">"<span class="variable">$Database</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$s</span> = <span class="built_in">new-object</span> (<span class="string">"<span class="variable">$My</span>.Server"</span>) <span class="variable">$mySrvConn</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 進行連線</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$s</span>.Version <span class="operator">-eq</span> <span class="variable">$null</span> ) &#123;<span class="keyword">Throw</span> <span class="string">"Can't find the instance <span class="variable">$Datasource</span>"</span>&#125;</span><br><span class="line"><span class="variable">$db</span> = <span class="variable">$s</span>.Databases[<span class="variable">$Database</span>]</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$db</span>.name <span class="operator">-ne</span> <span class="variable">$Database</span>) &#123;<span class="keyword">Throw</span> <span class="string">"Can't find the database '<span class="variable">$Database</span>' in <span class="variable">$Datasource</span>"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable">$transfer</span> = <span class="built_in">new-object</span> (<span class="string">"<span class="variable">$My</span>.Transfer"</span>) <span class="variable">$db</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 匯出設定</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span> = <span class="built_in">new-object</span> (<span class="string">"<span class="variable">$My</span>.ScriptingOptions"</span>)</span><br><span class="line"><span class="comment"># yes, we want these</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span>.ExtendedProperties = <span class="variable">$true</span></span><br><span class="line"><span class="comment"># and all the constraints</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span>.DRIAll = <span class="variable">$true</span></span><br><span class="line"><span class="comment"># Yup, these would be nice</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span>.Indexes = <span class="variable">$true</span></span><br><span class="line"><span class="comment"># This should be included when scripting a database</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span>.Triggers = <span class="variable">$true</span></span><br><span class="line"><span class="comment"># this only goes to the file</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span>.ScriptBatchTerminator = <span class="variable">$true</span></span><br><span class="line"><span class="comment"># of course</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span>.IncludeHeaders = <span class="variable">$true</span>;</span><br><span class="line"><span class="comment">#no need of string output as well</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span>.ToFileOnly = <span class="variable">$true</span></span><br><span class="line"><span class="comment"># not necessary but it means the script can be more versatile</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span>.IncludeIfNotExists = <span class="variable">$true</span></span><br><span class="line"><span class="variable">$CreationScriptOptions</span>.Filename = <span class="string">"<span class="variable">$</span>(<span class="variable">$FilePath</span>)\<span class="variable">$</span>(<span class="variable">$Database</span>)_<span class="variable">$</span>(<span class="variable">$today</span>)_Build.sql"</span>;</span><br><span class="line"><span class="variable">$transfer</span> = <span class="built_in">new-object</span> (<span class="string">"<span class="variable">$My</span>.Transfer"</span>) <span class="variable">$s</span>.Databases[<span class="variable">$Database</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># tell the transfer object of our preferences</span></span><br><span class="line"><span class="variable">$transfer</span>.options = <span class="variable">$CreationScriptOptions</span></span><br><span class="line"><span class="variable">$transfer</span>.ScriptTransfer()</span><br><span class="line"><span class="string">"All done"</span></span><br></pre></td></tr></table></figure>

<p>這是按照 <a href="https://www.red-gate.com/simple-talk/sql/database-administration/automated-script-generation-with-powershell-and-smo/" target="_blank" rel="noopener">Automated Script-generation with Powershell and SMO</a> 此篇文章的資料，重新調整撰寫的範本，目的是設定排程進行定期結構備份，後續還可以參考 <a href="https://www.red-gate.com/simple-talk/sql/database-administration/database-deployment-the-bits---database-version-drift/" target="_blank" rel="noopener">Database Deployment: The Bits – Database Version Drift</a> 進行備份比較等…</p>
<h2 id="排程設定"><a href="#排程設定" class="headerlink" title="排程設定"></a>排程設定</h2><p>排程設定主要是因為 <strong>.ps1</strong> 不像是 <strong>.bat</strong> 直接執行，所以需要透過 <a href="https://zh.wikipedia.org/wiki/Windows_PowerShell" target="_blank" rel="noopener">PowerShell</a> 程式，再把撰寫的範本路徑設定到引數</p>
<p><img src="https://lh3.googleusercontent.com/TmrI92StXFgAKpTFhzdJO63tDniKA8gkz4Z9JohXTBVVs0cJkoC4hnB2A-g-VC4nBZ_X1GiN-FPbyllfQHjTwn59JqY5HiU9_9BR-wSNMde5KOt1DDzFLBK5bYA4HpGG3vtQyYbmZGd8NimYqRzYCwnvMrzdVnfNawXB-XaAMEbZyjolNvSKLL_1-unHto5rkMYnX9F-sg3diHECN8tlNGtdyg445m4p582F7aouDJoh6sDUFFT4dsvhnMF_yhTQcus0v9aIRUNwDpVXlbJ3VVvEywS0Dvq7R9z1JmnKWWQWLbauYx_IUobKdbDWm_NInaK91DUbV27qKNo5Qy-MKt5J-yF_Bdr6UN444nCq5aTDUUx_n9GJrxZwdMw79pGgRY6Lm13HPUtN9XNqcgvFXRpxYjY6jPerZmTBANTjUhmjJOBBmCW7jAdmVGvEWFduAukjRa1px9p3CDzvzc6T17FQ8n20IQE3YcCcFkdhfKYcG3idoxumDdu0HWxQTm9qRG-IvBVXGuhhwvH5KbYqJfjYTclAX3PP2Ya2Mp2c8XEx_hv8wcxrMDpIr54yLoeh6k9bhUP5U0C1F4_S-a8Cj5fSyHabE0U0ZlQlvl-zxzkW5OmqGytz7BEWSoKnhC7fGe4nq9Ef5b_Ktw8DoOh9qICwsTPLOJFW=w497-h541-no" alt="schedule setting"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><p><a href="https://gist.github.com/shunnien/1bd60b2d8fe9c06578a214d9313673e8" target="_blank" rel="noopener">我的 GIST</a></p>
<script src="https://gist.github.com/shunnien/1bd60b2d8fe9c06578a214d9313673e8.js"></script>

<blockquote>
<p>powershell 學習資源</p>
</blockquote>
<ul>
<li><a href="https://ithelp.ithome.com.tw/users/20005121/ironman/54?page=1" target="_blank" rel="noopener">IT邦鐵人賽 powershell</a></li>
</ul>
<blockquote>
<p>延伸閱讀</p>
</blockquote>
<ul>
<li><a href="https://www.red-gate.com/simple-talk/sql/database-administration/automated-script-generation-with-powershell-and-smo/" target="_blank" rel="noopener">Automated Script-generation with Powershell and SMO</a></li>
<li><a href="https://www.red-gate.com/simple-talk/sql/database-administration/database-deployment-the-bits---database-version-drift/" target="_blank" rel="noopener">Database Deployment: The Bits – Database Version Drift</a></li>
<li><a href="https://blogs.technet.microsoft.com/heyscriptingguy/2010/11/04/use-powershell-to-script-sql-database-objects/" target="_blank" rel="noopener">Use PowerShell to Script SQL Database Objects</a></li>
<li><a href="https://docs.microsoft.com/en-us/sql/powershell/load-the-smo-assemblies-in-windows-powershell?view=sql-server-2017" target="_blank" rel="noopener">Load the SMO Assemblies in Windows PowerShell</a></li>
<li><a href="http://s3help.cloudbox.hinet.net/index.php/cloudberry-buckup" target="_blank" rel="noopener">使用Windows PowerShell 來執行 Cloudberry 的指令並進行排程備份</a></li>
<li><a href="https://dotblogs.com.tw/jamesfu/2014/05/16/autostartservice" target="_blank" rel="noopener">powershell 檢查服務並且重新自動啟動</a> 裡面包含建立排程與工作的設定教學</li>
<li><a href="https://zh.wikipedia.org/wiki/Windows_PowerShell" target="_blank" rel="noopener">Powershell Wiki</a></li>
</ul>
<blockquote>
<p>其餘工具</p>
</blockquote>
<ul>
<li><a href="http://winmerge.org/?lang=en" target="_blank" rel="noopener">WinMerge</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Powershell</tag>
      </tags>
  </entry>
  <entry>
    <title>PHP 安裝 MSSQL Driver</title>
    <url>/2018/08/10/php-install-sqlsrv-dll-on-windows/</url>
    <content><![CDATA[<h1 id="安裝-php-sqlsrv-與-php-pdo-sqlsrv"><a href="#安裝-php-sqlsrv-與-php-pdo-sqlsrv" class="headerlink" title="安裝 php_sqlsrv 與 php_pdo_sqlsrv"></a>安裝 <strong>php_sqlsrv</strong> 與 <strong>php_pdo_sqlsrv</strong></h1><p>使用 <strong>PHP</strong> 連接 MSSQL 進行 database migrate 時，發現出現以下訊息</p>
<p><img src="https://lh3.googleusercontent.com/rUs6dN2BgmXZxn1Fkdf9y9wPlrEkUPai6UC50O_UktnCjzB_6es_Yq_s0YZn1ZcHcsFR53f0DTsgl2X63xVtreav4FFH5coZfiuFYz2TSOUwiRWJZraAA8x4yxnIY4tKKTcrEK-QcOvTuN3OfCgsqgtIscCfd8bBTZl-y4rxQmTeH1qDzZwdIxoaExCloWkYU_oS7RWO58njlu74_2Cjw4R4aVxFiUsyyKtjZEjnNxJc9dTHDDmnYbMeGVSMO6X4_fcU_8-jZytlH9WZrNOof4pw95L1dBpgTJMKMe5GRnXjrkAEU7SGAFX0CEAfyG1a7smaIiAV6WE1CQedbRUfhj8ZYX9MA_SfRTzWFBR5VoFM5yhOWtjUGLxqJpQi0tTAMvj3poH2fJxRJIUVaFXyHQQrYR-ehST5mgjBkrKRfgGlcr2xTsmCO28y1ttUQeut3aFFSjQwqGHOhlNjNxoHVKXWDPvAP9kWJKJiAU6Zh_2jvnOlT_kpVlSJrxmK3wA_U4bUdzXjjNUgeFdk6gcy4jKj-W0TtLJJq7OaZ4EB010E8seYcASu2zpg4oNLjTGH_YeVcFd0UP8fL8jr57W10AOJvzY-e6uy1N-JyyHpXAuqcmunYjamdkxgiHQG6Ztv80vwM43iZMpaawX6BBx8dH0sPm_AhP1J=w494-h340-no" alt="command line error message"></p>
<a id="more"></a>

<p>瀏覽頁面也出現以下錯誤</p>
<p><img src="https://lh3.googleusercontent.com/_wQX8-85GNXb53XFySs3IJX6Y324GZiR8JjNLFC0Bf_GknTa6emaIpbyS-YkKc5pK7Pf7JRrEdFivRagRD5AUnROiyiJIctAEUorOP7d0Cx5XEb5LG7zE9Vm2lz42G2kUmAEAquFwXsW8FOtvUf0AiFwK9PlpQoX88xk0YOTRcL1vaTcZbtAVf9rEPARz3KP1dvCFGFkhY-Q_D0ihYDHcEppYWqk-qZ8Avfx9EeW74Y9lssnoz6CxIaiBSPjN9yjxf5538uwAsRMvut3Sefizhu7LQJ17JMf4uixQ-igNL_7pGu14zxBuSUI9_fzrZ9x8mKa59-noH4KvAx3W1jv08c3AfRGwTQCKaUSv_a5hwCCUZYRRjE4rSLfNiypmP2caaQhyWvor5KAOdtQP_cTeBM6gMwN69eyHIwkczWxbfTL1frBoUy6-iV9xun8WVMw4kPZEZheo661MeD3-wuBPdqgHl6mE1WKSDHU79ix6lD9WC3p-SSeMs2CKnjQM0oiOUjlYmqk-dx0WlFUZ5uBV4LyLSNIB_9Zh51hU2xIB3nuRlEH6dklyK7medbK1CyDaaD05dHIAD1Ysi1QVzdYwRcKwG2mddr5YPeY9NLqsVXG4RVumfnByDTin1kAoEwJKiVMREiCdCODwifyYq_f8y8rZPgYB76_=w1109-h188-no" alt="page error message"></p>
<p>此訊息已經說明找不到對應連接的程式，所以需要安裝 MSSQL 的對應套件。安裝流程在 <a href="https://stackoverflow.com/questions/37245795/sqlsrv-could-not-find-driver-laravel-on-azure" target="_blank" rel="noopener"><strong>stackoverflow</strong></a> 有人說明了，以下針對此次的流程進行說明</p>
<h2 id="發生情形的環境"><a href="#發生情形的環境" class="headerlink" title="發生情形的環境"></a>發生情形的環境</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">資料庫--&gt;docker for window &#x2F; mssql-server-linux</span><br><span class="line">PHP 開發環境--&gt;XAMPP</span><br><span class="line">PHP Version 5.6.36</span><br></pre></td></tr></table></figure>

<h2 id="安裝方法"><a href="#安裝方法" class="headerlink" title="安裝方法"></a>安裝方法</h2><p>首先檢核目前的 <strong>PHP</strong> 版本，找尋對應的 <strong>dll</strong> 元件版本，其詳細對應可以參考 <a href="https://docs.microsoft.com/en-us/sql/connect/php/system-requirements-for-the-php-sql-driver?view=sql-server-2017" target="_blank" rel="noopener"><strong>microsoft</strong></a> ，我的 <strong>PHP</strong> 版本是 <strong>5.6.36</strong> 所以需要安裝的是 <strong>3.2</strong></p>
<p><img src="https://lh3.googleusercontent.com/T66cbUAR_dZA0gBKUA3EynI2BG7gHo7cKt5K6ZDvQW8L69Chqgm7rvV-igXK3QxvnhxatSAd6rXSlJUsy_yMkJQo29jEqbqSM3mI0Ugef98EFqPnv91NA4Aj7iPDgoADWSdrZFhwPnePMuB1q9mTQ1AvBhCGlfvnWxwMBYUwAtgnqyV3dieYOEzyKnkpOs13x48rCYVDRPVDs_oFcbECG8FFgxyYoNHAc3IdpH0lRNdeKtUnE3fF57dlGZcg3QGsXCZ9CjWNMUAdDOQfASPUl8uzlNww_8-8lPCYWaGYZEg5pInp_RlHd7ydMCYimL8Jb8BGqUcxKUlSRmxSuhxUhzswVEU1pzOC3neoq4tcP0-8YclLmC4jN_koYLCvuLyfZVwzg3SgdtKqoHFC7BYEg7xw667KGfT6RBAhD9KQ8J3dhPvqGbkkkZWeAUhgabY5hrHJ2bV0Qil-m1bT3M_S9ge616e1xVBJ8scCoboW1ZkxwlogXH64PW1W_Q85ji1MLxSucMDqGS1B31RL2UTuloIIaq8J1reCBJkn1boEd8jfw1Bf53fajOr-FJRHDcRTrYS9DicV213pUIP7Rt2M7pQC7Q2sDlo_7sNoWH5p44AFHvnvg0nGlKWPpuluwYMGVUxscdkaPRGdgSFCMu5Be5tVpKIoBdqR=w1031-h601-no" alt="sql server driver Version and php"></p>
<ul>
<li><strong>PHP 7.x</strong> 版本，可以到 <a href="https://github.com/Microsoft/msphpsql/releases" target="_blank" rel="noopener">Github msphpsql</a> 下載</li>
<li><strong>PHP 5.x</strong> 版本，參考 <a href="https://docs.microsoft.com/en-us/sql/connect/php/system-requirements-for-the-php-sql-driver?view=sql-server-2017" target="_blank" rel="noopener"><strong>microsoft</strong></a> 對照表內的<a href="https://docs.microsoft.com/en-us/sql/connect/php/download-drivers-php-sql-server?view=sql-server-2017" target="_blank" rel="noopener">下載連結</a></li>
</ul>
<p>下載完成後，將對應的 <strong>php_sqlsrv.dll</strong> 檔案放至 <code>C:\xampp\php\ext</code> (因為我是使用 <strong>XAMPP</strong>)，之後進行 <strong>php.ini</strong> 檔案的設定</p>
<p>以我的環境而言，就是在檔案內容最後添加，此檔案設定完後， <strong>Apache</strong> 需要 Stop 再重新啟動，這樣設定才會重新讀取</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">extension</span>=php_sqlsrv_56_ts.dll</span><br><span class="line"><span class="attr">extension</span>=php_pdo_sqlsrv_56_ts.dll</span><br></pre></td></tr></table></figure>

<p>此部分的設定還可以參考 <a href="https://docs.microsoft.com/en-us/sql/connect/php/loading-the-php-sql-driver?view=sql-server-2017" target="_blank" rel="noopener"><strong>microsoft docs Loading the Microsoft Drivers for PHP for SQL Server</strong></a></p>
<p>設定完成指令就可順利執行</p>
<p><img src="https://lh3.googleusercontent.com/CCNnZIJg31VRAAr6rMSkEgSP52noMUe3Mq_0ZhaYHeXFs8MUlMtLdNY7VUW74-ROJyV1ySHUO6ObvbMhOq7TPsQgOAHlJFPXDqeuGqa6ZUBWBYbhQ87vmDSDyWfllubyF5lh5C_RWrSBh9vYxwifOsx54otsPrYjaI6sAA2sT5MuAQnW0cA5X3b47L4ge4lHHmi46lySq5OAC7izeGFsOn3PYHYPN-XQtLs290CK9J5b3NW65tysP0kBsMIygB-np9qU482YDhLKD1j5C4JIfeOVq121vx6S-S45Vtg9C0VHvoW0rnvdCw8x-mAB1ZZj7s_oIZgXFOh20R_2eAmZ516QeFJShi7P-hTTDuwXUPtvz7EyJWtSKvqdY8NrQPW693JE-1BUhX6YfKbvqy0KzKVQc6ARNhCT2ARghPN10IkcnvUG3fdo-vB8fXndE4f_m-mi571se1vym4EqW4xcvaBrxDP2kGp_T_Pmr3ixGKaj1muFd8VUYbwpcoeDsWiKUafr1WmsP37McdaxXFaa3uo2hOYtH7NSiLmgZ6Lz-e-76u-dC5XV2wgQ9vpezoSeGDMIjG3qK5mjChk9xzSNCe5uMm9iiC-Hy7j41FFZJtGr2Vl8BEVB0VtkU9s3M_dICgylIViAnBtZbEYGq5DXBe0QiXn0YBpv=w715-h412-no" alt="command line success"></p>
<p><img src="https://lh3.googleusercontent.com/RLSYNkf_9JOZcmk7lJet-igoRl0E-Sfs4qFGxkCZFgdzaMMkKcLrRd8gl_8vEF_VJi9g0AyFx3MZsSzVJkkQz1jSobkpsMdw5CQowDy8PLa-HW0dLK_8ut79chYVTzDRkV-FoeYwBcR77b0M_1eDJwwGC61kGhr2gs4UG5-dKtCba1u70dWSI-ISc-WeyrW1fWuRSHLtwwBHiAsMPxzco9QLSm4tYlCFYN2jqk_4XxBlcJYsVpN4-apYU25yVbL6Hac2X_Lb6RlNt1-X_IsjsKCYZryuuipTsHjHD6T1TwsGz1v2-PRxX1UmlTzU1Mgu213uBySYJoX5AQOHDAAmXbHSGMnNLhb2RW3Zr2tr0QXmf3KeS5iZutDVKBVysi46-3ik7YLdFSnBfmy9jmb2woTGjJds7s6BPrqVfZxXojwCewJBCpX61Y2StUCm4WQO9mcbYjTA73NeQAZ9TfojZlj2HeTFPUvsSwZ7wSjgS_XIwd4P0GYsBsqdTBTU-Cgl3lhHgzDMdF4i4tZm5QqEE7RFv5v5YFc8Nf2NJwuU7YXP5Uio8m254gmjMCoYdmnU6A9bmQ6gpbBQ9xH0mUUYB-DxsdtLmzwelsmuG4haJyfsiRTHeq_dSmU2iIigpgcs6sTeTUkMgZ_fBrGvJHpfUXp8ILym_JQr=w354-h385-no" alt="sqlsrv database"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://stackoverflow.com/questions/37245795/sqlsrv-could-not-find-driver-laravel-on-azure" target="_blank" rel="noopener">stackoverflow</a></li>
<li><a href="https://docs.microsoft.com/en-us/sql/connect/php/system-requirements-for-the-php-sql-driver?view=sql-server-2017" target="_blank" rel="noopener">microsoft docs system-requirements-for-the-php-sql-driver</a></li>
<li>找到的中文 step by step 教學 <a href="http://www.ucamc.com/e-learning/computer-skills/146-php-sqlsrv.html" target="_blank" rel="noopener">UCAMC</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title>Google Map Api 使用自訂底圖</title>
    <url>/2018/09/06/google-map-api-custom-basemap/</url>
    <content><![CDATA[<h1 id="google-map-api-使用自訂底圖"><a href="#google-map-api-使用自訂底圖" class="headerlink" title="google map api 使用自訂底圖"></a>google map api 使用自訂底圖</h1><p>在 Google map js api 中，不使用其預設底圖，改採用國土測繪中心的通用電子地圖<a id="more"></a></p>
<p>參考 Google 官方的 <a href="https://developers.google.com/maps/documentation/javascript/maptypes" target="_blank" rel="noopener"><strong>Map Types</strong></a> 說明文件，提到可以使用 <strong>setMapTypeId</strong> 此方法來指定底圖，記得更換以下的 <strong>google api key</strong> ，可以參考<a href="https://developers.google.com/maps/documentation/javascript/tutorial" target="_blank" rel="noopener">此篇</a></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Overlay map types<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        html,</span><br><span class="line">        body &#123;</span><br><span class="line">            height: 100%;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#map</span> &#123;</span></span><br><span class="line">            height: 100%;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"map"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">initMap</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> wmsMapType = <span class="keyword">new</span> google.maps.ImageMapType(&#123;</span></span><br><span class="line">                maxZoom: 18,</span><br><span class="line">                minZoom: 7,</span><br><span class="line"><span class="actionscript">                name: <span class="string">"test"</span>,</span></span><br><span class="line"><span class="actionscript">                tileSize: <span class="keyword">new</span> google.maps.Size(<span class="number">256</span>, <span class="number">256</span>),</span></span><br><span class="line"><span class="actionscript">                isPng: <span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">                getTileUrl: <span class="function"><span class="keyword">function</span> <span class="params">(coord, zoom)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="string">`http://wmts.nlsc.gov.tw/wmts/EMAP/default/GoogleMapsCompatible/<span class="subst">$&#123;zoom&#125;</span>/<span class="subst">$&#123;coord.y&#125;</span>/<span class="subst">$&#123;coord.x&#125;</span>`</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> map = <span class="keyword">new</span> google.maps.Map(<span class="built_in">document</span>.getElementById(<span class="string">'map'</span>), &#123;</span></span><br><span class="line">                zoom: 12,</span><br><span class="line"><span class="actionscript">                center: <span class="keyword">new</span> google.maps.LatLng(<span class="number">25.04</span>, <span class="number">121.505</span>)</span></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="actionscript">            map.mapTypes.set(<span class="string">'test'</span>, wmsMapType);</span></span><br><span class="line"><span class="actionscript">            map.setMapTypeId(<span class="string">'test'</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">"https://maps.googleapis.com/maps/api/js?key=AIzaSyCmg6WKhPyvaIM7yJI-x3LtXkgvWJzjiZE&amp;callback=initMap"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>


<iframe height='265' scrolling='no' title='GoogleMapCustomBaseMap' src='//codepen.io/shunnien/embed/EewaEJ/?height=265&theme-id=0&default-tab=html&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/shunnien/pen/EewaEJ/' target="_blank" rel="noopener">GoogleMapCustomBaseMap</a> by allen_yu (<a href='https://codepen.io/shunnien' target="_blank" rel="noopener">@shunnien</a>) on <a href='https://codepen.io' target="_blank" rel="noopener">CodePen</a>.
</iframe>


<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://developers.google.com/maps/documentation/javascript/maptypes" target="_blank" rel="noopener">Google doc Map Types</a></li>
<li><a href="https://developers.google.com/maps/documentation/javascript/tutorial" target="_blank" rel="noopener">Google doc tutorial</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Google Map</tag>
        <tag>Google</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Sqlserver Data-Tier Applications 來進行備份</title>
    <url>/2018/07/21/sqlserver-Data-tier-Applications/</url>
    <content><![CDATA[<h1 id="資料層應用程式-Data-tier-Applications"><a href="#資料層應用程式-Data-tier-Applications" class="headerlink" title="資料層應用程式 (Data-tier Applications)"></a><a href="https://docs.microsoft.com/en-us/sql/relational-databases/data-tier-applications/data-tier-applications?view=sql-server-2017" target="_blank" rel="noopener">資料層應用程式 (<strong>D</strong>ata-tier <strong>A</strong>pplications)</a></h1><p>幾日前公司 MIS 維運 Server ，一些伺服器暫時關閉，所以測試資料庫也停了；幸好有針對資料結構進行版控，只好利用 <strong>docker</strong> 直接來建立資料庫，但是有些關聯資料表的建立，由於相依另外的資料表，變成建立順序需要調整；後來測試資料庫維運完成之後，才想到這些資料結構的建立可以利用 <a href="https://docs.microsoft.com/en-us/sql/relational-databases/data-tier-applications/data-tier-applications?view=sql-server-2017" target="_blank" rel="noopener"><strong>DAC</strong></a> 來建立。<a id="more"></a></p>
<h2 id="DAC-定義"><a href="#DAC-定義" class="headerlink" title="DAC 定義"></a><a href="https://docs.microsoft.com/en-us/sql/relational-databases/data-tier-applications/data-tier-applications?view=sql-server-2017" target="_blank" rel="noopener">DAC</a> 定義</h2><p><a href="https://docs.microsoft.com/en-us/sql/relational-databases/data-tier-applications/data-tier-applications?view=sql-server-2017" target="_blank" rel="noopener">資料層應用程式 (<strong>D</strong>ata-tier <strong>A</strong>ppli<strong>c</strong>ations)</a> 包含完整的資料庫物件，例如：</p>
<ul>
<li>table</li>
<li>view</li>
<li>store procedure</li>
</ul>
<p>依照這些物件定義來進行資料庫的布署，其封裝檔案可以分為兩種格式：</p>
<ul>
<li><p><strong>.dacpac</strong></p>
<ul>
<li>僅資料庫結構描述</li>
<li><strong>用來佈署、升級資料庫 Schema 與版本</strong></li>
</ul>
</li>
<li><p><strong>.bacpac</strong></p>
<ul>
<li>資料庫結構描述加上資料 (檔案會較大)</li>
<li><strong>用來備份、還原，不能用來升級資料庫(內容包含資料庫中的資料)</strong></li>
</ul>
</li>
</ul>
<p>其實這些產生出的檔案就是一個壓縮檔，加上 <strong>.zip</strong> 副檔名，可以看出裡面有許多 <strong>XML</strong> 檔案，這些檔案來描述資料結構</p>
<h2 id="BACPAC-操作"><a href="#BACPAC-操作" class="headerlink" title="BACPAC 操作"></a>BACPAC 操作</h2><p>以下附上環境資訊</p>
<ul>
<li>測試使用資料庫採用 northwind 北風資料庫</li>
<li>sql server 2017 採用 docker <a href="https://hub.docker.com/r/microsoft/mssql-server-linux/" target="_blank" rel="noopener">microsoft/mssql-server-linux</a> 的 <strong>SQL Express edition</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ systeminfo | findstr /B /C:<span class="string">"OS Name"</span> /C:<span class="string">"OS Version"</span></span><br><span class="line">OS Name:                   Microsoft Windows 10 專業版</span><br><span class="line">OS Version:                10.0.17134 N/A Build 17134</span><br></pre></td></tr></table></figure>

<h3 id="匯出步驟"><a href="#匯出步驟" class="headerlink" title="匯出步驟"></a>匯出步驟</h3><p>匯出資料庫 DAC ，將資料庫 Schema 與資料封裝</p>
<ul>
<li>目標資料庫右鍵 –&gt; Tasks –&gt; Export Data-tier Application…</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/hnffKad8XYVtjt9pGbnxY7X72u8MTGbLcH8Ki-W8din6aoAX3iY6lKDgVO2NYZMQOgiEL9WRKAOFXQ0hnq-2ImH1SmnXKtTH2jci9bUdEJSAtti-q2jURGbvMhWzb_e76PASher1xlg4XLsGos4t7wBLgxHZfKJN4i3NGSZVDUj7I-xiZLuqQFvFxs4v6jhzSpSxlzT2RqKCWFzH_1kpj2Hr5gcEcQPnTY-xS-09fg9UcjBjzNn_oPyFuItDCpn_rszq3Vx9YQrqoXkPkckLB8FEDY3kztj_xUZGKpljOUkLU5Eenrmibq0dRjxTkZfl8atOEL-SlPoy6FvWh1H-976Kr6SvLBcNuvBMeRlDIXeoJeb9zJby1TiQN-EOjMC7mLSmUEbySOPVILRedfQt4qSDx6GDSt0igIS3evvNES-jxCCSKocMgUo5q8wPLhFwJ6oOcRf2CnMIY-AK5Gmt00NcLxFXBUscUDekKRbEo0NKjTxXwfVo5b4RYB5ZE7esr8jidPMbOPFPHXoS5MVWDZOuKWel-en5DA07ktWHgD8aJChskWMQ9_CcBvV8caZ4iixXp41tCptjIsAQQ5BTurikY4n0fzK0rY1m70p5mLB2iKQ6DndkpaN6xEzz-igzvxdc9htmHjircQr8FzxXvP9iVCfrs0xU=w834-h915-no" alt="Export Data-tier Application"></p>
<ul>
<li>簡單的說明介紹</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/RD8sMRssfFgr8zw_-u9pYG1jMr9Jd09O8iBatm7taLZal9--pZodHwhBwaLeg4D5rV6qzD-1kvc3LKoDXTVUDp4tlZgNO2fKTvHU01_4OcFpf9RlQaRNvyn9otr8rJTVkyDDgHqYS0_KWtE4WNO8sndED_pHFqXd5DQgiarUGwWSGxUJKKANL6s-YlxeVsv6r90TcnubxcLT7OFq0fKaLqKSY9ZmUm7jdLG6SI3-Aro0LZ-on06vJttrDVfOjLYOk74F6NkfTGmC_g-X8kiokEjfCooQc9Nq8aUH0FvNEBtubY-c98xRorovQdPT-BmgxhznQMjgQgFuowosYkkU4nmlKdZM0_POEWnJCE5o25gUtHmHND9CgpUL5MxSZ-XPFxUST20oI91CHFK6fRPch2_HZW3UctOsIdCgw5CylK6_t6pUfmzO_CFVNWVOVlxWWtBRGD_cvgXvnionVoWIfWHTpI65gSHjk_ZT3v33ubqSfuOd2Hv-QR8QkgZ8Z5izigX6nOPAzIltcoFdPGc3b-HNi6sk-vP5zvgkq2_bL4YIOucO4t7oeqp-8YApgi5xFSWuPxtWWDr6UAI097dVMu0Jp0_zSoY8BWBZWruxvFSHhjgMRq5aUBiQpRaR1rAxDLAXYUx49pQn2l2OOToxtBc1OhHsdXMH=w1007-h915-no" alt="Export Introduction"></p>
<ul>
<li>匯出設定</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/VD2rJmNjGrW4Ok4Kb6cElMB5bZ8vKrG-uOStV_PIFhKTZyD4jzt0owZFepDDF_9IWFXDknDNhU-u_g19xw4YGf3bs9D14TNiwbu3CyplJL3zB1xygrG3MxDS8h2PiEz_34d7eNSPgipS-ZrX4P5pV-dn6lvSax0yG9IXREyVzq4ovNkKigixW4S9YtQKEW43HpuJkFhuvCRsgPkiP2ajAQhoHMuHKrYd-ZpzpFdF9D8Ed1Hi6p7EOqFrRKXxB4BOQ02lXKdJaDaOWEK-JGu8LROH0QHnNKrNNww5MuEJ4JoK336KnLXvbfmuyr1Mo-h4hxY3Uno--Qg2wDWnxDC5SPSf4QiaHndW2AMralSAdegQ4NLgwaKXw2V3XhdasqeWd1TpdhK3XEGSsqWUdv-hoNXPdSdU8hIbE32-7SRWJapvxvEPLF7L6jJMdcXWNM-0TfI4GLdrzkgCr1hcnQArvU1BCPDvZXXWb-FWqzgpvJvdOoxZcAwXruK8w9Ilg3GfYCJlwiqzg-GByX3PR0sY77BMNmpDz8gGnqLzxaqiPl4Q0FkMMZV_FFgf31GHpxzXwS1kADL8Qbp7VKCHslwgE-qni784k0IJ_Wc3kimsMnxgRl_EVHOT8hEQ8rF03-7lj_i9orh1h1PoAj5_cp0RMOBSnXU2IsIC=w1007-h915-no" alt="Export Settings"></p>
<ul>
<li>進階設定，指定匯出項目等</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/vuFWuhsG8iVPLs4krBCJoIWaolFOq3TgGhgbGgzT53WpmkttGTZjH4W7hOwKrfAaCwjcqkCwZMrHjce4dS5en_EHcSwtt_57-VirvDC13q6koTbC4g9i9VmwswvH8PPSBdt0UOHfqEQID4g5dc9dcVn4Vfzbt0mcGZUCod_svs5BjGhwtpQ49fhz3oI7DybKcno4YSIyDlteOORSisid9Rrctbq9rqxe4f-epZJavWyk7wFfTb6V7uiW7jKTHg41PnXpy8LXdRDS7_jmDUiLX2H0iK7XGHhjgR3sLogETAe0OZD3VtRdoERVRFsrs9J7omtutGQ3U8ejgeupIrkxf0RRsic41tWRtVlb8hSAkPCYhcdyciUMjuLpajNv1j8gj1vk6FQGyoGaGFVUWnr9vAY-fYd1cDv_kqkn8Asz1oP4Yu-uPEAqDaplafG8RF4_dIpyiJfuoxdmK9XSUl_AZ2_h8zIga4aXGkIYOfaT6JFh8aOhl1xjN3F19OggxWm_SIMmx6uqb9YyyKTAPxRnzoUK0iLSv6Dp0xKuKOJ_Q7xFxmV45wnmFZuxd54XiIief_t6Us951xLpzVRU_BhyPfHnHi60jVv9Vz4MnX6PKkyItePDSOMk7QnDH0mAAuv8TGYieq9YUwjTzGmUTr14-KE_E1VXO91r=w1007-h915-no" alt="Export Advanced"></p>
<ul>
<li>設定總結</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/Kw_T4BI6eQZNa6ugqcq1tS5YHPFwNhwEZY6CZPd4A9riznUvgCKhRVL8RVBWW9HM7jcFVIJ52EreDvx7BzBxwTUeHmeA8Fy86diS25KQMFBB1BCRF-qR4tTRGrpmU6xtH4Q0v_NschZHrJnpbsIIvw6hOEqHk1m0NzMhawLoyynTJ4C7UIbAejxbZ0EysYPufQER8XKp9kSBKUAPi4ciDQePBn4AjjEGR-w7zTujuvwzlmSUgHQiZxD6RazMgxi-jf5COMQZml97C84knTTubL8Xg0b41dRkH0eHGB6y_VukDnwncAZLkYjP0trptsehdEaE3zTG99Kl8WjjV8g82VTk9HOro_rPaoCysZlOgjvTumiJcjF6pmjBtg21GW8M1iHfVg0CM618hPsaCGiL4JlbJ2b66cdC3rBbbRHuRSAUafXblsRYFCFqhiugDNsWAiukMxEeP_O1-308GSzq-seLmjhkaJ9WtQSGlw1SCJ8ORRyglpQhFE04LjU0_Te7_UNrh6pb1ie8Vp6LAYCiFSZpyEplqpb-I-GoTXESEp-4ZITILMI1E_pvEoqf3NsAXinuENI0CrHK9Z0393ht57l-WaDXldZ6-pvyvSGr9pVduxTiTMAoo_YcKmGG7CZX74iAaxfuYqWvsFyEnOaLNM_-n6Jkp5dl=w1007-h915-no" alt="Export Summary"></p>
<ul>
<li>匯出結果</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/_MkkMU6WuiIJmAELMF0aQgsNxitUj9OaTWrva716ivXig1tge48KVYmqyQ833j5824qnh3ZN-NQ8YPHybIXjDFRemqc2GpuJrEFdGi1aMvAMv7DTtJWt_i0NKepueXAjA8aT6caDCIHKNeKRnWzEUWmobU6bGZ8zbPE3gXkBhnkW16hLOUS3Jn_4SBGzNkUed8gLEBlg5AVOB1RYFNOQI6HPsQ0K0gO7qabVlDjoROt8MTWYwZP86SIjffQbr0jp9SkpXFi5wP_VPqjbrfc9Klp_L-rU6p0zkkmKgYlwoBTRYcaBTgMSYLVv12aFklQ_5n56QBS9bN3DJcKn2rEk36R2rGCWW1I4JqTYmVqKIBgu97ZMWlegIMhxRllQM7D4rRmlXgnOoO_upDJhawtjD_io3k3FBJJBavWXT3FV5smrardlZoUAAVt_mgtsQJ9LQPqvIKSpJrmwqU406NtZHyz39OGqQ4naPiHSIsj0QBVyb625qi7fVP7fy2C9IizZhHQrTGf3RwCH6M0fqv5tnNrDX2gGos-Eiyl92J16BF_2sDx4iYxM_7j5VY1aDbB7pPoxHimt96tAs9JqjBvGkbWBTOMhcqF91gR4gaiE9TT6xNqDIQCGSRCLYTZd6V2mSfrolpHq6WDXqtOWHwVmR9O51OKu47bh=w1007-h915-no" alt="Export Results1"><br><img src="https://lh3.googleusercontent.com/F0rL9wocjnhqf8i4yBhdlCjpJdZ9CqOvI6dVodf4AzUhpZ38mDoDyasMtiZ-nNcadB8l5z9PH6rhb8-Jwxq3ZOVhbs_AwUgSY21it6ry_voVAYiCc5eb4PDQ6pIJvtaNUbf97x3ADEc6vgvmURU0AsttL1oeDrbaybZfGZwDkm0ZrRJkN7cW4EMKPI6shyEXD-3M30WxhkNkqscQwCkIO5XVgWUh6P2Kyu8iqNon0WG01cP4ob3PJ4Jdo_5aK1LeQ81hRKWsv4gXjnc1fZBS2Et-LJ7I6_oL6iyoYqev2FDgzWGzWPtOEEkr3UDTjA-2DMhvrFG0HzOXaQ1z9mOG6x3Ephqa3-mLL8q0sX-2oG9dKkrPJJlqogef9nDHm3Yf9jUyw859KzzFHGd4GzcVxhbhV6up2BeGiavuSHoU6YllHH-eajgGfbLC_vP6StZGwMKlK7xpqEEbs8D-BB43ToKb6PJTmI0GbDYtssJwUz9mgws2LbIEcZWeL4aSEWBhiKK3wpYE-CPByKUww1Ubsh7oDmD8pWb_5Fu55827u00Uj06ypglWQh0q0rVfngxXf7QeS1Y26z3H_rB1kYvjnHFF47dpjx0JvP3jnljsphAFJZD7khVBW06i7fvcOkM2ten9F9vRWFoy9YXJLHVTrfZkxgq0Z1u-=w1007-h915-no" alt="Export Results2"></p>
<h3 id="匯入步驟"><a href="#匯入步驟" class="headerlink" title="匯入步驟"></a>匯入步驟</h3><p>使用 BACPAC 進行資料與結構匯入</p>
<ul>
<li>Databases 資料夾右鍵 –&gt; Import Data-tier Application…</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/KehEgN3eVF0Fc7ly9yyyTZ22XAfX2IiP409DFd4Hzz76HhX9b13CLyto8H3BYkmlNjf9UL6FkUtlpEMQGfulW7LAnl0Fr0GbVMP_75T-K9q9dxoPRUEJRziRX0aPio2NdxLUP5kaXOOJYCvEfMSv0eG0EoTDwJl9EMmMMN54_nJbdxwUO6xlDg2CN4pnnJv3IbY3vL6hTpWa2B29HhwgY11Jnd5XsFmMsCGCQAhir6uJzRvZ7z_7aIDMi9ZSkCKk0rN3C7SivMmH1NTWfTCfGI1lvEk7qgYl24JLkEQID3jSr0_0NmOkWr_QFcFSkg-OozfryukhW1WIkf_jsQhL7h6BRju8YBs6u_Mgq1ztbmUDGLgoYZJ6-iAWcwaG17K9B1aSxzyZBln-1Qqexi_hnOTNJJPCQwVIOgLxAcTjLSHDrj4kNIDc9O5lv22qC-XzKxmZ6kZRnsUm0X0obLZLkf4a5Gj61M6EEN2k1sVm0O-GcPrhqbuxx7T42HttwLix_Q38I-otwzYL2ug3ceLAArNCQI4ldRRRLveryTj8-XnpoV_8RxpL9ZkkgzpsXX9DbuXVimQVlvBOiTe23m6b3rbFhkSdOtEr212g4ljeTffm-qxeo0QoJVsHJvfUHf5ONFnM00TGtFD_YPIl9mjJU_uxd75qegbi=w442-h399-no" alt="Import Data-tier Application"></p>
<ul>
<li>匯入介紹</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/yVZJxQMsLkIf60mo_CYirOuVN29FoBQcuBvYsZf0Bguft35qT4VTdAVGdY4eZ0stloNcrrXmNBpyTUCTP7HjKjxPMr2nv8Nr5z2LclwzholLmCE_bCphapXUGmJlsC2gPTMQN7MSZ-k6mwKs32cKrj8TcSyocO1PNU6BceATrmU5E9RZH3XsHmFT9jURWakfEZeVdHkljZnRwrwVwNwKRsd936kR1I0v5B6uyY4sLsaPwF3e_uivyx6Pgg1MOkttRtv01W37auw-SaYfIz9TY7wFsYsnKs9roA1FG9kEXhIsjprJDYa7c84jEng91gRlpFbp5qJBJDiU0B0xoQY5varxLljhC224EkyA71y62k58RHHgemgiEsWkGDCheZj0DeNmRKzSXt3kXCGPwRc7ur-IH7k__hVmtGRVRlSu7XiyElI7VZjd6IWYRq8DAlgqdN3jrlT76J2wTjuf08f1twJ7ysFQczG2q-97wBSeCWOa3T3uuYYGZx3ds-8bqp1kwmIhO1TjitxjalQA4QHlIG411bBOL_FXx4ebG-c6-BW-u2GkC-FyS2PrcKW5wwgmGIgx3rsz-woKYgRF4oyUWktvHxtYevOfpHgZUT1a7SU090F581VDzS2pqGB5pmEpcbMo9N24tuCHrUIYelNVWwQXZKYosRqe=w1007-h915-no" alt="Import Introduction"></p>
<ul>
<li>匯入設定，選擇 bacpac 檔案位置</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/lj6HdQr8cdIa4hsfiaLosL8MYLRrHsRUV7OB93zGJazMF3ye4mHSzlWL8GDqhk8Ev1XbO17i6GdtPrEXZN6ATJBgPxpzvUi7tLP-ocI1Ig7jZgqbwZ5-h680lP7p4qNudwVPGtx4NwEQ_h9aHG6TeyEEl4Qku-oAJFZdwd9umwenVnPeDxcLmyjmvyNhXcjdzirOxCdzo4xrN650dFnZ-uD9qApjzR_02MlS_NSYqbVuj-lT9W8nnL_x4ZkI1d1BVajBBQNYBe5h-zO3oY1OPOXPS2GHUb-XFc7pWv0xRdnLfPTe5yVavtPxrOPhdrPvijZqBVOVgYkq7l3_t4j-Jk0IQNcJ1oOkpt3m2Xa1ViM06c4EOi9mGqgP8BMbtxRMf_SGsWaQoMhpJZK-CjBv6P4vZd2BcepWO2nNkscUN9J2J_Myo5pRyZKu52WMq3bm1PQCxYCUzaKKNoKprlIEd_nvdw4ngeRRM-ftDlv9rno2S_JSw_H2S_X2hEG_Pc_rkEgw44LOSmnESQgWCBQ8O8ytYlcwfOBI7NWENFjbzDajSA71zCzu6KXu95vDsiz8swlo14KftqM6afIonS15mjw5HwdlhaojJb_RFITdUnZovVChPQwqiisr537qrbLkfMSvpy91PaAp4r6Y8Ra32Ti6XxSDTu7L=w1007-h915-no" alt="Import Settings"></p>
<ul>
<li>資料庫設定，設定資料庫名稱與檔案存放路徑等</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/3n1aHUsGEaxCNXCch4tG61Jf-icLIbgq4zjHOOBsJztTKCNHRt3TSl2Fq43EPEbUDyPUIvht2mkEi9OmSO3ebrr8Es7Jh_UMOUqatc2iR1eCVlRhQzHNcYRAb4tOuHBuwpm6I1T9JfhqYGeihBokuFMHtPjBWSR0PfoIRINFjxG-VlsEDWw-XIUF_5_Vd-zxJFZdkEpUl_iDhFhkgStNiFl7FX1qtmY0vPzIy9Skf7i6FTHO42MSWm1VMcX2371YxjnnyW2xYbNK_1OxChdp8Nrpy3qvvMJ2nGPPbdipiAE6pWXmuSRUSi1i6Geak_KBskek6FrzaozI6WifDyBo3nLZk32aP6mbEbVgUiiGsyy9goSpXVzGlPC5zZlZVxDbXnqPb8bOeJOKMct6VXXeLcyd8lhmqQxrYRTMKagzKVmqeyUeJs0je6mQ2XzNtyGSmMAvNQL6IMSQ0qhXBivF0esq4YyGz5LIuyPETnveyhM7TODBZ2LE5Jg0fzRp0fkoxW-KnK_MgLIGPjXfEq5dWXSD52NQ9ekI0iqloAoRPK9KV5tB7TnZCgy-g3AQ1skupLDyhVpvnaLt7tPyVb_cOm4HP9ouJ9AxesrOA6706BHFQfWDtyOb74opKBgeZz4CjwKiBXEVkpjaWORs-EjTr3pW5mgar5mn=w1007-h915-no" alt="Import Database Settings"></p>
<ul>
<li>設定項目總結</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/fQuyW8-2ZcbSq_nx04BQzPFyQjqU2YNAkYw5fGyDizQtGvyvqACvG3_TR3OrJvmba3PTGn11ELpEdC7H8u_ekmNQ9nC9DXmWpjKxQ3ppaO3CePovSCDUUgK3-oc5VkI8zJSJVb2t3i8K-Z79dcVYvXyL8Rc8sJQlaErLfNsvAeqWwWy2qDKlXQ_G5pzW4xYeo2j1r4vqcZ_BBJY6hrb64d5-ttxO4TsUq0jz3Fl-B-yfhoUXLnYhoQuMIyMT4IJ17ADiVekUcD5h8s48_m2G_aKBXKOPcY5NNUbmovidON-wvFNS92Y78YdBpF5Mv4xGirhZNxQBRa75E6WZ6xjOUUpI_StEb1bTu5u5x3DMG7A8L6TIzfY4mGD1246pT74LWgmQR4mTXlUtpnvJVsSAsfztXPZ3isTjSn9B5J4l1GwDAIOM1kEBzVz0PYCbivZLImhIAMgJI4Wv87YWhXnlsr3_KuFel4PMYrTEyPqdKP639FYMg5aUHawxU1_iHghBd3MANmiQ1PJ2B4zQgfOjrYOYFkqpyZf4_t3H0xszzb1uC45UsHbPpgbXRc9CgenAh_MUYQeoaWuAMJe3V6j85DvtHVBAnoL0SYVVvnaNU-YuDmbF5xTjMRg3-V8YKr5YAZZY4EeXrxysHngU7ImB6uEuLbzdNwYH=w1007-h915-no" alt="Import Summary"></p>
<ul>
<li>匯入結果</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/nev9zcExZUboy3JSohWqdykli9SdHFYJhxUSEregMU5QYLTdu2ZLxupxfTufWKL3Wt91cT_XpawsPJBSmRNeylkISz6QJ18Yiksm-L5gL8WEn4s8ki9e0Oa1I2tqCcxs2Vj4eFUQz7zIQH82lsP3bCMtsSfx5Ho6f3DelEc5pjxL0hkXFByRz3M-qahWUjIhQyq91xyS8rXrdVe1pTBFcDUMgsqRw4f71Cl7kcE1LFkq8HfbYLX9nHHSvos7_Ta6izAAfAbz2_JfeWqy-qqCgokgcG4-I04LEXDjkcC3B34EP_J0_-DWJFLJT4SNOFtn7CTvgkjWPqea1kioQGZuJpcvmh9YIe_rGJT2gJcYPx7etnzWgB6nelJgIDhuSDtiNDRY0WsaLbYyxXbSo8TUgfBzwtnRN4Hymd7G0WT9b2KtGHDlQ3Oe8MHPVK4BiS3540LndnU2wx_905Y7ERnRQFVm2-NDIEyrCdzYI9jYKTXvrtooXk08TLEux9r0-Ef5tegiK9JSzv47JK5QnYjcEzWV6CifL5mL7APHVBIrNT04XocNOz_hDnmn8wYOgvjSiWvGTAPQ5Oq_XVRVd1ySOoyw_rqJxubnuiK_GBt_zDzJ1LRHbi2O9Sc9J6qbHyhfK4UiR4oyTcRAAvz7Y3uRfq-HflPXz0fu=w1007-h915-no" alt="Import results1"><br><img src="https://lh3.googleusercontent.com/O4eQ4B7FPwJKjhRe5dIb2Y3J1dV1JYccDS25k6LLX2DSgRJOSAygRkGaT6w-NXsJnqHwX6OHw-iPUzviZuzYgQO-TiXUYTuEJim8n-RsVLTE_mQKHm1yaQ-62DG4mWPgbCJloGPgc7wWcdt7y8dU-A5stKylmzuH-TZ-ILTr7OfXr02ve5maXE8dfrZzuj5cuigm0NKZwxNT1rgbSo7wuENtE-o1nMYH33EBbOxz4X8N2LPoVrMzZv6bkC3ujo564qsP-8Qdj5Du9WJC1E4xKQby-HbMHqhkucnOCHInYIvx0oFCLY68SdZbujV9z_xnQJtrGKvbDlPdGtT7JIctqqBQZ3gGPdUOGZbKylnPrtgdfAE351rt3rr8NDdL5MUkvzZ6KsQvqlJ5cxj6FGagN2zvw-x3jAl_gFvkJZocp1NHsYnG5L7jtsEmRpm-kKDhsDk0lWsIZpaFmvOqLokh6grFF8_V1oOBqkdB85zBzH78IfM99VmNHeXjJIMxeIL3Jp9S2jAqzpyxK1aUjCOacjrgGLjvx2ReKmuouHtnW8T761X9rtKPQDRD2ObGMrp_9fOZPhIk7Gx3-LyGEc_B8iLiC8DUeKp0P8xzPBjSSY7_DtsUUCgq2UdiWyuwQKm5T8R-Pz9vtmI7Yd_-r9cNYDegN02E_Ayv=w1007-h915-no" alt="Import Results2"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://docs.microsoft.com/en-us/sql/relational-databases/data-tier-applications/data-tier-applications?view=sql-server-2017" target="_blank" rel="noopener">DAC</a></li>
<li><a href="https://channel9.msdn.com/Series/SQL-PASS-TAIWAN/SQL-Server-realase-management" target="_blank" rel="noopener">channel9 保哥 SQL Server 資料庫版本控管影片</a>]</li>
<li><a href="https://blog.yowko.com/2017/04/sql-server-dac.html" target="_blank" rel="noopener">Yowko’s Notes 各操作的 step by step 操作</a></li>
<li><a href="https://www.red-gate.com/simple-talk/sql/database-administration/automated-script-generation-with-powershell-and-smo/" target="_blank" rel="noopener">Powershell SMO 匯出資料結構</a></li>
<li><a href="https://www.slideshare.net/WillHuangTW/sql-server-49883851" target="_blank" rel="noopener">保哥 SQL Server 資料庫版本控管簡報</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>ArcGIS JavaScript API 安裝在 IIS</title>
    <url>/2018/09/06/ArcGIS-js-API-isolated-install/</url>
    <content><![CDATA[<h1 id="ArcGIS-JavaScript-API-安裝在-IIS"><a href="#ArcGIS-JavaScript-API-安裝在-IIS" class="headerlink" title="ArcGIS JavaScript API 安裝在 IIS"></a>ArcGIS JavaScript API 安裝在 IIS</h1><p><strong>ArcGIS JavaScript API</strong> 提供的是類似 <strong>CDN</strong> 的服務，但是假如客戶是內部系統並不對外的時候，就無法使用了，由於該 API 包含許多功能模組，官方提供了此<a href="https://support.esri.com/en/technical-article/000011974" target="_blank" rel="noopener">說明</a>步驟來設定<a id="more"></a>，不只 js api ， SDK 也是類似的設定。</p>
<h2 id="安裝設定"><a href="#安裝設定" class="headerlink" title="安裝設定"></a>安裝設定</h2><h3 id="步驟-1"><a href="#步驟-1" class="headerlink" title="步驟 1"></a>步驟 1</h3><p><a href="https://developers.arcgis.com/downloads/" target="_blank" rel="noopener">下載安裝程式</a>， ESRI 的下載頁面僅提供會員使用，所以先註冊或是使用 google 帳號快速註冊(免費)，登入後在<a href="https://developers.arcgis.com/downloads/" target="_blank" rel="noopener">此連結</a>即可下載。<br>此次安裝使用 3.25 版本，<strong>API</strong> 會下載 <strong>arcgis_js_v325_api.zip</strong> ， <strong>Documentation</strong> 則是 <strong>arcgis_js_v325_sdk.zip</strong> ，假如只使用 JS 部分，可以只安裝 <strong>API</strong> 就好</p>
<p><img src="https://lh3.googleusercontent.com/4S8RWiivvmDb8SNBERU2818cxEXydYXvbBb3PkQF_1IpEH-MGGew-d3grCfNdgGYjPeEhywia_J8BKmKFaeUWKlR1jpn5qPZfFkJKX5tdwjMDkOiU7YzV6SGINPGB-joSXpc_Ahs9WLetuluBHH4ZAujeXF3FqJzfJAUx7Cf1YAhbwNtjxgoCcLaqOm4pnZbpAX8ulGQjyDT1wqSk9DmLWXjgTVVPsRBD29ph4OJ1IvW1Sz4zA18TBdoOobzNQA54njKy5tGniySDhZrolp0ZJpP9M1r_We6gt4f_9PYbMt21SSlwSQPRKu5su5_vSQKPSqW6GDJeAXPiB5loXxgs_eh8dktdhwDAehp4yMvW3h9vqFXXoov_4mge6hZojbXl1C2mxI2Gw06sfMWnXmwdfkLI11qYMgDSreSjYydcnFD0HqH0Pzh3q0wIcuC3uhRlNva561fbmtyJSUMqpcxwUk8sAUOJUlKZD919gP1Eac-VlwVk9jXrpJgo7rrc4fle5kUP-aYQ35BDMWo0opkCVl5cl4uZGWAzK0vPrAJCOYxpxnkCKgTaZolX3v2KHiALZi9rd0NLhfrxWXvRsByX-fYLP0nbb5OXqA43Cmw_P4ocPmY31oZzMlTb4bv9MCPI-VEPacNT2MaOeLYRBB0U6uwRKO5GUv76o6QWmtojTzFFbdThPs5UVKt=w1451-h476-no" alt="download page"></p>
<h3 id="步驟-2"><a href="#步驟-2" class="headerlink" title="步驟 2"></a>步驟 2</h3><p>將下載檔案解壓縮<br><img src="https://lh3.googleusercontent.com/jWHbm5wPINIVGPsI550NtGhlxdX_PszPfGbSIF5C2iwOonFkB2OVeag414Gi1XNA9TtHHPxsWEMVXPZV-gaTfGtskmXq6T9qjzpvJY_zSuoZmdSAgvKEkeYYbaYE5Bjz52wsqHcM034LW0icLdamhfOCUPHt07SouUp_kdR51WGou1UJrBb3oJyYzWZuOqI2EKzC53yfVDm9lP2StpFrlG9OQ-U1_cdDA5NrvpTXakEPZhmnzw97Gvq0UDjfk2l0YaK4kyd4GCVj8z3069C_yqTQNocbbRrTlqaOxJHWN6NsQNdjeecxlH_sGthy1pkxzmUGW9WQvzsXYKEB7-XuRWSxb9xHGTPpStJuqkMFWI0Vazc-xJv-Oj9z7SWpr6zrTVunoGdIVt6lnE-K9Q1qS4w3ZNrqULyYEwFSESjlhQbMVsH312l6DHVs8VlsF_JnCouIO2998zcY4IpGWsUvHOhrtlwaIb8slnbC2CgiD-0f_4S9LNfEu0qLbEP-ph-1tduY2fKZTxHObtCVjVoSAeWbzx6gkqVzyPQQG_f2KiCwwOTuDPgSpo1uAGxHk1MSOlz_B0Psd1pX0CAdRpG41gKA6pI2EN8XOo0um_Wp_MwLo9QyHxpWsV3dMG_d4KPBNiMl_iYOMAXo3hO66wCPB_2YLCeMbBSTrGa98w5ToT9Gyo1Jv7b4fLx6=w245-h132-no" alt="unzip file"></p>
<h3 id="步驟-3"><a href="#步驟-3" class="headerlink" title="步驟 3"></a>步驟 3</h3><p>在 IIS 根目錄中建立一個虛擬目錄 <strong>arcgis_js_api</strong> ，選擇剛剛解壓縮後的檔案路徑，注意是要選擇 <strong>rcgis_js_v325_api\arcgis_js_api</strong> 這個資料夾</p>
<p><img src="https://lh3.googleusercontent.com/tdxDWQhkuDaNxE1XKgWVE8LMQXXAhoBrv7vrsMX-GyQ6Sj974Wi42m_EawS3zrUCESUZsVdK_soMetIB7YsQqCPfYCJOLq7CTVA2nOdiLG5vVBmqFKiQVJ_CV5US0ITYUWSWscGz7FNdQqBlzHK7MpW20-NArXT0_Zlilj3DMCbQrEnaZ-qWcOhPkATIAl2oRPxQoGY6_5sOR2KeNcUp2FeLhE8-20V_gJnm4s0yno6zQ3864Ro_VIJdtzgaiOBzx2JoiJS-SdXK6cViLeXQyQZzfXnQSkU2I-gDNlZEKu8BN0MgpAUZOVaeoHfR6CieZLNjjwE_tcSk9K-fcWdjX4N3hbg4RF7Qjs1ZGmnjacmmvPXxuLFH--95foKE9htowAt6iCjHNrrEbdBbcb17wV3sy46oVPAUeToVBNzYOuOa0cer39txeC7LSH9GKQNM5_FezE3jycUCpfehBwv9kZZFJPdPksUnCd3HR6UmrS4bsBW-cKAzhOEjBp-7eZ5shhJRv4rL9xQ_wvQlXPBUKxMHZhadcwMecpR3cCByaQ54pro8vMjcYRQHglvQmZUnTp6n-_kRX5UbpTpVGd886gVgOKYyUob0Y7AqTJ2CWFl9DlnwlKjQYFxJJxgNf7qUqPz1s3duhiIuIZTOQn9lKTb_wsUlvWB_yGVJ6jCGddky_xEo-Mkgqdl2=w550-h452-no" alt="virtual directory arcgis_js_api"></p>
<h3 id="步驟-4"><a href="#步驟-4" class="headerlink" title="步驟 4"></a>步驟 4</h3><p>上述都是 IIS 部分的設定，接下來則是修改 javascript 內容；按照以下路徑(前一步驟設定的實體路徑)開啟 <strong>init.js</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">arcgis_js_api\library\3.25\3.25\init.js</span><br></pre></td></tr></table></figure>

<p>找尋 <strong>[HOSTNAME_AND_PATH_TO_JSAPI]</strong> 此關鍵字，替換成各自設定的網域與資料夾路徑，如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;myhost.example.com&gt;&#x2F;arcgis_js_api&#x2F;library&#x2F;&lt;myVersion&gt;&#x2F;&lt;myVersion&gt;&#x2F;</span><br></pre></td></tr></table></figure>

<p>以我此次 3.25 的設定則是</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;arcgis_js_api&#x2F;library&#x2F;3.25&#x2F;3.25&#x2F;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/Nz3_35XAOtCE8e1bl0myQlD-2OUh9eOsE-Ocfw4u5QUJ1uwzYlqd48NqUThhsFA8HsquXF9FiZBHL6tpWlUo6bj74VxCFJEsGXtIZ2fHv4ouDaFUVfvc8WH8p5OfrpqIre0sAc8-ueyN2h_IX3UrdKvObP_qj_tR55FNmeJLZBP7z5WoHFlwzyXZaNv5mSiEiB0poHIjiUOTI-Tiry0Ol2N3feMu9s_2Bx0OGqh3C5Sckn3ouTlnZGV4oESwDWAvaJqk982eTl7LSXCYxO75WBrLU1aRTMWtXt0rqzmeBsI1LpXdaQyOjym98UgrnrCrDgzAX3uY6XE365w2xwhXYO5q986mlM40H3Xxl4LqSGZexcfSVN9KgMEvALfZljJvyPiIqQyrMsYWc-cjfGTBgD5ZccKR5XBurx0M40XWzaBDOD1rg6XWi8m1uL0jB6mAz2yzC20MnZhD0i0-pbySJ2PBefmPfzvqSTt4XcQPQyks0Szj0P7osXhlFbift8c1i0v0z388y24zqAZhfwarrIa_jvrRF9ENQya9rNLLGZME3o6U4bIA1sutMEeet1PGiz1BorDSWy_qSbZj1yF_bErcxMpNzkqsHclfNjbfmfoGftZZxk1lZbGpryMTAa4ZeyJ0ZKz9pgJGXcMWHZALCpFmfA3L2KoW8t-8L_7iA_iurhmaV-unk7yP=w825-h191-no" alt="init.js setting"></p>
<h3 id="步驟-5"><a href="#步驟-5" class="headerlink" title="步驟 5"></a>步驟 5</h3><p>開啟 IIS 路徑下的 <strong>dojo.js</strong> ，就是設定的實體路徑</p>
<p><img src="https://lh3.googleusercontent.com/eFKzlgFrbIH2PBqM2Pnw_ZzOZ3Vp4xFGSdaHSNnx9CS6G0EzWpaE4vABJJuopKzUccml39BfXLTIeic0Pim_8IrdlWU6FfEFJFzRmXE7wRmqm451nNk0-obHUCGNN9GqDE11RTuPXOddxZScb2aq1boXXndeo6dWA-ydbeLC8NJodxECP1F4ofkzNRvcirdZ5nKftV62rtQ8AGauIzYV0Q2fiu7UGIs7kVdrpGE0oO1gRLXeHv4vKTBmMzlZBmkYvfKNA1NUQ_M9I2kVsJrh6wJPVGRqH_NblJ3IdFqN74qx1Hy_11wV-WKqOWHglQ0R8vqQ76gyXT1BqLR7VhkSvefS2Ry0UhHyrF_eVDTNKLO-uya7u0wKECi4pswdb84LvoL2q4h_oCq7Lk21P90NN6MG04HST6Le_rp9_q9f-tvpDMeXE0lW2K5_CmDHWi_nhJkrhjYG5QTWYp2pHSkAJ5PEMFP4LBiKGyznXTEqv0mNPezc0tPT9FufKCS00tjTm_X7NOJ6L3r1tTTq0kn98ql1iRXwoGFzYMQSW6GoFPuy3BZXNzASs96XbbLZlmS9QbKaLguBrQBp5CGsYUF2yB_OjC-UDxB3Nq1Hmc42swXYE270__Hf7GWu54kmJJeGD9rJYOpPlmzGH4y-daM_6B8V9cfOf265yw_jk39v5GJpG_Zxe1WLFPBK=w797-h833-no" alt="dojo file"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Default Web Site\arcgis_js_api\library\3.25\3.25\dojo\dojo.js</span><br></pre></td></tr></table></figure>

<p>一樣找尋 <strong>[HOSTNAME_AND_PATH_TO_JSAPI]</strong> 關鍵字，用以下規則替換，同樣注意一下 <strong>protocol</strong> (http 與 https) 的差異</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;myhost.example.com&gt;&#x2F;arcgis_js_api&#x2F;library&#x2F;&lt;myVersion&gt;&#x2F;&lt;myVersion&gt;&#x2F;</span><br></pre></td></tr></table></figure>

<h3 id="測試"><a href="#測試" class="headerlink" title="測試"></a>測試</h3><p>其實安裝檔案裏面都有說明教學檔案，裡面也有附上此測試頁面，將 <strong>link</strong> 與 <strong>script</strong> 替換成設定的路徑即可</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Test Map<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://127.0.0.1/arcgis_js_api/library/3.25/3.25/esri/css/esri.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://127.0.0.1/arcgis_js_api/library/3.25/3.25/init.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      html,</span><br><span class="line">      body,</span><br><span class="line"><span class="css">      <span class="selector-id">#map</span> &#123;</span></span><br><span class="line">        height: 100%;</span><br><span class="line">        width: 100%;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">require</span>([</span></span><br><span class="line"><span class="actionscript">          <span class="string">"esri/map"</span>,</span></span><br><span class="line"><span class="actionscript">          <span class="string">"esri/layers/ArcGISTiledMapServiceLayer"</span>,</span></span><br><span class="line"><span class="actionscript">          <span class="string">"dojo/domReady!"</span></span></span><br><span class="line"><span class="actionscript">      ],<span class="function"><span class="keyword">function</span><span class="params">(Map, ArcGISTiledMapServiceLayer)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(<span class="string">"map"</span>);</span></span><br><span class="line"><span class="actionscript">          <span class="comment">//If you do not have Internet access then you will need to point this url to your own locally accessible tiled service.</span></span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> tiled = <span class="keyword">new</span> ArcGISTiledMapServiceLayer(<span class="string">"https://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"</span>);</span></span><br><span class="line">          map.addLayer(tiled);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"map"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/k3uwByjDg8x1ZhuJTv_XjLOkJPcRy88x-bPJWu3812Yb64DfG53ccTDajHfWTMmgoLVeO-xTDPCsJWgPlolE_pD18SGws95vg0W4wu7FJlYD3XwdeYmoaAVnjjkqh-VN0D4UjYQyg-fbkvTakUMid-mL0DpFDItKGcnfjszwqJ2YuxVtAyKXctXXwobfyHJ84U9lxN5LohrCFMngmyufn7yoKNXHn9yyy7w5TTwE-xGb2yFKGNYzQM0b7Bv08o1Tzk5P2O6XyMzSgk4nA5N9KSVY3wr0kDpgWhH4F_EM9OHk1_V_yFDfjLJyRSGkRenUsMQFkyBSdUMAWQ9jM4ZguKrbjNxazl7DdhZYhYuQOShPmixMPRixaCiZ5-GEa2hgFp_DMgby0-ZAFSNSzbES95tf-JXA4LXRZf2HhaBpDRC7fmvpV4QFYeAK2m0KUevdzgovDJd7q1QWuSV_cKzcP8IFFWwafTQBf5HszNZidqb5s4MVf_eigQC61y5JKpSkxzxeAVHgYqKZ7vEY-MoAKnPj2x6JeMEtvll32V2frEnK4_GF6vihTWoNtBmqCtrzW0Uj6W7A_DjI5C4bZ61orh-WsLrxeKtPylzT2jXPfSZo5i2JmPJCl1UzOqT4B9mp9lCCyJNEcWYjNEFE2VpUpiGy3ecGmQdmcE9IozXod1GuRt3AMz4p0pha=w872-h543-no" alt="test page"></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://support.esri.com/en/technical-article/000011974" target="_blank" rel="noopener">esri 設定步驟</a></li>
<li><a href="https://developers.arcgis.com/downloads/" target="_blank" rel="noopener">esri 安裝程式下載</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>ArcGIS Js API</tag>
      </tags>
  </entry>
  <entry>
    <title>IIS 設定 MIME Type</title>
    <url>/2018/09/13/mime-type-set-for-iis/</url>
    <content><![CDATA[<h1 id="IIS-設定-MIME-Type"><a href="#IIS-設定-MIME-Type" class="headerlink" title="IIS 設定 MIME Type"></a>IIS 設定 MIME Type</h1><p>簡單記錄一下設定方式<a id="more"></a>，因為 <strong>IIS</strong> 預設的副檔名還是有些不足，有些部分需要擴充設定，設定方式有兩種，一種是直接撰寫在 <strong>web.config</strong> 內，但是需要注意 <strong>IIS 7.0</strong> 以上版本才有支援，主要是 <strong>staticContent</strong> 此元素，詳情可以參考 <a href="https://docs.microsoft.com/en-us/iis/configuration/system.webserver/staticcontent/" target="_blank" rel="noopener">microsoft docs</a></p>
<h2 id="環境資訊"><a href="#環境資訊" class="headerlink" title="環境資訊"></a>環境資訊</h2><p>我的 IIS 環境</p>
<p><img src="https://lh3.googleusercontent.com/nFGHoiNAh5Ex6Ys84aPauKybjHRm8_Xx--qbGzR_56mIFBOQ2PU9N93dInBKgV2HVf9hq4xXvHSUb5j5Kf08r5gchzK1SRe-u_YWX-Dvf6YGNbAXVSbTyxvSlHHAAcpVymYgch-Q5qSg83uQtlXeqtOlqoICiCltaG6dD7uZ5Bv1Bk7Klb19NLf2J-R70BZhBSIZ_VODZiVY7Yodk3Z9RKo78cxMmgIR_tNpcAdqK8unyQTU6AhIbV9ZWLHj9iGMv-njKqgXA_OWFxL1nr9B5khwhu3XkbiNP2RMYoAcNes_NxrQOXx77bwmP6a-eBuvYxkF_Cq4aXBcTaVB19iFIgpAukWSkl6KEkqAUE50Qcl-NQ0SVFrdOK6QHVKtI6mIDDsJgUyFsyPavdkE7CuOyMWg-zXhw36gdgWZ-rVdsCK9Qqx0T4GdRn1-g8HuGcEFcia7BeGzblhimrOmSmRTtDfgMyZxJi1BKrh0rjBekYDsIcexfYaz_Bvz2r8oP5bXDot8T32i38TzR9Gn-42GvD4Q7N00g0Q_cHswv4JFpwdS0crDc2kmUNs7CA4FfIX7oVIwSgyARbCX0kcw57G9jbKfwZ4TKN35F4sBbm3moZtj_l9qBNNDnCRFI06EV6U1q5RnVNly-LjY6OX3gKP55Rr5CTqvcr5hfWCy7yCJGXwX8z_SOLnIeqcN=w616-h252-no" alt="my iis version"></p>
<h2 id="介面設定步驟"><a href="#介面設定步驟" class="headerlink" title="介面設定步驟"></a>介面設定步驟</h2><blockquote>
<p>步驟 1</p>
</blockquote>
<p><img src="https://lh3.googleusercontent.com/3HVMwl2jqvB9N1qQp78E_tPvVO-A9Df4QsnOlUNB2HTajLEC42cjiMaFEfY4UWs6YyLOvN2E6C2tk_KrMX3V1OtjQRyTO1YkXbcpz9gS1ItZrsiftdo5KSh9yx5JghOMLe-6SeEuT-ASaUOGquFaY5qfZyu53R7IE0pjX5P1iL4ExLIbkEhrOccUsa7DlUW-0GQKxHYdCV0FUzR3gRhkECqvI2nQgUwoFeRN5JBn9Fd_h8_nfn5nbSXXl_u2LCARGP9_5CFLdKvC4v0gcQ3RC9k0HgNlbB-SDrXSB0Se51zpH1Iy8q11guLNa35cf_bYEyTIAM8p6YSpbOP3b_CvoodcNrqy9Ph3ah4LwIE0GnMh4woJ9SAkOgoIRNz9me172JghKCsLHOfQ7y6sHE2fgRpebYrmB4EqTb041_MzDZevUayyLTkGsfB4nhCCKitW2if-2OF_ApHdcV3eOXiUh1qRB5AeD2FQQJS2CclD11VQObbkkX_XGSsUOttIlJQJ44P9WQCGdP5uPdjqN4aCW44B3rcKRKm3Un4zdqDvhQ7WLWEwk0z-20oMBvxsmvGCQL8D9u9mFYsqk5YSiaxzkAXyMqNvUwxvkJHQQhyxj4Hf0-Ja5WGCFdUcK7jE2cJ8NeOniqUcf9fqVAyZJS7SgGvnk41KKM0PfkfealjcDZPtILG69Qr6CC-J=w619-h346-no" alt="click MIME type"></p>
<blockquote>
<p>步驟 2</p>
</blockquote>
<p><img src="https://lh3.googleusercontent.com/CnPAHXZaIyJvazQDr988X8TChyQPCZB1FWse3cLIm2OrHQjx3DEbapKfWgj2o5w5toTAk61F_zjEFsu-MWlrsNeRxxKGzbw_csXgbxhr2H5UmV-HJvJZ7AbjYZ0ZSWT91hx3VK-HD0Ss-XamGUHIgm2iAVO0FPk3vS7Kbdo47LzHweb10GxUSyZahKZEghW-oFbntC1ljBRQ2zyQ0IKyQ9Pd4welY2B-y72jptqWi0LY8AcSmPhdr7ilhnyjOvnpnP82wRmK_T32z-J4GiE4Lqh08YuWMPOOOmInJBbQhb7HoLHR4T-c9WGuCzys3bTFG4W6uAZsD-rAp0-wIG4q77QuRBIU5oLeRba-fED_bCAd5oc8PFtN_wLowvEFZ-MlKK18ofzOnUiGwG7ZjKiF-ZIlEPq5IV2_jVO3hR5AuY4eBdtnZkThdAkqYtfxxFTCAYqpQe_Y4wP0QnBqsGeolkTPp-o_UNDpTL_F9p3nSosFQvE5wV-zb91FBcDEDdQB905XvOogEkJhE6a_7wYANLXgByANSYL_la1Lk1ETgvT5bZfvNn_2uaJUYdp1qxvwUvwaq5PzJvxwpmTqVWjWH-Zmd4Z2zEGp2UWKW_MU57_jhvqJAZI6cjPAKF3cRe9_1fYqxX05VmcFMIXhu6SViI2DL42GgL7j-6Nh8X8nZTSW1wm80zWMLx1q=w828-h504-no" alt="add new MIME type"></p>
<blockquote>
<p>步驟 3</p>
</blockquote>
<p><img src="https://lh3.googleusercontent.com/2SYx8vgzDtjvVy2vcu13OJnki5NGvX3ZyAoyphrc0dBM6soYscAjsEUopD3P321LnanDlsFJ0oFqR9NKwyTelXCpFcixHnt6vc3XaUohAUGJBw2rx0ax4CYoOLGH2DOtzzkjcDoCXbLRQ8RccIzauYBXNGCBNOXJVq56Ppt8x3aqu_wPGxOGr9G97xd9dHVs0k6m49V5gf6RW9g8GVDaXivlufbGi687Y81anuHgBvSOrhgQbmRCoBhElsrg1TefeDG2wSlfQCfxhZ4fGAL6XNx3Dzr6qPkusoVKs4QLls1iYAXK_wd27a8zVhYf2v4T4_toEjQnlF7lrkuVjdGEAzkAVhThimAcvDsd5ZyWxKPnD6MT3oUHcxj73gra8viL2IdiJhMKuTeV1j4RXinzzhJwrJ7kQ9cxL9bv7sfjPLDMASWDJDeZe8KCLElcu4RgZGIiRGczyvKQPptd3tJp8JjuRIobY67Tptx6vSDH35VCjo-gcbdqqyXvW9eV1g2TPzMhT4SwvpbkLK2p1JLhfQoso6a6mbCAwnyRaN8e4yVKhX_za1tNxe8Z9vSdzB9D6rnLFxVbfEUoWslvywHIm2wvoEjhyC07q30VX2byVJS8e_jlWte8a-dlBFRzKQR_9dkHXCZfwh9yy2S4mmCU1kydsSkvgZvdbbagHGFroMRvMx-3nfagFYBm=w660-h676-no" alt="fill MIME type"></p>
<h2 id="採用-web-config"><a href="#採用-web-config" class="headerlink" title="採用 web.config"></a>採用 web.config</h2><p>使用 <strong>config</strong> 的話，為了避免版本不同的預設設定，先使用 remove 移除預設值再添加</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">staticContent</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".eot"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".eot"</span> <span class="attr">mimeType</span>=<span class="string">"application/vnd.ms-fontobject"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".ttf"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".ttf"</span> <span class="attr">mimeType</span>=<span class="string">"font/ttf"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".otf"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".otf"</span> <span class="attr">mimeType</span>=<span class="string">"font/otf"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".woff"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".woff"</span> <span class="attr">mimeType</span>=<span class="string">"application/font-woff"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".woff2"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".woff2"</span> <span class="attr">mimeType</span>=<span class="string">"application/font-woff2"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".kml"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".kml"</span> <span class="attr">mimeType</span>=<span class="string">"application/vnd.google-earth.kml+xml"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".kmz"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".kmz"</span> <span class="attr">mimeType</span>=<span class="string">"application/vnd.google-earth.kmz"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".json"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".json"</span> <span class="attr">mimeType</span>=<span class="string">"application/json"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".mp4"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".mp4"</span> <span class="attr">mimeType</span>=<span class="string">"video/mp4"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".ogv"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".ogv"</span> <span class="attr">mimeType</span>=<span class="string">"video/ogg"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".webm"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".webm"</span> <span class="attr">mimeType</span>=<span class="string">"video/webm"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".svg"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".svg"</span> <span class="attr">mimeType</span>=<span class="string">"image/svg+xml"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".svgz"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".svgz"</span> <span class="attr">mimeType</span>=<span class="string">"images/svg+xml"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".geojson"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".geojson"</span> <span class="attr">mimeType</span>=<span class="string">"application/json"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">remove</span> <span class="attr">fileExtension</span>=<span class="string">".csv"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">".csv"</span> <span class="attr">mimeType</span>=<span class="string">"text/csv"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">staticContent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://support.microsoft.com/zh-tw/help/2621229" target="_blank" rel="noopener">microsoft support</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types" target="_blank" rel="noopener">MDN_完整的 MIME Type 列表</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>API 壓力測試工具 SuperBenchmarker</title>
    <url>/2018/09/20/SuperBenchmarker/</url>
    <content><![CDATA[<h1 id="SuperBenchmarker"><a href="#SuperBenchmarker" class="headerlink" title="SuperBenchmarker"></a>SuperBenchmarker</h1><p>這工具使用也一段時間，這次順手紀錄下來<a id="more"></a>；這是一個 command-line 工具，可以很便利使用。</p>
<h2 id="安裝方式"><a href="#安裝方式" class="headerlink" title="安裝方式"></a>安裝方式</h2><p>可以透過 <a href="https://chocolatey.org/" target="_blank" rel="noopener"><strong>chocolatey</strong></a> 來安裝，安裝指令如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">choco install superbenchmarker</span><br></pre></td></tr></table></figure>

<h2 id="指令與參數說明"><a href="#指令與參數說明" class="headerlink" title="指令與參數說明"></a>指令與參數說明</h2><p>指令範例如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sb -u <span class="string">"https://reqres.in/api/users?page=&#123;&#123;&#123;Id&#125;&#125;&#125;"</span> -n 800 -c 5 -m GET -t D:\temp\template.txt -f D:\temp\values.csv -v -h</span><br></pre></td></tr></table></figure>

<p>常用參數說明</p>
<table>
<thead>
<tr>
<th align="center">參數</th>
<th align="center">說明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-u</td>
<td align="center">設定要測試的 url</td>
</tr>
<tr>
<td align="center">-n</td>
<td align="center">要發出的 request 數量</td>
</tr>
<tr>
<td align="center">-c</td>
<td align="center">同時的連線數</td>
</tr>
<tr>
<td align="center">-m</td>
<td align="center">http method</td>
</tr>
<tr>
<td align="center">-t</td>
<td align="center">template 範本，要設定 header 可以使用此參數</td>
</tr>
<tr>
<td align="center">-f</td>
<td align="center">使用 csv 檔案來取代參數的指令</td>
</tr>
<tr>
<td align="center">-v</td>
<td align="center">顯示詳細訊息</td>
</tr>
<tr>
<td align="center">-h</td>
<td align="center">顯示 header 訊息</td>
</tr>
</tbody></table>
<p>另外執行結束會產生報告圖表的 html 頁面，此 html 會儲存在指令執行的路徑下，所以需要注意登入帳號是否有權限寫入檔案</p>
<p><img src="https://lh3.googleusercontent.com/GoYY_-i8_sF5Waez3c21XwvEo4rBbMH5HDd1w0rnBnLyb1hSJpVL3s6QjxsTW6kn7FrdOrZ86_3AK9BnBMO5NevBRah6sXkF5dVF49kJOqPRSlFYbOofBcMLOubEfIYWMugGRiMibtXGP7aQES3TutmzCy0HPqbXRowB2KqaDW1f15PNaVMWR8Nk_7GgDvfgseY0j0dLXpy0rAz-e2ivzcvcxn1RJu-6FX5w_Vrja5-Msq6ljdAKfNFysQ6gJfeqyLBwcbPVs-Tv3J33z01WU7VpP5R0vMSA3r69tp4uoHSsT-IWqIvMR72aJFgCZIdwS89qk-dJxoSnJkvWJAUNyJjPYAXbWkDzgF82v06lXpjQcOHYmGSYxvd1xESiMVHIPSnqN4dflI069Oc1-MRnaufJiUJtLJMhi_lOzSi6IyZoGvi9DdOp7ZOSzghQ-689sKddoAL-ft6-ZwywfcUcqHrm9R557iAOcqOcxnJ9pldSjsQTk7HqOv1G9XE95G-8DCnC-Cm84Nso8JRgA3MzFXE9hru6zazangmPviklviA1qPvKMYzCMz9i51OloSrWI7YFqU8iq8ybSmRjcsPaS5YVOsMeSuXukzkjAfOpNSsG4sPwE-zoaQ_9Os1PBch2V7ZmHt8Jc-OE10sn5dc1SUFeMkQv5bMljCLcGiPuwJl4l2ywQdKaVZ5j=w1267-h826-no" alt="output result"></p>
<h3 id="名詞說明"><a href="#名詞說明" class="headerlink" title="名詞說明"></a>名詞說明</h3><blockquote>
<p>每秒需求處理能力 RPS( Requests Per Second)</p>
</blockquote>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://github.com/aliostad/SuperBenchmarker" target="_blank" rel="noopener">Github SuperBenchmarker</a></li>
<li><a href="http://larrynung.github.io/2013/10/27/superbenchmarker-a-load-generator-command-line-tool-for-testing-websites-and-http-apis/" target="_blank" rel="noopener">Level Up SuperBenchmarker</a></li>
<li><a href="https://blog.kkbruce.net/2013/09/free-website-rest-service-stress-test-tool.html#.W6IDSGgzaCg" target="_blank" rel="noopener">kkbruce 免費網站與REST服務壓力測試工具</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>tools</tag>
      </tags>
  </entry>
  <entry>
    <title>TLS/SSL 簡介</title>
    <url>/2018/09/27/EncrEncrypt-t-free-SSL/</url>
    <content><![CDATA[<h1 id="TLS-SSL-簡介"><a href="#TLS-SSL-簡介" class="headerlink" title="TLS/SSL 簡介"></a><a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">TLS/SSL</a> 簡介</h1><p>此篇已經紀錄一段時間，但是沒有把筆記整理好，這次把此篇筆記整理一下。<a id="more"></a></p>
<h2 id="HTTPS-Hypertext-Transfer-Protocol-Secure"><a href="#HTTPS-Hypertext-Transfer-Protocol-Secure" class="headerlink" title="HTTPS (Hypertext Transfer Protocol Secure)"></a><a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a> (Hypertext Transfer Protocol Secure)</h2><p><a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a> = 加密過的 HTTP 連線</p>
<p><a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a> = HTTP over <a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">TLS/SSL</a></p>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">TLS/SSL</a> 是一個介於 HTTP 與 TCP/IP 之間的安全通訊協定</li>
</ul>
<p><a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">TLS</a> &gt; <a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">SSL</a></p>
<p><a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a> != 安全的連線<br>HTTP = 不安全的連線<br>HTTP/2 與 ServiceWorker 僅支援 <a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a> 連線</p>
<h2 id="SSL-安全通訊協定"><a href="#SSL-安全通訊協定" class="headerlink" title="SSL 安全通訊協定"></a><a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">SSL</a> 安全通訊協定</h2><p><a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener"><strong>SSL</strong></a> 的全名 <strong>Secure Sockets Layer</strong> (<strong>安全通訊協定</strong>)，後來改名為 <a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener"><strong>TLS</strong></a> (<strong>Transport Layer Security</strong>)(<strong>傳輸層安全協議</strong>)，不過大家在口語上還是通稱 <a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener"><strong>SSL</strong></a><br><a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener"><strong>SSL</strong></a> 是一種<strong>安全協議</strong>或<strong>加密協議</strong>，一種以密碼學為基礎的訊息交換協議，目的是為為網際網路通訊，提供安全及資料完整性保障。</p>
<h2 id="PKI-公開金鑰基礎建設"><a href="#PKI-公開金鑰基礎建設" class="headerlink" title="PKI 公開金鑰基礎建設"></a>PKI 公開金鑰基礎建設</h2><ul>
<li><p>Public Key Infrastructure (PKI)(公開金鑰基礎建設)</p>
<p>一組由硬體、軟體、參與者、管理政策與流程組成的基礎架構，其目的在於創造、管理、分配、使用、儲存以及撤銷數位憑證；簡單說就是一份基本規則。</p>
</li>
<li><p>Certificate Authority(CA)(數位憑證認證機構)</p>
<p>負責儲存與簽發數位憑證</p>
</li>
<li><p>Registration Authority(RA)(註冊管理中心)</p>
<p>確保<strong>公開金鑰</strong>和<strong>特定個人或組織的身分</strong>鏈結(辨識身分)</p>
</li>
<li><p>Central Directory(中央目錄)</p>
</li>
<li><p>Certificate Management System</p>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/Certificate_policy" target="_blank" rel="noopener">Certificate Policy(CP)</a> 憑證策略</p>
</li>
</ul>
<h2 id="SSL-伺服器憑證種類"><a href="#SSL-伺服器憑證種類" class="headerlink" title="SSL 伺服器憑證種類"></a><a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">SSL</a> 伺服器憑證種類</h2><ul>
<li>SSL 伺服器數位憑證</li>
<li>EV SSL 伺服器數位憑證</li>
<li>萬用子網域 SSL 伺服器數位憑證</li>
</ul>
<h2 id="不同驗證等級的憑證"><a href="#不同驗證等級的憑證" class="headerlink" title="不同驗證等級的憑證"></a>不同驗證等級的憑證</h2><h3 id="Domain-Validated-SSL-DV-SSL"><a href="#Domain-Validated-SSL-DV-SSL" class="headerlink" title="Domain Validated SSL (DV SSL)"></a>Domain Validated SSL (DV SSL)</h3><ul>
<li><strong>驗證等級最低</strong>的 <a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">SSL</a> 憑證</li>
<li>通常此類憑證不是免費就是價格極其低廉</li>
<li>此類憑證通常不適合企業或電子商務網站</li>
<li>僅做網域認證</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/N0Hj4QRTrETqfYsWlZIeJ_EOQPKcJHnvc4qw3WY5kD0xC-d7pRwNKhxNtVGsmPPD0h9tg9FzAhFk_JDDRwPmtJsqEZyLNTbGRRkzjRcyjGI3whA2CLusdQfkvlXjsikHSPDipVaVo94KR9zxh5695alWVEtsd78sY8uw_u_xZkftuDZomdCTdb7xetescHK7pxL9BYZz2vd17VejQ87aMZZDZOqYFWhqnIizq7S6eo3uC9w4yFrv8My-I5Qe2skAXaUXpCbcRYpFgKWloefH9viMY30XW-RuK1-0vgl6s-D3aYlN9LPJBK14I9XifdAjKLJWa1kYFy0PX3cAlIYAQmj20AejssHrlRUrBwAtz9kfuaWwkxs-w3jIIi6h0bqPjWCPsrK_ssJT97Ljt6MoDXk7rlEAwRpJfGTVkL1Qb5HrAzRNtntrB1v6RL3jwX-aneYRqvFmyN7F4bpINe4xiqpPquonzFcMrC1LUwIeFs5LysOBSUWqqt49TAiHn5HKsNaxoGkiuz8J3AmcAcc53njcZG1q96G5O6UCzxrFF5hS4KLmFXhPPM1wuyoYVvX2Dmo_b_XrI7H0CZnQ7_o1gYlJ_aB96w_VOQzDDFunxrR2PZO_23vv50VC6zAfp2uEE0HyMwLQfg7SrFaQKzPT0iDOHWdJ7Ew0oP4nR2EApVnCrobq96g6Tan4=w1206-h417-no" alt="DV SSL"></p>
<h3 id="Organization-Validated-SSL-OV-SSL"><a href="#Organization-Validated-SSL-OV-SSL" class="headerlink" title="Organization Validated SSL (OV SSL)"></a>Organization Validated SSL (OV SSL)</h3><ul>
<li>公司組織認證</li>
<li>在憑證的 Organization(O)，含有組織資訊</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/K635GESidYbmXa8xrEOW9ILZ4ytZ4SIBNaORr33RmJvcDPkIFjW1DRh4tzhfJdxdpjO_PpEGrsNU0uPXyKJYxr2hbuVeVa52Ff6bw2EOsdsqAVYjJ3z8NtkozchpP8lvv6cHAV_5REbsxKQ2dmKJZ9zGIDCbiQ6c03eB1yKcKfGL56WO_sgpqZqgcDRrYG_IQvZjY2sE2BHyfb0Je4Fkll3zOQOIcbW8bdAvEHLRBb56FGoU2MEGTnHH-AnABi-Yg4NmFUX2-mRRZqAnjNKzuwwidfErq0_wak2Rl6-pnH66qta6crXHN18BixnT7hj9gLFQAsBRnDLNlAIQ4BqswzYzOUPxzFYD4vEkp65KBfOA7-Mp9tI17_bDRbsR407Pb78adlWbcBqgWNaZ7LzZcXqZaXL1Rx4DvIyyXbCbVxirCSHTzCZGlU81maHmB3sLL_CkJCkPgQUL9D032y2V-jy2r1QrrrdjAysI7dyYLsfrOxHS8aNU74dyIZ_BAYgC6nOV8KtxX-SglePxAYq4DcSEFAs_crJWTOtZMehdDgcGfkDqFSPMIctvztRA-g39mYDqIuVdgLDkEMwXocXAtOzaearMaHdFPBcsvshErIc5hJX-p99iUTRRRBKzi9Fx7GC_HTwSTtAz6Jl-0BMJgu_IeLXns5Ll2OSBlA3_AkLoqItHTPmF_IBP=w1201-h424-no" alt="OV SSL"></p>
<h3 id="Extended-Validated-SSL-EV-SSL"><a href="#Extended-Validated-SSL-EV-SSL" class="headerlink" title="Extended Validated SSL (EV SSL)"></a>Extended Validated SSL (EV SSL)</h3><ul>
<li>驗證等級最高的憑證，會打電話到公司確認該公司存在</li>
<li>各瀏覽器網址列安全顯示公司名稱</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/HhNgvSwKXo9eQKylWcYnkY9Y48YJ3xaFLtXRZ8OaB1a1AHh33naakaJaoTgK4lIdPB6Y5RumwAEquvqU_zNDm27FrN5FDoNxTQW4Jhsjl2kQ_szz4TD4Qbszs60w0GZIjzzxSW1o3jByRHeaF28QmFj19HLn_De5eFHQ6jd5k9jjWGjY1Ci_q0b3Z9ToVHiCe_4B01u75Y_v5r3fcmXOmVcO7VlkWS22CV0D7ryeiA7CRJUf6tqxv1HoYYOpjAa5SXrDDwWMlCm2EjSnOZnPU5mh_SvOXzV8PjNOJ6xnfXkSDgO6KH6Vz1kNfQZVhTG-EMCgs6pT3caEEvlDgMjkKHZ9XTC_7X_si-Unr3Xe6sbVKIPHIekg0ip0IhBE-Ew45Cj0ZEoH5zD1KD6fUxzFVF9i9lO6GxrApqxbHA5j1cygHT6yleDwQpohMQOwyrCs2YCyEtjzmV5KdsAKnTu4v8EaZpoRLX-cx1kX6tghnm9tqocUytXiBDDaLqaGP9JwZW0iNphq698kvW29U1hNko2q03P9jkxSGY63I7V4olWuRCp_5pEJZb95duFy7oEeAAIiO1Xk5vnf29TiSskYzpA3tlLc9ikUxt_VL1nq0Veh3sSQ6_NHtz7rOmTz-hr6AxDTwbmwQT7T_lyaNYZWRHmDdpe9VSGbRVqgpdOwt8b-v8fCh8KJIowx=w915-h152-no" alt="EV SSL"></p>
<h2 id="備註"><a href="#備註" class="headerlink" title="備註"></a>備註</h2><ul>
<li><a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">HTTPS</a> 相對 HTTP 而言會吃到一點點效能，因為需要加解密。</li>
<li>Chrome 瀏覽器中網址列驚嘆號，表示網站是安全的但是裡面內容有些是不安全的</li>
</ul>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">wiki HTTPS</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">wiki TLS SSL</a></li>
</ul>
]]></content>
      <categories>
        <category>心得筆記</category>
      </categories>
      <tags>
        <tag>other</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>無瑕的程式碼 番外篇讀書筆記</title>
    <url>/2018/09/21/The-Clean-Coder-A-Code-of-Conduct-for-Professional-Programmers/</url>
    <content><![CDATA[<h1 id="讀書筆記"><a href="#讀書筆記" class="headerlink" title="讀書筆記"></a>讀書筆記</h1><p>無瑕的程式碼 番外篇－專業程式設計師的生存之道(The Clean Coder: A Code of Conduct for Professional Programmers)讀書筆記，摘要記錄個人筆記 <a id="more"></a></p>
<p>三元分析法 (<strong>P</strong>rogram <strong>E</strong>valuation and <strong>R</strong>eview <strong>T</strong>echnique)</p>
<blockquote>
<p>樂觀預估 O<br>常規預估 N<br>悲觀預估 P</p>
</blockquote>
<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><h3 id="問題追蹤"><a href="#問題追蹤" class="headerlink" title="問題追蹤"></a>問題追蹤</h3><p>針對問題追蹤可以使用一下工具紀錄追蹤</p>
<ul>
<li><a href="https://www.pivotaltracker.com/" target="_blank" rel="noopener" title="Pivotal Tracker">Pivotal Tracker</a></li>
<li>WiKi</li>
<li><a href="https://lighthouseapp.com/" target="_blank" rel="noopener">Lighthouse</a></li>
<li><a href="https://www.atlassian.com/software/jira" target="_blank" rel="noopener">JIRA</a></li>
<li><a href="http://www.redmine.org/" target="_blank" rel="noopener">Redmine</a></li>
</ul>
<h3 id="編輯器"><a href="#編輯器" class="headerlink" title="編輯器"></a>編輯器</h3><ul>
<li><a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a></li>
<li><a href="https://www.jetbrains.com/idea/" target="_blank" rel="noopener">IntelliJ</a></li>
<li><a href="https://macromates.com/" target="_blank" rel="noopener">TextMate</a> 文本編輯器，羽量級編輯器</li>
<li>Vi 功能雖然齊全，但是有比 Vi 便利的編輯器工具</li>
</ul>
<h3 id="測試工具"><a href="#測試工具" class="headerlink" title="測試工具"></a>測試工具</h3><ul>
<li><a href="http://docs.fitnesse.org/FrontPage" target="_blank" rel="noopener">Fitnesse</a> 此書作者主力開發的 Java 單元測試工具</li>
<li><a href="https://www.seleniumhq.org/" target="_blank" rel="noopener">Selenium</a></li>
<li><a href="https://robotfx.ro/" target="_blank" rel="noopener">RobotFX</a></li>
<li><a href="https://cucumber.io/" target="_blank" rel="noopener">Cucumber</a></li>
</ul>
<h3 id="Coutinuous-Build-CI"><a href="#Coutinuous-Build-CI" class="headerlink" title="Coutinuous Build (CI)"></a>Coutinuous Build (CI)</h3><ul>
<li><a href="https://jenkins.io/" target="_blank" rel="noopener">Jenkins</a></li>
</ul>
<h2 id="練習場-Kata"><a href="#練習場-Kata" class="headerlink" title="練習場 (Kata)"></a>練習場 (Kata)</h2><p>練習是培養類似熟能生巧的能力與思考方向</p>
<ul>
<li><a href="http://butunclebob.com/" target="_blank" rel="noopener">butunclebob.com</a></li>
<li><a href="http://katas.softwarecraftsmanship.org/" target="_blank" rel="noopener">Code Kata</a></li>
<li><a href="http://codekata.pragprog.com/" target="_blank" rel="noopener">CodeKata</a> 另一練習網址</li>
</ul>
]]></content>
      <categories>
        <category>讀書筆記</category>
      </categories>
      <tags>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 透過 DOMParser 讀取 XML</title>
    <url>/2018/09/27/javascript-read-xml-by-DOMParser/</url>
    <content><![CDATA[<h1 id="DOMParser"><a href="#DOMParser" class="headerlink" title="DOMParser"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/DOMParser" target="_blank" rel="noopener">DOMParser</a></h1><p>在前端讀取 XML 的 response 已經是字串了，再透過 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/DOMParser" target="_blank" rel="noopener">DOMParser</a> 來解析 XML ，使 XML 內容好取得。<a id="more"></a>如果 response 指定 XML 格式，就直接已經讀取 XML 檔案，可以直接操作</p>
<h2 id="DOMParser-轉換-XML-字串"><a href="#DOMParser-轉換-XML-字串" class="headerlink" title="DOMParser 轉換 XML 字串"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/DOMParser" target="_blank" rel="noopener">DOMParser</a> 轉換 XML 字串</h2><p>主要關鍵在於使用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/DOMParser" target="_blank" rel="noopener">DOMParser</a> 轉換字串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> text, parser, xmlDoc;</span><br><span class="line"></span><br><span class="line">text = <span class="string">"&lt;bookstore&gt;&lt;book&gt;"</span> +</span><br><span class="line"><span class="string">"&lt;title&gt;Everyday Italian&lt;/title&gt;"</span> +</span><br><span class="line"><span class="string">"&lt;author&gt;Giada De Laurentiis&lt;/author&gt;"</span> +</span><br><span class="line"><span class="string">"&lt;year&gt;2005&lt;/year&gt;"</span> +</span><br><span class="line"><span class="string">"&lt;/book&gt;&lt;/bookstore&gt;"</span>;</span><br><span class="line"></span><br><span class="line">parser = <span class="keyword">new</span> DOMParser();</span><br><span class="line">xmlDoc = parser.parseFromString(text,<span class="string">"text/xml"</span>);</span><br><span class="line"><span class="keyword">var</span> title = xmlDoc.getElementsByTagName(<span class="string">"title"</span>)[<span class="number">0</span>].textContent;</span><br></pre></td></tr></table></figure>

<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/1w86ofyz/embedded/html,js,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/DOMParser" target="_blank" rel="noopener">MDN DOMParser</a></li>
<li><a href="https://maps.nlsc.gov.tw/" target="_blank" rel="noopener">國土測繪中心</a></li>
<li><a href="http://maps.nlsc.gov.tw/S09SOA/" target="_blank" rel="noopener">國土測繪中心 WMTS</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Google Map Js Api 串接 Kml/kmz 檔案</title>
    <url>/2018/09/27/google-map-js-api-access-kml/</url>
    <content><![CDATA[<h1 id="Google-Map-呈現-KML"><a href="#Google-Map-呈現-KML" class="headerlink" title="Google Map 呈現 KML"></a>Google Map 呈現 <a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML</a></h1><p>使用 google map js API 來串接 <a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML/KMZ</a> 檔案，其中需要注意的事項</p>
<a id="more"></a>

<h2 id="KML-KMZ"><a href="#KML-KMZ" class="headerlink" title="KML/KMZ"></a><a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML/KMZ</a></h2><ul>
<li><a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML (Keyhole Markup Language)</a>，是基於 <a href="https://zh.wikipedia.org/zh-tw/XML" target="_blank" rel="noopener">XML (eXtensible Markup Language,可擴展標記語言)</a>語法標準的一種標記語言 (markup language)</li>
<li><a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KMZ</a> 為 <a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML</a> 的壓縮格式，所以可以透過解壓縮得到 <a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML</a></li>
</ul>
<h2 id="Google-Map-js-API-kmllayer"><a href="#Google-Map-js-API-kmllayer" class="headerlink" title="Google Map js API kmllayer"></a><a href="https://developers.google.com/maps/documentation/javascript/kmllayer" target="_blank" rel="noopener">Google Map js API kmllayer</a></h2><p>要使用 <strong>Google Map js API</strong> 串接 <a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML/KMZ</a> ，需要透過 <strong>kmllayer</strong> 這類別，而 Google 在處理這部分有一些注意事項</p>
<ul>
<li>取得最大檔案(包含原始 <a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML</a>、原始 GeoRSS、壓縮後的 <a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KMZ</a>)大小是 <strong>3 MB</strong></li>
<li>最大未壓縮 <a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML</a> 檔案是 <strong>10 MB</strong></li>
<li>最大的網路連線是 <strong>10</strong></li>
<li>最大文件內容數量是 <strong>1000</strong></li>
<li>KML 圖層數量，官方說明在單一地圖顯示中，有數量限制，平均在 <strong>10 ～ 20</strong> 左右</li>
</ul>
<p>最後，最重要的是，google 官方有註記上述的注意事項隨時都可能變更，所以要隨時關注 <a href="https://developers.google.com/maps/documentation/javascript/kmllayer" target="_blank" rel="noopener">google document kmllayer</a></p>
<p>另外串接的 <a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">KML/KMZ</a> 連結必須是公開的網址，不能使用相對路徑進行連接</p>
<h2 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h2><p><a href="https://developers.google.com/maps/documentation/javascript/kmllayer" target="_blank" rel="noopener"><strong>kml Layer</strong></a> 參數的設定</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> layer = <span class="keyword">new</span> google.maps.KmlLayer([opts]);</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">屬性</th>
<th align="center">說明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">clickable</td>
<td align="center">圖層是否接收滑鼠事件，預設值為 true</td>
</tr>
<tr>
<td align="center">map</td>
<td align="center">顯示圖層的地圖物件</td>
</tr>
<tr>
<td align="center">preserveViewport</td>
<td align="center">自動縮放到 KML 圖層的中心，但是 KML 必須設定圖層的範圍邊界，假如沒有設定，則不會移動</td>
</tr>
<tr>
<td align="center">screenOverlays</td>
<td align="center">是否渲染至 overlays. 預設值為 true</td>
</tr>
<tr>
<td align="center">uppressInfoWindows</td>
<td align="center">點擊地圖時，禁止顯示跳出訊息視窗；預設值為 false</td>
</tr>
<tr>
<td align="center">url</td>
<td align="center">KML 的 url</td>
</tr>
<tr>
<td align="center">zIndex</td>
<td align="center">顯示圖層的 z-index</td>
</tr>
</tbody></table>
<p>所以在電腦的網頁上， <strong>clickable</strong> 設定為 <strong>false</strong> 時，因為事件冒泡被取消，所以 <strong>uppressInfoWindows</strong> 不管有無設定，都不會顯示 KML 圖層的訊息視窗。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> map = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> kmzLayer,kmlLayer;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initMap</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  map = <span class="keyword">new</span> google.maps.Map(<span class="built_in">document</span>.getElementById(<span class="string">'map'</span>), &#123;</span><br><span class="line">    zoom: <span class="number">12</span>,</span><br><span class="line">    center: <span class="keyword">new</span> google.maps.LatLng(<span class="number">25.04</span>, <span class="number">121.505</span>)</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> loadKmz = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  kmzLayer = <span class="keyword">new</span> google.maps.KmlLayer(&#123;</span><br><span class="line">    url: <span class="string">'https://shunnien.github.io/Victoria/sample.kmz'</span>,</span><br><span class="line">    map: map</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> loadKml = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  kmlLayer = <span class="keyword">new</span> google.maps.KmlLayer(&#123;</span><br><span class="line">    url: <span class="string">'https://shunnien.github.io/Victoria/ty_bike_lane.kml'</span>,</span><br><span class="line">    <span class="comment">//suppressInfoWindows: true,</span></span><br><span class="line">    map: map</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>線上範例</p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/ytucdm74/embedded/html,js,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://zh.wikipedia.org/zh-tw/KML" target="_blank" rel="noopener">Wiki KML</a></li>
<li><a href="https://developers.google.com/maps/documentation/javascript/examples/layer-kml" target="_blank" rel="noopener">google KML layer example</a></li>
<li><a href="https://developers.google.com/maps/documentation/javascript/kmllayer" target="_blank" rel="noopener">google document KML and GeoRSS Layers</a></li>
<li><a href="https://developers.google.com/maps/documentation/javascript/kml" target="_blank" rel="noopener">google document Displaying KML</a></li>
<li><a href="https://developers.google.com/maps/documentation/javascript/reference/kml" target="_blank" rel="noopener">google document KmlLayer class</a></li>
<li><a href="https://developers.google.com/kml/documentation/kmlreference" target="_blank" rel="noopener">google document Kml 說明</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Google Map</tag>
        <tag>Google</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>透過 X2js 自由轉換 XML 與 Json</title>
    <url>/2018/09/29/javascript-xml2json/</url>
    <content><![CDATA[<h1 id="x2js"><a href="#x2js" class="headerlink" title="x2js"></a><a href="https://github.com/abdmob/x2js" target="_blank" rel="noopener">x2js</a></h1><p>在前端中，有許多工具可以轉換 <a href="https://zh.wikipedia.org/zh-tw/XML" target="_blank" rel="noopener">XML</a> 與 <a href="https://zh.wikipedia.org/wiki/JSON" target="_blank" rel="noopener">JSON</a> ，此篇介紹 <a href="https://github.com/abdmob/x2js" target="_blank" rel="noopener">x2js</a><a id="more"></a></p>
<h2 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h2><p>可以使用 <strong>CDN</strong> 方式， <a href="https://cdnjs.com/libraries/x2js" target="_blank" rel="noopener"><strong>x2js CDN</strong></a> 或是手動引入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;x2js&#x2F;1.2.0&#x2F;xml2json.min.js&quot; integrity&#x3D;&quot;sha256-RbFvov4fXA9DW&#x2F;RzOAcIC0ZHIDmghGdsoug5slJHMMI&#x3D;&quot; crossorigin&#x3D;&quot;anonymous&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="基本語法"><a href="#基本語法" class="headerlink" title="基本語法"></a>基本語法</h3><ul>
<li><p>XML to JSON</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Create x2js instance with default config</span></span><br><span class="line"><span class="keyword">var</span> x2js = <span class="keyword">new</span> X2JS();</span><br><span class="line"><span class="keyword">var</span> xmlText = <span class="string">"&lt;MyRoot&gt;&lt;test&gt;Success&lt;/test&gt;&lt;test2&gt;&lt;item&gt;val1&lt;/item&gt;&lt;item&gt;val2&lt;/item&gt;&lt;/test2&gt;&lt;/MyRoot&gt;"</span>;</span><br><span class="line"><span class="keyword">var</span> jsonObj = x2js.xml_str2json( xmlText );</span><br></pre></td></tr></table></figure>
</li>
<li><p>JSON to XML</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Create x2js instance with default config</span></span><br><span class="line"><span class="keyword">var</span> x2js = <span class="keyword">new</span> X2JS();</span><br><span class="line"><span class="keyword">var</span> jsonObj = &#123; </span><br><span class="line">    MyRoot : &#123;</span><br><span class="line">                test: <span class="string">'success'</span>,</span><br><span class="line">                test2 : &#123; </span><br><span class="line">                    item : [ <span class="string">'val1'</span>, <span class="string">'val2'</span> ]</span><br><span class="line">                &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> xmlAsStr = x2js.json2xml_str( jsonObj );</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>此工具轉換 <a href="https://zh.wikipedia.org/zh-tw/XML" target="_blank" rel="noopener">XML</a> 會自動解析 <strong>namespaces</strong> ，這還挺方便的</p>
<h2 id="線上範例"><a href="#線上範例" class="headerlink" title="線上範例"></a>線上範例</h2><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/fe8rkwxy/embedded/html,js,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://github.com/abdmob/x2js" target="_blank" rel="noopener">Github x2js</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>tools</tag>
      </tags>
  </entry>
  <entry>
    <title>IIS 的 CORS 設定</title>
    <url>/2018/10/03/CORS-in-IIS-setting/</url>
    <content><![CDATA[<h1 id="IIS-的-CORS-設定"><a href="#IIS-的-CORS-設定" class="headerlink" title="IIS 的 CORS 設定"></a>IIS 的 CORS 設定</h1><p>說明在 IIS 設如何設定 <a href="https://developer.mozilla.org/zh-TW/docs/Web/HTTP/CORS" target="_blank" rel="noopener">CORS</a><a id="more"></a></p>
<h2 id="內文"><a href="#內文" class="headerlink" title="內文"></a>內文</h2><p>在 IIS 中，透過 <strong>web.config</strong> 直接設定 <strong>header</strong> ，針對 <strong>header</strong> 添加 <strong>Access-Control-Allow-Origin</strong> 此屬性即可，但是此種設定只能針對一組 Domain 設定，或是全開放；設定範例如下：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">httpProtocol</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">customHeaders</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 全部開放 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;add name="Access-Control-Allow-Origin" value="*" /&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 指定一個Domain --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">"Access-Control-Allow-Origin"</span> <span class="attr">value</span>=<span class="string">"http://localhost:21259"</span>/&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">customHeaders</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">httpProtocol</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>另一種則是為 <strong>IIS</strong> 安裝 <a href="https://www.iis.net/downloads/microsoft/iis-cors-module" target="_blank" rel="noopener">cors</a> 模組，其設定變得更方便，<a href="https://docs.microsoft.com/en-us/iis/extensions/cors-module/cors-module-configuration-reference" target="_blank" rel="noopener">官方文件</a></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cors</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">failUnlistedOrigins</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">add</span> <span class="attr">origin</span>=<span class="string">"*"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">add</span> <span class="attr">origin</span>=<span class="string">"https://*.microsoft.com"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">allowCredentials</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">maxAge</span>=<span class="string">"120"</span>&gt;</span> </span><br><span class="line">                <span class="tag">&lt;<span class="name">allowHeaders</span> <span class="attr">allowAllRequestedHeaders</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">add</span> <span class="attr">header</span>=<span class="string">"header1"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">add</span> <span class="attr">header</span>=<span class="string">"header2"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">allowHeaders</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">allowMethods</span>&gt;</span></span><br><span class="line">                     <span class="tag">&lt;<span class="name">add</span> <span class="attr">method</span>=<span class="string">"DELETE"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">allowMethods</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exposeHeaders</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">add</span> <span class="attr">header</span>=<span class="string">"header1"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">add</span> <span class="attr">header</span>=<span class="string">"header2"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">exposeHeaders</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">add</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">add</span> <span class="attr">origin</span>=<span class="string">"http://*"</span> <span class="attr">allowed</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">cors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/HTTP/CORS" target="_blank" rel="noopener">MDN CORS</a></li>
<li><a href="https://enable-cors.org/server_iis7.html" target="_blank" rel="noopener">Enable CORS IIS</a></li>
<li><a href="https://docs.microsoft.com/en-us/iis/extensions/cors-module/cors-module-configuration-reference" target="_blank" rel="noopener">microsoft cors module</a></li>
<li><a href="https://www.iis.net/downloads/microsoft/iis-cors-module" target="_blank" rel="noopener">IIS CORS Module Download</a></li>
<li>topcat <a href="https://dotblogs.com.tw/topcat/archive/2014/01/21/141979.aspx" target="_blank" rel="noopener">xdomain.js 多組(Multiple) 跨 Domain</a> 另一作法</li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 浮點數取整數</title>
    <url>/2018/09/29/javascript-floor-round-ceil/</url>
    <content><![CDATA[<h1 id="JavaScript-浮點數取整數"><a href="#JavaScript-浮點數取整數" class="headerlink" title="JavaScript 浮點數取整數"></a>JavaScript 浮點數取整數</h1><p>浮點數取整數，在數學中有<strong>四捨五入</strong>、<strong>無條件進位</strong>、<strong>無條件捨去</strong>三種方式，在 <strong>JavaScript</strong> 中，可以利用 <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil" target="_blank" rel="noopener"><strong>ceil</strong></a> 、<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/floor" target="_blank" rel="noopener"><strong>floor</strong></a> 和 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round" target="_blank" rel="noopener"><strong>round</strong></a> 來達到<a id="more"></a></p>
<h2 id="ceil"><a href="#ceil" class="headerlink" title="ceil"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil" target="_blank" rel="noopener">ceil</a></h2><p>此方法會回傳大於或等於的最小整數，就是無條件進位</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">0.95</span>));</span><br><span class="line"><span class="comment">// output: 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// output: 2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">3.024</span>));</span><br><span class="line"><span class="comment">// output: 4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">3.624</span>));</span><br><span class="line"><span class="comment">// output: 4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">-3.654</span>));</span><br><span class="line"><span class="comment">// output: -3</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">-3.054</span>));</span><br><span class="line"><span class="comment">// output: -3</span></span><br></pre></td></tr></table></figure>

<h2 id="floor"><a href="#floor" class="headerlink" title="floor"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/floor" target="_blank" rel="noopener">floor</a></h2><p>此方法回傳小於或等於的最大整數，就是無條件捨去</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">0.95</span>));</span><br><span class="line"><span class="comment">// output: 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// output: 2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">3.024</span>));</span><br><span class="line"><span class="comment">// output: 3</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">3.624</span>));</span><br><span class="line"><span class="comment">// output: 3</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">-3.654</span>));</span><br><span class="line"><span class="comment">// output: -4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">-3.054</span>));</span><br><span class="line"><span class="comment">// output: -4</span></span><br></pre></td></tr></table></figure>

<h2 id="round"><a href="#round" class="headerlink" title="round"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round" target="_blank" rel="noopener">round</a></h2><p>此方法近似四捨五入，注意正負的差異</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">0.95</span>));</span><br><span class="line"><span class="comment">// output: 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// output: 2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">3.024</span>));</span><br><span class="line"><span class="comment">// output: 3</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">3.624</span>));</span><br><span class="line"><span class="comment">// output: 4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">-3.654</span>));</span><br><span class="line"><span class="comment">// output: -4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">-3.054</span>));</span><br><span class="line"><span class="comment">// output: -3</span></span><br></pre></td></tr></table></figure>

<h2 id="線上範例"><a href="#線上範例" class="headerlink" title="線上範例"></a>線上範例</h2><iframe height='279' scrolling='no' title='float get integer part in javascript' src='//codepen.io/shunnien/embed/KGKOEZ/?height=279&theme-id=0&default-tab=js&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/shunnien/pen/KGKOEZ/' target="_blank" rel="noopener">float get integer part in javascript</a> by allen_yu (<a href='https://codepen.io/shunnien' target="_blank" rel="noopener">@shunnien</a>) on <a href='https://codepen.io' target="_blank" rel="noopener">CodePen</a>.
</iframe>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil" target="_blank" rel="noopener">MDN ceil</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Math/floor" target="_blank" rel="noopener">MDN floor</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round" target="_blank" rel="noopener">MDN round</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>GoogleMap Polyline 線</title>
    <url>/2018/10/04/GoogleMap-draw-line/</url>
    <content><![CDATA[<h1 id="GoogleMap-Polyline"><a href="#GoogleMap-Polyline" class="headerlink" title="GoogleMap Polyline"></a><a href="https://developers.google.com/maps/documentation/javascript/shapes#polylines" target="_blank" rel="noopener">GoogleMap Polyline</a></h1><p>透過 <strong>GoogleMap</strong> 操作 <a href="https://developers.google.com/maps/documentation/javascript/shapes#polylines" target="_blank" rel="noopener"><strong>polyline</strong></a> 的顯示<a id="more"></a>，不管是要顯示線，或是編輯線，繪製線等，使用 <a href="https://developers.google.com/maps/documentation/javascript/shapes#polylines" target="_blank" rel="noopener"><strong>polyline</strong></a> 就可以操作</p>
<h2 id="polyline"><a href="#polyline" class="headerlink" title="polyline"></a><a href="https://developers.google.com/maps/documentation/javascript/shapes#polylines" target="_blank" rel="noopener"><strong>polyline</strong></a></h2><p><strong>Google</strong> 提供了簡單的<a href="https://developers.google.com/maps/documentation/javascript/examples/polyline-simple" target="_blank" rel="noopener">範例</a>與詳細的<a href="https://developers.google.com/maps/documentation/javascript/shapes#polylines" target="_blank" rel="noopener">參考文件</a>，使用上也很簡易，需要注意在 <strong>HTML</strong> 中宣告使用地圖的 <strong>div</strong> 要設定明確大小(css 設定的大小)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"initial-scale=1.0, user-scalable=no"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Simple Polylines<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="comment">/* Always set the map height explicitly to define the size of the div</span></span></span><br><span class="line">       * element that contains the map. */</span><br><span class="line"><span class="css">      <span class="selector-id">#map</span> &#123;</span></span><br><span class="line">        height: 100%;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="comment">/* Optional: Makes the sample page fill the window. */</span></span></span><br><span class="line">      html, body &#123;</span><br><span class="line">        height: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"map"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="function"><span class="keyword">function</span> <span class="title">initMap</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> map = <span class="keyword">new</span> google.maps.Map(<span class="built_in">document</span>.getElementById(<span class="string">'map'</span>), &#123;</span></span><br><span class="line">          zoom: 3,</span><br><span class="line">          center: &#123;lat: 24.977179, lng: 121.312848&#125;,</span><br><span class="line"><span class="actionscript">          mapTypeId: <span class="string">'ROADMAP'</span>,</span></span><br><span class="line">          zoom: 13,</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> bikeLaneCoordinates = [</span></span><br><span class="line">          &#123;lat: 24.977685, lng: 121.310424&#125;,</span><br><span class="line">          &#123;lat: 24.977179, lng: 121.312848&#125;,</span><br><span class="line">          &#123;lat: 24.977879, lng: 121.317708&#125;,</span><br><span class="line">          &#123;lat: 24.978132, lng: 121.319951&#125;</span><br><span class="line">        ];</span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> bikeLanePath = <span class="keyword">new</span> google.maps.Polyline(&#123;</span></span><br><span class="line">          path: bikeLaneCoordinates,</span><br><span class="line"><span class="actionscript">          geodesic: <span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">          strokeColor: <span class="string">'#FF0000'</span>,</span></span><br><span class="line">          strokeOpacity: 1.0,</span><br><span class="line">          strokeWeight: 2,</span><br><span class="line"><span class="actionscript">          editable: <span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">          draggable: <span class="literal">true</span></span></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        bikeLanePath.setMap(map);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// no display polyline</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">//bikeLanePath.setMap(null);</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">defer</span></span></span><br><span class="line"><span class="tag">    <span class="attr">src</span>=<span class="string">"https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&amp;callback=initMap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>google.maps.Polyline 屬性說明</p>
</blockquote>
<ul>
<li>path : 線條的座標點集合陣列</li>
<li>strokeColor : 線條顏色</li>
<li>strokeOpacity : 線條透明度</li>
<li>strokeWeight : 線條粗細</li>
<li>editable : 可以編輯，值為 <strong>true</strong> 或是 <strong>false</strong></li>
<li>draggable : 是否可以拖動，值為 <strong>true</strong> 或是 <strong>false</strong></li>
</ul>
<blockquote>
<p>線上範例</p>
</blockquote>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/71csbo3q/embedded/html,js,css,result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li>Google <a href="https://developers.google.com/maps/documentation/javascript/examples/polyline-simple" target="_blank" rel="noopener">simple polyline example</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Google Map</tag>
        <tag>Google</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Sqlserver 停用與啟用條件約束</title>
    <url>/2019/02/26/sqlserver-diable-constraint/</url>
    <content><![CDATA[<h1 id="sqlserver-停用與啟用條件約束"><a href="#sqlserver-停用與啟用條件約束" class="headerlink" title="sqlserver 停用與啟用條件約束"></a>sqlserver 停用與啟用條件約束</h1><p>紀錄停用與啟用條件約束的 sql ，還有檢查目前資料表條件約束的語法</p>
<a id="more"></a>

<h2 id="語法"><a href="#語法" class="headerlink" title="語法"></a>語法</h2><p>全部條件約束停用</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 全部條件約束停用</span></span><br><span class="line">EXEC sp_MSforeachtable "<span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ? <span class="keyword">NOCHECK</span> <span class="keyword">CONSTRAINT</span> <span class="keyword">ALL</span><span class="string">"</span></span><br><span class="line"><span class="string">GO</span></span><br></pre></td></tr></table></figure>

<p>刪除全部資料表資料</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 刪除全部資料表資料</span></span><br><span class="line">EXEC sp_MSForEachTable "<span class="keyword">DELETE</span> <span class="keyword">FROM</span> ?<span class="string">"</span></span><br><span class="line"><span class="string">GO</span></span><br></pre></td></tr></table></figure>

<p>全部資料表增值索引重設</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 全部資料表增值索引重設</span></span><br><span class="line">EXEC sp_MSforeachtable "DBCC CHECKIDENT('?', RESEED, 0)"</span><br><span class="line">Go</span><br></pre></td></tr></table></figure>

<p>全部條件約束啟用</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 全部條件約束啟用</span></span><br><span class="line">EXEC sp_MSforeachtable "<span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ? <span class="keyword">WITH</span> <span class="keyword">NOCHECK</span> <span class="keyword">CHECK</span> <span class="keyword">CONSTRAINT</span> <span class="keyword">ALL</span><span class="string">"</span></span><br><span class="line"><span class="string">GO</span></span><br></pre></td></tr></table></figure>

<p>檢查目前資料表條件約束狀態的語法</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> f.NAME         N<span class="string">'物件名稱'</span>,</span><br><span class="line">       is_disabled    N<span class="string">'已停用(1)'</span>,</span><br><span class="line">       is_not_trusted N<span class="string">'不檢查現有資料(1)'</span>,</span><br><span class="line">       s.NAME         N<span class="string">'結構描述'</span>,</span><br><span class="line">       o.NAME         N<span class="string">'外部索引資料表'</span>,</span><br><span class="line">       sc.NAME        N<span class="string">'結構描述'</span>,</span><br><span class="line">       r.NAME         N<span class="string">'主索引資料表'</span>,</span><br><span class="line">       delete_referential_action_desc</span><br><span class="line">                      N<span class="string">'在進行刪除時，宣告的參考動作之描述'</span>,</span><br><span class="line">       update_referential_action_desc</span><br><span class="line">                      N<span class="string">'在進行更新時，宣告的參考動作之描述'</span>,</span><br><span class="line">       f.type_desc    N<span class="string">'物件描述'</span></span><br><span class="line"><span class="keyword">FROM</span>   sys.foreign_keys f</span><br><span class="line">       <span class="keyword">INNER</span> <span class="keyword">JOIN</span> sys.objects o</span><br><span class="line">               <span class="keyword">ON</span> f.parent_object_id = o.object_id</span><br><span class="line">       <span class="keyword">INNER</span> <span class="keyword">JOIN</span> sys.schemas s</span><br><span class="line">               <span class="keyword">ON</span> o.schema_id = s.schema_id</span><br><span class="line">       <span class="keyword">INNER</span> <span class="keyword">JOIN</span> sys.objects r</span><br><span class="line">               <span class="keyword">ON</span> f.referenced_object_id = r.object_id</span><br><span class="line">       <span class="keyword">INNER</span> <span class="keyword">JOIN</span> sys.schemas sc</span><br><span class="line">               <span class="keyword">ON</span> r.schema_id = sc.schema_id</span><br><span class="line"><span class="keyword">ORDER</span>  <span class="keyword">BY</span> o.NAME</span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="http://sharedderrick.blogspot.com/2017/06/sql-server-disable-foreign-key.html" target="_blank" rel="noopener">德瑞克：SQL Server 學習筆記</a></li>
<li><a href="https://docs.microsoft.com/zh-tw/sql/relational-databases/tables/disable-check-constraints-with-insert-and-update-statements?view=sql-server-2017" target="_blank" rel="noopener">microsoft docs</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>SQLServer</tag>
      </tags>
  </entry>
  <entry>
    <title>IIS 應用程式設定資料夾權限</title>
    <url>/2019/02/04/Granting-folder-permissions-to-IIS-application-pools/</url>
    <content><![CDATA[<h1 id="IIS-應用程式設定資料夾權限"><a href="#IIS-應用程式設定資料夾權限" class="headerlink" title="IIS 應用程式設定資料夾權限"></a>IIS 應用程式設定資料夾權限</h1><p>在 <strong>windows</strong> 環境針對 <strong>IIS 應用程式集區</strong>設定的應用程式設定資料夾權限，設定方法很簡易，紀錄一下資料。<a id="more"></a></p>
<h2 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a>簡介</h2><p>當建立新的<strong>應用程式集區</strong>時，<strong>IIS</strong> 都會建立一個<a href="https://support.microsoft.com/zh-tw/help/243330/well-known-security-identifiers-in-windows-operating-systems" target="_blank" rel="noopener">安全性識別碼 (SID)</a>，表示此建立的應用程式集區。但是此識別不是真實的帳戶，所以不會在控制台顯示。<br>以下方法，假定應用程式區建立完畢。</p>
<p><img src="https://lh3.googleusercontent.com/wCkqOKGlW2TzeyS-wLnVitZDeg19HZ5UngjE_kEM-8D-dqb1BHDnKlnAFabpv4YF4OcWBhYDeABhlZ5VehvwqbTwmAxC5ZZGEMVL-FI03se23bpCHPV3tn6G5UxQx8WpOl7W4yGjoqO6Xbuz4dC2irk8ceAyiYrZmuFxBvKcNz4N9MXjleLAk24VrgMMUpeYsqCBLQmlIcMomuNW1tmP2Dsbscb_P1A7rciXG8cJ6g9OaS_vZGzWxwQA6qMeGHNekD1Z0GOK8i1xOmgn3zjdKGH6uxh2-L7CfFYT1HY9dWzTuSsUm9t9G0IOalqaiTIBQJ_A6CjLcYVhMCXWQZBQWgikns8JfEzwvWj2TksDJuw-XKvjLJGU20fZcGSwbUPJXouKFFYZZXO3DejQDO2qSa7gvGXL1qpaZuch7fGXhjTEI4S3NWYkQsQbbAeJO-ymx8wH8fALUiCIS58AO0W6G69HpAxgdxV5k02JHdYI7Cj0qzxxJE09KmPFx7Eq9R_kMFzPnIYSf-G5MPXXZkWhYXXbAHvSgVgidZz1vjIjI_8vsXoxXEQjiKay8NkDaWOmgg6dFzcmfXFrrMz7af5onfLK7lCVWiru4aiKgr9gXHVpCHgtsi2PhyNYLDMKVnkPXbxLD-8gEmUmrF3NcR_ov9rofqsSV4-Jb9AkbVsg6bD9KgzhRhac6OhQKskjG-yA66NSRa5JHdTt5D9j_P7PFqCn=w691-h286-no" alt="IIS 應用程式集區"></p>
<h2 id="方法-1"><a href="#方法-1" class="headerlink" title="方法 1"></a>方法 1</h2><p>直接針對資料夾設定權限，在 <strong>windows</strong> 中，直接透過介面操作</p>
<ul>
<li>在需要設定權限的資料夾上點擊<strong>滑鼠右鍵</strong></li>
<li>選擇<strong>屬性(Properties)</strong></li>
<li>在屬性畫面中，選擇<strong>安全性(Security)</strong>，在按下<strong>編輯(Edit…)</strong><br><img src="https://lh3.googleusercontent.com/KhfbtzN8esZXN4SGEtvTtJAk9QZNJkkiFbABByLwjUSodg_UVO55Q7Mt4bPyPF9aFASPiDRfpgIGeF4kcmZlxi1P8Iv77jj_axf_JG5X4D7bcugUa-d5n2c-q9jnD_7mG6AOE_afNVSc9JAKM6ZXrCXrNjOLhcfx3osEWa9FPYGtErAo-01btX10jWBx52cosSmM3QqwSbn18nqigNmTBiJRt3E6sW8RpI9P7B33jhd1u_2X6_IvW4y-IOtL-jedcurS-d-HJ3ifTsB51jGRcurNW7pCiIgYlcFWw0WvS-ffdEyM7DkgYjvcf56I6wc2Wr84ieDpUZhnk1U-ibqJkdMoQo15db3m_qqlUkxLY_Q412UtIcPCd7quXqmyYVHbITMM3sjhe6aNHWppxE26QAzIn_2teZ64M4V13DsgSz7jW65b2wf7IliM-QUoRlF9yxExp5Xm5bs5rn4EKwOZbTUsBqyM5wyfgi4FKIrhkVYbnXbgOG0ufLygmAMrZa7lJMVwFw9eB0HNR1oKtOGXu6ahMhzmasI2p4OhR8NVxsDpfejcDuB0g7j2CZuqXlc6CM-eWPm4zGTSvlN113rcqGCPodvPnVIbHCntVE6uL-L5_CeeXGZSxiIPfsEZTOq54B8VhAXVu8M1nbUskjGKBOTZMoZ-iGQoohyb1f8FZO-wS1OXJ6vhGsQo41vQxydios6riNPLr8yLYTnX91gJJLh-=w484-h594-no" alt="Properties window"></li>
<li>在 <strong>Permissions 視窗</strong>中，點擊<strong>新增(Add…)</strong><br><img src="https://lh3.googleusercontent.com/xGoV3LaViVXBgBey50E86csfeZDbfdEcjEXBr5VjmDo5Mqq5GyUBmJyp7IJYrZANwaSf3xbZJ63CXy0ze_Qb8MWT-Mtz3DMDA7YN9lO-ZXwXj9XBqdlj8KuflWlQNDZ1yvUtiGnJ67frXfOXhRZXTWM070tQ75gN9ssHibQamnEXvyW_PuySTA18fkmceDoQZE5lT2iXG8u6jOvWp7cWdwBEtTijGf2ogTLu_IuwGTm660LoiDsaHwp0jNYB2pC959Z2VWZBHK1-X4p6TrC-5nbUqMUQbBW3xJoTIsmfhbXiNy_rHtRYwg1BJ6dMei8_x794M57InD7SMI6ELw02u_1UXOoFeHqLJ0TaxI06Bae-ofshiyyfx-7YHh75AIhbukSyF2loLVIxDJGsb0Vi_7no9h4xyoMtCSlULjdbY5JOAG_M4-_coFmXdc3WoPMxlTK1wJRIgRh7WuHRZkJgLXqPpGPzt8x2OLMkaDzsbcCiDZaOkrrWUS4Eu5qeHfQvZe-FnLPys94-fc6fYY8Oon_PKQGkVWBl5ax0h5GNSwjX_4sMjyI-9DnbvmSpFCJfI3PFDw2w3-cKPgXECFQeIqlZhBzCeKAQIRxO3hakXa4nSD_v_IYodP0IOQ7Xr80s2LSH7RACzS9j4fFsI7VZI-GNoVIcTe4PECB0L8JfwqqyiAmpXyxYDrs-jTcQrX9EUg1SMC5qSQ7T4VUZN3Rx5Yi0=w484-h556-no" alt="Permissions window"></li>
<li>在<strong>輸入要選擇的對象名稱</strong>的輸入框中輸入 <code>IIS AppPool\myAppPoolName</code>。例如：<code>IIS AppPool\temp</code></li>
<li>輸入後，點擊<strong>檢查名稱</strong>，然後按下確定</li>
</ul>
<h2 id="方法-2"><a href="#方法-2" class="headerlink" title="方法 2"></a>方法 2</h2><p>透過 <strong>ICACLS</strong> 工具來使用 <strong>command line</strong> 來設定權限，以下範例為設定 <code>D:\temp</code> 此資料夾</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ICACLS <span class="string">"D:\temp"</span> /grant <span class="string">"IIS AppPool\temp"</span>:M /t</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://support.pkware.com/display/SMAR/KB+-+Granting+folder+permissions+to+IIS+application+pools" target="_blank" rel="noopener">pkware Granting folder permissions to IIS application pools</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>other</tag>
        <tag>security</tag>
      </tags>
  </entry>
  <entry>
    <title>PowerShell 美化配置</title>
    <url>/2019/06/28/powershell-theme-and-font/</url>
    <content><![CDATA[<h2 id="PowerShell-美化配置"><a href="#PowerShell-美化配置" class="headerlink" title="PowerShell 美化配置"></a>PowerShell 美化配置</h2><p><strong>powershell</strong> 是 windows 目前很好用的工具，可以調整一些設定與安裝一些模組功能來美化它。<a id="more"></a></p>
<h2 id="Terminal-與-Shell"><a href="#Terminal-與-Shell" class="headerlink" title="Terminal 與 Shell"></a>Terminal 與 Shell</h2><ul>
<li>Windows 的<strong>命令提示字元 (Command Prompt)</strong>，實際上就是打開了一個終端 (Terminal)</li>
<li>在終端裡面<strong>輸入命令，得到結果</strong>的互動程式，就是命令行解釋器 (Shell)</li>
</ul>
<h2 id="主題樣式"><a href="#主題樣式" class="headerlink" title="主題樣式"></a>主題樣式</h2><p>個人推薦的主題樣式是 <a href="https://github.com/JanDeDobbeleer/oh-my-posh" target="_blank" rel="noopener"><strong>oh-my-posh</strong></a>，此主題類似 <strong>Mac OS X</strong> 的 <a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="noopener"><strong>oh-my-zsh</strong></a>，不過因為 <a href="https://github.com/JanDeDobbeleer/oh-my-posh" target="_blank" rel="noopener"><strong>oh-my-posh</strong></a> 有部分的指令倚賴 <a href="https://github.com/dahlbyk/posh-git" target="_blank" rel="noopener"><strong>post-git</strong></a>，所以需要兩者都安裝。注意需要使用<strong>系統管理員權限</strong>啟動 <strong>powershell</strong> 來安裝，安裝指令如下：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> posh<span class="literal">-git</span> <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"><span class="built_in">Install-Module</span> oh<span class="literal">-my</span><span class="literal">-posh</span> <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"><span class="built_in">Set-Theme</span> Paradox</span><br></pre></td></tr></table></figure>

<p>安裝好之後，不滿意 <strong>Paradox</strong> 樣式的話，可以自行更換，<a href="https://github.com/JanDeDobbeleer/oh-my-posh" target="_blank" rel="noopener"><strong>oh-my-posh</strong></a> 提供了 10 個主題樣式，只要在 <strong>PowerShell</strong> 中輸入 <code>Theme</code> 就可以查看有哪些主題樣式</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">❯ theme</span><br><span class="line"></span><br><span class="line">Name         Type     Location</span><br><span class="line">----         ----     --------</span><br><span class="line">Agnoster     Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\Agnoster.psm1</span><br><span class="line">Avit         Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\Avit.psm1</span><br><span class="line">Darkblood    Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\Darkblood.psm1</span><br><span class="line">Fish         Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\Fish.psm1</span><br><span class="line">Honukai      Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\Honukai.psm1</span><br><span class="line">Paradox      Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\Paradox.psm1</span><br><span class="line">PowerLine    Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\PowerLine.psm1</span><br><span class="line">pure         Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\pure.psm1</span><br><span class="line">robbyrussell Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\robbyrussell.psm1</span><br><span class="line">Sorin        Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\Sorin.psm1</span><br><span class="line">tehrob       Defaults C:\Program Files\WindowsPowerShell\Modules\oh<span class="literal">-my</span><span class="literal">-posh</span>\<span class="number">2.0</span>.<span class="number">263</span>\Themes\tehrob.psm1</span><br></pre></td></tr></table></figure>

<p>想要更換主題樣式的話，設定指令如下，<code>Set-Theme</code> 指令後接上想要設定主題樣式名稱</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Set-Theme</span> Darkblood</span><br></pre></td></tr></table></figure>

<h3 id="設定每次啟用-Powershell-的主題"><a href="#設定每次啟用-Powershell-的主題" class="headerlink" title="設定每次啟用 Powershell 的主題"></a>設定每次啟用 Powershell 的主題</h3><p>上述設定完成後，現在使用的 <strong>PowerShell</strong> 畫面變漂亮了，但是 <strong>PowerShell</strong> 每次執行都是原始介面，所以需要設定，以下是設定步驟</p>
<h4 id="新增或修改-profile-檔案"><a href="#新增或修改-profile-檔案" class="headerlink" title="新增或修改 $profile 檔案"></a>新增或修改 <strong>$profile</strong> 檔案</h4><p>先開啟 <strong>powershell</strong> 輸入以下指令</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 如果之前沒有檔案，就建立一個新檔案</span></span><br><span class="line"><span class="keyword">if</span> (!(<span class="built_in">Test-Path</span> <span class="literal">-Path</span> <span class="variable">$PROFILE</span> )) &#123; <span class="built_in">New-Item</span> <span class="literal">-Type</span> File <span class="literal">-Path</span> <span class="variable">$PROFILE</span> <span class="literal">-Force</span> &#125;</span><br><span class="line"><span class="comment"># 用 vscode 開啟檔案</span></span><br><span class="line">code <span class="variable">$profile</span></span><br></pre></td></tr></table></figure>

<p>上述指令會建立 <strong>profile</strong> 檔案，但是需要注意的是，使用<strong>管理者權限執行的路徑</strong>與現在使用者的 <strong>profile</strong> 路徑不同，在 <strong>powershell</strong> 內，<strong>$profile</strong> 預設就是目前使用者的路徑(等同 <strong>$profile.CurrentUserCurrentHost</strong> )，一共有四種選擇，但是檔案路徑組合(32位元與64位元的搭配)會有多達 <strong>9</strong> 種，有興趣的可以參考<a href="https://blog.simonw.se/using-powershell-profiles/" target="_blank" rel="noopener">此篇文章</a></p>
<ul>
<li><code>$profile.CurrentUserAllHosts</code></li>
<li><code>$profile.CurrentUserCurrentHost</code></li>
<li><code>$profile.AllUsersAllHosts</code></li>
<li><code>$profile.AllUsersCurrentHost</code></li>
</ul>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">❯ <span class="variable">$PROFILE</span> | <span class="built_in">Select-Object</span> <span class="literal">-Property</span> *</span><br><span class="line">AllUsersAllHosts       : C:\Windows\System32\WindowsPowerShell\v1.<span class="number">0</span>\profile.ps1</span><br><span class="line">AllUsersCurrentHost    : C:\Windows\System32\WindowsPowerShell\v1.<span class="number">0</span>\Microsoft.PowerShell_profile.ps1</span><br><span class="line">CurrentUserAllHosts    : C:\Users\Shunnien Yu\Documents\WindowsPowerShell\profile.ps1</span><br><span class="line">CurrentUserCurrentHost : C:\Users\Shunnien Yu\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1</span><br><span class="line">Length                 : <span class="number">81</span></span><br></pre></td></tr></table></figure>

<p>想要設定為不管是否使用管理者權限執行都是相同的畫面的話，需要設定 <strong>AllUsersAllHosts</strong> ，設定這個檔案後，其他檔案就可以不用設定了，網路上有可以<a href="https://github.com/microexs/PowerAdmin/blob/master/PCInit.md" target="_blank" rel="noopener">參考的設定範本</a>，以下是我自己的設定</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">chcp <span class="number">65001</span></span><br><span class="line"><span class="built_in">Set-PSReadlineOption</span> <span class="literal">-EditMode</span> Emacs</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">which</span><span class="params">(<span class="variable">$name</span>)</span></span> &#123; <span class="built_in">Get-Command</span> <span class="variable">$name</span> | <span class="built_in">Select-Object</span> Definition &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rmrf</span><span class="params">(<span class="variable">$item</span>)</span></span> &#123; <span class="built_in">Remove-Item</span> <span class="variable">$item</span> <span class="literal">-Recurse</span> <span class="literal">-Force</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mkfile</span><span class="params">(<span class="variable">$file</span>)</span></span> &#123; <span class="string">""</span> | <span class="built_in">Out-File</span> <span class="variable">$file</span> <span class="literal">-Encoding</span> ASCII &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMyDoc</span><span class="params">()</span></span> &#123; <span class="built_in">Set-Location</span> <span class="string">"C:\Users\Shunnien Yu\Documents\"</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGitOneLineGraphLog</span><span class="params">()</span></span> &#123; git log -<span class="literal">-oneline</span> -<span class="literal">-all</span> -<span class="literal">-graph</span> -<span class="literal">-decorate</span> &#125;</span><br><span class="line"><span class="built_in">Import-Module</span> posh<span class="literal">-git</span></span><br><span class="line"><span class="built_in">Import-Module</span> oh<span class="literal">-my</span><span class="literal">-posh</span></span><br><span class="line"><span class="built_in">Import-Module</span> <span class="built_in">Get-ChildItemColor</span></span><br><span class="line"><span class="built_in">Set-Alias</span> l <span class="built_in">Get-ChildItemColor</span> <span class="literal">-option</span> AllScope</span><br><span class="line"><span class="built_in">Set-Alias</span> ls <span class="built_in">Get-ChildItemColorFormatWide</span> <span class="literal">-option</span> AllScope</span><br><span class="line"><span class="built_in">Set-Alias</span> ... getMyDoc <span class="literal">-option</span> AllScope</span><br><span class="line"><span class="built_in">Set-Alias</span> ggl getGitOneLineGraphLog <span class="literal">-option</span> AllScope</span><br><span class="line"><span class="built_in">Set-Theme</span> PowerLine</span><br></pre></td></tr></table></figure>

<h2 id="字型"><a href="#字型" class="headerlink" title="字型"></a>字型</h2><p>設定為上述的檔案後，<strong>powershell</strong> 在有 <strong>git</strong> 版控的資料夾路徑時，會使用 <strong>PowerLine</strong> 字體，但是由於目前的字型不支援會像下圖</p>
<p><img src="https://lh3.googleusercontent.com/ydZPSwjcR6TwBreZBDL5_7CTTysc4jg2Djdn2SsRtJh3EtUX69N_qqfpYLYT_54GPRKB5Cq2_6K2wmVU4AVM3kMUYwB_hefoAEapzuQ1Z-mqqcFCdvo258pKBYr4z4t3nzzuHRyNFBONGqQHtZ1L7C-swmLZHIKyA_guEtxw-N5lR9rMXO8ZdO7vQLVv5_f8dWhn3bhMvUDa75H0ZurXtUiMmi1qpUKFo2z0ycwL8mdvMOwAyGe-9zSeSzf9UqyC5eyfgmIxzH2yS1GvVmLvl04QArsi8gGUt65GDQRQHuXFffwZxHWujk4uvNzOKY9M5F5RmcT6OQzNl_8nK6SaHD4yaeFkI4nLSiSuiQ3NVY9pARNlstg16-wJuDDHjZVWNZ1RLve-SwqxQrZWrcgDDeXR08gClzJeudzJbJnfhMMcr1-w6lwUiURq27I-c5_zJyjLXu1NnN7Sx-KNElSnokqHGhiQlCrWjmOaPEJootMFtiSrwzA7_naE2ZAOnoPAEMEGMppvdhBkRHn7IZhvD0YcDnXznM3ggx7YKOJ3swkfYdBiDSAQurh2mY5oLnlfGq5tU-b8CH0XbIcQqb_xiMY1b01_NYViW1QQ3rtnLiBh8nkiVdHM2LbRkDD_Ynue-UDFYP-6Xzf8Fh-WiYjkuGjKbTfNjrt-l6ZDnJzBUmU8rlR3mfiUKXLn3pYHjIsGkFaOrKJsTdi5dXWrKCwZb8FV=w959-h145-no" alt="no powerline font"></p>
<p>所以需要裝有支援 <strong>PowerLine</strong> 的字型，我個人使用 <a href="https://github.com/be5invis/Sarasa-Gothic" target="_blank" rel="noopener">Sarasa Gothic (更纱黑体 / 更紗黑體 / 更紗ゴシック) 字型</a>，可以由<a href="https://github.com/be5invis/Sarasa-Gothic" target="_blank" rel="noopener">Sarasa Gothic 字型</a>的 Github Release 下載</p>
<p><img src="https://lh3.googleusercontent.com/nY-3twm_cW385iVETvxfsNqSIqUufYHdUg3A-nxKY4DA-YsIYTFq57rGuz6Vjj9cTEqePsvJULa8D2WKFQDz1FeRvgktP5uw929rvDQDR-zWLt_u5eMAF1dFNyVYLmuMTRhq7Y67Hk3S41rhROf047quXgvSNA-aFiz4tRGgaxLItIxEA5vkGDtdrU2WDUvVUv-_64RShhtyIKuE504s9kvFhbtyEaUATAfey7HUB4-uFa4bbcrwBjr-pufGW66uncSI7WiBkxNIufrLGVA0GCWKkZakNgghl4XKpXQ0qqnX6E67Ye8wNGlyI1DuCz2TvncJRiI-IY2nkXLeRnMlgRbrsJRojyx2RLldEbx1mRqYoD1q-wNKF3kwD6CpHQuY5O7zucyb5vKOZDki_xkcWgJEEC_C9UvxPxala_c2kbncF_242Uvr7S-WX9g4DqLPKAuDKIlRNjYaIJo9-3gV-4FoqKBdjk8vd-n3Qlg3Ox1O0VGbGWGNC9enkjHMmxXAaJ_zeXASH7fNNd5v2QVzFNjrC2WMbraaoOT-T8545bC5VESXqIwvJwE6a_NR_-NSEeCNZE6zkquiXDkHhniWDybSazCHxXfAntgGJkosu2VAwuMweYGYXBuX6x2afnnn7vm49VC9Es6cr8hyrQkM8Zgw-yWN-DJvKOfXbqeV8SGxa0miIb7rai4_VZoVTqq4L51mFvGoTuCj9Kd0pq25f6Vf=w795-h691-no" alt="Sarasa Gothic github release"></p>
<p>之後直接在 <strong>Powershell</strong> 的 <strong>Properties</strong> 內設定字型，我個人使用 <strong>Sarasa Term TC</strong></p>
<p><img src="https://lh3.googleusercontent.com/rYo4MF1iQkB0VhhWxETUJ50-zlN8dOYmFVYg0pkiX0X7XHJ2zljNl05Te0yWm79NBFfyz5bnckVeR4YJHxas-iqseUbyXs-nCJmKyjMEqCdTCliuwVMDdyBsx3REHRe-2jvPu9mJeiaj5jJZY_KbD5-Tl_ibppn4MbBUqIlMAC8tkAPra_jtDX6sG7S79rRgCzncEQmnqLwxfP3zQfFYPbKqetEK3xoI_8cz0gW94R4MxFYRqIXMjTpfN-iec3zKhTdTqbvIr_R8HVKf_fZM0_wS_kD-zD2Exv186uU9MY8PZkYXdVK3MGUzgKAxIhqSHgG4VWaKkXs_zB_OBWWm78N85qzlrwAV8dXEn7QkHDK0ZIkK_BnZAL7UHwbVP_pXRPYiXgrDOjShru30SbKaa2Y7-7fTvGnxH0pLmK7WW9ObsMGgn3vu_tDmLL9JfCWq4XuMIpVMrC9WqZebnurNmx2g7XuFKmvO28aJ1JQne0hQ6eSsImanoKg2q8ieTeJiuVFPf7Aazl0iejgVaUDX3JrM8l3nTUjrabfh1pS_LRbf8dCS-WhsF8Z0mbn-nOwZ6QaijJ2zQFKYckIivYMCwC0fXUcpQ9IQ9dG-p2_Fkj570QdiYF1Kbfc3Uhm2DpmY5cPK-GP8JFgsa1zFlho9FZgmFAtWD9_STX06w_5QCea1CqSoLg-2WEK3egjUwuNHE1tNs_Pnx7v-LpkvK76rzqNc=w456-h136-no" alt="powershell properties font set"></p>
<p>設定好之後，<strong>powershell</strong> 的畫面中就可以顯示符號</p>
<p><img src="https://lh3.googleusercontent.com/Rc_cU4rb9QIfRWd-Lft2plHvrnQstqjjo8rGjN9KOTw1v4ylskW1yCH90N4bqJabTPOsdz5UbUr85zjl6pOLIEjoaLK2l99gL0LI3ddE2-bXWXzFYeSUm3SN-oyEHGe-OBh6JExA7lRe2-6FEcL2NAa71lUMCslSBlJ4npOdVTDOkICvKwkVdfZvQZLWvZOQi_9s69EscbWytOvo6C_feaDPliCw_nzx1-QuOBSBrWhtuadHQsd7uhOFspvEdIoC7p0KeWQpeBRxRhhedFf2uCCEFI7XXskdUZuegaI3mtD6qBvJLv1oYb_x9J5GTGCbG8gfTNyTc8nCXGndl6qwc-2EfB57FhrCMSBE5cGNrEm9NaYq6tZsRyT1a5Ah_0ax1sEY3nwi9qaH8gF53Brwc-V3iwvLWezFxtjZ4pnZ5_-4F5SUxGNk6qLWMoRoqIl5g649rbi2tjRFLIADLTiDvGkuNoN3WVkNfyyqyFHfNwLRQWc6TIOatf4C2BENJ5uKyOQPG5H1N-olcRG6nqvwnnkMNl_wt7rMkosd5-SBtRnbCzmvv9C2kCh8pBS9e_86XdHcC2wAPTPzk6Xp7uWkbUzsAq7EyT42-tXYDh48o8FXSnxcAJtHWAxcC79OdXMM9qEtZWQH9wPkDwTeFJICCy0Zrn9CpuWzfMVbvDrycojUJ2lgN0NJxR6jexLe4kxNWSw5TDIKpQ781ihLJYFfboS7=w800-h143-no" alt="powershll have powerline font"></p>
<h2 id="PowerShell-配色"><a href="#PowerShell-配色" class="headerlink" title="PowerShell 配色"></a>PowerShell 配色</h2><p>都設定好之後，如果對於 <strong>powershell</strong> 的配色不滿意的話，可以安裝 <a href="https://github.com/microsoft/terminal/releases" target="_blank" rel="noopener"><strong>ColorTool</strong></a> 這個微軟提供的工具，安裝方式直接下載 <strong>Release</strong>，解壓縮後的資料夾路徑加入倒環境變數中，直接就可以執行指令 <code>colortool</code><br>想添加新的樣式的話，可以上 <a href="https://github.com/mbadolato/iTerm2-Color-Schemes" target="_blank" rel="noopener">iTerm2-Color-Schemes</a> 尋找符合各自需求的樣式，加入至 <strong>schemes</strong> 資料夾內即可；假如是透過 <strong>chocolatey</strong> 安裝的話，添加樣式的路徑在 <code>C:\ProgramData\chocolatey\lib\colortool\content\schemes</code></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://sspai.com/post/52868" target="_blank" rel="noopener">告别 Windows 终端的难看难用，从改造 PowerShell 的外观开始</a></li>
<li><a href="https://sspai.com/post/52907" target="_blank" rel="noopener">5 个 PowerShell 主题，让你的 Windows 终端更好看</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/51901035" target="_blank" rel="noopener">超酷的 PowerShell 美化指南</a></li>
<li><a href="https://github.com/microexs/PowerAdmin/blob/master/PCInit.md" target="_blank" rel="noopener">配置命令行界面的初始化配置</a></li>
<li><a href="https://github.com/dahlbyk/posh-git" target="_blank" rel="noopener">Github posh-git</a></li>
<li><a href="https://github.com/JanDeDobbeleer/oh-my-posh" target="_blank" rel="noopener">Github oh-my-posh</a></li>
<li><a href="https://coolcode.org/2018/03/16/how-to-make-your-powershell-beautiful/" target="_blank" rel="noopener">PowerShell 美化指南</a></li>
<li><a href="https://github.com/be5invis/Sarasa-Gothic" target="_blank" rel="noopener">Github Sarasa Gothic (更纱黑体 / 更紗黑體 / 更紗ゴシック) 字型</a></li>
<li><a href="https://github.com/microsoft/terminal/releases" target="_blank" rel="noopener">Github Microsoft ColorTool download</a></li>
<li><a href="https://github.com/Microsoft/Terminal/tree/master/src/tools/ColorTool" target="_blank" rel="noopener">Github Microsoft ColorTool</a></li>
<li><a href="https://blog.simonw.se/using-powershell-profiles/" target="_blank" rel="noopener">PowerShell profiles</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>powershell</tag>
      </tags>
  </entry>
  <entry>
    <title>解決 Microsoft.SqlServer.Types 參考使用的問題</title>
    <url>/2019/06/24/Microsoft-SqlServer-Types-assembly/</url>
    <content><![CDATA[<h2 id="解決-Microsoft-SqlServer-Types-參考使用的問題"><a href="#解決-Microsoft-SqlServer-Types-參考使用的問題" class="headerlink" title="解決 Microsoft.SqlServer.Types 參考使用的問題"></a>解決 Microsoft.SqlServer.Types 參考使用的問題</h2><p>透過 <strong>Entity Framework</strong> 使用 <strong>SQL Server</strong> 的空間資料 (<strong>DbGeography</strong>) 相當便利，但是需要 <a href="https://www.nuget.org/packages/Microsoft.SqlServer.Types/" target="_blank" rel="noopener"><strong>Microsoft.SqlServer.Types</strong></a> 參考，而有時參考後又出現問題。</p>
<p>Exception 訊息：</p>
<blockquote>
<p>System.InvalidOperationException</p>
<blockquote>
<p>HResult=0x80131509</p>
<p>Message=Spatial types and functions are not available for this provider because the &gt; assembly ‘Microsoft.SqlServer.Types’ version 10 or higher could not be found.</p>
<p>Source=EntityFramework.SqlServer</p>
</blockquote>
</blockquote>
<a id="more"></a>

<h2 id="Microsoft-SqlServer-Types-安裝"><a href="#Microsoft-SqlServer-Types-安裝" class="headerlink" title="Microsoft.SqlServer.Types 安裝"></a><a href="https://www.nuget.org/packages/Microsoft.SqlServer.Types/" target="_blank" rel="noopener">Microsoft.SqlServer.Types</a> 安裝</h2><p>透過 <strong>Nuget</strong> 安裝 <a href="https://www.nuget.org/packages/Microsoft.SqlServer.Types/" target="_blank" rel="noopener"><strong>Microsoft.SqlServer.Types</strong></a> 套件，可以透過介面安裝或是透過指令安裝，安裝指令如下：</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Install-Package</span> Microsoft.SqlServer.Types</span><br></pre></td></tr></table></figure>

<p>安裝好之後，請仔細閱讀 <strong>readme.htm</strong> ，其中說明如何將套件註冊進程式中</p>
<h3 id="ASP-NET-Web-Sites"><a href="#ASP-NET-Web-Sites" class="headerlink" title="ASP.NET Web Sites"></a>ASP.NET Web Sites</h3><p>在 <strong>Web Form</strong> 中，開啟 <strong>Default.aspx.cs</strong></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">public partial class _Default : System.Web.UI.Page</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">bool</span> _isSqlTypesLoaded = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> _Default()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!_isSqlTypesLoaded)</span><br><span class="line">        &#123;</span><br><span class="line">            SqlServerTypes.Utilities.LoadNativeAssemblies(Server.MapPath(<span class="string">"~"</span>));</span><br><span class="line">            _isSqlTypesLoaded = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ASP-NET-Web-Applications"><a href="#ASP-NET-Web-Applications" class="headerlink" title="ASP.NET Web Applications"></a>ASP.NET Web Applications</h3><p>開啟 <strong>Global.asax.cs</strong> 添加以下程式碼：</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">SqlServerTypes.Utilities.LoadNativeAssemblies(Server.MapPath(<span class="string">"~/bin"</span>));</span><br></pre></td></tr></table></figure>

<h3 id="Desktop-Applications"><a href="#Desktop-Applications" class="headerlink" title="Desktop Applications"></a>Desktop Applications</h3><p>在執行空間操作前執行以下程式碼：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SqlServerTypes.Utilities.LoadNativeAssemblies(AppDomain.CurrentDomain.BaseDirectory);</span><br></pre></td></tr></table></figure>

<h2 id="解決引用錯誤"><a href="#解決引用錯誤" class="headerlink" title="解決引用錯誤"></a>解決引用錯誤</h2><p>就如同此文一開始所提到的 <strong>exception</strong>，按照<a href="https://www.nuget.org/packages/Microsoft.SqlServer.Types/" target="_blank" rel="noopener"><strong>Microsoft.SqlServer.Types</strong></a>套件的說明註冊引用，有時還是會出現問題，可能是 <strong>Entity Framework</strong> 版本因素或是伺服器沒有對應版本的<a href="https://www.nuget.org/packages/Microsoft.SqlServer.Types/" target="_blank" rel="noopener"><strong>Microsoft.SqlServer.Types</strong></a>或是沒有註冊引用到；<a href="https://stackoverflow.com/questions/13174197/microsoft-sqlserver-types-version-10-or-higher-could-not-be-found-on-azure/40166192#40166192" target="_blank" rel="noopener">stack overflow</a> 此篇的討論方法可以解決我此次遇到的問題</p>
<ul>
<li>方法一</li>
</ul>
<p>添加參照</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">SqlProviderServices.SqlServerTypesAssemblyName = Assembly.GetAssembly(<span class="keyword">typeof</span>(Microsoft.SqlServer.Types.SqlGeography)).FullName;</span><br></pre></td></tr></table></figure>

<ul>
<li>方法二</li>
</ul>
<p>直接在 <strong>config</strong> 檔案中進行參照，需要注意版本號</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">assemblyBinding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependentAssembly</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">assemblyIdentity</span> <span class="attr">name</span>=<span class="string">"Microsoft.SqlServer.Types"</span> <span class="attr">publicKeyToken</span>=<span class="string">"89845dcd8080cc91"</span> <span class="attr">culture</span>=<span class="string">"neutral"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">bindingRedirect</span> <span class="attr">oldVersion</span>=<span class="string">"10.0.0.0-11.0.0.0"</span> <span class="attr">newVersion</span>=<span class="string">"14.0.0.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependentAssembly</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">assemblyBinding</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="取得-PublicKeyToken"><a href="#取得-PublicKeyToken" class="headerlink" title="取得 PublicKeyToken"></a>取得 <strong>PublicKeyToken</strong></h2><p>[<strong>Microsoft.SqlServer.Types</strong>] 的 DLL 的路徑，可以從以下路徑查找</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">C:\Windows\assembly\GAC_MSIL\Microsoft.SqlServer.Types</span><br></pre></td></tr></table></figure>

<p>根據以上的 DLL 取得 <strong>PublicKeyToken</strong> 的方式，可以透過 <strong>powershell</strong></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">([<span class="type">system.reflection.assembly</span>]::loadfile(<span class="string">"c:\MyDLL.dll"</span>)).FullName</span><br></pre></td></tr></table></figure>

<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://stackoverflow.com/questions/54004109/how-use-microsoft-sqlserver-types-in-wcf-service-application" target="_blank" rel="noopener">stack overflow how use Microsoft.SqlServer.Types in WCF Service Application</a></li>
<li><a href="https://github.com/aspnet/EntityFramework6/issues/244" target="_blank" rel="noopener">Github EntityFramework6 issue #244</a></li>
<li><a href="https://social.msdn.microsoft.com/Forums/vstudio/en-US/bc51cd91-0c76-40c7-ab1a-f9dadb9f067a/mismatch-using-microsoftsqlservertypes?forum=visualstudiogeneral" target="_blank" rel="noopener">Mismatch using Microsoft.SqlServer.Types</a></li>
<li><a href="https://www.andrewcbancroft.com/2017/03/27/solving-spatial-types-and-functions-are-not-available-with-entity-framework/" target="_blank" rel="noopener">solving spatial types and functions are not available with entity framework</a></li>
<li><a href="https://stackoverflow.com/questions/1710935/how-do-i-find-the-publickeytoken-for-a-particular-dll" target="_blank" rel="noopener">find publickeytoken</a></li>
<li><a href="https://blog.developer.money/dapper-%E4%BD%BF%E7%94%A8-microsoft-sqlserver-types-%E6%89%BE%E4%B8%8D%E5%88%B0%E6%AD%A3%E7%A2%BA%E7%89%88%E6%9C%AC%E5%95%8F%E9%A1%8C-a7848b95b6e5" target="_blank" rel="noopener">Microsoft.SqlServer.Types 找不到正確版本問題</a></li>
</ul>
]]></content>
      <categories>
        <category>程式技術筆記</category>
      </categories>
      <tags>
        <tag>Asp.Net MVC</tag>
        <tag>Troubleshooting</tag>
      </tags>
  </entry>
</search>
