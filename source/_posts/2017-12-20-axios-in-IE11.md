title: axios 在 IE11 的調整
categories: 程式技術筆記
tags:
  - JavaScript
  - IE
toc: false
date: 2017-12-20 11:43:30
---

近來都是使用 [axios][4] 來操作 XMLHttpRequests ，[axios][4] 操作 [Promise][5] 相當便利，只是最近有個需求說需要相容至 IE11，按照官方上的說明，相容性相當高
![Browser Support](https://camo.githubusercontent.com/626c46cfd86214001b4143cda5d0ef27a25bd69f/68747470733a2f2f73617563656c6162732e636f6d2f6f70656e5f73617563652f6275696c645f6d61747269782f6178696f732e737667)
<!--more--> 

但是按照官方提供的 cdn 使用後，發現在 IE11 出現了以下錯誤

``` js
'Promise' is undefined.
```

查看 Github Issue 中的資料，找到一則[討論][2]，說明了要使用 promise 可以引用 [es6-promise][3]

使用方式很簡易，只要在原本引用 [axios][4] 的 CDN 之前，引用 [es6-promise][3] 即可，如以下：

``` html
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
```


## 參考資料
- [Upgrade Guide][1]
- [Github Issue 討論][2]

[1]: https://github.com/axios/axios/blob/master/UPGRADE_GUIDE.md#es6-promise-polyfill
[2]: https://github.com/axios/axios/issues/135
[3]: https://github.com/stefanpenner/es6-promise
[4]: https://github.com/axios/axios
[5]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise