---
title: '專案發生 error CS1010,CS1056 錯誤'
categories: 程式技術筆記
tags:
  - Troubleshooting
  - Visual Studio
toc: false
date: 2018-04-17 15:45:09
---

接手一個悠久歷史的專案，但是版控有點混亂，所以正在重新整理。過程中，發生了各項問題，然後耗費最多時間的，就是標題上的錯誤了。

# 問題描述

先附上開發環境

``` txt
OS Name:                   Microsoft Windows 10 Pro
OS Version:                10.0.16299 N/A Build 16299
Editor:                    Visual Studio Enterprise 2017 Version 15.6.6
```

先說明這是一個 webform 的 website project ，發生的錯誤訊息如下

{% note danger %}
error CS1010: Newline in constant
error CS1056: Unexpected character ''
error CS1056: Unexpected character ''
error CS1056: Unexpected character ''
error CS1010: Newline in constant
{% endnote %}
<!-- more -->

![error](https://lh3.googleusercontent.com/xCnbrKgffRYmjNmGcMkHz3dgKco0f6fMY4hSQwRuqKNLesqv7NRglSrGCCM8Y2iB8p6cLnuHd2N6I2uwwc8QfoN5y64dDCQ1iRQ3HziSsSBcvZTfx_jA4y7b0zes7K-6nSL7wIKNfTfX1f7KhLEbywkHPF4rj03huczBcBrkKG1b2zN0kJSpOfYKoLCSFaVhGM-IaijFhsyDss7yv0fkO_tIIndNCVTMfZ44-H1VXXJALKu7K0Bz1L8wv0OuLf3V5txFRABLlJi9gMbj8ufPCOM0PGFqr8SeeUL3ye-qRQVWrWZBZxClOQXl2ONH5JdHRtYsXEXnM3JEx8QfXzTJ5AvYPA3pHF1HVDUkH04-HkZ-yTdQBO1FaMS08XrbMOV2h_nMpnMNQjNn_pO3pRnSSF0fiFtiq3nisyHjTBG20d97CZW54br-vWML2I4qtHP1iYEFckJWwVD2EdmNqEjT74qrkzg3YYofB-JVDcV7UqHtaHC4_kle_PAdIZ0uZh2X8JOUOoNo4XzdQSRhIGa_Dwh5qoadvAsg2p1Qr8OvTvfpU2kdum-x_uI0C_ft1kwe_g6uVtGL2wD-pXl_vPfV_XqjxC3x6hT-O8rOBjVWi-Kbm0aeog_iLw3pDr3TBOzMZhY93NvvA5xF6Kjy1Uv2sc6kIwP-43B9=w806-h182-no)

# 問題分析

看說明，初步認為幾個可能：

1. ~~檔案內容內的 **{** 之類的缺少或是跑掉，造成有些錯誤~~
  仔細看過後，發現完全沒有這種現象，直接排除

1. ~~字串變數的內容有些文字的編碼問題~~
  調整了字串內容的編碼，但是毫無影響，也排除

1. ~~換行符號等~~
  一開始認為這個可能性最高，除了換行符，或是其他特殊字元影響，透過 **notepad++** 查看，發現也不是此可能

1. 編碼問題
  上述的特殊字元排除後，就想到編碼問題，但是查看後，發現檔案是 **utf-8** ，也沒有亂碼的現象，一度以為不是此可能了。最後發現 **aspx** 頁面的編碼與對應的 **.cs 檔案**編碼不同；**aspx** 頁面編碼是 **utf-8 BOM**

# 解決方式

找到問題後，解決方式很簡易，讓兩個檔案的編碼相同即可；透過 **notepad++** 或是 **VSCode** 或是 **Visual Studio 2017** 另存新檔，然後選擇編碼，以上這些都可以變更檔案編碼，以下附上 **Visual Studio 2017** 變更編碼的圖片。有興趣想了解 [**BOM**][1] 的，請看連結的 [**wiki**][1]

![Visual Studio 2017](https://lh3.googleusercontent.com/Ch25NSwAmRjIZmkFLzgG2UgF-erfr3lD4M4YT0ofIqyknTr_O3IBtohQ0wuvcG80Sh-JqVPLBEbspUX_qNzGYzpkZcFiR-Po3wLbnRGWur8CESHZlwEnfvDNziOY2M6cSEaBm-54sYNYewz2HTqt4fqNjN6zqmmv-DNncOu482riroWZycZDAfNY-1hUygxzbzC2XN8Yt8JgTbNjlHZX7XPDFvppdHa86BtctumuvZ2F5MzT_N02PJwBYNjAmKCWUTxBqmX34C8gi7DLz6b8RtLj733DgdQAipCjIsRJOWhQ_tqU0Xrs8GHNWk3SvxRLzqtFuTZWZfyZAYySfcA6TFbYSy5OC4DMYMTgF5LqpzBFet-_6Q6DuqNj5Hrdiv7z0HZwvSf054dxaAlXtTMNtSvU_zkONUwQ9Rm06dVfI3zHofE7cjjPKqXYStRL_zli5-EzaOJTnDKITbG8Z1lf1yIoF-vnIfieoRFDcNs4BIArUVq4TUL8qD_fQUnLEOr5NM1DRNcm89WVLpobJK4x_lhFRJxNkT6Dq6fjtg_c7ciHBJJQd4mkWnD0X_r1N_oQ-X82dqOLZ5xF2UaB7gjCs5YsoKc6_Y1RCG4zCsXeR57sl7XrQoYw6mIG7L8o129Z-uE1rAz7wTKVv63-SaBRO1XKLD8LP2pc=w524-h308-no)

[1]: https://en.wikipedia.org/wiki/Byte_order_mark