---
title: SQL Server 的 bak 檔案還原
categories: 程式技術筆記
tags:
  - SQLServer
toc: false
date: 2018-04-27 10:14:27
---


此篇單純使用 GUI 介面操作，不使用 Query Script ，快速上手就好。<!-- more -->以下操作範例之環境是使用 **SQL Server 2008 R2**

首先在物件總管中，按下滑鼠右鍵，選擇**還原檔案和檔案群組**

![select menu](https://lh3.googleusercontent.com/EhyzPqbg68v07cBIk5tU1ywjjmYQ3av0lSK3gE9ZVsL3L13SwFu-kVAG7X2CxMXBKHmVp5eT3lqJ_uF3C9sPxdNE_IeFtPbsJqAH5lgFNS3hJQiJBtrEUwF45otnmLy6kWRyvmMny2QcgYY8t-OVXAMvs2x1o6piXPvwP5-p-U-Y_VUBJk2rO2iK1wIfFY-96ka-_lSNQiepDrwxO6GSR_HO5TyYVMphQQ5Tijc3H0v1MJluic1V5j0SAaZMsV2QDXWiN5rf4zt2LbzZY5VI3NrnHSnJcuWbNa5xDyUEKLBGupejJnM2KlX1AKI1CWN7UBSCDBW9lIerP37iXjqy7-l0YS7qGEs1Pm6PPiKjNIVVq58IsmmkzoeTL6RMIJ7WPrj-Ly7QOJ0cfRXlPE0srxiZ0lCZtvQU7IC2-BHUj3B6YTEC6_ZwTVYB4KKxwSKBjAnpRRhYtD2YSZnZxEu7HpXYBaokJZ2GU2dFDC3PPF8p2X3IZIpiXZzznU4yS_GWWH3rkdFHZHQMop25etw7XcFLRmKiFgDhS4K99CWu_Em8cerIJKS4-UprkqFoKBIA37RNHwSMFMa5xaD5fIgzm4djiAvTmUbv2S4jSTlMll6rbnVuRJKVtSDlbLOtTk5hYxWYGZ0eTqXcA-yrTWXRSVdeuYBrQ7dq=w326-h495-no)

當顯示**還原檔案和檔案群組**的視窗畫面中，選擇**目的地資料庫**，或是自訂一個新的資料庫名稱(sql server 會自動還原建立該新資料庫名稱)，接著選擇**來源裝置**選取 **.bak** 檔案

![restore set window](https://lh3.googleusercontent.com/o4UA20plZMnS_Zo6s-esWQa428pLvZuQI9x1yBp7sWlRFYy7s10u6x8d2Dts66kz_Weo-YY111bFVgzOEPo-1aq76SjPGom_XUqoAvdLw8g4lxv1Gflfbq70GY6By38GSCMIwETt1q6VMd9GeqUjnriUWWYVdl9y4vAWErT0gW2z23dVwALJjTNuy6EX69SjHoh5SeL39iqkW_f0npxgjzqQvZVPa_3_xhxb3siL6xYiF3i0ekXV3AWX3ltZVogL5xeBwe2dpc62x0I_ix33nZDBE4hejTnVlbhLjD63WL54osmTDk278i8qXcDVj_mkJx0OVR1SPGEZafnZrT32dlto3YgRjIcwChLbJfz5-7XsiJ-WvdIGs7kS-6iREskRFqCiOaOhL8C4ZgJ1ImR0BS8RMKO7mDa9gaGenGmQiyN41tKtvRIuhSRZqUIGjm2JsWDCUkCBmZA9pKjnpT-pEdL21Q-HyDltiSWOKdIOM70tX4VHS8KymZ9gGHV2WhWKxiI4eu8HPnIdDaE5nZ8Rharv_cqA1vz_7A4-3-LMU1rGvBzUBMnt2E2gZHY_Xz1h1ZBM9fiu1qlMevpWh6huIicrHY9KWhL_8U3c_zHcqoQlA92gazLZD6zooG9pbKH8CFqsovc-nROCJRDN1mF70DLjUyWQSUIC=w614-h605-no)

選擇 **.bak** 檔案加入

![add bak file](https://lh3.googleusercontent.com/W65qVCv7dvRiUMuJkv298-YLOu8zRRIbKrqfx3RDeCE76S-yHDBDAG4Ba_Hyq6_zbLHj89psQ0oMbiEgDR0lwPIQRPwaONw6SEQIB9fXWy185nR1lmU5Ts6a8AtG8NKxyn8S77DCqJlWRgZGo3vtZw1hRgD0tFSxrlfW3SXgcVbozJMrCSk4IXeosdbAQtftWn2acPzjN1mf6CBGpwI98mlqqWOcYtyyaPxJlnMiugYM7t4wk3eTZbm_ugEUan3vlW49MqJy920GQ4JFeEURqnuI2Teh_YGNGvpme3cfwB1meHHzRXvwpxNLEJcGd5B_wlDNFiR1nXxf_P2IKhAZMvvolgn-OeTKXUoHbaEKZLAIJyoHm0hf0D4pThK9PVafUeF1IdQLdqmWBjV4l_CqGLVzUitCQwD9TbIVZM7wAraqdneJPTwiOCeTPD0NxVNIkXE1CdFttr0nKm7LRF-sYROZvU4pBVFS_LD5U7R2GFBRDOYGTPz3tKFjmmxhGUoArNQVP87O5xRPCAfLXZwiNu6sBKrEnZfCMsudbBA_HK3NDCgW0M4LLiTpkVeAU0ahDEcAVHsZYlmWp7whXYwsO7rMECCn2OD4Gc892YI2_T-N7DV5ILM_JJQh2t1Ac58o__mAOZtypnilVhgRnap1FfBF-nw0Pj9s=w499-h399-no)

選擇後不要忘記勾選還原的項目，設定畫面如下

![set window](https://lh3.googleusercontent.com/8GEJSQUfe3FBfw9tY7QW_iHxiHI96_VBIiZVGsd_6V5bkbccBV5aQLEaW_IU0fz9aAhwtl3biKKoqvuqcysP6QIR1wjJTE3bXY_R30AdHMMHWyB7Ly5bYE11WBIPKCINUkjFY46gY_L0yauzvguyioTfzovcWdGY-5xOq-ayLQwquuhz_whmSF3HJ61XzD3bbE5DWkv3g_JDNmyiNa3Fk1P1oQqhq07NGoskUFl_4cf6Kdo9wP-YrfJvfzk6J0Up366DO2sV62nBqujCeM7FycWRdDcP0PwgSYvXP7yeTdmCAS7g6Yi2BDjyO4ZmKujSI8PmzeFi30qqUH1cmM-tAhjwAx4Lr_yuBWDna7mOOdu2XRV2kX4mbiR1YgORBjiC_bPfH0n9bM_gpItsChA1imzz3rr_JTedwSZ3-f_TergyjIocIt53EJsQryZG2bnlzeGwAab2ujKhF3XkC_rz8s8aWxB9x5fTLuXAHFfscANiQHTn7kKqrhL4HmQcQ9z-p8P9KQilqr23bX72ZhkAPin3QvZEBlJRu0gkm2mRfTQjptK1nhMGRj6LTKfqdmTiVDNyG2gfsoSTG8gRv3JR4zmvukAezj5rC48Wu-kqOsfKGegOC1p3aejsmsegk3lzE-T1K_2qBgEp68ItQ3smPmEtqmwh1_5j=s605-no)

注意新版 SQL Server 備份出來的檔案無法還原至較舊的 SQL Server 中

## 參考資料

- [microsoft docs restore full recovery][1]

[1]: https://docs.microsoft.com/zh-tw/sql/relational-databases/backup-restore/file-restores-full-recovery-model?view=sql-server-2017
[2]: https://docs.microsoft.com/zh-tw/sql/relational-databases/backup-restore/restore-files-to-a-new-location-sql-server?view=sql-server-2017